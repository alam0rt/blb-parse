#define 240 0xf0
#define 60 0x3c
#define 480 0x1e0
#define 256 0x100
#define 320 0x140
#define 16 0x10
#define 24 0x18
#define 0x10000 0x10000
#define 0x63 0x63
#define 1 0x1
#define 0 0x0
#define 128 0x80
#define 0x3 0x3
#define 0x1 0x1
#define 0xD 0xd
#define 0xE 0xe
#define 0xC8 0xc8
#define 20 0x14

typedef unsigned char   undefined;

typedef unsigned char    bool;
typedef unsigned char    byte;
typedef unsigned int    dword;
typedef unsigned char    uchar;
typedef unsigned int    uint;
typedef unsigned long    ulong;
typedef unsigned char    undefined1;
typedef unsigned short    undefined2;
typedef unsigned int    undefined4;
typedef unsigned long long    undefined8;
typedef unsigned short    ushort;
typedef unsigned short    word;
typedef ulong u_long;

typedef uchar u_char;

typedef ushort u_short;

typedef struct MATRIX MATRIX, *PMATRIX;

struct MATRIX {
    short m[3][3];
    long t[3];
};

typedef struct VECTOR VECTOR, *PVECTOR;

struct VECTOR {
    long vx;
    long vy;
    long vz;
    long pad;
};

typedef struct SVECTOR SVECTOR, *PSVECTOR;

struct SVECTOR {
    short vx;
    short vy;
    short vz;
    short pad;
};

typedef struct CVECTOR CVECTOR, *PCVECTOR;

struct CVECTOR {
    u_char r;
    u_char g;
    u_char b;
    u_char cd;
};

typedef struct DVECTOR DVECTOR, *PDVECTOR;

struct DVECTOR {
    short vx;
    short vy;
};

typedef void (*DslCB)(u_char, u_char *);

typedef struct VERTC VERTC, *PVERTC;

struct VERTC {
    short vx;
    short vy;
    short vz;
    u_char tu;
    u_char tv;
    struct CVECTOR col;
};

typedef struct DECDCTENV DECDCTENV, *PDECDCTENV;

struct DECDCTENV {
    u_char iq_y[64];
    u_char iq_c[64];
    short dct[64];
};

typedef struct CdlLOC CdlLOC, *PCdlLOC;

struct CdlLOC {
    u_char minute;
    u_char second;
    u_char sector;
    u_char track;
};

typedef struct CdlATV CdlATV, *PCdlATV;

struct CdlATV {
    u_char val0;
    u_char val1;
    u_char val2;
    u_char val3;
};

typedef struct CdlFILE CdlFILE, *PCdlFILE;

struct CdlFILE {
    struct CdlLOC pos;
    u_long size;
    char name[16];
};

typedef struct EXEC EXEC, *PEXEC;

struct EXEC {
};

typedef void (*CdlCB)(u_char, u_char *);

typedef struct TILE_8 TILE_8, *PTILE_8;

struct TILE_8 {
    u_long tag;
    u_char r0;
    u_char g0;
    u_char b0;
    u_char code;
    short x0;
    short y0;
};

typedef struct POLY_G3 POLY_G3, *PPOLY_G3;

struct POLY_G3 {
    u_long tag;
    u_char r0;
    u_char g0;
    u_char b0;
    u_char code;
    short x0;
    short y0;
    u_char r1;
    u_char g1;
    u_char b1;
    u_char pad1;
    short x1;
    short y1;
    u_char r2;
    u_char g2;
    u_char b2;
    u_char pad2;
    short x2;
    short y2;
};

typedef struct POLY_F3 POLY_F3, *PPOLY_F3;

struct POLY_F3 {
    u_long tag;
    u_char r0;
    u_char g0;
    u_char b0;
    u_char code;
    short x0;
    short y0;
    short x1;
    short y1;
    short x2;
    short y2;
};

typedef struct POLY_F4 POLY_F4, *PPOLY_F4;

struct POLY_F4 {
    u_long tag;
    u_char r0;
    u_char g0;
    u_char b0;
    u_char code;
    short x0;
    short y0;
    short x1;
    short y1;
    short x2;
    short y2;
    short x3;
    short y3;
};

typedef struct POLY_GT3 POLY_GT3, *PPOLY_GT3;

struct POLY_GT3 {
    u_long tag;
    u_char r0;
    u_char g0;
    u_char b0;
    u_char code;
    short x0;
    short y0;
    u_char u0;
    u_char $2;
    u_short clut;
    u_char r1;
    u_char g1;
    u_char b1;
    u_char p1;
    short x1;
    short y1;
    u_char u1;
    u_char $3;
    u_short tpage;
    u_char r2;
    u_char g2;
    u_char b2;
    u_char p2;
    short x2;
    short y2;
    u_char u2;
    u_char v2;
    u_short pad2;
};

typedef struct POLY_FT4 POLY_FT4, *PPOLY_FT4;

struct POLY_FT4 {
    u_long tag;
    u_char r0;
    u_char g0;
    u_char b0;
    u_char code;
    short x0;
    short y0;
    u_char u0;
    u_char $2;
    u_short clut;
    short x1;
    short y1;
    u_char u1;
    u_char $3;
    u_short tpage;
    short x2;
    short y2;
    u_char u2;
    u_char v2;
    u_short pad1;
    short x3;
    short y3;
    u_char u3;
    u_char v3;
    u_short pad2;
};

typedef struct POLY_FT3 POLY_FT3, *PPOLY_FT3;

struct POLY_FT3 {
    u_long tag;
    u_char r0;
    u_char g0;
    u_char b0;
    u_char code;
    short x0;
    short y0;
    u_char u0;
    u_char $2;
    u_short clut;
    short x1;
    short y1;
    u_char u1;
    u_char $3;
    u_short tpage;
    short x2;
    short y2;
    u_char u2;
    u_char v2;
    u_short pad1;
};

typedef struct DR_MODE DR_MODE, *PDR_MODE;

struct DR_MODE {
    u_long tag;
    u_long code[2];
};

typedef struct LINE_F3 LINE_F3, *PLINE_F3;

struct LINE_F3 {
    u_long tag;
    u_char r0;
    u_char g0;
    u_char b0;
    u_char code;
    short x0;
    short y0;
    short x1;
    short y1;
    short x2;
    short y2;
    u_long pad;
};

typedef struct DR_ENV DR_ENV, *PDR_ENV;

struct DR_ENV {
    u_long tag;
    u_long code[15];
};

typedef struct DR_OFFSET DR_OFFSET, *PDR_OFFSET;

struct DR_OFFSET {
    u_long tag;
    u_long code[2];
};

typedef struct RECT RECT, *PRECT;

struct RECT {
    short x;
    short y;
    short w;
    short h;
};

typedef struct POLY_G4 POLY_G4, *PPOLY_G4;

struct POLY_G4 {
    u_long tag;
    u_char r0;
    u_char g0;
    u_char b0;
    u_char code;
    short x0;
    short y0;
    u_char r1;
    u_char g1;
    u_char b1;
    u_char pad1;
    short x1;
    short y1;
    u_char r2;
    u_char g2;
    u_char b2;
    u_char pad2;
    short x2;
    short y2;
    u_char r3;
    u_char g3;
    u_char b3;
    u_char pad3;
    short x3;
    short y3;
};

typedef struct TILE_16 TILE_16, *PTILE_16;

struct TILE_16 {
    u_long tag;
    u_char r0;
    u_char g0;
    u_char b0;
    u_char code;
    short x0;
    short y0;
};

typedef struct SPRT_16 SPRT_16, *PSPRT_16;

struct SPRT_16 {
    u_long tag;
    u_char r0;
    u_char g0;
    u_char b0;
    u_char code;
    short x0;
    short y0;
    u_char u0;
    u_char $2;
    u_short clut;
};

typedef struct LINE_G2 LINE_G2, *PLINE_G2;

struct LINE_G2 {
    u_long tag;
    u_char r0;
    u_char g0;
    u_char b0;
    u_char code;
    short x0;
    short y0;
    u_char r1;
    u_char g1;
    u_char b1;
    u_char p1;
    short x1;
    short y1;
};

typedef struct TILE TILE, *PTILE;

struct TILE {
    u_long tag;
    u_char r0;
    u_char g0;
    u_char b0;
    u_char code;
    short x0;
    short y0;
    short w;
    short h;
};

typedef struct DISPENV DISPENV, *PDISPENV;

struct DISPENV {
    struct RECT disp;
    struct RECT screen;
    u_char isinter;
    u_char isrgb24;
    u_char pad0;
    u_char pad1;
};

typedef struct DR_AREA DR_AREA, *PDR_AREA;

struct DR_AREA {
    u_long tag;
    u_long code[2];
};

typedef struct LINE_F4 LINE_F4, *PLINE_F4;

struct LINE_F4 {
    u_long tag;
    u_char r0;
    u_char g0;
    u_char b0;
    u_char code;
    short x0;
    short y0;
    short x1;
    short y1;
    short x2;
    short y2;
    short x3;
    short y3;
    u_long pad;
};

typedef struct SPRT_8 SPRT_8, *PSPRT_8;

struct SPRT_8 {
    u_long tag;
    u_char r0;
    u_char g0;
    u_char b0;
    u_char code;
    short x0;
    short y0;
    u_char u0;
    u_char $2;
    u_short clut;
};

typedef struct SPRT SPRT, *PSPRT;

struct SPRT {
    u_long tag;
    u_char r0;
    u_char g0;
    u_char b0;
    u_char code;
    short x0;
    short y0;
    u_char u0;
    u_char $2;
    u_short clut;
    short w;
    short h;
};

typedef struct LINE_F2 LINE_F2, *PLINE_F2;

struct LINE_F2 {
    u_long tag;
    u_char r0;
    u_char g0;
    u_char b0;
    u_char code;
    short x0;
    short y0;
    short x1;
    short y1;
};

typedef struct DR_TPAGE DR_TPAGE, *PDR_TPAGE;

struct DR_TPAGE {
    u_long tag;
    u_long code[1];
};

typedef struct DR_LOAD DR_LOAD, *PDR_LOAD;

struct DR_LOAD {
    u_long tag;
    u_long code[3];
    u_long p[13];
};

typedef struct LINE_G3 LINE_G3, *PLINE_G3;

struct LINE_G3 {
    u_long tag;
    u_char r0;
    u_char g0;
    u_char b0;
    u_char code;
    short x0;
    short y0;
    u_char r1;
    u_char g1;
    u_char b1;
    u_char p1;
    short x1;
    short y1;
    u_char r2;
    u_char g2;
    u_char b2;
    u_char p2;
    short x2;
    short y2;
    u_long pad;
};

typedef struct DR_TWIN DR_TWIN, *PDR_TWIN;

struct DR_TWIN {
    u_long tag;
    u_long code[2];
};

typedef struct DR_MOVE DR_MOVE, *PDR_MOVE;

struct DR_MOVE {
    u_long tag;
    u_long code[5];
};

typedef struct TILE_1 TILE_1, *PTILE_1;

struct TILE_1 {
    u_long tag;
    u_char r0;
    u_char g0;
    u_char b0;
    u_char code;
    short x0;
    short y0;
};

typedef struct LINE_G4 LINE_G4, *PLINE_G4;

struct LINE_G4 {
    u_long tag;
    u_char r0;
    u_char g0;
    u_char b0;
    u_char code;
    short x0;
    short y0;
    u_char r1;
    u_char g1;
    u_char b1;
    u_char p1;
    short x1;
    short y1;
    u_char r2;
    u_char g2;
    u_char b2;
    u_char p2;
    short x2;
    short y2;
    u_char r3;
    u_char g3;
    u_char b3;
    u_char p3;
    short x3;
    short y3;
    u_long pad;
};

typedef struct DRAWENV DRAWENV, *PDRAWENV;

struct DRAWENV {
    struct RECT clip;
    short ofs[2];
    struct RECT tw;
    u_short tpage;
    u_char dtd;
    u_char dfe;
    u_char isbg;
    u_char r0;
    u_char g0;
    u_char b0;
    struct DR_ENV dr_env;
};

typedef struct POLY_GT4 POLY_GT4, *PPOLY_GT4;

struct POLY_GT4 {
    u_long tag;
    u_char r0;
    u_char g0;
    u_char b0;
    u_char code;
    short x0;
    short y0;
    u_char u0;
    u_char $2;
    u_short clut;
    u_char r1;
    u_char g1;
    u_char b1;
    u_char p1;
    short x1;
    short y1;
    u_char u1;
    u_char $3;
    u_short tpage;
    u_char r2;
    u_char g2;
    u_char b2;
    u_char p2;
    short x2;
    short y2;
    u_char u2;
    u_char v2;
    u_short pad2;
    u_char r3;
    u_char g3;
    u_char b3;
    u_char p3;
    short x3;
    short y3;
    u_char u3;
    u_char v3;
    u_short pad3;
};

typedef struct SpuVoiceAttr SpuVoiceAttr, *PSpuVoiceAttr;

typedef struct SpuVolume SpuVolume, *PSpuVolume;

struct SpuVolume {
    short left;
    short right;
};

struct SpuVoiceAttr {
    ulong voice;
    ulong mask;
    struct SpuVolume volume;
    struct SpuVolume volmode;
    struct SpuVolume volumex;
    ushort pitch;
    ushort note;
    ushort sample_note;
    short envx;
    ulong addr;
    ulong loop_addr;
    long a_mode;
    long s_mode;
    long r_mode;
    ushort ar;
    ushort dr;
    ushort sr;
    ushort rr;
    ushort sl;
    ushort adsr1;
    ushort adsr2;
};

typedef struct SpuExtAttr SpuExtAttr, *PSpuExtAttr;

struct SpuExtAttr {
    struct SpuVolume volume;
    long reverb;
    long mix;
};

typedef struct SpuCommonAttr SpuCommonAttr, *PSpuCommonAttr;

struct SpuCommonAttr {
    ulong mask;
    struct SpuVolume mvol;
    struct SpuVolume mvolmode;
    struct SpuVolume mvolx;
    struct SpuExtAttr cd;
    struct SpuExtAttr ext;
};

typedef struct graphics graphics, *Pgraphics;

struct graphics {
    short width;
    short height;
    struct DRAWENV draw_env;
    struct DISPENV display_env;
    u_long *field4_0x74;
};

typedef struct astruct astruct, *Pastruct;

struct astruct {
    undefined field0_0x0;
};

typedef struct astruct_10 astruct_10, *Pastruct_10;

struct astruct_10 {
    undefined field0_0x0;
    undefined field1_0x1;
    undefined field2_0x2;
    undefined field3_0x3;
    undefined field4_0x4;
    undefined field5_0x5;
    undefined field6_0x6;
    undefined field7_0x7;
    undefined field8_0x8;
    undefined field9_0x9;
    undefined field10_0xa;
    undefined field11_0xb;
    undefined field12_0xc;
    undefined field13_0xd;
    undefined field14_0xe;
    undefined field15_0xf;
    undefined field16_0x10;
    undefined field17_0x11;
    undefined field18_0x12;
    undefined field19_0x13;
    undefined field20_0x14;
    undefined field21_0x15;
    undefined field22_0x16;
    undefined field23_0x17;
    undefined field24_0x18;
    undefined field25_0x19;
    undefined field26_0x1a;
    undefined field27_0x1b;
    undefined field28_0x1c;
    undefined field29_0x1d;
    undefined field30_0x1e;
    undefined field31_0x1f;
    undefined field32_0x20;
    undefined field33_0x21;
    undefined field34_0x22;
    undefined field35_0x23;
    undefined field36_0x24;
    undefined field37_0x25;
    undefined field38_0x26;
    undefined field39_0x27;
    undefined field40_0x28;
    undefined field41_0x29;
    undefined field42_0x2a;
    undefined field43_0x2b;
    undefined field44_0x2c;
    undefined field45_0x2d;
    undefined field46_0x2e;
    undefined field47_0x2f;
    undefined field48_0x30;
    undefined field49_0x31;
    undefined field50_0x32;
    undefined field51_0x33;
    undefined field52_0x34;
    undefined field53_0x35;
    undefined field54_0x36;
    undefined field55_0x37;
    undefined field56_0x38;
    undefined field57_0x39;
    undefined field58_0x3a;
    undefined field59_0x3b;
    undefined field60_0x3c;
    undefined field61_0x3d;
    undefined field62_0x3e;
    undefined field63_0x3f;
    undefined field64_0x40;
    undefined field65_0x41;
    undefined field66_0x42;
    undefined field67_0x43;
    undefined field68_0x44;
    undefined field69_0x45;
    undefined field70_0x46;
    undefined field71_0x47;
    undefined field72_0x48;
    undefined field73_0x49;
    undefined field74_0x4a;
    undefined field75_0x4b;
    undefined field76_0x4c;
    undefined field77_0x4d;
    undefined field78_0x4e;
    undefined field79_0x4f;
    undefined field80_0x50;
    undefined field81_0x51;
    undefined field82_0x52;
    undefined field83_0x53;
    undefined field84_0x54;
    undefined field85_0x55;
    undefined field86_0x56;
    undefined field87_0x57;
    undefined field88_0x58;
    undefined field89_0x59;
    undefined field90_0x5a;
    undefined field91_0x5b;
    int blb_header_ptr;
};

typedef struct astruct_3 astruct_3, *Pastruct_3;

struct astruct_3 {
    undefined field0_0x0;
    undefined field1_0x1;
    undefined field2_0x2;
    undefined field3_0x3;
    undefined field4_0x4;
    undefined field5_0x5;
    undefined field6_0x6;
    undefined field7_0x7;
    undefined field8_0x8;
    undefined field9_0x9;
    undefined field10_0xa;
    undefined field11_0xb;
    undefined field12_0xc;
    undefined field13_0xd;
    undefined field14_0xe;
    undefined field15_0xf;
    undefined field16_0x10;
    undefined field17_0x11;
    undefined field18_0x12;
    undefined field19_0x13;
    undefined field20_0x14;
    undefined field21_0x15;
    undefined field22_0x16;
    undefined field23_0x17;
    undefined field24_0x18;
    undefined field25_0x19;
    undefined field26_0x1a;
    undefined field27_0x1b;
    undefined field28_0x1c;
    undefined field29_0x1d;
    undefined field30_0x1e;
    undefined field31_0x1f;
    undefined field32_0x20;
    undefined field33_0x21;
    undefined field34_0x22;
    undefined field35_0x23;
    undefined field36_0x24;
    undefined field37_0x25;
    undefined field38_0x26;
    undefined field39_0x27;
    undefined field40_0x28;
    undefined field41_0x29;
    undefined field42_0x2a;
    undefined field43_0x2b;
    undefined field44_0x2c;
    undefined field45_0x2d;
    undefined field46_0x2e;
    undefined field47_0x2f;
    undefined field48_0x30;
    undefined field49_0x31;
    undefined field50_0x32;
    undefined field51_0x33;
    undefined field52_0x34;
    undefined field53_0x35;
    undefined field54_0x36;
    undefined field55_0x37;
    undefined field56_0x38;
    undefined field57_0x39;
    undefined field58_0x3a;
    undefined field59_0x3b;
    undefined field60_0x3c;
    undefined field61_0x3d;
    undefined field62_0x3e;
    undefined field63_0x3f;
    undefined field64_0x40;
    undefined field65_0x41;
    undefined field66_0x42;
    undefined field67_0x43;
    undefined field68_0x44;
    undefined field69_0x45;
    undefined field70_0x46;
    undefined field71_0x47;
    undefined field72_0x48;
    undefined field73_0x49;
    undefined field74_0x4a;
    undefined field75_0x4b;
    undefined field76_0x4c;
    undefined field77_0x4d;
    undefined field78_0x4e;
    undefined field79_0x4f;
    undefined field80_0x50;
    undefined field81_0x51;
    undefined field82_0x52;
    undefined field83_0x53;
    undefined field84_0x54;
    undefined field85_0x55;
    undefined field86_0x56;
    undefined field87_0x57;
    undefined field88_0x58;
    undefined field89_0x59;
    undefined field90_0x5a;
    undefined field91_0x5b;
    undefined field92_0x5c;
    undefined field93_0x5d;
    undefined field94_0x5e;
    undefined field95_0x5f;
    undefined field96_0x60;
    undefined field97_0x61;
    undefined field98_0x62;
    undefined field99_0x63;
    undefined field100_0x64;
    undefined field101_0x65;
    undefined field102_0x66;
    undefined field103_0x67;
    undefined4 field104_0x68;
    undefined4 field105_0x6c;
    undefined4 field106_0x70;
    undefined4 field107_0x74;
    undefined4 field108_0x78;
    undefined4 field109_0x7c;
};

typedef struct astruct_5 astruct_5, *Pastruct_5;

struct astruct_5 {
    int field0_0x0;
    int field1_0x4;
    int field2_0x8;
    int field3_0xc;
    int field4_0x10;
    int field5_0x14;
    int field6_0x18;
    int field7_0x1c;
    int field8_0x20;
    int field9_0x24;
    int field10_0x28;
    int field11_0x2c;
    int field12_0x30;
    int field13_0x34;
    int field14_0x38;
    int field15_0x3c;
    int field16_0x40;
    uint field17_0x44;
    int field18_0x48;
    uint field19_0x4c;
    int field20_0x50;
    int field21_0x54;
    uint field22_0x58;
    int blb_header_ptr;
    byte set_to_a_on_start;
    undefined field25_0x61;
    undefined field26_0x62;
    undefined field27_0x63;
    undefined *field28_0x64;
    ushort *field29_0x68;
    uint *field30_0x6c;
    int field31_0x70;
    int field32_0x74;
    undefined4 field33_0x78;
    int field34_0x7c;
};

typedef struct astruct_14 astruct_14, *Pastruct_14;

struct astruct_14 {
    int field0_0x0;
    int field1_0x4;
    int field2_0x8;
    int field3_0xc;
    int field4_0x10;
    int field5_0x14;
    int field6_0x18;
    int field7_0x1c;
    int field8_0x20;
    int field9_0x24;
    int field10_0x28;
    int field11_0x2c;
    int field12_0x30;
    int field13_0x34;
    int field14_0x38;
    int field15_0x3c;
    int field16_0x40;
    uint field17_0x44;
    int field18_0x48;
    uint field19_0x4c;
    int field20_0x50;
    int field21_0x54;
    uint field22_0x58;
    int field23_0x5c;
    byte field24_0x60;
    undefined field25_0x61;
    undefined field26_0x62;
    undefined field27_0x63;
    undefined *field28_0x64;
    uint *field29_0x68;
    uint *field30_0x6c;
};

typedef struct astruct_12 astruct_12, *Pastruct_12;

struct astruct_12 {
    ushort vlc_table;
    undefined field1_0x2;
    undefined field2_0x3;
    undefined field3_0x4;
    undefined field4_0x5;
    undefined field5_0x6;
    undefined field6_0x7;
    ushort field7_0x8;
    undefined field8_0xa;
    undefined field9_0xb;
    undefined field10_0xc;
    undefined field11_0xd;
    undefined field12_0xe;
    undefined field13_0xf;
    undefined field14_0x10;
    undefined field15_0x11;
    undefined field16_0x12;
    undefined field17_0x13;
    undefined field18_0x14;
    undefined field19_0x15;
    undefined field20_0x16;
    undefined field21_0x17;
    undefined field22_0x18;
    undefined field23_0x19;
    undefined field24_0x1a;
    undefined field25_0x1b;
    undefined field26_0x1c;
    undefined field27_0x1d;
    undefined field28_0x1e;
    undefined field29_0x1f;
    undefined field30_0x20;
    undefined field31_0x21;
    undefined field32_0x22;
    undefined field33_0x23;
    undefined field34_0x24;
    undefined field35_0x25;
    undefined field36_0x26;
    undefined field37_0x27;
    undefined field38_0x28;
    undefined field39_0x29;
    undefined field40_0x2a;
    undefined field41_0x2b;
    undefined field42_0x2c;
    undefined field43_0x2d;
    undefined field44_0x2e;
    undefined field45_0x2f;
    undefined field46_0x30;
    undefined field47_0x31;
    undefined field48_0x32;
    undefined field49_0x33;
    undefined field50_0x34;
    undefined field51_0x35;
    undefined field52_0x36;
    undefined field53_0x37;
    undefined field54_0x38;
    undefined field55_0x39;
    undefined field56_0x3a;
    undefined field57_0x3b;
    undefined field58_0x3c;
    undefined field59_0x3d;
    undefined field60_0x3e;
    undefined field61_0x3f;
    undefined field62_0x40;
    undefined field63_0x41;
    undefined field64_0x42;
    undefined field65_0x43;
    undefined field66_0x44;
    undefined field67_0x45;
    undefined field68_0x46;
    undefined field69_0x47;
    undefined field70_0x48;
    undefined field71_0x49;
    undefined field72_0x4a;
    undefined field73_0x4b;
    undefined field74_0x4c;
    undefined field75_0x4d;
    undefined field76_0x4e;
    undefined field77_0x4f;
    undefined field78_0x50;
    undefined field79_0x51;
    undefined field80_0x52;
    undefined field81_0x53;
    undefined field82_0x54;
    undefined field83_0x55;
    undefined field84_0x56;
    undefined field85_0x57;
    undefined field86_0x58;
    undefined field87_0x59;
    undefined field88_0x5a;
    undefined field89_0x5b;
    undefined field90_0x5c;
    undefined field91_0x5d;
    undefined field92_0x5e;
    undefined field93_0x5f;
    undefined field94_0x60;
    undefined field95_0x61;
    undefined field96_0x62;
    undefined field97_0x63;
    undefined field98_0x64;
    undefined field99_0x65;
    undefined field100_0x66;
    undefined field101_0x67;
    undefined field102_0x68;
    undefined field103_0x69;
    undefined field104_0x6a;
    undefined field105_0x6b;
    undefined field106_0x6c;
    undefined field107_0x6d;
    undefined field108_0x6e;
    undefined field109_0x6f;
    undefined field110_0x70;
    undefined field111_0x71;
    undefined field112_0x72;
    undefined field113_0x73;
    undefined field114_0x74;
    undefined field115_0x75;
    undefined field116_0x76;
    undefined field117_0x77;
    undefined field118_0x78;
    undefined field119_0x79;
    undefined field120_0x7a;
    undefined field121_0x7b;
    undefined field122_0x7c;
    undefined field123_0x7d;
    undefined field124_0x7e;
    undefined field125_0x7f;
    undefined field126_0x80;
    undefined field127_0x81;
    undefined field128_0x82;
    undefined field129_0x83;
    undefined field130_0x84;
    undefined field131_0x85;
    undefined field132_0x86;
    undefined field133_0x87;
    undefined field134_0x88;
    undefined field135_0x89;
    undefined field136_0x8a;
    undefined field137_0x8b;
    undefined field138_0x8c;
    undefined field139_0x8d;
    undefined field140_0x8e;
    undefined field141_0x8f;
    undefined field142_0x90;
    undefined field143_0x91;
    undefined field144_0x92;
    undefined field145_0x93;
    undefined field146_0x94;
    undefined field147_0x95;
    undefined field148_0x96;
    undefined field149_0x97;
    undefined field150_0x98;
    undefined field151_0x99;
    undefined field152_0x9a;
    undefined field153_0x9b;
    undefined field154_0x9c;
    undefined field155_0x9d;
    undefined field156_0x9e;
    undefined field157_0x9f;
    undefined field158_0xa0;
    undefined field159_0xa1;
    undefined field160_0xa2;
    undefined field161_0xa3;
    undefined field162_0xa4;
    undefined field163_0xa5;
    undefined field164_0xa6;
    undefined field165_0xa7;
    undefined field166_0xa8;
    undefined field167_0xa9;
    undefined field168_0xaa;
    undefined field169_0xab;
    undefined field170_0xac;
    undefined field171_0xad;
    undefined field172_0xae;
    undefined field173_0xaf;
    undefined field174_0xb0;
    undefined field175_0xb1;
    undefined field176_0xb2;
    undefined field177_0xb3;
    undefined field178_0xb4;
    undefined field179_0xb5;
    undefined field180_0xb6;
    undefined field181_0xb7;
    undefined field182_0xb8;
    undefined field183_0xb9;
    undefined field184_0xba;
    undefined field185_0xbb;
    undefined field186_0xbc;
    undefined field187_0xbd;
    undefined field188_0xbe;
    undefined field189_0xbf;
    undefined field190_0xc0;
    undefined field191_0xc1;
    undefined field192_0xc2;
    undefined field193_0xc3;
    undefined field194_0xc4;
    undefined field195_0xc5;
    undefined field196_0xc6;
    undefined field197_0xc7;
    undefined field198_0xc8;
    undefined field199_0xc9;
    undefined field200_0xca;
    undefined field201_0xcb;
    undefined field202_0xcc;
    undefined field203_0xcd;
    undefined field204_0xce;
    undefined field205_0xcf;
    undefined field206_0xd0;
    undefined field207_0xd1;
    undefined field208_0xd2;
    undefined field209_0xd3;
    undefined field210_0xd4;
    undefined field211_0xd5;
    undefined field212_0xd6;
    undefined field213_0xd7;
    undefined field214_0xd8;
    undefined field215_0xd9;
    undefined field216_0xda;
    undefined field217_0xdb;
    undefined field218_0xdc;
    undefined field219_0xdd;
    undefined field220_0xde;
    undefined field221_0xdf;
    undefined field222_0xe0;
    undefined field223_0xe1;
    undefined field224_0xe2;
    undefined field225_0xe3;
    undefined field226_0xe4;
    undefined field227_0xe5;
    undefined field228_0xe6;
    undefined field229_0xe7;
    undefined field230_0xe8;
    undefined field231_0xe9;
    undefined field232_0xea;
    undefined field233_0xeb;
    undefined field234_0xec;
    undefined field235_0xed;
    undefined field236_0xee;
    undefined field237_0xef;
    undefined field238_0xf0;
    undefined field239_0xf1;
    undefined field240_0xf2;
    undefined field241_0xf3;
    undefined field242_0xf4;
    undefined field243_0xf5;
    undefined field244_0xf6;
    undefined field245_0xf7;
    undefined field246_0xf8;
    undefined field247_0xf9;
    undefined field248_0xfa;
    undefined field249_0xfb;
    undefined field250_0xfc;
    undefined field251_0xfd;
    undefined field252_0xfe;
    undefined field253_0xff;
    undefined field254_0x100;
    undefined field255_0x101;
    undefined field256_0x102;
    undefined field257_0x103;
    undefined field258_0x104;
    undefined field259_0x105;
    undefined field260_0x106;
    undefined field261_0x107;
    undefined field262_0x108;
    undefined field263_0x109;
    undefined field264_0x10a;
    undefined field265_0x10b;
    undefined field266_0x10c;
    undefined field267_0x10d;
    undefined field268_0x10e;
    undefined field269_0x10f;
    undefined field270_0x110;
    undefined field271_0x111;
    undefined field272_0x112;
    undefined field273_0x113;
    undefined field274_0x114;
    undefined field275_0x115;
    undefined field276_0x116;
    undefined field277_0x117;
    undefined field278_0x118;
    undefined field279_0x119;
    undefined field280_0x11a;
    undefined field281_0x11b;
    undefined field282_0x11c;
    undefined field283_0x11d;
    undefined field284_0x11e;
    undefined field285_0x11f;
    undefined field286_0x120;
    undefined field287_0x121;
    undefined field288_0x122;
    undefined field289_0x123;
    undefined field290_0x124;
    undefined field291_0x125;
    undefined field292_0x126;
    undefined field293_0x127;
    undefined field294_0x128;
    undefined field295_0x129;
    undefined field296_0x12a;
    undefined field297_0x12b;
    undefined field298_0x12c;
    undefined field299_0x12d;
    undefined field300_0x12e;
    undefined field301_0x12f;
    undefined field302_0x130;
    undefined field303_0x131;
    undefined field304_0x132;
    undefined field305_0x133;
    undefined field306_0x134;
    undefined field307_0x135;
    undefined field308_0x136;
    undefined field309_0x137;
    undefined field310_0x138;
    undefined field311_0x139;
    undefined field312_0x13a;
    undefined field313_0x13b;
    undefined field314_0x13c;
    undefined field315_0x13d;
    undefined field316_0x13e;
    undefined field317_0x13f;
    undefined field318_0x140;
    undefined field319_0x141;
    undefined field320_0x142;
    undefined field321_0x143;
    undefined field322_0x144;
    undefined field323_0x145;
    undefined field324_0x146;
    undefined field325_0x147;
    undefined field326_0x148;
    undefined field327_0x149;
    undefined field328_0x14a;
    undefined field329_0x14b;
    undefined field330_0x14c;
    undefined field331_0x14d;
    undefined field332_0x14e;
    undefined field333_0x14f;
    undefined field334_0x150;
    undefined field335_0x151;
    undefined field336_0x152;
    undefined field337_0x153;
    undefined field338_0x154;
    undefined field339_0x155;
    undefined field340_0x156;
    undefined field341_0x157;
    undefined field342_0x158;
    undefined field343_0x159;
    undefined field344_0x15a;
    undefined field345_0x15b;
    undefined field346_0x15c;
    undefined field347_0x15d;
    undefined field348_0x15e;
    undefined field349_0x15f;
    undefined field350_0x160;
    undefined field351_0x161;
    undefined field352_0x162;
    undefined field353_0x163;
    undefined field354_0x164;
    undefined field355_0x165;
    undefined field356_0x166;
    undefined field357_0x167;
    undefined field358_0x168;
    undefined field359_0x169;
    undefined field360_0x16a;
    undefined field361_0x16b;
    undefined field362_0x16c;
    undefined field363_0x16d;
    undefined field364_0x16e;
    undefined field365_0x16f;
    undefined field366_0x170;
    undefined field367_0x171;
    undefined field368_0x172;
    undefined field369_0x173;
    undefined field370_0x174;
    undefined field371_0x175;
    undefined field372_0x176;
    undefined field373_0x177;
    undefined field374_0x178;
    undefined field375_0x179;
    undefined field376_0x17a;
    undefined field377_0x17b;
    undefined field378_0x17c;
    undefined field379_0x17d;
    undefined field380_0x17e;
    undefined field381_0x17f;
    undefined field382_0x180;
    undefined field383_0x181;
    undefined field384_0x182;
    undefined field385_0x183;
    undefined field386_0x184;
    undefined field387_0x185;
    undefined field388_0x186;
    undefined field389_0x187;
    undefined field390_0x188;
    undefined field391_0x189;
    undefined field392_0x18a;
    undefined field393_0x18b;
    undefined field394_0x18c;
    undefined field395_0x18d;
    undefined field396_0x18e;
    undefined field397_0x18f;
    undefined field398_0x190;
    undefined field399_0x191;
    undefined field400_0x192;
    undefined field401_0x193;
    undefined field402_0x194;
    undefined field403_0x195;
    undefined field404_0x196;
    undefined field405_0x197;
    undefined field406_0x198;
    undefined field407_0x199;
    undefined field408_0x19a;
    undefined field409_0x19b;
    undefined field410_0x19c;
    undefined field411_0x19d;
    undefined field412_0x19e;
    undefined field413_0x19f;
    undefined field414_0x1a0;
    undefined field415_0x1a1;
    undefined field416_0x1a2;
    undefined field417_0x1a3;
    undefined field418_0x1a4;
    undefined field419_0x1a5;
    undefined field420_0x1a6;
    undefined field421_0x1a7;
    undefined field422_0x1a8;
    undefined field423_0x1a9;
    undefined field424_0x1aa;
    undefined field425_0x1ab;
    undefined field426_0x1ac;
    undefined field427_0x1ad;
    undefined field428_0x1ae;
    undefined field429_0x1af;
    undefined field430_0x1b0;
    undefined field431_0x1b1;
    undefined field432_0x1b2;
    undefined field433_0x1b3;
    undefined field434_0x1b4;
    undefined field435_0x1b5;
    undefined field436_0x1b6;
    undefined field437_0x1b7;
    undefined field438_0x1b8;
    undefined field439_0x1b9;
    undefined field440_0x1ba;
    undefined field441_0x1bb;
    undefined field442_0x1bc;
    undefined field443_0x1bd;
    undefined field444_0x1be;
    undefined field445_0x1bf;
    undefined field446_0x1c0;
    undefined field447_0x1c1;
    undefined field448_0x1c2;
    undefined field449_0x1c3;
    undefined field450_0x1c4;
    undefined field451_0x1c5;
    undefined field452_0x1c6;
    undefined field453_0x1c7;
    undefined field454_0x1c8;
    undefined field455_0x1c9;
    undefined field456_0x1ca;
    undefined field457_0x1cb;
    undefined field458_0x1cc;
    undefined field459_0x1cd;
    undefined field460_0x1ce;
    undefined field461_0x1cf;
    undefined field462_0x1d0;
    undefined field463_0x1d1;
    undefined field464_0x1d2;
    undefined field465_0x1d3;
    undefined field466_0x1d4;
    undefined field467_0x1d5;
    undefined field468_0x1d6;
    undefined field469_0x1d7;
    undefined field470_0x1d8;
    undefined field471_0x1d9;
    undefined field472_0x1da;
    undefined field473_0x1db;
    undefined field474_0x1dc;
    undefined field475_0x1dd;
    undefined field476_0x1de;
    undefined field477_0x1df;
    undefined field478_0x1e0;
    undefined field479_0x1e1;
    undefined field480_0x1e2;
    undefined field481_0x1e3;
    undefined field482_0x1e4;
    undefined field483_0x1e5;
    undefined field484_0x1e6;
    undefined field485_0x1e7;
    undefined field486_0x1e8;
    undefined field487_0x1e9;
    undefined field488_0x1ea;
    undefined field489_0x1eb;
    undefined field490_0x1ec;
    undefined field491_0x1ed;
    undefined field492_0x1ee;
    undefined field493_0x1ef;
    undefined field494_0x1f0;
    undefined field495_0x1f1;
    undefined field496_0x1f2;
    undefined field497_0x1f3;
    undefined field498_0x1f4;
    undefined field499_0x1f5;
    undefined field500_0x1f6;
    undefined field501_0x1f7;
    undefined field502_0x1f8;
    undefined field503_0x1f9;
    undefined field504_0x1fa;
    undefined field505_0x1fb;
    undefined field506_0x1fc;
    undefined field507_0x1fd;
    undefined field508_0x1fe;
    undefined field509_0x1ff;
    undefined field510_0x200;
    undefined field511_0x201;
    undefined field512_0x202;
    undefined field513_0x203;
    undefined field514_0x204;
    undefined field515_0x205;
    undefined field516_0x206;
    undefined field517_0x207;
    undefined field518_0x208;
    undefined field519_0x209;
    undefined field520_0x20a;
    undefined field521_0x20b;
    undefined field522_0x20c;
    undefined field523_0x20d;
    undefined field524_0x20e;
    undefined field525_0x20f;
    undefined field526_0x210;
    undefined field527_0x211;
    undefined field528_0x212;
    undefined field529_0x213;
    undefined field530_0x214;
    undefined field531_0x215;
    undefined field532_0x216;
    undefined field533_0x217;
    undefined field534_0x218;
    undefined field535_0x219;
    undefined field536_0x21a;
    undefined field537_0x21b;
    undefined field538_0x21c;
    undefined field539_0x21d;
    undefined field540_0x21e;
    undefined field541_0x21f;
    undefined field542_0x220;
    undefined field543_0x221;
    undefined field544_0x222;
    undefined field545_0x223;
    undefined field546_0x224;
    undefined field547_0x225;
    undefined field548_0x226;
    undefined field549_0x227;
    undefined field550_0x228;
    undefined field551_0x229;
    undefined field552_0x22a;
    undefined field553_0x22b;
    undefined field554_0x22c;
    undefined field555_0x22d;
    undefined field556_0x22e;
    undefined field557_0x22f;
    undefined field558_0x230;
    undefined field559_0x231;
    undefined field560_0x232;
    undefined field561_0x233;
    undefined field562_0x234;
    undefined field563_0x235;
    undefined field564_0x236;
    undefined field565_0x237;
    undefined field566_0x238;
    undefined field567_0x239;
    undefined field568_0x23a;
    undefined field569_0x23b;
    undefined field570_0x23c;
    undefined field571_0x23d;
    undefined field572_0x23e;
    undefined field573_0x23f;
    undefined field574_0x240;
    undefined field575_0x241;
    undefined field576_0x242;
    undefined field577_0x243;
    undefined field578_0x244;
    undefined field579_0x245;
    undefined field580_0x246;
    undefined field581_0x247;
    undefined field582_0x248;
    undefined field583_0x249;
    undefined field584_0x24a;
    undefined field585_0x24b;
    undefined field586_0x24c;
    undefined field587_0x24d;
    undefined field588_0x24e;
    undefined field589_0x24f;
    undefined field590_0x250;
    undefined field591_0x251;
    undefined field592_0x252;
    undefined field593_0x253;
    undefined field594_0x254;
    undefined field595_0x255;
    undefined field596_0x256;
    undefined field597_0x257;
    undefined field598_0x258;
    undefined field599_0x259;
    undefined field600_0x25a;
    undefined field601_0x25b;
    undefined field602_0x25c;
    undefined field603_0x25d;
    undefined field604_0x25e;
    undefined field605_0x25f;
    undefined field606_0x260;
    undefined field607_0x261;
    undefined field608_0x262;
    undefined field609_0x263;
    undefined field610_0x264;
    undefined field611_0x265;
    undefined field612_0x266;
    undefined field613_0x267;
    undefined field614_0x268;
    undefined field615_0x269;
    undefined field616_0x26a;
    undefined field617_0x26b;
    undefined field618_0x26c;
    undefined field619_0x26d;
    undefined field620_0x26e;
    undefined field621_0x26f;
    undefined field622_0x270;
    undefined field623_0x271;
    undefined field624_0x272;
    undefined field625_0x273;
    undefined field626_0x274;
    undefined field627_0x275;
    undefined field628_0x276;
    undefined field629_0x277;
    undefined field630_0x278;
    undefined field631_0x279;
    undefined field632_0x27a;
    undefined field633_0x27b;
    undefined field634_0x27c;
    undefined field635_0x27d;
    undefined field636_0x27e;
    undefined field637_0x27f;
    undefined field638_0x280;
    undefined field639_0x281;
    undefined field640_0x282;
    undefined field641_0x283;
    undefined field642_0x284;
    undefined field643_0x285;
    undefined field644_0x286;
    undefined field645_0x287;
    undefined field646_0x288;
    undefined field647_0x289;
    undefined field648_0x28a;
    undefined field649_0x28b;
    undefined field650_0x28c;
    undefined field651_0x28d;
    undefined field652_0x28e;
    undefined field653_0x28f;
    undefined field654_0x290;
    undefined field655_0x291;
    undefined field656_0x292;
    undefined field657_0x293;
    undefined field658_0x294;
    undefined field659_0x295;
    undefined field660_0x296;
    undefined field661_0x297;
    undefined field662_0x298;
    undefined field663_0x299;
    undefined field664_0x29a;
    undefined field665_0x29b;
    undefined field666_0x29c;
    undefined field667_0x29d;
    undefined field668_0x29e;
    undefined field669_0x29f;
    undefined field670_0x2a0;
    undefined field671_0x2a1;
    undefined field672_0x2a2;
    undefined field673_0x2a3;
    undefined field674_0x2a4;
    undefined field675_0x2a5;
    undefined field676_0x2a6;
    undefined field677_0x2a7;
    undefined field678_0x2a8;
    undefined field679_0x2a9;
    undefined field680_0x2aa;
    undefined field681_0x2ab;
    undefined field682_0x2ac;
    undefined field683_0x2ad;
    undefined field684_0x2ae;
    undefined field685_0x2af;
    undefined field686_0x2b0;
    undefined field687_0x2b1;
    undefined field688_0x2b2;
    undefined field689_0x2b3;
    undefined field690_0x2b4;
    undefined field691_0x2b5;
    undefined field692_0x2b6;
    undefined field693_0x2b7;
    undefined field694_0x2b8;
    undefined field695_0x2b9;
    undefined field696_0x2ba;
    undefined field697_0x2bb;
    undefined field698_0x2bc;
    undefined field699_0x2bd;
    undefined field700_0x2be;
    undefined field701_0x2bf;
    undefined field702_0x2c0;
    undefined field703_0x2c1;
    undefined field704_0x2c2;
    undefined field705_0x2c3;
    undefined field706_0x2c4;
    undefined field707_0x2c5;
    undefined field708_0x2c6;
    undefined field709_0x2c7;
    undefined field710_0x2c8;
    undefined field711_0x2c9;
    undefined field712_0x2ca;
    undefined field713_0x2cb;
    undefined field714_0x2cc;
    undefined field715_0x2cd;
    undefined field716_0x2ce;
    undefined field717_0x2cf;
    undefined field718_0x2d0;
    undefined field719_0x2d1;
    undefined field720_0x2d2;
    undefined field721_0x2d3;
    undefined field722_0x2d4;
    undefined field723_0x2d5;
    undefined field724_0x2d6;
    undefined field725_0x2d7;
    undefined field726_0x2d8;
    undefined field727_0x2d9;
    undefined field728_0x2da;
    undefined field729_0x2db;
    undefined field730_0x2dc;
    undefined field731_0x2dd;
    undefined field732_0x2de;
    undefined field733_0x2df;
    undefined field734_0x2e0;
    undefined field735_0x2e1;
    undefined field736_0x2e2;
    undefined field737_0x2e3;
    undefined field738_0x2e4;
    undefined field739_0x2e5;
    undefined field740_0x2e6;
    undefined field741_0x2e7;
    undefined field742_0x2e8;
    undefined field743_0x2e9;
    undefined field744_0x2ea;
    undefined field745_0x2eb;
    undefined field746_0x2ec;
    undefined field747_0x2ed;
    undefined field748_0x2ee;
    undefined field749_0x2ef;
    undefined field750_0x2f0;
    undefined field751_0x2f1;
    undefined field752_0x2f2;
    undefined field753_0x2f3;
    undefined field754_0x2f4;
    undefined field755_0x2f5;
    undefined field756_0x2f6;
    undefined field757_0x2f7;
    undefined field758_0x2f8;
    undefined field759_0x2f9;
    undefined field760_0x2fa;
    undefined field761_0x2fb;
    undefined field762_0x2fc;
    undefined field763_0x2fd;
    undefined field764_0x2fe;
    undefined field765_0x2ff;
    undefined field766_0x300;
    undefined field767_0x301;
    undefined field768_0x302;
    undefined field769_0x303;
    undefined field770_0x304;
    undefined field771_0x305;
    undefined field772_0x306;
    undefined field773_0x307;
    undefined field774_0x308;
    undefined field775_0x309;
    undefined field776_0x30a;
    undefined field777_0x30b;
    undefined field778_0x30c;
    undefined field779_0x30d;
    undefined field780_0x30e;
    undefined field781_0x30f;
    undefined field782_0x310;
    undefined field783_0x311;
    undefined field784_0x312;
    undefined field785_0x313;
    undefined field786_0x314;
    undefined field787_0x315;
    undefined field788_0x316;
    undefined field789_0x317;
    undefined field790_0x318;
    undefined field791_0x319;
    undefined field792_0x31a;
    undefined field793_0x31b;
    undefined field794_0x31c;
    undefined field795_0x31d;
    undefined field796_0x31e;
    undefined field797_0x31f;
    undefined field798_0x320;
    undefined field799_0x321;
    undefined field800_0x322;
    undefined field801_0x323;
    undefined field802_0x324;
    undefined field803_0x325;
    undefined field804_0x326;
    undefined field805_0x327;
    undefined field806_0x328;
    undefined field807_0x329;
    undefined field808_0x32a;
    undefined field809_0x32b;
    undefined field810_0x32c;
    undefined field811_0x32d;
    undefined field812_0x32e;
    undefined field813_0x32f;
    undefined field814_0x330;
    undefined field815_0x331;
    undefined field816_0x332;
    undefined field817_0x333;
    undefined field818_0x334;
    undefined field819_0x335;
    undefined field820_0x336;
    undefined field821_0x337;
    undefined field822_0x338;
    undefined field823_0x339;
    undefined field824_0x33a;
    undefined field825_0x33b;
    undefined field826_0x33c;
    undefined field827_0x33d;
    undefined field828_0x33e;
    undefined field829_0x33f;
    undefined field830_0x340;
    undefined field831_0x341;
    undefined field832_0x342;
    undefined field833_0x343;
    undefined field834_0x344;
    undefined field835_0x345;
    undefined field836_0x346;
    undefined field837_0x347;
    undefined field838_0x348;
    undefined field839_0x349;
    undefined field840_0x34a;
    undefined field841_0x34b;
    undefined field842_0x34c;
    undefined field843_0x34d;
    undefined field844_0x34e;
    undefined field845_0x34f;
    undefined field846_0x350;
    undefined field847_0x351;
    undefined field848_0x352;
    undefined field849_0x353;
    undefined field850_0x354;
    undefined field851_0x355;
    undefined field852_0x356;
    undefined field853_0x357;
    undefined field854_0x358;
    undefined field855_0x359;
    undefined field856_0x35a;
    undefined field857_0x35b;
    undefined field858_0x35c;
    undefined field859_0x35d;
    undefined field860_0x35e;
    undefined field861_0x35f;
    undefined field862_0x360;
    undefined field863_0x361;
    undefined field864_0x362;
    undefined field865_0x363;
    undefined field866_0x364;
    undefined field867_0x365;
    undefined field868_0x366;
    undefined field869_0x367;
    undefined field870_0x368;
    undefined field871_0x369;
    undefined field872_0x36a;
    undefined field873_0x36b;
    undefined field874_0x36c;
    undefined field875_0x36d;
    undefined field876_0x36e;
    undefined field877_0x36f;
    undefined field878_0x370;
    undefined field879_0x371;
    undefined field880_0x372;
    undefined field881_0x373;
    undefined field882_0x374;
    undefined field883_0x375;
    undefined field884_0x376;
    undefined field885_0x377;
    undefined field886_0x378;
    undefined field887_0x379;
    undefined field888_0x37a;
    undefined field889_0x37b;
    undefined field890_0x37c;
    undefined field891_0x37d;
    undefined field892_0x37e;
    undefined field893_0x37f;
    undefined field894_0x380;
    undefined field895_0x381;
    undefined field896_0x382;
    undefined field897_0x383;
    undefined field898_0x384;
    undefined field899_0x385;
    undefined field900_0x386;
    undefined field901_0x387;
    undefined field902_0x388;
    undefined field903_0x389;
    undefined field904_0x38a;
    undefined field905_0x38b;
    undefined field906_0x38c;
    undefined field907_0x38d;
    undefined field908_0x38e;
    undefined field909_0x38f;
    undefined field910_0x390;
    undefined field911_0x391;
    undefined field912_0x392;
    undefined field913_0x393;
    undefined field914_0x394;
    undefined field915_0x395;
    undefined field916_0x396;
    undefined field917_0x397;
    undefined field918_0x398;
    undefined field919_0x399;
    undefined field920_0x39a;
    undefined field921_0x39b;
    undefined field922_0x39c;
    undefined field923_0x39d;
    undefined field924_0x39e;
    undefined field925_0x39f;
    undefined field926_0x3a0;
    undefined field927_0x3a1;
    undefined field928_0x3a2;
    undefined field929_0x3a3;
    undefined field930_0x3a4;
    undefined field931_0x3a5;
    undefined field932_0x3a6;
    undefined field933_0x3a7;
    undefined field934_0x3a8;
    undefined field935_0x3a9;
    undefined field936_0x3aa;
    undefined field937_0x3ab;
    undefined field938_0x3ac;
    undefined field939_0x3ad;
    undefined field940_0x3ae;
    undefined field941_0x3af;
    undefined field942_0x3b0;
    undefined field943_0x3b1;
    undefined field944_0x3b2;
    undefined field945_0x3b3;
    undefined field946_0x3b4;
    undefined field947_0x3b5;
    undefined field948_0x3b6;
    undefined field949_0x3b7;
    undefined field950_0x3b8;
    undefined field951_0x3b9;
    undefined field952_0x3ba;
    undefined field953_0x3bb;
    undefined field954_0x3bc;
    undefined field955_0x3bd;
    undefined field956_0x3be;
    undefined field957_0x3bf;
    undefined field958_0x3c0;
    undefined field959_0x3c1;
    undefined field960_0x3c2;
    undefined field961_0x3c3;
    undefined field962_0x3c4;
    undefined field963_0x3c5;
    undefined field964_0x3c6;
    undefined field965_0x3c7;
    undefined field966_0x3c8;
    undefined field967_0x3c9;
    undefined field968_0x3ca;
    undefined field969_0x3cb;
    undefined field970_0x3cc;
    undefined field971_0x3cd;
    undefined field972_0x3ce;
    undefined field973_0x3cf;
    undefined field974_0x3d0;
    undefined field975_0x3d1;
    undefined field976_0x3d2;
    undefined field977_0x3d3;
    undefined field978_0x3d4;
    undefined field979_0x3d5;
    undefined field980_0x3d6;
    undefined field981_0x3d7;
    undefined field982_0x3d8;
    undefined field983_0x3d9;
    undefined field984_0x3da;
    undefined field985_0x3db;
    undefined field986_0x3dc;
    undefined field987_0x3dd;
    undefined field988_0x3de;
    undefined field989_0x3df;
    undefined field990_0x3e0;
    undefined field991_0x3e1;
    undefined field992_0x3e2;
    undefined field993_0x3e3;
    undefined field994_0x3e4;
    undefined field995_0x3e5;
    undefined field996_0x3e6;
    undefined field997_0x3e7;
    undefined field998_0x3e8;
    undefined field999_0x3e9;
    undefined field1000_0x3ea;
    undefined field1001_0x3eb;
    undefined field1002_0x3ec;
    undefined field1003_0x3ed;
    undefined field1004_0x3ee;
    undefined field1005_0x3ef;
    undefined field1006_0x3f0;
    undefined field1007_0x3f1;
    undefined field1008_0x3f2;
    undefined field1009_0x3f3;
    undefined field1010_0x3f4;
    undefined field1011_0x3f5;
    undefined field1012_0x3f6;
    undefined field1013_0x3f7;
    undefined field1014_0x3f8;
    undefined field1015_0x3f9;
    undefined field1016_0x3fa;
    undefined field1017_0x3fb;
    undefined field1018_0x3fc;
    undefined field1019_0x3fd;
    undefined field1020_0x3fe;
    undefined field1021_0x3ff;
};

typedef struct astruct_1 astruct_1, *Pastruct_1;

struct astruct_1 {
};

typedef struct astruct_16 astruct_16, *Pastruct_16;

struct astruct_16 {
    undefined field0_0x0;
    undefined field1_0x1;
    undefined field2_0x2;
    undefined field3_0x3;
    undefined field4_0x4;
    undefined field5_0x5;
    undefined field6_0x6;
    undefined field7_0x7;
    undefined field8_0x8;
    undefined field9_0x9;
    undefined field10_0xa;
    undefined field11_0xb;
    undefined field12_0xc;
    undefined field13_0xd;
    undefined field14_0xe;
    undefined field15_0xf;
    undefined field16_0x10;
    undefined field17_0x11;
    undefined field18_0x12;
    undefined field19_0x13;
    undefined field20_0x14;
    undefined field21_0x15;
    undefined field22_0x16;
    undefined field23_0x17;
    undefined field24_0x18;
    undefined field25_0x19;
    undefined field26_0x1a;
    undefined field27_0x1b;
    undefined field28_0x1c;
    undefined field29_0x1d;
    undefined field30_0x1e;
    undefined field31_0x1f;
    undefined *tile_count;
};

typedef struct astruct_7 astruct_7, *Pastruct_7;

struct astruct_7 {
};

typedef struct astruct_9 astruct_9, *Pastruct_9;

struct astruct_9 {
    undefined field0_0x0;
    undefined field1_0x1;
    undefined field2_0x2;
    undefined field3_0x3;
    undefined field4_0x4;
    undefined field5_0x5;
    undefined field6_0x6;
    undefined field7_0x7;
    undefined field8_0x8;
    undefined field9_0x9;
    undefined field10_0xa;
    undefined field11_0xb;
    undefined field12_0xc;
    undefined field13_0xd;
    undefined field14_0xe;
    undefined field15_0xf;
    undefined field16_0x10;
    undefined field17_0x11;
    undefined field18_0x12;
    undefined field19_0x13;
    undefined field20_0x14;
    undefined field21_0x15;
    undefined field22_0x16;
    undefined field23_0x17;
    undefined field24_0x18;
    undefined field25_0x19;
    undefined field26_0x1a;
    undefined field27_0x1b;
    undefined field28_0x1c;
    undefined field29_0x1d;
    undefined field30_0x1e;
    undefined field31_0x1f;
    undefined field32_0x20;
    undefined field33_0x21;
    undefined field34_0x22;
    undefined field35_0x23;
    undefined field36_0x24;
    undefined field37_0x25;
    undefined field38_0x26;
    undefined field39_0x27;
    undefined field40_0x28;
    undefined field41_0x29;
    undefined field42_0x2a;
    undefined field43_0x2b;
    undefined field44_0x2c;
    undefined field45_0x2d;
    undefined field46_0x2e;
    undefined field47_0x2f;
    undefined field48_0x30;
    undefined field49_0x31;
    undefined field50_0x32;
    undefined field51_0x33;
    undefined field52_0x34;
    undefined field53_0x35;
    undefined field54_0x36;
    undefined field55_0x37;
    undefined field56_0x38;
    undefined field57_0x39;
    undefined field58_0x3a;
    undefined field59_0x3b;
    undefined field60_0x3c;
    undefined field61_0x3d;
    undefined field62_0x3e;
    undefined field63_0x3f;
    undefined field64_0x40;
    undefined field65_0x41;
    undefined field66_0x42;
    undefined field67_0x43;
    undefined field68_0x44;
    undefined field69_0x45;
    undefined field70_0x46;
    undefined field71_0x47;
    undefined field72_0x48;
    undefined field73_0x49;
    undefined field74_0x4a;
    undefined field75_0x4b;
    undefined field76_0x4c;
    undefined field77_0x4d;
    undefined field78_0x4e;
    undefined field79_0x4f;
    undefined field80_0x50;
    undefined field81_0x51;
    undefined field82_0x52;
    undefined field83_0x53;
    undefined field84_0x54;
    undefined field85_0x55;
    undefined field86_0x56;
    undefined field87_0x57;
    undefined field88_0x58;
    undefined field89_0x59;
    undefined field90_0x5a;
    undefined field91_0x5b;
    int blb_base_ptr;
    byte blb_level?;
};

typedef struct astruct_2 astruct_2, *Pastruct_2;

struct astruct_2 {
    undefined field0_0x0;
    undefined field1_0x1;
    undefined field2_0x2;
    undefined field3_0x3;
    undefined field4_0x4;
    undefined field5_0x5;
    undefined field6_0x6;
    undefined field7_0x7;
    undefined field8_0x8;
    undefined field9_0x9;
    undefined field10_0xa;
    undefined field11_0xb;
    undefined field12_0xc;
    undefined field13_0xd;
    undefined field14_0xe;
    undefined field15_0xf;
    undefined field16_0x10;
    undefined field17_0x11;
    undefined field18_0x12;
    undefined field19_0x13;
    undefined field20_0x14;
    undefined field21_0x15;
    undefined field22_0x16;
    undefined field23_0x17;
    undefined field24_0x18;
    undefined field25_0x19;
    undefined field26_0x1a;
    undefined field27_0x1b;
    undefined field28_0x1c;
    undefined field29_0x1d;
    undefined field30_0x1e;
    undefined field31_0x1f;
    undefined field32_0x20;
    undefined field33_0x21;
    undefined field34_0x22;
    undefined field35_0x23;
    undefined field36_0x24;
    undefined field37_0x25;
    undefined field38_0x26;
    undefined field39_0x27;
    undefined4 field40_0x28;
    undefined field41_0x2c;
    undefined field42_0x2d;
    undefined field43_0x2e;
    undefined field44_0x2f;
    undefined field45_0x30;
    undefined field46_0x31;
    undefined field47_0x32;
    undefined field48_0x33;
    undefined field49_0x34;
    undefined field50_0x35;
    undefined field51_0x36;
    undefined field52_0x37;
    undefined field53_0x38;
    undefined field54_0x39;
    undefined field55_0x3a;
    undefined field56_0x3b;
    int maybe_next_block?;
    int buffer;
    undefined field59_0x44;
    undefined field60_0x45;
    undefined field61_0x46;
    undefined field62_0x47;
    undefined field63_0x48;
    undefined field64_0x49;
    undefined field65_0x4a;
    undefined field66_0x4b;
    undefined field67_0x4c;
    undefined field68_0x4d;
    undefined field69_0x4e;
    undefined field70_0x4f;
    undefined field71_0x50;
    undefined field72_0x51;
    undefined field73_0x52;
    undefined field74_0x53;
    undefined field75_0x54;
    undefined field76_0x55;
    undefined field77_0x56;
    undefined field78_0x57;
    undefined field79_0x58;
    undefined field80_0x59;
    undefined field81_0x5a;
    undefined field82_0x5b;
    undefined field83_0x5c;
    undefined field84_0x5d;
    undefined field85_0x5e;
    undefined field86_0x5f;
    undefined field87_0x60;
    undefined field88_0x61;
    undefined field89_0x62;
    undefined field90_0x63;
    undefined2 field91_0x64;
    undefined2 field92_0x66;
    undefined field93_0x68;
    undefined field94_0x69;
    undefined field95_0x6a;
    undefined field96_0x6b;
    undefined field97_0x6c;
    undefined field98_0x6d;
    undefined field99_0x6e;
    undefined field100_0x6f;
    undefined field101_0x70;
    undefined field102_0x71;
    undefined field103_0x72;
    undefined field104_0x73;
    undefined field105_0x74;
    undefined field106_0x75;
    undefined field107_0x76;
    undefined field108_0x77;
    undefined field109_0x78;
    undefined field110_0x79;
    undefined field111_0x7a;
    undefined field112_0x7b;
    undefined field113_0x7c;
    undefined field114_0x7d;
    undefined field115_0x7e;
    undefined field116_0x7f;
    undefined field117_0x80;
    undefined field118_0x81;
    undefined field119_0x82;
    undefined field120_0x83;
    undefined1 blb_reading_struct; // Created by retype action
    undefined field122_0x85;
    undefined field123_0x86;
    undefined field124_0x87;
    undefined field125_0x88;
    undefined field126_0x89;
    undefined field127_0x8a;
    undefined field128_0x8b;
    undefined field129_0x8c;
    undefined field130_0x8d;
    undefined field131_0x8e;
    undefined field132_0x8f;
    undefined field133_0x90;
    undefined field134_0x91;
    undefined field135_0x92;
    undefined field136_0x93;
    undefined field137_0x94;
    undefined field138_0x95;
    undefined field139_0x96;
    undefined field140_0x97;
    undefined field141_0x98;
    undefined field142_0x99;
    undefined field143_0x9a;
    undefined field144_0x9b;
    undefined field145_0x9c;
    undefined field146_0x9d;
    undefined field147_0x9e;
    undefined field148_0x9f;
    undefined field149_0xa0;
    undefined field150_0xa1;
    undefined field151_0xa2;
    undefined field152_0xa3;
    undefined field153_0xa4;
    undefined field154_0xa5;
    undefined field155_0xa6;
    undefined field156_0xa7;
    undefined field157_0xa8;
    undefined field158_0xa9;
    undefined field159_0xaa;
    undefined field160_0xab;
    undefined field161_0xac;
    undefined field162_0xad;
    undefined field163_0xae;
    undefined field164_0xaf;
    undefined field165_0xb0;
    undefined field166_0xb1;
    undefined field167_0xb2;
    undefined field168_0xb3;
    undefined field169_0xb4;
    undefined field170_0xb5;
    undefined field171_0xb6;
    undefined field172_0xb7;
    undefined field173_0xb8;
    undefined field174_0xb9;
    undefined field175_0xba;
    undefined field176_0xbb;
    undefined field177_0xbc;
    undefined field178_0xbd;
    undefined field179_0xbe;
    undefined field180_0xbf;
    undefined field181_0xc0;
    undefined field182_0xc1;
    undefined field183_0xc2;
    undefined field184_0xc3;
    undefined field185_0xc4;
    undefined field186_0xc5;
    undefined field187_0xc6;
    undefined field188_0xc7;
    undefined field189_0xc8;
    undefined field190_0xc9;
    undefined field191_0xca;
    undefined field192_0xcb;
    undefined field193_0xcc;
    undefined field194_0xcd;
    undefined field195_0xce;
    undefined field196_0xcf;
    undefined field197_0xd0;
    undefined field198_0xd1;
    undefined field199_0xd2;
    undefined field200_0xd3;
    undefined field201_0xd4;
    undefined field202_0xd5;
    undefined field203_0xd6;
    undefined field204_0xd7;
    undefined field205_0xd8;
    undefined field206_0xd9;
    undefined field207_0xda;
    undefined field208_0xdb;
    undefined field209_0xdc;
    undefined field210_0xdd;
    undefined field211_0xde;
    undefined field212_0xdf;
    undefined field213_0xe0;
    undefined field214_0xe1;
    undefined field215_0xe2;
    undefined field216_0xe3;
    undefined field217_0xe4;
    undefined field218_0xe5;
    undefined field219_0xe6;
    undefined field220_0xe7;
    undefined field221_0xe8;
    undefined field222_0xe9;
    undefined field223_0xea;
    undefined field224_0xeb;
    undefined field225_0xec;
    undefined field226_0xed;
    undefined field227_0xee;
    undefined field228_0xef;
    undefined field229_0xf0;
    undefined field230_0xf1;
    undefined field231_0xf2;
    undefined field232_0xf3;
    undefined field233_0xf4;
    undefined field234_0xf5;
    undefined field235_0xf6;
    undefined field236_0xf7;
    undefined field237_0xf8;
    undefined field238_0xf9;
    undefined field239_0xfa;
    undefined field240_0xfb;
    undefined field241_0xfc;
    undefined field242_0xfd;
    undefined field243_0xfe;
    undefined field244_0xff;
    undefined field245_0x100;
    undefined field246_0x101;
    undefined field247_0x102;
    undefined field248_0x103;
    undefined2 field249_0x104;
    undefined field250_0x106;
    undefined field251_0x107;
    undefined4 field252_0x108;
    undefined field253_0x10c;
    undefined field254_0x10d;
    undefined field255_0x10e;
    undefined field256_0x10f;
    undefined4 field257_0x110;
    undefined field258_0x114;
    undefined field259_0x115;
    undefined field260_0x116;
    undefined field261_0x117;
    undefined field262_0x118;
    undefined field263_0x119;
    undefined field264_0x11a;
    undefined field265_0x11b;
    undefined4 pixel_count;
    undefined field267_0x120;
    undefined field268_0x121;
    undefined field269_0x122;
    undefined field270_0x123;
    undefined field271_0x124;
    undefined field272_0x125;
    undefined field273_0x126;
    undefined field274_0x127;
    undefined field275_0x128;
    undefined field276_0x129;
    undefined field277_0x12a;
    undefined field278_0x12b;
    undefined4 padding;
    undefined field280_0x130;
};

typedef struct graphics_env graphics_env, *Pgraphics_env;

struct graphics_env {
    undefined field0_0x0;
};

typedef struct astruct_4 astruct_4, *Pastruct_4;

struct astruct_4 {
    undefined4 field0_0x0;
    undefined4 field1_0x4;
    undefined4 field2_0x8;
    undefined4 field3_0xc;
    undefined4 field4_0x10;
    undefined4 field5_0x14;
    undefined4 field6_0x18;
    undefined4 field7_0x1c;
    undefined4 field8_0x20;
    undefined4 field9_0x24;
    undefined4 field10_0x28;
    undefined4 field11_0x2c;
    undefined4 field12_0x30;
    undefined4 field13_0x34;
    undefined4 field14_0x38;
    undefined4 field15_0x3c;
    undefined4 field16_0x40;
    undefined4 field17_0x44;
    undefined4 field18_0x48;
    undefined4 field19_0x4c;
    undefined4 field20_0x50;
    undefined4 field21_0x54;
    undefined4 field22_0x58;
};

typedef struct astruct_6 astruct_6, *Pastruct_6;

struct astruct_6 {
    undefined4 some_mask;
    undefined *some_other_method;
    undefined4 some_other_mask;
    undefined *some_method;
    undefined field4_0x10;
    undefined field5_0x11;
    undefined field6_0x12;
    undefined field7_0x13;
    undefined field8_0x14;
    undefined field9_0x15;
    undefined field10_0x16;
    undefined field11_0x17;
    undefined field12_0x18;
    undefined field13_0x19;
    undefined field14_0x1a;
    undefined field15_0x1b;
    undefined4 *field16_0x1c;
    undefined4 field17_0x20;
    undefined4 field18_0x24;
    undefined4 *field19_0x28;
    undefined4 field20_0x2c;
    undefined4 field21_0x30;
    undefined4 field22_0x34;
    undefined4 field23_0x38;
    u_short *buffer_to_load_blb;
    undefined field25_0x40;
    undefined field26_0x41;
    undefined field27_0x42;
    undefined field28_0x43;
    undefined2 field29_0x44;
    undefined2 field30_0x46;
    short field31_0x48;
    short field32_0x4a;
    undefined4 field33_0x4c;
    undefined4 field34_0x50;
    undefined2 field35_0x54;
    undefined2 field36_0x56;
    undefined field37_0x58;
    undefined field38_0x59;
    undefined field39_0x5a;
    undefined field40_0x5b;
    undefined2 field41_0x5c;
    undefined2 field42_0x5e;
    undefined field43_0x60;
    undefined field44_0x61;
    undefined field45_0x62;
    undefined field46_0x63;
    undefined field47_0x64;
    undefined field48_0x65;
    undefined field49_0x66;
    undefined field50_0x67;
    undefined4 field51_0x68;
    undefined field52_0x6c;
    undefined field53_0x6d;
    undefined field54_0x6e;
    undefined field55_0x6f;
    undefined field56_0x70;
    undefined field57_0x71;
    undefined field58_0x72;
    undefined field59_0x73;
    undefined4 field60_0x74;
    undefined2 field61_0x78;
    undefined field62_0x7a;
    undefined field63_0x7b;
    undefined4 field64_0x7c;
    undefined2 field65_0x80;
    undefined field66_0x82;
    undefined field67_0x83;
    struct astruct_5 field68_0x84;
    ushort field69_0x104;
    undefined field70_0x106;
    undefined field71_0x107;
    int field72_0x108;
    undefined4 field73_0x10c;
    int field74_0x110;
    byte field75_0x114;
    undefined field76_0x115;
    short field77_0x116;
    short field78_0x118;
    undefined field79_0x11a;
    undefined field80_0x11b;
    undefined field81_0x11c;
    undefined field82_0x11d;
    undefined field83_0x11e;
    undefined field84_0x11f;
    undefined2 field85_0x120;
    undefined2 field86_0x122;
    undefined field87_0x124;
    undefined field88_0x125;
    undefined field89_0x126;
    undefined field90_0x127;
    undefined field91_0x128;
    undefined field92_0x129;
    undefined field93_0x12a;
    undefined field94_0x12b;
    undefined field95_0x12c;
    undefined field96_0x12d;
    undefined field97_0x12e;
    undefined field98_0x12f;
    undefined field99_0x130;
    undefined field100_0x131;
    undefined field101_0x132;
    undefined field102_0x133;
};

typedef struct astruct_8 astruct_8, *Pastruct_8;

struct astruct_8 {
    undefined field0_0x0;
    undefined field1_0x1;
    undefined field2_0x2;
    undefined field3_0x3;
    undefined field4_0x4;
    undefined field5_0x5;
    undefined field6_0x6;
    undefined field7_0x7;
    undefined field8_0x8;
    undefined field9_0x9;
    undefined field10_0xa;
    undefined field11_0xb;
    undefined field12_0xc;
    undefined field13_0xd;
    undefined field14_0xe;
    undefined field15_0xf;
    undefined field16_0x10;
    undefined field17_0x11;
    undefined field18_0x12;
    undefined field19_0x13;
    undefined field20_0x14;
    undefined field21_0x15;
    undefined field22_0x16;
    undefined field23_0x17;
    undefined field24_0x18;
    undefined field25_0x19;
    undefined field26_0x1a;
    undefined field27_0x1b;
    undefined field28_0x1c;
    undefined field29_0x1d;
    undefined field30_0x1e;
    undefined field31_0x1f;
    undefined field32_0x20;
    undefined field33_0x21;
    undefined field34_0x22;
    undefined field35_0x23;
    undefined field36_0x24;
    undefined field37_0x25;
    undefined field38_0x26;
    undefined field39_0x27;
    undefined field40_0x28;
    undefined field41_0x29;
    undefined field42_0x2a;
    undefined field43_0x2b;
    undefined field44_0x2c;
    undefined field45_0x2d;
    undefined field46_0x2e;
    undefined field47_0x2f;
    undefined field48_0x30;
    undefined field49_0x31;
    undefined field50_0x32;
    undefined field51_0x33;
    undefined field52_0x34;
    undefined field53_0x35;
    undefined field54_0x36;
    undefined field55_0x37;
    undefined field56_0x38;
    undefined field57_0x39;
    undefined field58_0x3a;
    undefined field59_0x3b;
    undefined field60_0x3c;
    undefined field61_0x3d;
    undefined field62_0x3e;
    undefined field63_0x3f;
    undefined field64_0x40;
    undefined field65_0x41;
    undefined field66_0x42;
    undefined field67_0x43;
    undefined field68_0x44;
    undefined field69_0x45;
    undefined field70_0x46;
    undefined field71_0x47;
    undefined field72_0x48;
    undefined field73_0x49;
    undefined field74_0x4a;
    undefined field75_0x4b;
    undefined field76_0x4c;
    undefined field77_0x4d;
    undefined field78_0x4e;
    undefined field79_0x4f;
    undefined field80_0x50;
    undefined field81_0x51;
    undefined field82_0x52;
    undefined field83_0x53;
    undefined field84_0x54;
    undefined field85_0x55;
    undefined field86_0x56;
    undefined field87_0x57;
    undefined field88_0x58;
    undefined field89_0x59;
    undefined field90_0x5a;
    undefined field91_0x5b;
    int game_blb_ptr;
    undefined1 level?; // Created by retype action
    undefined field94_0x61;
    undefined field95_0x62;
    undefined field96_0x63;
    void *load_asset_function;
};

typedef struct astruct_11 astruct_11, *Pastruct_11;

struct astruct_11 {
    ushort field0_0x0;
    undefined field1_0x2;
    undefined field2_0x3;
    undefined field3_0x4;
    undefined field4_0x5;
    undefined field5_0x6;
    undefined field6_0x7;
    ushort field7_0x8;
    undefined field8_0xa;
    undefined field9_0xb;
    undefined field10_0xc;
    undefined field11_0xd;
    undefined field12_0xe;
    undefined field13_0xf;
    undefined field14_0x10;
    undefined field15_0x11;
    undefined field16_0x12;
    undefined field17_0x13;
    undefined field18_0x14;
    undefined field19_0x15;
    undefined field20_0x16;
    undefined field21_0x17;
    undefined field22_0x18;
    undefined field23_0x19;
    undefined field24_0x1a;
    undefined field25_0x1b;
    undefined field26_0x1c;
    undefined field27_0x1d;
    undefined field28_0x1e;
    undefined field29_0x1f;
    undefined field30_0x20;
    undefined field31_0x21;
    undefined field32_0x22;
    undefined field33_0x23;
    undefined field34_0x24;
    undefined field35_0x25;
    undefined field36_0x26;
    undefined field37_0x27;
    undefined field38_0x28;
    undefined field39_0x29;
    undefined field40_0x2a;
    undefined field41_0x2b;
    undefined field42_0x2c;
    undefined field43_0x2d;
    undefined field44_0x2e;
    undefined field45_0x2f;
    undefined field46_0x30;
    undefined field47_0x31;
    undefined field48_0x32;
    undefined field49_0x33;
    undefined field50_0x34;
    undefined field51_0x35;
    undefined field52_0x36;
    undefined field53_0x37;
    undefined field54_0x38;
    undefined field55_0x39;
    undefined field56_0x3a;
    undefined field57_0x3b;
    undefined field58_0x3c;
    undefined field59_0x3d;
    undefined field60_0x3e;
    undefined field61_0x3f;
    undefined field62_0x40;
    undefined field63_0x41;
    undefined field64_0x42;
    undefined field65_0x43;
    undefined field66_0x44;
    undefined field67_0x45;
    undefined field68_0x46;
    undefined field69_0x47;
    undefined field70_0x48;
    undefined field71_0x49;
    undefined field72_0x4a;
    undefined field73_0x4b;
    undefined field74_0x4c;
    undefined field75_0x4d;
    undefined field76_0x4e;
    undefined field77_0x4f;
    undefined field78_0x50;
    undefined field79_0x51;
    undefined field80_0x52;
    undefined field81_0x53;
    undefined field82_0x54;
    undefined field83_0x55;
    undefined field84_0x56;
    undefined field85_0x57;
    undefined field86_0x58;
    undefined field87_0x59;
    undefined field88_0x5a;
    undefined field89_0x5b;
    undefined field90_0x5c;
    undefined field91_0x5d;
    undefined field92_0x5e;
    undefined field93_0x5f;
    undefined field94_0x60;
    undefined field95_0x61;
    undefined field96_0x62;
    undefined field97_0x63;
    undefined field98_0x64;
    undefined field99_0x65;
    undefined field100_0x66;
    undefined field101_0x67;
    undefined field102_0x68;
    undefined field103_0x69;
    undefined field104_0x6a;
    undefined field105_0x6b;
    undefined field106_0x6c;
    undefined field107_0x6d;
    undefined field108_0x6e;
    undefined field109_0x6f;
    undefined field110_0x70;
    undefined field111_0x71;
    undefined field112_0x72;
    undefined field113_0x73;
    undefined field114_0x74;
    undefined field115_0x75;
    undefined field116_0x76;
    undefined field117_0x77;
    undefined field118_0x78;
    undefined field119_0x79;
    undefined field120_0x7a;
    undefined field121_0x7b;
    undefined field122_0x7c;
    undefined field123_0x7d;
    undefined field124_0x7e;
    undefined field125_0x7f;
    undefined field126_0x80;
    undefined field127_0x81;
    undefined field128_0x82;
    undefined field129_0x83;
    undefined field130_0x84;
    undefined field131_0x85;
    undefined field132_0x86;
    undefined field133_0x87;
    undefined field134_0x88;
    undefined field135_0x89;
    undefined field136_0x8a;
    undefined field137_0x8b;
    undefined field138_0x8c;
    undefined field139_0x8d;
    undefined field140_0x8e;
    undefined field141_0x8f;
    undefined field142_0x90;
    undefined field143_0x91;
    undefined field144_0x92;
    undefined field145_0x93;
    undefined field146_0x94;
    undefined field147_0x95;
    undefined field148_0x96;
    undefined field149_0x97;
    undefined field150_0x98;
    undefined field151_0x99;
    undefined field152_0x9a;
    undefined field153_0x9b;
    undefined field154_0x9c;
    undefined field155_0x9d;
    undefined field156_0x9e;
    undefined field157_0x9f;
    undefined field158_0xa0;
    undefined field159_0xa1;
    undefined field160_0xa2;
    undefined field161_0xa3;
    undefined field162_0xa4;
    undefined field163_0xa5;
    undefined field164_0xa6;
    undefined field165_0xa7;
    undefined field166_0xa8;
    undefined field167_0xa9;
    undefined field168_0xaa;
    undefined field169_0xab;
    undefined field170_0xac;
    undefined field171_0xad;
    undefined field172_0xae;
    undefined field173_0xaf;
    undefined field174_0xb0;
    undefined field175_0xb1;
    undefined field176_0xb2;
    undefined field177_0xb3;
    undefined field178_0xb4;
    undefined field179_0xb5;
    undefined field180_0xb6;
    undefined field181_0xb7;
    undefined field182_0xb8;
    undefined field183_0xb9;
    undefined field184_0xba;
    undefined field185_0xbb;
    undefined field186_0xbc;
    undefined field187_0xbd;
    undefined field188_0xbe;
    undefined field189_0xbf;
    undefined field190_0xc0;
    undefined field191_0xc1;
    undefined field192_0xc2;
    undefined field193_0xc3;
    undefined field194_0xc4;
    undefined field195_0xc5;
    undefined field196_0xc6;
    undefined field197_0xc7;
    undefined field198_0xc8;
    undefined field199_0xc9;
    undefined field200_0xca;
    undefined field201_0xcb;
    undefined field202_0xcc;
    undefined field203_0xcd;
    undefined field204_0xce;
    undefined field205_0xcf;
    undefined field206_0xd0;
    undefined field207_0xd1;
    undefined field208_0xd2;
    undefined field209_0xd3;
    undefined field210_0xd4;
    undefined field211_0xd5;
    undefined field212_0xd6;
    undefined field213_0xd7;
    undefined field214_0xd8;
    undefined field215_0xd9;
    undefined field216_0xda;
    undefined field217_0xdb;
    undefined field218_0xdc;
    undefined field219_0xdd;
    undefined field220_0xde;
    undefined field221_0xdf;
    undefined field222_0xe0;
    undefined field223_0xe1;
    undefined field224_0xe2;
    undefined field225_0xe3;
    undefined field226_0xe4;
    undefined field227_0xe5;
    undefined field228_0xe6;
    undefined field229_0xe7;
    undefined field230_0xe8;
    undefined field231_0xe9;
    undefined field232_0xea;
    undefined field233_0xeb;
    undefined field234_0xec;
    undefined field235_0xed;
    undefined field236_0xee;
    undefined field237_0xef;
    undefined field238_0xf0;
    undefined field239_0xf1;
    undefined field240_0xf2;
    undefined field241_0xf3;
    undefined field242_0xf4;
    undefined field243_0xf5;
    undefined field244_0xf6;
    undefined field245_0xf7;
    undefined field246_0xf8;
    undefined field247_0xf9;
    undefined field248_0xfa;
    undefined field249_0xfb;
    undefined field250_0xfc;
    undefined field251_0xfd;
    undefined field252_0xfe;
    undefined field253_0xff;
    undefined field254_0x100;
    undefined field255_0x101;
    undefined field256_0x102;
    undefined field257_0x103;
    undefined field258_0x104;
    undefined field259_0x105;
    undefined field260_0x106;
    undefined field261_0x107;
    undefined field262_0x108;
    undefined field263_0x109;
    undefined field264_0x10a;
    undefined field265_0x10b;
    undefined field266_0x10c;
    undefined field267_0x10d;
    undefined field268_0x10e;
    undefined field269_0x10f;
    undefined field270_0x110;
    undefined field271_0x111;
    undefined field272_0x112;
    undefined field273_0x113;
    undefined field274_0x114;
    undefined field275_0x115;
    undefined field276_0x116;
    undefined field277_0x117;
    undefined field278_0x118;
    undefined field279_0x119;
    undefined field280_0x11a;
    undefined field281_0x11b;
    undefined field282_0x11c;
    undefined field283_0x11d;
    undefined field284_0x11e;
    undefined field285_0x11f;
    undefined field286_0x120;
    undefined field287_0x121;
    undefined field288_0x122;
    undefined field289_0x123;
    undefined field290_0x124;
    undefined field291_0x125;
    undefined field292_0x126;
    undefined field293_0x127;
    undefined field294_0x128;
    undefined field295_0x129;
    undefined field296_0x12a;
    undefined field297_0x12b;
    undefined field298_0x12c;
    undefined field299_0x12d;
    undefined field300_0x12e;
    undefined field301_0x12f;
    undefined field302_0x130;
    undefined field303_0x131;
    undefined field304_0x132;
    undefined field305_0x133;
    undefined field306_0x134;
    undefined field307_0x135;
    undefined field308_0x136;
    undefined field309_0x137;
    undefined field310_0x138;
    undefined field311_0x139;
    undefined field312_0x13a;
    undefined field313_0x13b;
    undefined field314_0x13c;
    undefined field315_0x13d;
    undefined field316_0x13e;
    undefined field317_0x13f;
    undefined field318_0x140;
    undefined field319_0x141;
    undefined field320_0x142;
    undefined field321_0x143;
    undefined field322_0x144;
    undefined field323_0x145;
    undefined field324_0x146;
    undefined field325_0x147;
    undefined field326_0x148;
    undefined field327_0x149;
    undefined field328_0x14a;
    undefined field329_0x14b;
    undefined field330_0x14c;
    undefined field331_0x14d;
    undefined field332_0x14e;
    undefined field333_0x14f;
    undefined field334_0x150;
    undefined field335_0x151;
    undefined field336_0x152;
    undefined field337_0x153;
    undefined field338_0x154;
    undefined field339_0x155;
    undefined field340_0x156;
    undefined field341_0x157;
    undefined field342_0x158;
    undefined field343_0x159;
    undefined field344_0x15a;
    undefined field345_0x15b;
    undefined field346_0x15c;
    undefined field347_0x15d;
    undefined field348_0x15e;
    undefined field349_0x15f;
    undefined field350_0x160;
    undefined field351_0x161;
    undefined field352_0x162;
    undefined field353_0x163;
    undefined field354_0x164;
    undefined field355_0x165;
    undefined field356_0x166;
    undefined field357_0x167;
    undefined field358_0x168;
    undefined field359_0x169;
    undefined field360_0x16a;
    undefined field361_0x16b;
    undefined field362_0x16c;
    undefined field363_0x16d;
    undefined field364_0x16e;
    undefined field365_0x16f;
    undefined field366_0x170;
    undefined field367_0x171;
    undefined field368_0x172;
    undefined field369_0x173;
    undefined field370_0x174;
    undefined field371_0x175;
    undefined field372_0x176;
    undefined field373_0x177;
    undefined field374_0x178;
    undefined field375_0x179;
    undefined field376_0x17a;
    undefined field377_0x17b;
    undefined field378_0x17c;
    undefined field379_0x17d;
    undefined field380_0x17e;
    undefined field381_0x17f;
    undefined field382_0x180;
    undefined field383_0x181;
    undefined field384_0x182;
    undefined field385_0x183;
    undefined field386_0x184;
    undefined field387_0x185;
    undefined field388_0x186;
    undefined field389_0x187;
    undefined field390_0x188;
    undefined field391_0x189;
    undefined field392_0x18a;
    undefined field393_0x18b;
    undefined field394_0x18c;
    undefined field395_0x18d;
    undefined field396_0x18e;
    undefined field397_0x18f;
    undefined field398_0x190;
    undefined field399_0x191;
    undefined field400_0x192;
    undefined field401_0x193;
    undefined field402_0x194;
    undefined field403_0x195;
    undefined field404_0x196;
    undefined field405_0x197;
    undefined field406_0x198;
    undefined field407_0x199;
    undefined field408_0x19a;
    undefined field409_0x19b;
    undefined field410_0x19c;
    undefined field411_0x19d;
    undefined field412_0x19e;
    undefined field413_0x19f;
    undefined field414_0x1a0;
    undefined field415_0x1a1;
    undefined field416_0x1a2;
    undefined field417_0x1a3;
    undefined field418_0x1a4;
    undefined field419_0x1a5;
    undefined field420_0x1a6;
    undefined field421_0x1a7;
    undefined field422_0x1a8;
    undefined field423_0x1a9;
    undefined field424_0x1aa;
    undefined field425_0x1ab;
    undefined field426_0x1ac;
    undefined field427_0x1ad;
    undefined field428_0x1ae;
    undefined field429_0x1af;
    undefined field430_0x1b0;
    undefined field431_0x1b1;
    undefined field432_0x1b2;
    undefined field433_0x1b3;
    undefined field434_0x1b4;
    undefined field435_0x1b5;
    undefined field436_0x1b6;
    undefined field437_0x1b7;
    undefined field438_0x1b8;
    undefined field439_0x1b9;
    undefined field440_0x1ba;
    undefined field441_0x1bb;
    undefined field442_0x1bc;
    undefined field443_0x1bd;
    undefined field444_0x1be;
    undefined field445_0x1bf;
    undefined field446_0x1c0;
    undefined field447_0x1c1;
    undefined field448_0x1c2;
    undefined field449_0x1c3;
    undefined field450_0x1c4;
    undefined field451_0x1c5;
    undefined field452_0x1c6;
    undefined field453_0x1c7;
    undefined field454_0x1c8;
    undefined field455_0x1c9;
    undefined field456_0x1ca;
    undefined field457_0x1cb;
    undefined field458_0x1cc;
    undefined field459_0x1cd;
    undefined field460_0x1ce;
    undefined field461_0x1cf;
    undefined field462_0x1d0;
    undefined field463_0x1d1;
    undefined field464_0x1d2;
    undefined field465_0x1d3;
    undefined field466_0x1d4;
    undefined field467_0x1d5;
    undefined field468_0x1d6;
    undefined field469_0x1d7;
    undefined field470_0x1d8;
    undefined field471_0x1d9;
    undefined field472_0x1da;
    undefined field473_0x1db;
    undefined field474_0x1dc;
    undefined field475_0x1dd;
    undefined field476_0x1de;
    undefined field477_0x1df;
    undefined field478_0x1e0;
    undefined field479_0x1e1;
    undefined field480_0x1e2;
    undefined field481_0x1e3;
    undefined field482_0x1e4;
    undefined field483_0x1e5;
    undefined field484_0x1e6;
    undefined field485_0x1e7;
    undefined field486_0x1e8;
    undefined field487_0x1e9;
    undefined field488_0x1ea;
    undefined field489_0x1eb;
    undefined field490_0x1ec;
    undefined field491_0x1ed;
    undefined field492_0x1ee;
    undefined field493_0x1ef;
    undefined field494_0x1f0;
    undefined field495_0x1f1;
    undefined field496_0x1f2;
    undefined field497_0x1f3;
    undefined field498_0x1f4;
    undefined field499_0x1f5;
    undefined field500_0x1f6;
    undefined field501_0x1f7;
    undefined field502_0x1f8;
    undefined field503_0x1f9;
    undefined field504_0x1fa;
    undefined field505_0x1fb;
    undefined field506_0x1fc;
    undefined field507_0x1fd;
    undefined field508_0x1fe;
    undefined field509_0x1ff;
    undefined field510_0x200;
    undefined field511_0x201;
    undefined field512_0x202;
    undefined field513_0x203;
    undefined field514_0x204;
    undefined field515_0x205;
    undefined field516_0x206;
    undefined field517_0x207;
    undefined field518_0x208;
    undefined field519_0x209;
    undefined field520_0x20a;
    undefined field521_0x20b;
    undefined field522_0x20c;
    undefined field523_0x20d;
    undefined field524_0x20e;
    undefined field525_0x20f;
    undefined field526_0x210;
    undefined field527_0x211;
    undefined field528_0x212;
    undefined field529_0x213;
    undefined field530_0x214;
    undefined field531_0x215;
    undefined field532_0x216;
    undefined field533_0x217;
    undefined field534_0x218;
    undefined field535_0x219;
    undefined field536_0x21a;
    undefined field537_0x21b;
    undefined field538_0x21c;
    undefined field539_0x21d;
    undefined field540_0x21e;
    undefined field541_0x21f;
    undefined field542_0x220;
    undefined field543_0x221;
    undefined field544_0x222;
    undefined field545_0x223;
    undefined field546_0x224;
    undefined field547_0x225;
    undefined field548_0x226;
    undefined field549_0x227;
    undefined field550_0x228;
    undefined field551_0x229;
    undefined field552_0x22a;
    undefined field553_0x22b;
    undefined field554_0x22c;
    undefined field555_0x22d;
    undefined field556_0x22e;
    undefined field557_0x22f;
    undefined field558_0x230;
    undefined field559_0x231;
    undefined field560_0x232;
    undefined field561_0x233;
    undefined field562_0x234;
    undefined field563_0x235;
    undefined field564_0x236;
    undefined field565_0x237;
    undefined field566_0x238;
    undefined field567_0x239;
    undefined field568_0x23a;
    undefined field569_0x23b;
    undefined field570_0x23c;
    undefined field571_0x23d;
    undefined field572_0x23e;
    undefined field573_0x23f;
    undefined field574_0x240;
    undefined field575_0x241;
    undefined field576_0x242;
    undefined field577_0x243;
    undefined field578_0x244;
    undefined field579_0x245;
    undefined field580_0x246;
    undefined field581_0x247;
    undefined field582_0x248;
    undefined field583_0x249;
    undefined field584_0x24a;
    undefined field585_0x24b;
    undefined field586_0x24c;
    undefined field587_0x24d;
    undefined field588_0x24e;
    undefined field589_0x24f;
    undefined field590_0x250;
    undefined field591_0x251;
    undefined field592_0x252;
    undefined field593_0x253;
    undefined field594_0x254;
    undefined field595_0x255;
    undefined field596_0x256;
    undefined field597_0x257;
    undefined field598_0x258;
    undefined field599_0x259;
    undefined field600_0x25a;
    undefined field601_0x25b;
    undefined field602_0x25c;
    undefined field603_0x25d;
    undefined field604_0x25e;
    undefined field605_0x25f;
    undefined field606_0x260;
    undefined field607_0x261;
    undefined field608_0x262;
    undefined field609_0x263;
    undefined field610_0x264;
    undefined field611_0x265;
    undefined field612_0x266;
    undefined field613_0x267;
    undefined field614_0x268;
    undefined field615_0x269;
    undefined field616_0x26a;
    undefined field617_0x26b;
    undefined field618_0x26c;
    undefined field619_0x26d;
    undefined field620_0x26e;
    undefined field621_0x26f;
    undefined field622_0x270;
    undefined field623_0x271;
    undefined field624_0x272;
    undefined field625_0x273;
    undefined field626_0x274;
    undefined field627_0x275;
    undefined field628_0x276;
    undefined field629_0x277;
    undefined field630_0x278;
    undefined field631_0x279;
    undefined field632_0x27a;
    undefined field633_0x27b;
    undefined field634_0x27c;
    undefined field635_0x27d;
    undefined field636_0x27e;
    undefined field637_0x27f;
    undefined field638_0x280;
    undefined field639_0x281;
    undefined field640_0x282;
    undefined field641_0x283;
    undefined field642_0x284;
    undefined field643_0x285;
    undefined field644_0x286;
    undefined field645_0x287;
    undefined field646_0x288;
    undefined field647_0x289;
    undefined field648_0x28a;
    undefined field649_0x28b;
    undefined field650_0x28c;
    undefined field651_0x28d;
    undefined field652_0x28e;
    undefined field653_0x28f;
    undefined field654_0x290;
    undefined field655_0x291;
    undefined field656_0x292;
    undefined field657_0x293;
    undefined field658_0x294;
    undefined field659_0x295;
    undefined field660_0x296;
    undefined field661_0x297;
    undefined field662_0x298;
    undefined field663_0x299;
    undefined field664_0x29a;
    undefined field665_0x29b;
    undefined field666_0x29c;
    undefined field667_0x29d;
    undefined field668_0x29e;
    undefined field669_0x29f;
    undefined field670_0x2a0;
    undefined field671_0x2a1;
    undefined field672_0x2a2;
    undefined field673_0x2a3;
    undefined field674_0x2a4;
    undefined field675_0x2a5;
    undefined field676_0x2a6;
    undefined field677_0x2a7;
    undefined field678_0x2a8;
    undefined field679_0x2a9;
    undefined field680_0x2aa;
    undefined field681_0x2ab;
    undefined field682_0x2ac;
    undefined field683_0x2ad;
    undefined field684_0x2ae;
    undefined field685_0x2af;
    undefined field686_0x2b0;
    undefined field687_0x2b1;
    undefined field688_0x2b2;
    undefined field689_0x2b3;
    undefined field690_0x2b4;
    undefined field691_0x2b5;
    undefined field692_0x2b6;
    undefined field693_0x2b7;
    undefined field694_0x2b8;
    undefined field695_0x2b9;
    undefined field696_0x2ba;
    undefined field697_0x2bb;
    undefined field698_0x2bc;
    undefined field699_0x2bd;
    undefined field700_0x2be;
    undefined field701_0x2bf;
    undefined field702_0x2c0;
    undefined field703_0x2c1;
    undefined field704_0x2c2;
    undefined field705_0x2c3;
    undefined field706_0x2c4;
    undefined field707_0x2c5;
    undefined field708_0x2c6;
    undefined field709_0x2c7;
    undefined field710_0x2c8;
    undefined field711_0x2c9;
    undefined field712_0x2ca;
    undefined field713_0x2cb;
    undefined field714_0x2cc;
    undefined field715_0x2cd;
    undefined field716_0x2ce;
    undefined field717_0x2cf;
    undefined field718_0x2d0;
    undefined field719_0x2d1;
    undefined field720_0x2d2;
    undefined field721_0x2d3;
    undefined field722_0x2d4;
    undefined field723_0x2d5;
    undefined field724_0x2d6;
    undefined field725_0x2d7;
    undefined field726_0x2d8;
    undefined field727_0x2d9;
    undefined field728_0x2da;
    undefined field729_0x2db;
    undefined field730_0x2dc;
    undefined field731_0x2dd;
    undefined field732_0x2de;
    undefined field733_0x2df;
    undefined field734_0x2e0;
    undefined field735_0x2e1;
    undefined field736_0x2e2;
    undefined field737_0x2e3;
    undefined field738_0x2e4;
    undefined field739_0x2e5;
    undefined field740_0x2e6;
    undefined field741_0x2e7;
    undefined field742_0x2e8;
    undefined field743_0x2e9;
    undefined field744_0x2ea;
    undefined field745_0x2eb;
    undefined field746_0x2ec;
    undefined field747_0x2ed;
    undefined field748_0x2ee;
    undefined field749_0x2ef;
    undefined field750_0x2f0;
    undefined field751_0x2f1;
    undefined field752_0x2f2;
    undefined field753_0x2f3;
    undefined field754_0x2f4;
    undefined field755_0x2f5;
    undefined field756_0x2f6;
    undefined field757_0x2f7;
    undefined field758_0x2f8;
    undefined field759_0x2f9;
    undefined field760_0x2fa;
    undefined field761_0x2fb;
    undefined field762_0x2fc;
    undefined field763_0x2fd;
    undefined field764_0x2fe;
    undefined field765_0x2ff;
    undefined field766_0x300;
    undefined field767_0x301;
    undefined field768_0x302;
    undefined field769_0x303;
    undefined field770_0x304;
    undefined field771_0x305;
    undefined field772_0x306;
    undefined field773_0x307;
    undefined field774_0x308;
    undefined field775_0x309;
    undefined field776_0x30a;
    undefined field777_0x30b;
    undefined field778_0x30c;
    undefined field779_0x30d;
    undefined field780_0x30e;
    undefined field781_0x30f;
    undefined field782_0x310;
    undefined field783_0x311;
    undefined field784_0x312;
    undefined field785_0x313;
    undefined field786_0x314;
    undefined field787_0x315;
    undefined field788_0x316;
    undefined field789_0x317;
    undefined field790_0x318;
    undefined field791_0x319;
    undefined field792_0x31a;
    undefined field793_0x31b;
    undefined field794_0x31c;
    undefined field795_0x31d;
    undefined field796_0x31e;
    undefined field797_0x31f;
    undefined field798_0x320;
    undefined field799_0x321;
    undefined field800_0x322;
    undefined field801_0x323;
    undefined field802_0x324;
    undefined field803_0x325;
    undefined field804_0x326;
    undefined field805_0x327;
    undefined field806_0x328;
    undefined field807_0x329;
    undefined field808_0x32a;
    undefined field809_0x32b;
    undefined field810_0x32c;
    undefined field811_0x32d;
    undefined field812_0x32e;
    undefined field813_0x32f;
    undefined field814_0x330;
    undefined field815_0x331;
    undefined field816_0x332;
    undefined field817_0x333;
    undefined field818_0x334;
    undefined field819_0x335;
    undefined field820_0x336;
    undefined field821_0x337;
    undefined field822_0x338;
    undefined field823_0x339;
    undefined field824_0x33a;
    undefined field825_0x33b;
    undefined field826_0x33c;
    undefined field827_0x33d;
    undefined field828_0x33e;
    undefined field829_0x33f;
    undefined field830_0x340;
    undefined field831_0x341;
    undefined field832_0x342;
    undefined field833_0x343;
    undefined field834_0x344;
    undefined field835_0x345;
    undefined field836_0x346;
    undefined field837_0x347;
    undefined field838_0x348;
    undefined field839_0x349;
    undefined field840_0x34a;
    undefined field841_0x34b;
    undefined field842_0x34c;
    undefined field843_0x34d;
    undefined field844_0x34e;
    undefined field845_0x34f;
    undefined field846_0x350;
    undefined field847_0x351;
    undefined field848_0x352;
    undefined field849_0x353;
    undefined field850_0x354;
    undefined field851_0x355;
    undefined field852_0x356;
    undefined field853_0x357;
    undefined field854_0x358;
    undefined field855_0x359;
    undefined field856_0x35a;
    undefined field857_0x35b;
    undefined field858_0x35c;
    undefined field859_0x35d;
    undefined field860_0x35e;
    undefined field861_0x35f;
    undefined field862_0x360;
    undefined field863_0x361;
    undefined field864_0x362;
    undefined field865_0x363;
    undefined field866_0x364;
    undefined field867_0x365;
    undefined field868_0x366;
    undefined field869_0x367;
    undefined field870_0x368;
    undefined field871_0x369;
    undefined field872_0x36a;
    undefined field873_0x36b;
    undefined field874_0x36c;
    undefined field875_0x36d;
    undefined field876_0x36e;
    undefined field877_0x36f;
    undefined field878_0x370;
    undefined field879_0x371;
    undefined field880_0x372;
    undefined field881_0x373;
    undefined field882_0x374;
    undefined field883_0x375;
    undefined field884_0x376;
    undefined field885_0x377;
    undefined field886_0x378;
    undefined field887_0x379;
    undefined field888_0x37a;
    undefined field889_0x37b;
    undefined field890_0x37c;
    undefined field891_0x37d;
    undefined field892_0x37e;
    undefined field893_0x37f;
    undefined field894_0x380;
    undefined field895_0x381;
    undefined field896_0x382;
    undefined field897_0x383;
    undefined field898_0x384;
    undefined field899_0x385;
    undefined field900_0x386;
    undefined field901_0x387;
    undefined field902_0x388;
    undefined field903_0x389;
    undefined field904_0x38a;
    undefined field905_0x38b;
    undefined field906_0x38c;
    undefined field907_0x38d;
    undefined field908_0x38e;
    undefined field909_0x38f;
    undefined field910_0x390;
    undefined field911_0x391;
    undefined field912_0x392;
    undefined field913_0x393;
    undefined field914_0x394;
    undefined field915_0x395;
    undefined field916_0x396;
    undefined field917_0x397;
    undefined field918_0x398;
    undefined field919_0x399;
    undefined field920_0x39a;
    undefined field921_0x39b;
    undefined field922_0x39c;
    undefined field923_0x39d;
    undefined field924_0x39e;
    undefined field925_0x39f;
    undefined field926_0x3a0;
    undefined field927_0x3a1;
    undefined field928_0x3a2;
    undefined field929_0x3a3;
    undefined field930_0x3a4;
    undefined field931_0x3a5;
    undefined field932_0x3a6;
    undefined field933_0x3a7;
    undefined field934_0x3a8;
    undefined field935_0x3a9;
    undefined field936_0x3aa;
    undefined field937_0x3ab;
    undefined field938_0x3ac;
    undefined field939_0x3ad;
    undefined field940_0x3ae;
    undefined field941_0x3af;
    undefined field942_0x3b0;
    undefined field943_0x3b1;
    undefined field944_0x3b2;
    undefined field945_0x3b3;
    undefined field946_0x3b4;
    undefined field947_0x3b5;
    undefined field948_0x3b6;
    undefined field949_0x3b7;
    undefined field950_0x3b8;
    undefined field951_0x3b9;
    undefined field952_0x3ba;
    undefined field953_0x3bb;
    undefined field954_0x3bc;
    undefined field955_0x3bd;
    undefined field956_0x3be;
    undefined field957_0x3bf;
    undefined field958_0x3c0;
    undefined field959_0x3c1;
    undefined field960_0x3c2;
    undefined field961_0x3c3;
    undefined field962_0x3c4;
    undefined field963_0x3c5;
    undefined field964_0x3c6;
    undefined field965_0x3c7;
    undefined field966_0x3c8;
    undefined field967_0x3c9;
    undefined field968_0x3ca;
    undefined field969_0x3cb;
    undefined field970_0x3cc;
    undefined field971_0x3cd;
    undefined field972_0x3ce;
    undefined field973_0x3cf;
    undefined field974_0x3d0;
    undefined field975_0x3d1;
    undefined field976_0x3d2;
    undefined field977_0x3d3;
    undefined field978_0x3d4;
    undefined field979_0x3d5;
    undefined field980_0x3d6;
    undefined field981_0x3d7;
    undefined field982_0x3d8;
    undefined field983_0x3d9;
    undefined field984_0x3da;
    undefined field985_0x3db;
    undefined field986_0x3dc;
    undefined field987_0x3dd;
    undefined field988_0x3de;
    undefined field989_0x3df;
    undefined field990_0x3e0;
    undefined field991_0x3e1;
    undefined field992_0x3e2;
    undefined field993_0x3e3;
    undefined field994_0x3e4;
    undefined field995_0x3e5;
    undefined field996_0x3e6;
    undefined field997_0x3e7;
    undefined field998_0x3e8;
    undefined field999_0x3e9;
    undefined field1000_0x3ea;
    undefined field1001_0x3eb;
    undefined field1002_0x3ec;
    undefined field1003_0x3ed;
    undefined field1004_0x3ee;
    undefined field1005_0x3ef;
    undefined field1006_0x3f0;
    undefined field1007_0x3f1;
    undefined field1008_0x3f2;
    undefined field1009_0x3f3;
    undefined field1010_0x3f4;
    undefined field1011_0x3f5;
    undefined field1012_0x3f6;
    undefined field1013_0x3f7;
    undefined field1014_0x3f8;
    undefined field1015_0x3f9;
    undefined field1016_0x3fa;
    undefined field1017_0x3fb;
    undefined field1018_0x3fc;
    undefined field1019_0x3fd;
    undefined field1020_0x3fe;
    undefined field1021_0x3ff;
};

typedef struct astruct_15 astruct_15, *Pastruct_15;

struct astruct_15 {
    undefined field0_0x0;
    undefined field1_0x1;
    undefined field2_0x2;
    undefined field3_0x3;
    undefined field4_0x4;
    undefined field5_0x5;
    undefined field6_0x6;
    undefined field7_0x7;
    undefined field8_0x8;
    undefined field9_0x9;
    undefined field10_0xa;
    undefined field11_0xb;
    undefined field12_0xc;
    undefined field13_0xd;
    undefined field14_0xe;
    undefined field15_0xf;
    undefined field16_0x10;
    undefined field17_0x11;
    undefined field18_0x12;
    undefined field19_0x13;
    undefined field20_0x14;
    undefined field21_0x15;
    undefined field22_0x16;
    undefined field23_0x17;
    undefined field24_0x18;
    undefined field25_0x19;
    undefined field26_0x1a;
    undefined field27_0x1b;
    undefined field28_0x1c;
    undefined field29_0x1d;
    undefined field30_0x1e;
    undefined field31_0x1f;
    undefined field32_0x20;
    undefined field33_0x21;
    undefined field34_0x22;
    undefined field35_0x23;
    undefined field36_0x24;
    undefined field37_0x25;
    undefined field38_0x26;
    undefined field39_0x27;
    undefined field40_0x28;
    undefined field41_0x29;
    undefined field42_0x2a;
    undefined field43_0x2b;
    undefined field44_0x2c;
    undefined field45_0x2d;
    undefined field46_0x2e;
    undefined field47_0x2f;
    undefined field48_0x30;
    undefined field49_0x31;
    undefined field50_0x32;
    undefined field51_0x33;
    undefined field52_0x34;
    undefined field53_0x35;
    undefined field54_0x36;
    undefined field55_0x37;
    undefined field56_0x38;
    undefined field57_0x39;
    undefined field58_0x3a;
    undefined field59_0x3b;
    undefined field60_0x3c;
    undefined field61_0x3d;
    undefined field62_0x3e;
    undefined field63_0x3f;
    undefined field64_0x40;
    undefined field65_0x41;
    undefined field66_0x42;
    undefined field67_0x43;
    undefined field68_0x44;
    undefined field69_0x45;
    undefined field70_0x46;
    undefined field71_0x47;
    undefined field72_0x48;
    undefined field73_0x49;
    undefined field74_0x4a;
    undefined field75_0x4b;
    undefined field76_0x4c;
    undefined field77_0x4d;
    undefined field78_0x4e;
    undefined field79_0x4f;
    undefined field80_0x50;
    undefined field81_0x51;
    undefined field82_0x52;
    undefined field83_0x53;
    undefined field84_0x54;
    undefined field85_0x55;
    undefined field86_0x56;
    undefined field87_0x57;
    undefined field88_0x58;
    undefined field89_0x59;
    undefined field90_0x5a;
    undefined field91_0x5b;
    undefined field92_0x5c;
    undefined field93_0x5d;
    undefined field94_0x5e;
    undefined field95_0x5f;
    undefined field96_0x60;
    undefined field97_0x61;
    undefined field98_0x62;
    undefined field99_0x63;
    undefined field100_0x64;
    undefined field101_0x65;
    undefined field102_0x66;
    undefined field103_0x67;
    undefined field104_0x68;
    undefined field105_0x69;
    undefined field106_0x6a;
    undefined field107_0x6b;
    undefined field108_0x6c;
    undefined field109_0x6d;
    undefined field110_0x6e;
    undefined field111_0x6f;
    undefined field112_0x70;
    undefined field113_0x71;
    undefined field114_0x72;
    undefined field115_0x73;
    undefined field116_0x74;
    undefined field117_0x75;
    undefined field118_0x76;
    undefined field119_0x77;
    undefined field120_0x78;
    undefined field121_0x79;
    undefined field122_0x7a;
    undefined field123_0x7b;
    undefined field124_0x7c;
    undefined field125_0x7d;
    undefined field126_0x7e;
    undefined field127_0x7f;
    undefined field128_0x80;
    undefined field129_0x81;
    undefined field130_0x82;
    undefined field131_0x83;
    undefined field132_0x84;
    undefined field133_0x85;
    undefined field134_0x86;
    undefined field135_0x87;
    undefined field136_0x88;
    undefined field137_0x89;
    undefined field138_0x8a;
    undefined field139_0x8b;
    undefined field140_0x8c;
    undefined field141_0x8d;
    undefined field142_0x8e;
    undefined field143_0x8f;
    undefined field144_0x90;
    undefined field145_0x91;
    undefined field146_0x92;
    undefined field147_0x93;
    undefined field148_0x94;
    undefined field149_0x95;
    undefined field150_0x96;
    undefined field151_0x97;
    undefined field152_0x98;
    undefined field153_0x99;
    undefined field154_0x9a;
    undefined field155_0x9b;
    undefined field156_0x9c;
    undefined field157_0x9d;
    undefined field158_0x9e;
    undefined field159_0x9f;
    undefined field160_0xa0;
    undefined field161_0xa1;
    undefined field162_0xa2;
    undefined field163_0xa3;
    undefined field164_0xa4;
    undefined field165_0xa5;
    undefined field166_0xa6;
    undefined field167_0xa7;
    undefined field168_0xa8;
    undefined field169_0xa9;
    undefined field170_0xaa;
    undefined field171_0xab;
    undefined field172_0xac;
    undefined field173_0xad;
    undefined field174_0xae;
    undefined field175_0xaf;
    undefined field176_0xb0;
    undefined field177_0xb1;
    undefined field178_0xb2;
    undefined field179_0xb3;
    undefined field180_0xb4;
    undefined field181_0xb5;
    undefined field182_0xb6;
    undefined field183_0xb7;
    undefined field184_0xb8;
    undefined field185_0xb9;
    undefined field186_0xba;
    undefined field187_0xbb;
    undefined field188_0xbc;
    undefined field189_0xbd;
    undefined field190_0xbe;
    undefined field191_0xbf;
    undefined field192_0xc0;
    undefined field193_0xc1;
    undefined field194_0xc2;
    undefined field195_0xc3;
    undefined field196_0xc4;
    undefined field197_0xc5;
    undefined field198_0xc6;
    undefined field199_0xc7;
    undefined field200_0xc8;
    undefined field201_0xc9;
    undefined field202_0xca;
    undefined field203_0xcb;
    undefined field204_0xcc;
    undefined field205_0xcd;
    undefined field206_0xce;
    undefined field207_0xcf;
    undefined field208_0xd0;
    undefined field209_0xd1;
    undefined field210_0xd2;
    undefined field211_0xd3;
    undefined field212_0xd4;
    undefined field213_0xd5;
    undefined field214_0xd6;
    undefined field215_0xd7;
    undefined field216_0xd8;
    undefined field217_0xd9;
    undefined field218_0xda;
    undefined field219_0xdb;
    undefined field220_0xdc;
    undefined field221_0xdd;
    undefined field222_0xde;
    undefined field223_0xdf;
    undefined field224_0xe0;
    undefined field225_0xe1;
    undefined field226_0xe2;
    undefined field227_0xe3;
    undefined field228_0xe4;
    undefined field229_0xe5;
    undefined field230_0xe6;
    undefined field231_0xe7;
    undefined field232_0xe8;
    undefined field233_0xe9;
    undefined field234_0xea;
    undefined field235_0xeb;
    undefined field236_0xec;
    undefined field237_0xed;
    undefined field238_0xee;
    undefined field239_0xef;
    undefined field240_0xf0;
    undefined field241_0xf1;
    undefined field242_0xf2;
    undefined field243_0xf3;
    undefined field244_0xf4;
    undefined field245_0xf5;
    undefined field246_0xf6;
    undefined field247_0xf7;
    undefined field248_0xf8;
    undefined field249_0xf9;
    undefined field250_0xfa;
    undefined field251_0xfb;
    undefined field252_0xfc;
    undefined field253_0xfd;
    undefined field254_0xfe;
    undefined field255_0xff;
    undefined field256_0x100;
    undefined field257_0x101;
    undefined field258_0x102;
    undefined field259_0x103;
    ushort field260_0x104;
    undefined field261_0x106;
    undefined field262_0x107;
    int field263_0x108;
    undefined field264_0x10c;
    undefined field265_0x10d;
    undefined field266_0x10e;
    undefined field267_0x10f;
    int tile_ptr;
    byte tile_count;
};

typedef struct astruct_13 astruct_13, *Pastruct_13;

struct astruct_13 {
    undefined field0_0x0;
    undefined field1_0x1;
    undefined field2_0x2;
    undefined field3_0x3;
    undefined field4_0x4;
    undefined field5_0x5;
    undefined field6_0x6;
    undefined field7_0x7;
    undefined field8_0x8;
    undefined field9_0x9;
    undefined field10_0xa;
    undefined field11_0xb;
    undefined field12_0xc;
    undefined field13_0xd;
    undefined field14_0xe;
    undefined field15_0xf;
    undefined field16_0x10;
    undefined field17_0x11;
    undefined field18_0x12;
    undefined field19_0x13;
    undefined field20_0x14;
    undefined field21_0x15;
    undefined field22_0x16;
    undefined field23_0x17;
    undefined field24_0x18;
    undefined field25_0x19;
    undefined field26_0x1a;
    undefined field27_0x1b;
    undefined field28_0x1c;
    undefined field29_0x1d;
    undefined field30_0x1e;
    undefined field31_0x1f;
    undefined field32_0x20;
    undefined field33_0x21;
    undefined field34_0x22;
    undefined field35_0x23;
    undefined field36_0x24;
    undefined field37_0x25;
    undefined field38_0x26;
    undefined field39_0x27;
    undefined field40_0x28;
    undefined field41_0x29;
    undefined field42_0x2a;
    undefined field43_0x2b;
    undefined field44_0x2c;
    undefined field45_0x2d;
    undefined field46_0x2e;
    undefined field47_0x2f;
    undefined field48_0x30;
    undefined field49_0x31;
    undefined field50_0x32;
    undefined field51_0x33;
    undefined field52_0x34;
    undefined field53_0x35;
    undefined field54_0x36;
    undefined field55_0x37;
    undefined field56_0x38;
    undefined field57_0x39;
    undefined field58_0x3a;
    undefined field59_0x3b;
    undefined field60_0x3c;
    undefined field61_0x3d;
    undefined field62_0x3e;
    undefined field63_0x3f;
    undefined field64_0x40;
    undefined field65_0x41;
    undefined field66_0x42;
    undefined field67_0x43;
    undefined field68_0x44;
    undefined field69_0x45;
    undefined field70_0x46;
    undefined field71_0x47;
    undefined field72_0x48;
    undefined field73_0x49;
    undefined field74_0x4a;
    undefined field75_0x4b;
    undefined field76_0x4c;
    undefined field77_0x4d;
    undefined field78_0x4e;
    undefined field79_0x4f;
    undefined field80_0x50;
    undefined field81_0x51;
    undefined field82_0x52;
    undefined field83_0x53;
    undefined field84_0x54;
    undefined field85_0x55;
    undefined field86_0x56;
    undefined field87_0x57;
    undefined field88_0x58;
    undefined field89_0x59;
    undefined field90_0x5a;
    undefined field91_0x5b;
    uint blb_header_ptr;
    byte bytes_to_add_to_ptr;
};




// WARNING: Instruction at (ram,0x8001004c) overlaps instruction at (ram,0x80010048)
// 

void FUN_80010000(undefined4 *param_1,int param_2,undefined param_3)

{
  undefined4 uVar1;
  
  uVar1 = CONCAT22(CONCAT11(param_3,param_3),CONCAT11(param_3,param_3));
  for (param_2 = param_2 + -0x10; -1 < param_2; param_2 = param_2 + -0x10) {
    *param_1 = uVar1;
    param_1[1] = uVar1;
    param_1[2] = uVar1;
    param_1[3] = uVar1;
    param_1 = param_1 + 4;
  }
  param_2 = param_2 + 0x10;
  *(undefined *)param_1 = param_3;
  if (param_2 != 0) {
    while( true ) {
      param_1 = (undefined4 *)((int)param_1 + 1);
      param_2 = param_2 + -1;
      if (param_2 == 0) break;
      *(undefined *)param_1 = param_3;
    }
  }
  return;
}



undefined4 FUN_80010068(undefined4 param_1,int *param_2,short param_3)

{
  undefined *puVar1;
  undefined uVar2;
  undefined uVar3;
  undefined uVar4;
  undefined uVar5;
  undefined uVar6;
  undefined uVar7;
  undefined uVar8;
  undefined uVar9;
  ushort uVar10;
  int iVar11;
  undefined *puVar12;
  undefined *puVar13;
  undefined *puVar14;
  uint uVar15;
  int iVar16;
  ushort *puVar17;
  int iVar18;
  undefined4 unaff_s0;
  undefined4 unaff_s1;
  undefined4 unaff_s2;
  undefined4 unaff_s3;
  
  iVar16 = *param_2;
  puVar17 = (ushort *)param_2[3];
  puVar12 = (undefined *)param_2[4];
  puVar13 = (undefined *)param_2[2];
  iVar18 = param_2[1];
  puVar14 = puVar13;
  DAT_1f800004 = unaff_s0;
  DAT_1f800008 = unaff_s1;
  DAT_1f80000c = unaff_s2;
  DAT_1f800010 = unaff_s3;
  if (*(short *)(param_2 + 5) == 0) {
    for (; iVar16 != 0; iVar16 = iVar16 + -1) {
      uVar10 = *puVar17;
      uVar15 = uVar10 & 0xff;
      if ((uVar10 & 0x8000) != 0) {
        param_3 = param_3 + -1;
        if (param_3 == -1) goto LAB_800102e4;
        puVar13 = puVar14 + iVar18;
        puVar14 = puVar13;
      }
      puVar13 = puVar13 + ((uVar10 & 0x7f00) >> 8);
      if ((uVar15 - 1 & 0xffff) != 0xffff) {
        for (iVar11 = uVar15 - 9; -1 < iVar11; iVar11 = iVar11 + -8) {
          uVar2 = *puVar12;
          uVar3 = puVar12[1];
          uVar4 = puVar12[2];
          uVar5 = puVar12[3];
          uVar6 = puVar12[4];
          uVar7 = puVar12[5];
          uVar8 = puVar12[6];
          uVar9 = puVar12[7];
          puVar12 = puVar12 + 8;
          *puVar13 = uVar2;
          puVar13[1] = uVar3;
          puVar13[2] = uVar4;
          puVar13[3] = uVar5;
          puVar13[4] = uVar6;
          puVar13[5] = uVar7;
          puVar13[6] = uVar8;
          puVar13[7] = uVar9;
          puVar13 = puVar13 + 8;
        }
        for (iVar11 = iVar11 + 4; -1 < iVar11; iVar11 = iVar11 + -4) {
          uVar2 = *puVar12;
          uVar3 = puVar12[1];
          uVar4 = puVar12[2];
          uVar5 = puVar12[3];
          puVar12 = puVar12 + 4;
          *puVar13 = uVar2;
          puVar13[1] = uVar3;
          puVar13[2] = uVar4;
          puVar13[3] = uVar5;
          puVar13 = puVar13 + 4;
        }
        iVar11 = iVar11 + 4;
        do {
          uVar2 = *puVar12;
          puVar12 = puVar12 + 1;
          iVar11 = iVar11 + -1;
          *puVar13 = uVar2;
          puVar13 = puVar13 + 1;
        } while (-1 < iVar11);
      }
      puVar17 = puVar17 + 1;
    }
  }
  else {
    for (; iVar16 != 0; iVar16 = iVar16 + -1) {
      uVar10 = *puVar17;
      uVar15 = uVar10 & 0xff;
      if ((uVar10 & 0x8000) != 0) {
        param_3 = param_3 + -1;
        if (param_3 == -1) {
LAB_800102e4:
          if (iVar16 != 0) {
            *param_2 = iVar16;
            param_2[3] = (int)puVar17;
            param_2[4] = (int)puVar12;
            param_2[2] = (int)puVar14;
            return 0;
          }
          return 1;
        }
        puVar13 = puVar14 + iVar18;
        puVar14 = puVar13;
      }
      puVar13 = puVar13 + -((uVar10 & 0x7f00) >> 8);
      if ((uVar15 - 1 & 0xffff) != 0xffff) {
        for (iVar11 = uVar15 - 9; -1 < iVar11; iVar11 = iVar11 + -8) {
          uVar2 = *puVar12;
          uVar3 = puVar12[1];
          uVar4 = puVar12[2];
          uVar5 = puVar12[3];
          uVar6 = puVar12[4];
          uVar7 = puVar12[5];
          uVar8 = puVar12[6];
          puVar1 = puVar12 + 7;
          puVar12 = puVar12 + 8;
          puVar13[-7] = *puVar1;
          puVar13[-6] = uVar8;
          puVar13[-5] = uVar7;
          puVar13[-4] = uVar6;
          puVar13[-3] = uVar5;
          puVar13[-2] = uVar4;
          puVar13[-1] = uVar3;
          *puVar13 = uVar2;
          puVar13 = puVar13 + -8;
        }
        for (iVar11 = iVar11 + 4; -1 < iVar11; iVar11 = iVar11 + -4) {
          uVar2 = *puVar12;
          uVar3 = puVar12[1];
          uVar4 = puVar12[2];
          puVar1 = puVar12 + 3;
          puVar12 = puVar12 + 4;
          puVar13[-3] = *puVar1;
          puVar13[-2] = uVar4;
          puVar13[-1] = uVar3;
          *puVar13 = uVar2;
          puVar13 = puVar13 + -4;
        }
        iVar11 = iVar11 + 4;
        do {
          uVar2 = *puVar12;
          puVar12 = puVar12 + 1;
          iVar11 = iVar11 + -1;
          *puVar13 = uVar2;
          puVar13 = puVar13 + -1;
        } while (-1 < iVar11);
      }
      puVar17 = puVar17 + 1;
    }
  }
  return 1;
}



undefined vsync_callback_func(void)

{
  return VSYNC_CALLBACK_RETURN_VALUE;
}



// WARNING: Unknown calling convention -- yet parameter storage is locked
// Possible S_I.OBJ/SpuInit

void SsUtReverbOff(void)

{
  FUN_800889b4(0);
  return;
}



void setup_graphics(graphics *gfx)

{
  int vsync_callback;
  uint uVar1;
  u_long *ot;
  short sVar1;
  short sVar2;
  
  vsync_callback = vsync_callback_func();
  uVar1 = vsync_callback + 0xfU & 0xfffffff0;
  gfx[0x162].display_env.disp.x = (short)uVar1;
  gfx[0x162].display_env.disp.y = (short)(uVar1 >> 0x10);
  ResetGraph(0);
  SetGraphDebug(0);
  VSyncCallback((f *)0x800131fc);
  gfx->width = 320;
  gfx->height = 240;
  SetDefDrawEnv(&gfx->draw_env,0,0,(int)gfx->width,uVar3);
  SetDefDrawEnv((DRAWENV *)&gfx[0xab].draw_env.isbg,0,256,(int)gfx->width,(int)gfx->height);
  SetDefDispEnv(&gfx->display_env,0,256,(int)gfx->width,(int)gfx->height);
  SetDefDispEnv((DISPENV *)(gfx + 0xac),0,0,(int)gfx->width,(int)gfx->height);
  ot = gfx->field4_0x74;
  sVar1 = gfx->height;
  sVar2 = gfx->height;
  (gfx->display_env).screen.x = 0;
  gfx[0xac].draw_env.clip.w = 0;
  (gfx->display_env).screen.y = 0;
  gfx[0xac].draw_env.clip.h = 0;
  (gfx->display_env).screen.w = 0;
  gfx[0xac].draw_env.ofs[0] = 0;
  (gfx->draw_env).isbg = uVar6;
  (gfx->draw_env).r0 = red;
  (gfx->draw_env).g0 = green;
  (gfx->draw_env).b0 = blue;
  *(undefined *)(gfx[0xab].draw_env.dr_env.code + 4) = 1;
  *(undefined *)((int)gfx[0xab].draw_env.dr_env.code + 0x11) = 0;
  *(undefined *)((int)gfx[0xab].draw_env.dr_env.code + 0x12) = 0;
  *(undefined *)((int)gfx[0xab].draw_env.dr_env.code + 0x13) = 0;
  *(undefined *)(gfx[0x156].draw_env.dr_env.code + 5) = 0;
  gfx[0x156].draw_env.dr_env.code[4] = (u_long)&gfx->draw_env;
  (gfx->display_env).screen.h = sVar1;
  gfx[0xac].draw_env.ofs[1] = sVar2;
  ClearOTag(ot,1);
  *(undefined2 *)(gfx[0x156].draw_env.dr_env.code[4] + 0x1014) = 0;
  *(undefined2 *)(gfx[0x156].draw_env.dr_env.code[4] + 0x1658) = 0;
  *(undefined2 *)(gfx[0x156].draw_env.dr_env.code[4] + 0x25fc) = 0;
  *(undefined2 *)(gfx[0x156].draw_env.dr_env.code[4] + 0x2dd0) = 0;
  *(undefined2 *)(gfx[0x156].draw_env.dr_env.code[4] + 0x3734) = 0;
  *(undefined2 *)(gfx[0x156].draw_env.dr_env.code[4] + 0x4228) = 0;
  *(undefined2 *)(gfx[0x156].draw_env.dr_env.code[4] + 0x503c) = 0;
  *(undefined2 *)((int)gfx[0x156].draw_env.dr_env.code + 0x16) = 0;
  *(undefined *)((int)&gfx[0x15a].display_env.screen.w + 1) = 0x10;
  FUN_80013b18(gfx,0,1);
  gfx[0x15b].display_env.disp.x = 0;
  gfx[0x15b].display_env.disp.y = 0;
  draw_video(gfx);
  draw_video(gfx);
  return;
}



void setup_ordering_tables(int ordering_tables)

{
                    // disables vsync callback
  VSYNC_CALLBACK_RETURN_VALUE = 0;
  WAITING_FOR_VSYNC = true;
  ClearOTag(*(u_long **)(ordering_tables + 0x74),1);
  ClearOTag(*(u_long **)(ordering_tables + 0x50b4),1);
  return;
}



void draw_print_stream(void)

{
  FntFlush(-1);
  VSYNC_CALLBACK_RETURN_VALUE = 1;
  WAITING_FOR_VSYNC = false;
  return;
}



void vsync_if_required(void)

{
  if (!WAITING_FOR_VSYNC) {
    VSync(0);
  }
  return;
}



void draw_video(graphics *gfx)

{
  int iVar1;
  u_long uVar2;
  uint uVar3;
  
  WAITING_FOR_VSYNC = true;
  iVar1 = VSync(-1);
  PutDispEnv((DISPENV *)(gfx[0x156].draw_env.dr_env.code[4] + 0x5c));
  PutDrawEnv((DRAWENV *)gfx[0x156].draw_env.dr_env.code[4]);
  DrawOTag(*(u_long **)(gfx[0x156].draw_env.dr_env.code[4] + 0x70));
  uVar3 = *(byte *)(gfx[0x156].draw_env.dr_env.code + 5) + 1 & 1;
  uVar2 = (int)gfx + uVar3 * 0x5040 + 4;
  *(char *)(gfx[0x156].draw_env.dr_env.code + 5) = (char)uVar3;
  gfx[0x156].draw_env.dr_env.code[4] = uVar2;
  ClearOTag(*(u_long **)(uVar2 + 0x70),1);
  *(undefined2 *)(gfx[0x156].draw_env.dr_env.code[4] + 0x1014) = 0;
  *(undefined2 *)(gfx[0x156].draw_env.dr_env.code[4] + 0x1658) = 0;
  *(undefined2 *)(gfx[0x156].draw_env.dr_env.code[4] + 0x25fc) = 0;
  *(undefined2 *)(gfx[0x156].draw_env.dr_env.code[4] + 0x2dd0) = 0;
  *(undefined2 *)(gfx[0x156].draw_env.dr_env.code[4] + 0x3734) = 0;
  *(undefined2 *)(gfx[0x156].draw_env.dr_env.code[4] + 0x4228) = 0;
  *(undefined2 *)(gfx[0x156].draw_env.dr_env.code[4] + 0x503c) = 0;
  gfx[0x15b].display_env.disp.x = (short)iVar1;
  gfx[0x15b].display_env.disp.y = (short)((uint)iVar1 >> 0x10);
  return;
}



undefined4 FUN_800138ec(short *param_1,short *param_2,char param_3,short param_4,short param_5)

{
  char cVar1;
  ushort uVar2;
  uint uVar3;
  int iVar4;
  uint uVar5;
  uint uVar6;
  uint uVar7;
  short local_28;
  short local_26;
  
  if (param_3 == '\0') {
    uVar2 = (short)(param_4 + 1 >> 2) + 1;
  }
  else if (param_3 == '\x01') {
    uVar2 = (short)(param_4 + 1 >> 1) + 1;
  }
  else {
    uVar2 = param_4 + 1;
  }
  param_2[2] = uVar2 & 0xfffe;
  iVar4 = param_2[2] * 2 + 0xf;
  param_2[3] = param_5;
  if (iVar4 < 0) {
    iVar4 = param_2[2] * 2 + 0x1e;
  }
  uVar3 = (int)param_5 + 0xf;
  if ((int)uVar3 < 0) {
    uVar3 = (int)param_5 + 0x1e;
  }
  uVar6 = iVar4 >> 4 & 0xff;
  uVar5 = uVar3 >> 4 & 0xff;
  cVar1 = FUN_80014a98(param_1,&local_28,uVar6,uVar5);
  if ((cVar1 == '\0') &&
     (cVar1 = FUN_80014cf4(param_1,&local_28,uVar6,uVar5,param_3), cVar1 == '\0')) {
    uVar5 = FUN_800150c0(param_1);
    uVar7 = (iVar4 >> 4) + 1;
    uVar6 = uVar7 & 0xff;
    cVar1 = '\0';
    if (uVar6 <= (uVar5 & 0xff)) {
      do {
        cVar1 = FUN_80014a98(param_1,&local_28,uVar6,uVar3 >> 4 & 0xff);
        uVar7 = uVar7 + 1;
        uVar6 = uVar7 & 0xff;
        if ((uVar5 & 0xff) < uVar6) break;
      } while (cVar1 == '\0');
    }
    if (cVar1 == '\0') {
      return 0;
    }
  }
  *param_2 = *param_1 + local_28 * 8;
  param_2[1] = local_26 * 0x10 + 0x100;
  return 1;
}



void FUN_80013aac(short *param_1,undefined4 param_2,undefined4 param_3)

{
  uint uVar1;
  uint uVar2;
  uint uVar3;
  short local_res4;
  short sStackX_6;
  short sStackX_a;
  
  sStackX_a = (short)((uint)param_3 >> 0x10);
  uVar2 = (int)sStackX_a + 0xf;
  if ((int)uVar2 < 0) {
    uVar2 = (int)sStackX_a + 0x1e;
  }
  local_res4 = (short)param_2;
  uVar1 = (int)local_res4 - (int)*param_1 >> 3;
  sStackX_6 = (short)((uint)param_2 >> 0x10);
  uVar3 = uVar1 & 0xffff;
  FUN_80015130(param_1,uVar3 | (sStackX_6 + -0x100 >> 4) << 0x10,uVar2 >> 4 & 0xff,uVar3,
               (short)uVar1);
  return;
}



void FUN_80013b18(graphics *gfx,ushort param_2,byte param_3)

{
  u_char *puVar1;
  uint uVar2;
  uint uVar3;
  uint uVar4;
  uint *puVar5;
  uint uVar6;
  int iVar7;
  RECT *pRVar8;
  byte bVar9;
  byte bVar10;
  uint uVar11;
  short sVar12;
  short sVar13;
  ushort uVar14;
  
  uVar11 = 0;
  sVar12 = 0xf0;
  sVar13 = (param_2 & 0xff) + (ushort)param_3;
  *(short *)(gfx[0x15b].draw_env.dr_env.code + 0xd) = sVar13 * 0x20;
  *(short *)((int)gfx[0x15b].draw_env.dr_env.code + 0x36) = sVar13 * 0x10;
  *(undefined2 *)(gfx[0x15b].draw_env.dr_env.code + 0xe) = 0;
  *(undefined2 *)((int)gfx[0x15b].draw_env.dr_env.code + 0x3a) = 0;
  for (uVar14 = 0; bVar9 = 0, (uVar14 & 0xff) < (param_2 & 0xff); uVar14 = uVar14 + 1) {
    do {
      uVar6 = uVar11 & 0xff;
      pRVar8 = &((DISPENV *)(&gfx[0x15a].draw_env + 1))->screen + uVar6 + 1;
      uVar2 = (&DAT_8009ae9c)[(uint)bVar9 * 2];
      uVar3 = (&DAT_8009aea0)[(uint)bVar9 * 2];
      puVar1 = &((DISPENV *)(&gfx[0x15a].draw_env + 1))->pad1 + uVar6 * 8;
      uVar4 = (uint)puVar1 & 3;
      *(uint *)(puVar1 + -uVar4) =
           *(uint *)(puVar1 + -uVar4) & -1 << (uVar4 + 1) * 8 | uVar2 >> (3 - uVar4) * 8;
      uVar4 = (uint)pRVar8 & 3;
      puVar5 = (uint *)((int)pRVar8 - uVar4);
      *puVar5 = *puVar5 & 0xffffffffU >> (4 - uVar4) * 8 | uVar2 << uVar4 * 8;
      uVar2 = (int)((DISPENV *)(&gfx[0x15a].draw_env + 1) + 1) + uVar6 * 8 + 3;
      uVar4 = uVar2 & 3;
      puVar5 = (uint *)(uVar2 - uVar4);
      *puVar5 = *puVar5 & -1 << (uVar4 + 1) * 8 | uVar3 >> (3 - uVar4) * 8;
      uVar2 = (uint)(u_long **)((int)((DISPENV *)(&gfx[0x15a].draw_env + 1) + 1) + uVar6 * 2 * 4) &
              3;
      puVar5 = (uint *)((int)(u_long **)
                             ((int)((DISPENV *)(&gfx[0x15a].draw_env + 1) + 1) + uVar6 * 2 * 4) -
                       uVar2);
      *puVar5 = *puVar5 & 0xffffffffU >> (4 - uVar2) * 8 | uVar3 << uVar2 * 8;
      *(short *)((int)((DISPENV *)(&gfx[0x15a].draw_env + 1) + 1) + uVar6 * 8 + 2) = sVar12;
      bVar9 = bVar9 + 1;
      uVar11 = uVar11 + 1;
    } while (bVar9 < 3);
    sVar12 = sVar12 + -0x10;
  }
  sVar13 = 0x1f0;
  for (bVar9 = 0; bVar10 = 0, bVar9 < param_3; bVar9 = bVar9 + 1) {
    do {
      uVar6 = uVar11 & 0xff;
      pRVar8 = &((DISPENV *)(&gfx[0x15a].draw_env + 1))->screen + uVar6 + 1;
      uVar2 = (&DAT_8009ae9c)[(uint)bVar10 * 2];
      uVar3 = (&DAT_8009aea0)[(uint)bVar10 * 2];
      puVar1 = &((DISPENV *)(&gfx[0x15a].draw_env + 1))->pad1 + uVar6 * 8;
      uVar4 = (uint)puVar1 & 3;
      *(uint *)(puVar1 + -uVar4) =
           *(uint *)(puVar1 + -uVar4) & -1 << (uVar4 + 1) * 8 | uVar2 >> (3 - uVar4) * 8;
      uVar4 = (uint)pRVar8 & 3;
      puVar5 = (uint *)((int)pRVar8 - uVar4);
      *puVar5 = *puVar5 & 0xffffffffU >> (4 - uVar4) * 8 | uVar2 << uVar4 * 8;
      uVar2 = (int)((DISPENV *)(&gfx[0x15a].draw_env + 1) + 1) + uVar6 * 8 + 3;
      uVar4 = uVar2 & 3;
      puVar5 = (uint *)(uVar2 - uVar4);
      *puVar5 = *puVar5 & -1 << (uVar4 + 1) * 8 | uVar3 >> (3 - uVar4) * 8;
      uVar2 = (uint)(u_long **)((int)((DISPENV *)(&gfx[0x15a].draw_env + 1) + 1) + uVar6 * 2 * 4) &
              3;
      puVar5 = (uint *)((int)(u_long **)
                             ((int)((DISPENV *)(&gfx[0x15a].draw_env + 1) + 1) + uVar6 * 2 * 4) -
                       uVar2);
      *puVar5 = *puVar5 & 0xffffffffU >> (4 - uVar2) * 8 | uVar3 << uVar2 * 8;
      *(short *)((int)((DISPENV *)(&gfx[0x15a].draw_env + 1) + 1) + uVar6 * 8 + 2) = sVar13;
      bVar10 = bVar10 + 1;
      uVar11 = uVar11 + 1;
    } while (bVar10 < 3);
    sVar13 = sVar13 + -0x10;
  }
  uVar11 = uVar11 & 0xff;
  if (uVar11 < 0xc) {
    do {
      iVar7 = uVar11 << 0x10;
      uVar11 = uVar11 + 1;
      iVar7 = iVar7 >> 0xd;
      *(u_char *)((int)(&((DISPENV *)(&gfx[0x15a].draw_env + 1))->screen + 1) + iVar7) = '\0';
      *(undefined2 *)((int)(&((DISPENV *)(&gfx[0x15a].draw_env + 1))->screen + 1) + iVar7 + 2) = 0;
    } while ((int)(uVar11 * 0x10000) >> 0x10 < 0xc);
  }
  *(byte *)((int)&gfx[0x15a].display_env.screen.w + 1) = '\x10' - param_3;
  FUN_800149e4(gfx);
  return;
}



undefined4 FUN_80013d0c(int param_1,uint param_2,byte param_3)

{
  uint uVar1;
  uint uVar2;
  uint *puVar3;
  char cVar4;
  short sVar5;
  uint uVar6;
  short sVar7;
  short sVar8;
  uint uVar9;
  undefined4 uVar10;
  undefined2 *puVar11;
  byte *pbVar12;
  undefined2 local_30;
  ushort local_2e;
  
  pbVar12 = (byte *)(param_1 + 0xa2a0);
  uVar9 = param_1 + 0xa2a4;
  for (sVar7 = 0; sVar7 < 0xc; sVar7 = sVar7 + 1) {
    if ((((*pbVar12 & 2) != 0) && ((*pbVar12 & 1) == param_3)) &&
       (uVar6 = 1, *(short *)(uVar9 - 2) != -1)) {
      sVar8 = 0;
      do {
        sVar5 = sVar8 + 1;
        if ((*(ushort *)(uVar9 - 2) & uVar6) == 0) {
          uVar6 = *(ushort *)(uVar9 - 2) | uVar6;
          *(short *)(uVar9 - 2) = (short)uVar6;
          uVar1 = uVar9 + 3 & 3;
          uVar2 = uVar9 & 3;
          uVar6 = (*(int *)((uVar9 + 3) - uVar1) << (3 - uVar1) * 8 |
                  uVar6 & 0xffffffffU >> (uVar1 + 1) * 8) & -1 << (4 - uVar2) * 8 |
                  *(uint *)(uVar9 - uVar2) >> uVar2 * 8;
          uVar9 = param_2 + 3 & 3;
          puVar3 = (uint *)((param_2 + 3) - uVar9);
          *puVar3 = *puVar3 & -1 << (uVar9 + 1) * 8 | uVar6 >> (3 - uVar9) * 8;
          uVar9 = param_2 & 3;
          *(uint *)(param_2 - uVar9) =
               *(uint *)(param_2 - uVar9) & 0xffffffffU >> (4 - uVar9) * 8 | uVar6 << uVar9 * 8;
          *(short *)(param_2 + 2) = *(short *)(param_2 + 2) + sVar8;
          goto joined_r0x80013de0;
        }
        uVar6 = uVar6 << 1;
        sVar8 = sVar5;
      } while (sVar5 < 0x10);
    }
    uVar9 = uVar9 + 8;
    pbVar12 = pbVar12 + 8;
  }
  pbVar12 = (byte *)(param_1 + 0xa2a0);
  sVar7 = 0;
  puVar11 = (undefined2 *)(param_1 + 0xa2a4);
  do {
    if (0xb < sVar7) {
      return 0;
    }
    if ((*pbVar12 & 2) == 0) {
      uVar10 = 0x10;
      if (param_3 == 1) {
        uVar10 = 0x100;
      }
      cVar4 = FUN_800138ec(param_1,&local_30,2,uVar10,0x10);
      if (cVar4 != '\0') {
        *pbVar12 = param_3 | 2;
        puVar11[-1] = 1;
        *puVar11 = local_30;
        puVar11[1] = local_2e;
        uVar9 = (int)puVar11 + 3U & 3;
        uVar6 = (uint)puVar11 & 3;
        uVar6 = (*(int *)(((int)puVar11 + 3U) - uVar9) << (3 - uVar9) * 8 |
                (uint)local_2e & 0xffffffffU >> (uVar9 + 1) * 8) & -1 << (4 - uVar6) * 8 |
                *(uint *)((int)puVar11 - uVar6) >> uVar6 * 8;
        uVar9 = param_2 + 3 & 3;
        puVar3 = (uint *)((param_2 + 3) - uVar9);
        *puVar3 = *puVar3 & -1 << (uVar9 + 1) * 8 | uVar6 >> (3 - uVar9) * 8;
        uVar9 = param_2 & 3;
        *(uint *)(param_2 - uVar9) =
             *(uint *)(param_2 - uVar9) & 0xffffffffU >> (4 - uVar9) * 8 | uVar6 << uVar9 * 8;
joined_r0x80013de0:
        if (param_3 == 1) {
          *(short *)(param_1 + 0xa304) = *(short *)(param_1 + 0xa304) + 1;
        }
        else {
          *(short *)(param_1 + 0xa306) = *(short *)(param_1 + 0xa306) + 1;
        }
        return 1;
      }
    }
    puVar11 = puVar11 + 4;
    pbVar12 = pbVar12 + 8;
    sVar7 = sVar7 + 1;
  } while( true );
}



// WARNING: Removing unreachable block (ram,0x800140c0)

void FUN_80013f4c(short *param_1,short *param_2)

{
  undefined *puVar1;
  short sVar2;
  uint uVar3;
  undefined2 uVar4;
  int iVar5;
  short *psVar6;
  short sVar7;
  short *psVar8;
  uint local_30;
  uint local_2c;
  undefined local_24 [4];
  undefined auStack_20 [8];
  undefined2 local_18;
  undefined2 local_16;
  
  psVar8 = param_1 + 0x5150;
  sVar7 = 0;
  psVar6 = param_1 + 0x5153;
  do {
    if (0xb < sVar7) {
      return;
    }
    if (((*(byte *)psVar8 & 2) != 0) && (psVar6[-1] == *param_2)) {
      if ((int)*psVar6 == (int)(short)(param_2[1] & 0xfff0)) {
        uVar3 = 1 << ((int)param_2[1] - (int)*psVar6 & 0x1fU);
        if (((ushort)psVar6[-2] & uVar3) != 0) {
          if ((*(byte *)psVar8 & 1) == 0) {
            param_1[0x5183] = param_1[0x5183] + -1;
          }
          else {
            param_1[0x5182] = param_1[0x5182] + -1;
          }
        }
        uVar3 = (uint)(ushort)psVar6[-2] & ~uVar3;
        psVar6[-2] = (short)uVar3;
        if ((uVar3 == 0) && ((*(byte *)psVar8 & 4) == 0)) {
          uVar4 = 0x10;
          if ((*(byte *)psVar8 & 1) != 0) {
            uVar4 = 0x100;
          }
          sVar7 = psVar6[-1];
          sVar2 = *psVar6;
          local_2c = CONCAT22(0x10,uVar4);
          local_30 = CONCAT22(sVar2,sVar7);
          puVar1 = local_24 + 3;
          uVar3 = (uint)puVar1 & 3;
          *(uint *)(puVar1 + -uVar3) =
               *(uint *)(puVar1 + -uVar3) & -1 << (uVar3 + 1) * 8 | local_30 >> (3 - uVar3) * 8;
          local_24 = (undefined  [4])local_30;
          puVar1 = auStack_20 + 3;
          uVar3 = (uint)puVar1 & 3;
          *(uint *)(puVar1 + -uVar3) =
               *(uint *)(puVar1 + -uVar3) & -1 << (uVar3 + 1) * 8 | local_2c >> (3 - uVar3) * 8;
          auStack_20._0_4_ = local_2c;
          uVar3 = (int)sVar7 - (int)*param_1 >> 3;
          iVar5 = sVar2 + -0x100 >> 4;
          local_16 = (undefined2)iVar5;
          local_18 = (undefined2)uVar3;
          FUN_80015130(param_1,uVar3 & 0xffff | iVar5 << 0x10,1);
          *(byte *)psVar8 = 0;
          return;
        }
      }
    }
    psVar6 = psVar6 + 4;
    psVar8 = psVar8 + 4;
    sVar7 = sVar7 + 1;
  } while( true );
}



int FUN_80014274(short *param_1,short *param_2,char param_3)

{
  short sVar1;
  bool bVar2;
  uint uVar3;
  short sVar4;
  uint uVar5;
  ushort uVar6;
  uint uVar7;
  
  sVar1 = param_1[0x5045];
  uVar3 = (int)sVar1 / 0xb0;
  uVar7 = (int)sVar1 % 0xb0;
  uVar6 = (ushort)uVar7;
  if (param_3 == '\x01') {
    bVar2 = (uVar7 & 0xff) < 0xaf;
  }
  else {
    uVar5 = uVar3 & 0xff;
    if (param_3 != '\x02') goto LAB_8001431c;
    bVar2 = (uVar7 & 0xff) < 0xad;
  }
  uVar5 = uVar3 & 0xff;
  if (!bVar2) {
    param_1[0x5045] = sVar1 - ((uVar6 & 0xff) - 0xb0);
    uVar6 = 0;
    uVar5 = uVar3 + 1 & 0xff;
  }
LAB_8001431c:
  sVar4 = *param_1;
  param_2[1] = (short)(uVar5 << 4);
  *param_2 = sVar4 + (uVar6 & 0xff) * 4;
  if (param_3 == '\0') {
    sVar4 = param_1[0x5045] + 1;
  }
  else if (param_3 == '\x01') {
    sVar4 = param_1[0x5045] + 2;
  }
  else {
    sVar4 = param_1[0x5045] + 4;
  }
  param_1[0x5045] = sVar4;
  return (int)sVar1;
}



void FUN_800143a0(int param_1,undefined4 param_2,uint param_3)

{
  *(undefined4 *)(param_1 + 0xa640) = param_2;
  if (param_3 >> 4 < 0x10000) {
    *(uint *)(param_1 + 0xa644) = param_3;
  }
  else {
    *(undefined4 *)(param_1 + 0xa644) = 0xffff0;
  }
  return;
}



int FUN_800143ec(int param_1,int param_2,int param_3,char param_4)

{
  ushort uVar1;
  undefined2 uVar2;
  int iVar3;
  uint uVar4;
  int iVar5;
  uint uVar6;
  uint uVar7;
  
  uVar1 = *(ushort *)(param_1 + 0xa648);
  uVar4 = param_2 * param_3 + 0x13U >> 4;
  uVar7 = 0xffff;
  while( true ) {
    uVar6 = (uint)uVar1;
    if (uVar6 == 0xffff) {
      return 0;
    }
    iVar5 = param_1 + uVar6 * 8;
    if (uVar4 <= *(ushort *)(iVar5 + 0xa324)) break;
    uVar1 = *(ushort *)(iVar5 + 0xa326);
    uVar7 = uVar6;
  }
  if (param_4 == '\0') {
    **(uint **)(iVar5 + 0xa320) = uVar4;
  }
  iVar3 = *(int *)(iVar5 + 0xa320);
  *(uint *)(iVar5 + 0xa320) = iVar3 + uVar4 * 0x10;
  *(short *)(iVar5 + 0xa324) = *(short *)(iVar5 + 0xa324) - (short)uVar4;
  uVar4 = *(ushort *)(param_1 + 0xa64c) - uVar4;
  uVar2 = (undefined2)uVar4;
  *(undefined2 *)(param_1 + 0xa64c) = uVar2;
  iVar3 = iVar3 + 4;
  if ((uVar4 & 0xffff) < (uint)*(ushort *)(param_1 + 0xa64e)) {
    *(undefined2 *)(param_1 + 0xa64e) = uVar2;
  }
  if (*(short *)(iVar5 + 0xa324) != 0) {
    return iVar3;
  }
  if (uVar7 == 0xffff) {
    *(undefined2 *)(param_1 + 0xa648) = *(undefined2 *)(iVar5 + 0xa326);
  }
  else {
    *(undefined2 *)(param_1 + uVar7 * 8 + 0xa326) = *(undefined2 *)(iVar5 + 0xa326);
  }
  *(undefined2 *)(param_1 + uVar6 * 8 + 0xa326) = *(undefined2 *)(param_1 + 0xa64a);
  *(ushort *)(param_1 + 0xa64a) = uVar1;
  return iVar3;
}



void potentially_load_asset_(int param_1,int param_2,int param_3,char param_4)

{
  ushort uVar1;
  undefined4 *puVar2;
  short sVar3;
  uint uVar4;
  int iVar5;
  int iVar6;
  uint uVar7;
  uint uVar8;
  undefined4 *puVar9;
  undefined4 *header_;
  
                    // header is 17 on boot up
  header_ = (undefined4 *)(param_2 + -4);
  if (param_4 == '\0') {
    uVar4 = (uint)*(ushort *)(param_2 + -4);
  }
  else {
    uVar4 = param_3 + 0x13U >> 4;
  }
  puVar9 = header_ + (uVar4 & 0xffff) * 4;
  *header_ = 0;
  uVar1 = *(ushort *)(param_1 + 0xa648);
  uVar7 = 0xffff;
  while( true ) {
    uVar8 = (uint)uVar1;
    sVar3 = (short)uVar4;
    if (uVar8 == 0xffff) break;
    iVar6 = param_1 + uVar8 * 8;
    puVar2 = *(undefined4 **)(iVar6 + 0xa320);
    if (puVar9 < puVar2) break;
    if (header_ == puVar2 + (uint)*(ushort *)(iVar6 + 0xa324) * 4) {
      *(ushort *)(iVar6 + 0xa324) = *(ushort *)(iVar6 + 0xa324) + sVar3;
      *(short *)(param_1 + 0xa64c) = *(short *)(param_1 + 0xa64c) + sVar3;
      uVar1 = *(ushort *)(iVar6 + 0xa326);
      if (uVar1 == 0xffff) {
        return;
      }
      iVar5 = param_1 + (uint)uVar1 * 8;
      if (puVar9 != *(undefined4 **)(iVar5 + 0xa320)) {
        return;
      }
      *(short *)(iVar6 + 0xa324) = *(short *)(iVar6 + 0xa324) + *(short *)(iVar5 + 0xa324);
      *(undefined2 *)(iVar6 + 0xa326) = *(undefined2 *)(iVar5 + 0xa326);
      *(undefined2 *)(iVar5 + 0xa326) = *(undefined2 *)(param_1 + 0xa64a);
      *(ushort *)(param_1 + 0xa64a) = uVar1;
      return;
    }
    if (puVar9 == puVar2) {
      *(undefined4 **)(iVar6 + 0xa320) = header_;
      *(short *)(iVar6 + 0xa324) = *(short *)(iVar6 + 0xa324) + sVar3;
      *(short *)(param_1 + 0xa64c) = *(short *)(param_1 + 0xa64c) + sVar3;
      return;
    }
    uVar1 = *(ushort *)(iVar6 + 0xa326);
    uVar7 = uVar8;
  }
  uVar1 = *(ushort *)(param_1 + 0xa64a);
  if (uVar1 != 0xffff) {
    iVar6 = param_1 + (uint)uVar1 * 8;
    *(undefined2 *)(param_1 + 0xa64a) = *(undefined2 *)(iVar6 + 0xa326);
    *(undefined4 **)(iVar6 + 0xa320) = header_;
    *(short *)(iVar6 + 0xa324) = sVar3;
    *(short *)(param_1 + 0xa64c) = *(short *)(param_1 + 0xa64c) + sVar3;
    if (uVar7 == 0xffff) {
      *(undefined2 *)(iVar6 + 0xa326) = *(undefined2 *)(param_1 + 0xa648);
      *(ushort *)(param_1 + 0xa648) = uVar1;
    }
    else {
      param_1 = param_1 + uVar7 * 8;
      *(undefined2 *)(iVar6 + 0xa326) = *(undefined2 *)(param_1 + 0xa326);
      *(ushort *)(param_1 + 0xa326) = uVar1;
    }
  }
  return;
}



void FUN_80014850(int param_1)

{
  uint uVar1;
  undefined2 uVar2;
  ushort uVar3;
  
  uVar3 = 1;
  *(undefined2 *)(param_1 + 0xa326) = 0xffff;
  uVar2 = (undefined2)(*(uint *)(param_1 + 0xa644) >> 4);
  *(undefined2 *)(param_1 + 0xa64c) = uVar2;
  *(undefined2 *)(param_1 + 0xa648) = 0;
  *(undefined2 *)(param_1 + 0xa64a) = 1;
  *(undefined2 *)(param_1 + 0xa64e) = uVar2;
  *(undefined4 *)(param_1 + 0xa320) = *(undefined4 *)(param_1 + 0xa640);
  *(undefined2 *)(param_1 + 0xa324) = *(undefined2 *)(param_1 + 0xa64c);
  uVar1 = 1;
  do {
    uVar3 = uVar3 + 1;
    *(ushort *)(param_1 + uVar1 * 8 + 0xa326) = uVar3;
    uVar1 = (uint)uVar3;
  } while (uVar3 < 99);
  *(undefined2 *)(param_1 + 0xa63e) = 0xffff;
  return;
}



void FUN_80014964(int param_1,undefined4 param_2)

{
  ushort uVar1;
  int iVar2;
  undefined4 *puVar3;
  undefined4 *puVar4;
  uint uVar5;
  
  uVar1 = *(ushort *)(param_1 + 0xa648);
  while( true ) {
    uVar5 = (uint)uVar1;
    if (uVar5 == 0xffff) break;
    iVar2 = param_1 + uVar5 * 8;
    puVar4 = *(undefined4 **)(iVar2 + 0xa320);
    puVar3 = puVar4 + (uint)*(ushort *)(iVar2 + 0xa324) * 4;
    for (; puVar4 != puVar3; puVar4 = puVar4 + 1) {
      *puVar4 = param_2;
    }
    uVar1 = *(ushort *)(param_1 + uVar5 * 8 + 0xa326);
  }
  return;
}



void FUN_800149e4(int param_1)

{
  undefined uVar1;
  int iVar2;
  uint uVar3;
  byte bVar4;
  
  bVar4 = 0;
  do {
    uVar3 = (uint)bVar4;
    bVar4 = bVar4 + 1;
    uVar1 = *(undefined *)(param_1 + 0xa29d);
    iVar2 = param_1 + uVar3 * 6;
    *(undefined *)(iVar2 + 0xa08f) = 0xfe;
    *(undefined *)(iVar2 + 0xa090) = 0xfe;
    *(undefined2 *)(iVar2 + 0xa08c) = 0;
    *(undefined *)(iVar2 + 0xa08e) = uVar1;
  } while (bVar4 < 0x58);
  *(undefined *)(param_1 + 0xa08f) = 0xff;
  *(undefined *)(param_1 + 0xa090) = 0x58;
  *(undefined2 *)(param_1 + 0xa08c) = 0;
  *(undefined *)(param_1 + 0xa29c) = 0;
  *(undefined *)(param_1 + 0xa29e) = 0x58;
  return;
}



undefined4 FUN_80014a98(int param_1,ushort *param_2,char param_3,uint param_4)

{
  byte bVar1;
  byte bVar3;
  uint uVar4;
  uint uVar5;
  uint uVar6;
  int iVar7;
  uint uVar8;
  byte bVar9;
  uint uVar10;
  uint uVar11;
  ushort uVar12;
  byte bVar2;
  
  uVar12 = 0;
  bVar9 = *(byte *)(param_1 + 0xa29c);
  uVar10 = param_4 & 0xff;
  do {
    uVar11 = (uint)bVar9;
    if (uVar11 == 0xff) {
      return 0;
    }
    iVar7 = param_1 + uVar11 * 6;
    if ((*(char *)(iVar7 + 0xa090) == param_3) && (uVar10 <= *(byte *)(iVar7 + 0xa08e))) {
      uVar5 = 1;
      bVar9 = 0;
      uVar8 = (uint)*(ushort *)(iVar7 + 0xa08c);
      uVar4 = 0;
      if (*(byte *)(param_1 + 0xa29d) != 0) {
        do {
          bVar9 = bVar9 + 1;
          if ((uVar5 & uVar8) == 0) {
            if (bVar9 == uVar10) break;
          }
          else {
            bVar9 = 0;
          }
          uVar4 = uVar4 + 1;
          uVar5 = uVar5 << 1;
        } while ((uVar4 & 0xff) < (uint)*(byte *)(param_1 + 0xa29d));
        if ((uVar4 & 0xff) < (uint)*(byte *)(param_1 + 0xa29d)) {
          if (uVar8 == 0) {
            *(char *)(param_1 + 0xa29e) =
                 *(char *)(param_1 + 0xa29e) - *(char *)(param_1 + uVar11 * 6 + 0xa090);
          }
          uVar4 = uVar4 - (param_4 - 1);
          uVar6 = 1 << (uVar4 & 0x1f);
          uVar5 = 0;
          if (uVar10 != 0) {
            do {
              uVar8 = uVar8 | uVar6;
              uVar5 = uVar5 + 1;
              uVar6 = uVar6 << 1;
            } while ((uVar5 & 0xff) < uVar10);
          }
          uVar10 = 1;
          bVar2 = 0;
          bVar1 = 0;
          *(short *)(param_1 + uVar11 * 6 + 0xa08c) = (short)uVar8;
          *param_2 = uVar12 & 0xff;
          param_2[1] = (ushort)uVar4 & 0xff;
          bVar3 = 0;
          if (*(byte *)(param_1 + 0xa29d) != 0) {
            do {
              bVar9 = bVar9 + 1;
              bVar1 = bVar2;
              if ((uVar10 & uVar8 & 0xffff) == 0) {
                if (bVar2 <= bVar9) {
                  bVar1 = bVar9;
                }
              }
              else {
                bVar9 = 0;
              }
              bVar3 = bVar3 + 1;
              uVar10 = uVar10 << 1;
              bVar2 = bVar1;
            } while (bVar3 < *(byte *)(param_1 + 0xa29d));
          }
          *(byte *)(param_1 + uVar11 * 6 + 0xa08e) = bVar1;
          return 1;
        }
      }
    }
    iVar7 = param_1 + uVar11 * 6;
    bVar9 = *(byte *)(iVar7 + 0xa08f);
    uVar12 = uVar12 + *(byte *)(iVar7 + 0xa090);
  } while( true );
}



undefined4 FUN_80014cf4(int param_1,ushort *param_2,byte param_3,byte param_4,char param_5)

{
  char cVar1;
  byte bVar2;
  uint uVar3;
  char cVar4;
  int iVar5;
  undefined2 uVar6;
  int iVar7;
  uint uVar8;
  uint uVar9;
  byte bVar10;
  
  bVar10 = 0;
  bVar2 = *(byte *)(param_1 + 0xa29c);
  do {
    uVar9 = (uint)bVar2;
    if (uVar9 == 0xff) {
      return 0;
    }
    iVar5 = param_1 + uVar9 * 6;
    bVar2 = *(byte *)(iVar5 + 0xa090);
    if ((param_3 <= bVar2) && (*(short *)(iVar5 + 0xa08c) == 0)) {
      cVar1 = '\0';
      if (param_5 == '\x01') {
        cVar4 = '\x10';
      }
      else {
        cVar4 = '\b';
        if (param_5 == '\x02') {
          cVar4 = ' ';
        }
      }
      if ((byte)(cVar4 - param_3) < (bVar10 & 7)) {
        cVar1 = '\b' - (bVar10 & 7);
        bVar2 = bVar2 - cVar1;
      }
      if (param_3 <= bVar2) {
        uVar3 = uVar9;
        if (cVar1 != '\0') {
          uVar3 = FUN_80015070(param_1);
          iVar7 = param_1 + (uVar3 & 0xff) * 6;
          *(undefined *)(iVar7 + 0xa08e) = *(undefined *)(param_1 + 0xa29d);
          iVar5 = param_1 + uVar9 * 6;
          *(undefined *)(iVar7 + 0xa08f) = *(undefined *)(iVar5 + 0xa08f);
          cVar4 = *(char *)(iVar5 + 0xa090);
          bVar10 = bVar10 + cVar1;
          *(undefined2 *)(iVar7 + 0xa08c) = 0;
          *(char *)(iVar7 + 0xa090) = cVar4 - cVar1;
          *(char *)(iVar5 + 0xa08f) = (char)uVar3;
          *(char *)(iVar5 + 0xa090) = cVar1;
          uVar9 = uVar3 & 0xff;
        }
        iVar5 = param_1 + uVar9 * 6;
        if (*(byte *)(iVar5 + 0xa090) != param_3) {
          bVar2 = FUN_80015070(param_1);
          iVar7 = param_1 + (uint)bVar2 * 6;
          *(undefined *)(iVar7 + 0xa08e) = *(undefined *)(param_1 + 0xa29d);
          *(undefined *)(iVar7 + 0xa08f) = *(undefined *)(iVar5 + 0xa08f);
          cVar4 = *(char *)(iVar5 + 0xa090);
          *(undefined2 *)(iVar7 + 0xa08c) = 0;
          *(byte *)(iVar7 + 0xa090) = cVar4 - param_3;
          *(byte *)(iVar5 + 0xa08f) = bVar2;
          *(byte *)(iVar5 + 0xa090) = param_3;
        }
        uVar8 = 0;
        uVar6 = 0;
        uVar9 = 1;
        bVar2 = 0;
        if (param_4 != 0) {
          do {
            uVar8 = uVar8 | uVar9;
            uVar6 = (undefined2)uVar8;
            bVar2 = bVar2 + 1;
            uVar9 = uVar9 << 1;
          } while (bVar2 < param_4);
        }
        iVar5 = param_1 + (uVar3 & 0xff) * 6;
        *(undefined2 *)(iVar5 + 0xa08c) = uVar6;
        *(byte *)(iVar5 + 0xa08e) = *(char *)(param_1 + 0xa29d) - param_4;
        *param_2 = (ushort)bVar10;
        param_2[1] = 0;
        *(char *)(param_1 + 0xa29e) =
             *(char *)(param_1 + 0xa29e) - (*(char *)(iVar5 + 0xa090) + cVar1);
        return 1;
      }
    }
    iVar5 = param_1 + uVar9 * 6;
    bVar2 = *(byte *)(iVar5 + 0xa08f);
    bVar10 = bVar10 + *(char *)(iVar5 + 0xa090);
  } while( true );
}



uint FUN_80015070(int param_1)

{
  uint uVar1;
  byte bVar2;
  
  bVar2 = 0;
  uVar1 = 0;
  do {
    if (*(char *)(param_1 + uVar1 * 6 + 0xa08f) == -2) {
      return uVar1;
    }
    bVar2 = bVar2 + 1;
    uVar1 = (uint)bVar2;
  } while (bVar2 < 0x58);
  return 0;
}



byte FUN_800150c0(int param_1)

{
  byte bVar1;
  int iVar2;
  byte bVar3;
  
  bVar3 = 0;
  bVar1 = *(byte *)(param_1 + 0xa29c);
  while (bVar1 != 0xff) {
    iVar2 = param_1 + (uint)bVar1 * 6;
    bVar1 = *(byte *)(iVar2 + 0xa090);
    if (bVar3 < bVar1) {
      bVar3 = bVar1;
    }
    bVar1 = *(byte *)(iVar2 + 0xa08f);
  }
  return bVar3;
}



void FUN_80015130(int param_1,undefined4 param_2,byte param_3)

{
  byte bVar1;
  int iVar2;
  byte bVar3;
  int iVar4;
  uint uVar5;
  byte bVar6;
  uint uVar8;
  uint uVar9;
  uint uVar10;
  short local_res4;
  short sStackX_6;
  byte bVar7;
  
  uVar5 = 0;
  bVar6 = *(byte *)(param_1 + 0xa29c);
  uVar10 = 0xff;
  while( true ) {
    uVar9 = (uint)bVar6;
    if (uVar9 == 0xff) {
      return;
    }
    local_res4 = (short)param_2;
    if ((uVar5 & 0xff) == (int)local_res4) break;
    iVar4 = param_1 + uVar9 * 6;
    bVar6 = *(byte *)(iVar4 + 0xa08f);
    uVar5 = uVar5 + *(byte *)(iVar4 + 0xa090);
    uVar10 = uVar9;
  }
  bVar6 = 0;
  uVar8 = (uint)*(ushort *)(param_1 + uVar9 * 6 + 0xa08c);
  sStackX_6 = (short)((uint)param_2 >> 0x10);
  uVar5 = 1 << ((int)sStackX_6 & 0x1fU);
  if (param_3 != 0) {
    do {
      uVar8 = uVar8 ^ uVar5;
      bVar6 = bVar6 + 1;
      uVar5 = uVar5 << 1;
    } while (bVar6 < param_3);
  }
  uVar5 = 1;
  bVar7 = 0;
  bVar6 = 0;
  bVar1 = 0;
  *(short *)(param_1 + uVar9 * 6 + 0xa08c) = (short)uVar8;
  bVar3 = 0;
  if (*(byte *)(param_1 + 0xa29d) != 0) {
    do {
      bVar1 = bVar1 + 1;
      bVar6 = bVar7;
      if ((uVar5 & uVar8 & 0xffff) == 0) {
        if (bVar7 <= bVar1) {
          bVar6 = bVar1;
        }
      }
      else {
        bVar1 = 0;
      }
      bVar3 = bVar3 + 1;
      uVar5 = uVar5 << 1;
      bVar7 = bVar6;
    } while (bVar3 < *(byte *)(param_1 + 0xa29d));
  }
  iVar4 = param_1 + uVar9 * 6;
  *(byte *)(iVar4 + 0xa08e) = bVar6;
  if ((uVar8 & 0xffff) == 0) {
    *(char *)(param_1 + 0xa29e) = *(char *)(param_1 + 0xa29e) + *(char *)(iVar4 + 0xa090);
    if ((uVar10 != 0xff) && (iVar2 = param_1 + uVar10 * 6, *(short *)(iVar2 + 0xa08c) == 0)) {
      *(undefined *)(iVar2 + 0xa08f) = *(undefined *)(iVar4 + 0xa08f);
      *(char *)(iVar2 + 0xa090) = *(char *)(iVar2 + 0xa090) + *(char *)(iVar4 + 0xa090);
      *(undefined *)(iVar4 + 0xa08f) = 0xfe;
      *(undefined *)(iVar4 + 0xa090) = 0xfe;
      uVar9 = uVar10;
    }
    iVar4 = param_1 + uVar9 * 6;
    if ((*(byte *)(iVar4 + 0xa08f) != 0xff) &&
       (param_1 = param_1 + (uint)*(byte *)(iVar4 + 0xa08f) * 6, *(short *)(param_1 + 0xa08c) == 0))
    {
      *(undefined *)(iVar4 + 0xa08f) = *(undefined *)(param_1 + 0xa08f);
      *(char *)(iVar4 + 0xa090) = *(char *)(iVar4 + 0xa090) + *(char *)(param_1 + 0xa090);
      *(undefined *)(param_1 + 0xa08f) = 0xfe;
      *(undefined *)(param_1 + 0xa090) = 0xfe;
    }
  }
  return;
}



void FUN_80015420(void)

{
  return;
}



// Possible VM_VIB.OBJ/SsUtVibrateOff

void FUN_80015430(void)

{
  return;
}



void FUN_80015438(undefined2 *param_1,undefined2 param_2)

{
  *(undefined **)(param_1 + 6) = &DAT_8001039c;
  param_1[4] = param_2;
  *param_1 = 0;
  param_1[1] = 0;
  param_1[2] = 0;
  param_1[3] = 0;
  *(undefined *)(param_1 + 5) = 1;
  return;
}



undefined2 *
FUN_80015468(undefined2 *param_1,undefined2 param_2,short param_3,short param_4,undefined param_5)

{
  undefined *puVar1;
  char cVar2;
  byte bVar3;
  u_short uVar4;
  
  param_1[4] = param_2;
  *(undefined **)(param_1 + 6) = &DAT_8001039c;
  *param_1 = 0;
  param_1[1] = 0;
  param_1[2] = 0;
  param_1[3] = 0;
  *(undefined **)(param_1 + 6) = &DAT_80010384;
  *(undefined *)(param_1 + 0x1a) = 0x40;
  *(undefined *)((int)param_1 + 0x35) = 0x40;
  *(undefined *)(param_1 + 0x1b) = 0x40;
  param_1[3] = param_4;
  *(undefined *)(param_1 + 5) = 1;
  *(undefined *)((int)param_1 + 0x37) = 0;
  *(undefined *)(param_1 + 0x1c) = 0;
  *(undefined *)((int)param_1 + 0x2f) = 1;
  param_1[2] = param_3;
  *(undefined *)((int)param_1 + 0x33) = 1;
  *(undefined *)(param_1 + 0x19) = param_5;
  puVar1 = PTR_DAT_800a59b0;
  *(undefined4 *)(param_1 + 0xe) = 0x10000;
  *(undefined4 *)(param_1 + 0x10) = 0x10000;
  param_1[0x14] = 0;
  param_1[0x15] = 0;
  param_1[0x16] = 0;
  cVar2 = FUN_800138ec(puVar1,param_1 + 8,*(undefined *)(param_1 + 0x19),(int)param_3,(int)param_4);
  *(char *)(param_1 + 0x17) = cVar2;
  if (cVar2 != '\0') {
    uVar4 = GetTPage((uint)*(byte *)(param_1 + 0x19),0,(int)(short)param_1[8] & 0xffffffc0,
                     (int)(short)param_1[9] & 0xffffff00);
    param_1[0x12] = uVar4;
    if (*(char *)(param_1 + 0x19) == '\0') {
      bVar3 = (byte)((*(byte *)(param_1 + 8) & 0x3f) << 2);
    }
    else if (*(char *)(param_1 + 0x19) == '\x01') {
      bVar3 = (byte)((*(byte *)(param_1 + 8) & 0x3f) << 1);
    }
    else {
      bVar3 = *(byte *)(param_1 + 8) & 0x3f;
    }
    *(byte *)(param_1 + 0x18) = bVar3;
    *(char *)((int)param_1 + 0x31) = (char)param_1[9];
  }
  if ((*(char *)(param_1 + 0x19) == '\x02') ||
     (cVar2 = FUN_80013d0c(PTR_DAT_800a59b0,param_1 + 0xc), cVar2 == '\0')) {
    param_1[0x13] = 0;
  }
  else {
    uVar4 = GetClut((int)(short)param_1[0xc],(int)(short)param_1[0xd]);
    param_1[0x13] = uVar4;
  }
  return param_1;
}



void FUN_80015610(undefined2 *param_1,undefined2 param_2)

{
  *(undefined **)(param_1 + 6) = &DAT_8001039c;
  *(undefined **)(param_1 + 6) = &DAT_80010384;
  *(undefined *)(param_1 + 0x1a) = 0x40;
  *(undefined *)((int)param_1 + 0x35) = 0x40;
  *(undefined *)(param_1 + 0x1b) = 0x40;
  param_1[4] = param_2;
  *param_1 = 0;
  param_1[1] = 0;
  param_1[2] = 0;
  param_1[3] = 0;
  *(undefined *)(param_1 + 5) = 1;
  *(undefined *)((int)param_1 + 0x37) = 0;
  *(undefined *)(param_1 + 0x1c) = 0;
  *(undefined *)((int)param_1 + 0x2f) = 0;
  param_1[2] = 0;
  param_1[3] = 0;
  *(undefined *)(param_1 + 0x19) = 0;
  *(undefined *)((int)param_1 + 0x33) = 1;
  *(undefined4 *)(param_1 + 0xe) = 0x10000;
  *(undefined4 *)(param_1 + 0x10) = 0x10000;
  param_1[0x14] = 0;
  param_1[0x15] = 0;
  param_1[0x16] = 0;
  *(undefined *)(param_1 + 0x17) = 0;
  param_1[0x12] = 0;
  *(undefined *)(param_1 + 0x18) = 0;
  *(undefined *)((int)param_1 + 0x31) = 0;
  return;
}



void FUN_80016018(undefined2 *param_1,undefined4 param_2,undefined2 param_3,undefined4 param_4,
                 undefined4 param_5,uint param_6,uint param_7,undefined2 param_8,undefined2 param_9,
                 undefined param_10)

{
  ushort uVar1;
  uint *puVar2;
  undefined *puVar3;
  undefined4 uVar4;
  int iVar5;
  uint uVar6;
  int iVar7;
  int iVar8;
  uint uVar9;
  
  *(undefined **)(param_1 + 6) = &DAT_8001039c;
  param_1[4] = param_3;
  *param_1 = 0;
  param_1[1] = 0;
  param_1[2] = 0;
  param_1[3] = 0;
  *(undefined *)(param_1 + 5) = 1;
  puVar3 = PTR_DAT_800a59b0;
  *(undefined **)(param_1 + 6) = &DAT_80010374;
  uVar1 = *(ushort *)(puVar3 + 2);
  *(undefined *)(param_1 + 0x40) = param_10;
  *(undefined4 *)(param_1 + 0x38) = param_2;
  *(undefined4 *)(param_1 + 0x34) = param_4;
  *(undefined4 *)(param_1 + 0x36) = param_5;
  uVar6 = (int)param_1 + 0x77U & 3;
  puVar2 = (uint *)(((int)param_1 + 0x77U) - uVar6);
  *puVar2 = *puVar2 & -1 << (uVar6 + 1) * 8 | param_6 >> (3 - uVar6) * 8;
  uVar6 = (uint)(param_1 + 0x3a) & 3;
  puVar2 = (uint *)((int)(param_1 + 0x3a) - uVar6);
  *puVar2 = *puVar2 & 0xffffffffU >> (4 - uVar6) * 8 | param_6 << uVar6 * 8;
  uVar6 = (int)param_1 + 0x7bU & 3;
  puVar2 = (uint *)(((int)param_1 + 0x7bU) - uVar6);
  *puVar2 = *puVar2 & -1 << (uVar6 + 1) * 8 | param_7 >> (3 - uVar6) * 8;
  uVar6 = (uint)(param_1 + 0x3c) & 3;
  puVar2 = (uint *)((int)(param_1 + 0x3c) - uVar6);
  *puVar2 = *puVar2 & 0xffffffffU >> (4 - uVar6) * 8 | param_7 << uVar6 * 8;
  puVar3 = PTR_DAT_800a59b0;
  param_1[0x3e] = param_8;
  param_1[0x3f] = param_9;
  uVar9 = ((int)((uint)uVar1 << 0x10) >> 0x14) + 1;
  uVar6 = (uVar9 & 0xff) * 0x15;
  uVar4 = FUN_800143ec(puVar3,0x10,uVar6,0);
  puVar3 = PTR_DAT_800a59b0;
  *(undefined4 *)(param_1 + 8) = uVar4;
  uVar4 = FUN_800143ec(puVar3,0x10,uVar6,0);
  puVar3 = PTR_DAT_800a59b0;
  *(undefined4 *)(param_1 + 10) = uVar4;
  uVar4 = FUN_800143ec(puVar3,8,uVar6,0);
  puVar3 = PTR_DAT_800a59b0;
  *(undefined4 *)(param_1 + 0xc) = uVar4;
  uVar4 = FUN_800143ec(puVar3,8,uVar6,0);
  *(undefined4 *)(param_1 + 0xe) = uVar4;
  CatPrim(*(void **)(param_1 + 0xc),*(void **)(param_1 + 8));
  iVar8 = 1;
  *(undefined4 *)(param_1 + 0x2c) = *(undefined4 *)(param_1 + 0xc);
  *(undefined4 *)(param_1 + 0x30) = *(undefined4 *)(param_1 + 8);
  if (1 < uVar6) {
    do {
      iVar7 = (short)iVar8 * 8;
      CatPrim(*(void **)(param_1 + 0x30),(void *)(*(int *)(param_1 + 0xc) + iVar7));
      iVar5 = (short)iVar8 * 0x10;
      CatPrim((void *)(*(int *)(param_1 + 0xc) + iVar7),(void *)(*(int *)(param_1 + 8) + iVar5));
      iVar8 = iVar8 + 1;
      *(int *)(param_1 + 0x30) = *(int *)(param_1 + 8) + iVar5;
    } while (iVar8 * 0x10000 >> 0x10 < (int)uVar6);
  }
  iVar8 = 1;
  CatPrim(*(void **)(param_1 + 0xe),*(void **)(param_1 + 10));
  *(undefined4 *)(param_1 + 0x32) = *(undefined4 *)(param_1 + 10);
  *(undefined4 *)(param_1 + 0x2e) = *(undefined4 *)(param_1 + 0xe);
  uVar6 = (uVar9 & 0xff) * 0x15;
  if (1 < uVar6) {
    do {
      iVar7 = (short)iVar8 * 8;
      CatPrim(*(void **)(param_1 + 0x32),(void *)(*(int *)(param_1 + 0xe) + iVar7));
      iVar5 = (short)iVar8 * 0x10;
      CatPrim((void *)(*(int *)(param_1 + 0xe) + iVar7),(void *)(*(int *)(param_1 + 10) + iVar5));
      iVar8 = iVar8 + 1;
      *(int *)(param_1 + 0x32) = *(int *)(param_1 + 10) + iVar5;
    } while (iVar8 * 0x10000 >> 0x10 < (int)uVar6);
  }
  uVar6 = uVar9 & 0xff;
  FUN_80017138(param_1,0,0,0,0,0,0,0,0x15,uVar6);
  FUN_80017138(param_1,1,0,0,0,0,0,0,0x15,uVar6);
  iVar8 = (int)(short)param_1[0x3e];
  if ((iVar8 != 0) && (iVar8 < 0x15)) {
    FUN_80017138(param_1,0,(iVar8 << 0x14) >> 0x10,0,iVar8,0,0,0,
                 (int)((0x15 - (uint)(ushort)param_1[0x3e]) * 0x10000) >> 0x10,uVar6);
    FUN_80017138(param_1,1,(int)((uint)(ushort)param_1[0x3e] << 0x14) >> 0x10,0,
                 (int)(short)param_1[0x3e],0,0,0,
                 (int)((0x15 - (uint)(ushort)param_1[0x3e]) * 0x10000) >> 0x10,uVar6);
  }
  iVar8 = (int)(short)param_1[0x3f];
  if ((iVar8 != 0) && (iVar8 < (int)(uVar9 & 0xff))) {
    FUN_80017138(param_1,0,0,(iVar8 << 0x14) >> 0x10,0,(int)(short)param_1[0x3f],0,0,0x15,
                 (int)(((uVar9 & 0xff) - (uint)(ushort)param_1[0x3f]) * 0x10000) >> 0x10);
    FUN_80017138(param_1,1,0,(int)((uint)(ushort)param_1[0x3f] << 0x14) >> 0x10,0,
                 (int)(short)param_1[0x3f],0,0,0x15,
                 (int)(((uVar9 & 0xff) - (uint)(ushort)param_1[0x3f]) * 0x10000) >> 0x10);
  }
  param_1[0x28] = 0;
  param_1[0x29] = 0;
  param_1[0x2a] = 0;
  param_1[0x2b] = 0;
  return;
}



void FUN_80017138(int param_1,uint param_2,short param_3,short param_4,ushort param_5,short param_6,
                 short param_7,short param_8,short param_9,short param_10)

{
  u_char uVar1;
  ushort uVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  u_char *puVar6;
  void *p0;
  ushort *puVar7;
  SPRT_16 *p;
  DR_TPAGE *p_00;
  uint uVar8;
  uint uVar9;
  int iVar10;
  int iVar11;
  short local_68;
  short local_60;
  short local_58;
  short local_50;
  short local_48;
  short local_40;
  short local_38;
  
  iVar10 = (param_2 & 0xff) * 4 + param_1;
  local_50 = 0;
  local_60 = param_6;
  uVar8 = ((int)((uint)*(ushort *)(PTR_DAT_800a59b0 + 2) << 0x10) >> 0x14) + 1U & 0xff;
  local_58 = param_8;
  local_68 = param_4;
  for (; local_50 < param_10; local_50 = local_50 + 1) {
    uVar9 = (uint)param_5;
    local_40 = param_7;
    iVar11 = (int)local_58;
    local_48 = param_3;
    for (local_38 = 0; local_38 < param_9; local_38 = local_38 + 1) {
      iVar5 = (int)*(short *)(param_1 + 0x74);
      iVar4 = (int)local_40;
      iVar3 = (int)*(short *)(param_1 + 0x76);
      puVar7 = (ushort *)
               (*(int *)(param_1 + 0x6c) +
               ((iVar4 - iVar5) + (iVar11 - iVar3) * (int)*(short *)(param_1 + 0x78)) * 2);
      if (*puVar7 == 0 ||
          (iVar3 + *(short *)(param_1 + 0x7a) <= iVar11 ||
          (iVar11 < iVar3 || (iVar5 + *(short *)(param_1 + 0x78) <= iVar4 || iVar4 < iVar5)))) {
        iVar3 = (int)((uVar9 + local_60 * 0x15) * 0x10000) >> 0x10;
        iVar4 = iVar3 * 8;
        p0 = (void *)(*(int *)(iVar10 + 0x18) + iVar4);
        if (iVar3 == uVar8 * 0x15 + -1) {
          *(void **)(iVar10 + 0x60) = p0;
        }
        else {
          CatPrim(p0,(void *)(*(int *)(iVar10 + 0x18) + iVar4 + 8));
        }
        *(undefined *)((int)p0 + 3) = 0;
      }
      else {
        iVar3 = (int)((uVar9 + local_60 * 0x15) * 0x10000) >> 0x10;
        p_00 = (DR_TPAGE *)(*(int *)(iVar10 + 0x18) + iVar3 * 8);
        p = (SPRT_16 *)(*(int *)(iVar10 + 0x10) + iVar3 * 0x10);
        CatPrim(p_00,p);
        if (iVar3 == uVar8 * 0x15 + -1) {
          *(SPRT_16 **)(iVar10 + 0x60) = p;
        }
        uVar2 = *puVar7;
        puVar7 = (ushort *)(*(int *)(param_1 + 0x68) + (uVar2 & 0xfff) * 8);
        puVar6 = (u_char *)(*(int *)(param_1 + 0x70) + (uint)(uVar2 >> 0xc) * 3);
        SetSprt16(p);
        SetSemiTrans(p,(uint)*(byte *)(puVar7 + 3));
        SetShadeTex(p,0);
        p->r0 = *puVar6;
        p->g0 = puVar6[1];
        uVar1 = puVar6[2];
        p->x0 = local_48;
        p->b0 = uVar1;
        p->y0 = local_68;
        p->u0 = *(u_char *)(puVar7 + 2);
        p->_2 = *(u_char *)((int)puVar7 + 5);
        p->clut = puVar7[1];
        SetDrawTPage(p_00,0,0,(uint)*puVar7 | (uint)*(byte *)(param_1 + 0x80) << 5);
      }
      uVar9 = uVar9 + 1;
      if (0x14 < (int)(uVar9 * 0x10000) >> 0x10) {
        uVar9 = 0;
      }
      local_48 = local_48 + 0x10;
      local_40 = local_40 + 1;
    }
    local_60 = local_60 + 1;
    if ((int)uVar8 <= (int)local_60) {
      local_60 = 0;
    }
    local_68 = local_68 + 0x10;
    local_58 = local_58 + 1;
  }
  return;
}



undefined2 *
FUN_8001753c(undefined2 *param_1,undefined4 param_2,undefined2 param_3,int param_4,ushort *param_5,
            uint param_6,uint param_7,short param_8,undefined param_9,undefined param_10,
            byte param_11)

{
  u_char uVar1;
  ushort uVar2;
  uint *puVar3;
  undefined *puVar4;
  byte bVar5;
  undefined4 uVar6;
  uint uVar7;
  int iVar8;
  void *p1;
  uint uVar9;
  int tpage;
  ushort *puVar10;
  void **ppvVar11;
  u_char *puVar12;
  int *piVar13;
  int iVar14;
  u_short *puVar15;
  SPRT_16 *p;
  short sVar16;
  ushort uVar17;
  ushort *puVar18;
  ushort uVar19;
  undefined auStack_1c0 [352];
  int local_60;
  ushort local_58;
  ushort local_50;
  byte local_48;
  short local_40;
  undefined2 *local_38;
  undefined *local_30;
  
  *(undefined4 *)(param_1 + 0x34) = param_2;
  param_1[4] = param_3;
  iVar14 = 0;
  *(undefined **)(param_1 + 6) = &DAT_8001039c;
  *param_1 = 0;
  param_1[1] = 0;
  param_1[2] = 0;
  param_1[3] = 0;
  *(undefined *)(param_1 + 5) = 1;
  *(undefined **)(param_1 + 6) = &DAT_80010364;
  *(undefined *)(param_1 + 0x36) = param_9;
  *(undefined *)((int)param_1 + 0x6d) = param_10;
  uVar9 = (int)param_1 + 99U & 3;
  puVar3 = (uint *)(((int)param_1 + 99U) - uVar9);
  *puVar3 = *puVar3 & -1 << (uVar9 + 1) * 8 | param_6 >> (3 - uVar9) * 8;
  uVar9 = (uint)(param_1 + 0x30) & 3;
  puVar3 = (uint *)((int)(param_1 + 0x30) - uVar9);
  *puVar3 = *puVar3 & 0xffffffffU >> (4 - uVar9) * 8 | param_6 << uVar9 * 8;
  uVar9 = (int)param_1 + 0x67U & 3;
  puVar3 = (uint *)(((int)param_1 + 0x67U) - uVar9);
  *puVar3 = *puVar3 & -1 << (uVar9 + 1) * 8 | param_7 >> (3 - uVar9) * 8;
  uVar9 = (uint)(param_1 + 0x32) & 3;
  puVar3 = (uint *)((int)(param_1 + 0x32) - uVar9);
  *puVar3 = *puVar3 & 0xffffffffU >> (4 - uVar9) * 8 | param_7 << uVar9 * 8;
  local_60 = param_4;
  uVar6 = FUN_800143ec(PTR_DAT_800a59b0,8,0x2c,0);
  puVar4 = PTR_DAT_800a59b0;
  *(undefined4 *)(param_1 + 8) = uVar6;
  uVar6 = FUN_800143ec(puVar4,8,0x2c,0);
  *(undefined4 *)(param_1 + 10) = uVar6;
  iVar8 = 0;
  while (iVar8 = iVar8 >> 0x10, iVar8 < 0x2c) {
    uVar9 = iVar8 % 0xb + 5;
    if (10 < (iVar8 % 0x16) * 0x10000 >> 0x10) {
      uVar9 = iVar8 % 0xb + 0x15;
    }
    tpage = ((iVar8 / 0x16) * 0x80 & 0xffffU) + (uVar9 & 0xffff) + (uint)param_11 * 0x20;
    iVar14 = iVar14 + 1;
    SetDrawTPage((DR_TPAGE *)(*(int *)(param_1 + 8) + iVar8 * 8),0,0,tpage);
    SetDrawTPage((DR_TPAGE *)(*(int *)(param_1 + 10) + iVar8 * 8),0,0,tpage);
    iVar8 = iVar14 * 0x10000;
  }
  local_30 = auStack_1c0;
  local_48 = 0;
  uVar6 = FUN_800143ec(PTR_DAT_800a59b0,0x10,(int)param_8,0);
  puVar4 = PTR_DAT_800a59b0;
  *(undefined4 *)(param_1 + 0xc) = uVar6;
  uVar6 = FUN_800143ec(puVar4,0x10,(int)param_8,0);
  *(undefined4 *)(param_1 + 0xe) = uVar6;
  local_58 = param_1[0x30] << 4;
  local_50 = param_1[0x31] << 4;
  for (; iVar8 = 0, local_48 < 2; local_48 = local_48 + 1) {
    iVar14 = 0;
    do {
      *(undefined4 *)(local_30 + (iVar14 >> 0xe)) = 0;
      iVar8 = iVar8 + 1;
      iVar14 = iVar8 * 0x10000;
    } while (iVar8 * 0x10000 >> 0x10 < 0x2c);
    local_38 = param_1 + (uint)local_48 * 2;
    p = *(SPRT_16 **)(local_38 + 0xc);
    local_40 = 0;
    puVar18 = param_5;
    uVar19 = local_50;
    while( true ) {
      bVar5 = local_48;
      sVar16 = 0;
      if ((short)param_1[0x33] <= local_40) break;
      puVar15 = &p->clut;
      uVar17 = local_58;
      for (; sVar16 < (short)param_1[0x32]; sVar16 = sVar16 + 1) {
        uVar2 = *puVar18;
        if (uVar2 != 0) {
          puVar10 = (ushort *)(local_60 + (uVar2 & 0xfff) * 8);
          puVar12 = (u_char *)(*(int *)(param_1 + 0x34) + (uint)(uVar2 >> 0xc) * 3);
          SetSprt16(p);
          SetSemiTrans(p,(uint)*(byte *)(puVar10 + 3));
          SetShadeTex(p,0);
          *(u_char *)(puVar15 + -5) = *puVar12;
          *(u_char *)((int)puVar15 + -9) = puVar12[1];
          uVar1 = puVar12[2];
          puVar15[-3] = uVar17;
          puVar15[-2] = uVar19;
          *(u_char *)(puVar15 + -4) = uVar1;
          *(u_char *)(puVar15 + -1) = *(u_char *)(puVar10 + 2);
          *(u_char *)((int)puVar15 + -1) = *(u_char *)((int)puVar10 + 5);
          *puVar15 = puVar10[1];
          uVar7 = (uint)*puVar10;
          uVar9 = ((uVar7 & 0x180) >> 7) * 0x16 + 0xfffb + (uVar7 & 0xf);
          if (0xf < (uVar7 & 0x1f)) {
            uVar9 = uVar9 + 0xb;
          }
          piVar13 = (int *)(local_30 + (uVar9 & 0xffff) * 4);
          if (*piVar13 == 0) {
            iVar14 = (uVar9 & 0xffff) * 8;
            CatPrim((void *)(*(int *)(local_38 + 8) + iVar14),p);
            iVar8 = *(int *)(local_38 + 8);
            piVar13[0x2c] = (int)p;
            *piVar13 = iVar8 + iVar14;
          }
          else {
            CatPrim((void *)piVar13[0x2c],p);
            piVar13[0x2c] = (int)p;
          }
          puVar15 = puVar15 + 8;
          p = p + 1;
        }
        puVar18 = puVar18 + 1;
        uVar17 = uVar17 + 0x10;
      }
      uVar19 = uVar19 + 0x10;
      local_40 = local_40 + 1;
    }
    iVar14 = 0;
    *(undefined4 *)(param_1 + (uint)local_48 * 2 + 0x28) = 0;
    iVar8 = 0;
    do {
      ppvVar11 = (void **)(local_30 + (iVar8 >> 0xe));
      p1 = *ppvVar11;
      if (p1 != (void *)0x0) {
        if (*(int *)(param_1 + (uint)bVar5 * 2 + 0x28) == 0) {
          *(void **)(param_1 + (uint)bVar5 * 2 + 0x28) = p1;
        }
        else {
          CatPrim(*(void **)(param_1 + (uint)bVar5 * 2 + 0x2c),p1);
        }
        *(void **)(param_1 + (uint)bVar5 * 2 + 0x2c) = ppvVar11[0x2c];
      }
      iVar14 = iVar14 + 1;
      iVar8 = iVar14 * 0x10000;
    } while (iVar14 * 0x10000 >> 0x10 < 0x2c);
  }
  return param_1;
}



undefined2 *
FUN_80017d08(undefined2 *param_1,undefined4 param_2,undefined2 param_3,int param_4,ushort *param_5,
            uint param_6,uint param_7,short param_8,undefined2 param_9,undefined2 param_10,
            byte param_11)

{
  u_char uVar1;
  short sVar2;
  short sVar3;
  uint *puVar4;
  undefined *puVar5;
  undefined4 uVar6;
  ushort uVar7;
  int iVar8;
  uint uVar9;
  int iVar10;
  int iVar11;
  u_char *puVar12;
  DR_TPAGE **ppDVar13;
  ushort *puVar14;
  u_short *puVar15;
  SPRT_16 *p;
  DR_TPAGE *p_00;
  ushort uVar16;
  ushort uVar17;
  ushort uVar18;
  ushort *local_68;
  byte local_50;
  ushort local_48;
  
  *(undefined4 *)(param_1 + 0x3c) = param_2;
  *(undefined **)(param_1 + 6) = &DAT_8001039c;
  param_1[4] = param_3;
  *param_1 = 0;
  param_1[1] = 0;
  param_1[2] = 0;
  param_1[3] = 0;
  *(undefined *)(param_1 + 5) = 1;
  *(undefined **)(param_1 + 6) = &DAT_80010354;
  param_1[0x3e] = param_9;
  param_1[0x3f] = param_10;
  uVar9 = (int)param_1 + 0x73U & 3;
  puVar4 = (uint *)(((int)param_1 + 0x73U) - uVar9);
  *puVar4 = *puVar4 & -1 << (uVar9 + 1) * 8 | param_6 >> (3 - uVar9) * 8;
  uVar9 = (uint)(param_1 + 0x38) & 3;
  puVar4 = (uint *)((int)(param_1 + 0x38) - uVar9);
  *puVar4 = *puVar4 & 0xffffffffU >> (4 - uVar9) * 8 | param_6 << uVar9 * 8;
  uVar9 = (int)param_1 + 0x77U & 3;
  puVar4 = (uint *)(((int)param_1 + 0x77U) - uVar9);
  *puVar4 = *puVar4 & -1 << (uVar9 + 1) * 8 | param_7 >> (3 - uVar9) * 8;
  uVar9 = (uint)(param_1 + 0x3a) & 3;
  puVar4 = (uint *)((int)(param_1 + 0x3a) - uVar9);
  *puVar4 = *puVar4 & 0xffffffffU >> (4 - uVar9) * 8 | param_7 << uVar9 * 8;
  iVar10 = (int)param_8;
  uVar6 = FUN_800143ec(PTR_DAT_800a59b0,0x10,iVar10,0);
  puVar5 = PTR_DAT_800a59b0;
  *(undefined4 *)(param_1 + 8) = uVar6;
  uVar6 = FUN_800143ec(puVar5,0x10,iVar10,0);
  puVar5 = PTR_DAT_800a59b0;
  *(undefined4 *)(param_1 + 10) = uVar6;
  uVar6 = FUN_800143ec(puVar5,8,iVar10,0);
  puVar5 = PTR_DAT_800a59b0;
  *(undefined4 *)(param_1 + 0xc) = uVar6;
  uVar6 = FUN_800143ec(puVar5,8,iVar10,0);
  *(undefined4 *)(param_1 + 0xe) = uVar6;
  if (param_1[0x3e] == 0) {
    sVar2 = param_1[0x3b];
  }
  else {
    sVar2 = param_1[0x3a];
  }
  iVar11 = (int)sVar2;
  uVar6 = FUN_800143ec(PTR_DAT_800a59b0,8,iVar11,0);
  puVar5 = PTR_DAT_800a59b0;
  *(undefined4 *)(param_1 + 0x34) = uVar6;
  uVar6 = FUN_800143ec(puVar5,8,iVar11,0);
  iVar10 = 0;
  *(undefined4 *)(param_1 + 0x36) = uVar6;
  if (0 < iVar11) {
    do {
      iVar8 = (iVar10 << 0x10) >> 0xd;
      *(undefined4 *)(iVar8 + *(int *)(param_1 + 0x34)) = 0;
      iVar10 = iVar10 + 1;
      *(undefined4 *)(iVar8 + *(int *)(param_1 + 0x36)) = 0;
    } while (iVar10 * 0x10000 >> 0x10 < iVar11);
  }
  local_50 = 0;
  sVar2 = param_1[0x38];
  sVar3 = param_1[0x39];
  while( true ) {
    uVar9 = (uint)local_50;
    uVar18 = 0;
    if (1 < uVar9) break;
    local_68 = param_5;
    p = *(SPRT_16 **)(param_1 + uVar9 * 2 + 8);
    p_00 = *(DR_TPAGE **)(param_1 + uVar9 * 2 + 0xc);
    local_48 = sVar3 << 4;
    for (; uVar16 = 0, (short)uVar18 < (short)param_1[0x3b]; uVar18 = uVar18 + 1) {
      puVar15 = &p->clut;
      uVar17 = sVar2 << 4;
      for (; (short)uVar16 < (short)param_1[0x3a]; uVar16 = uVar16 + 1) {
        uVar7 = *local_68;
        if (uVar7 != 0) {
          puVar14 = (ushort *)(param_4 + (uVar7 & 0xfff) * 8);
          puVar12 = (u_char *)(*(int *)(param_1 + 0x3c) + (uint)(uVar7 >> 0xc) * 3);
          SetSprt16(p);
          SetSemiTrans(p,(uint)*(byte *)(puVar14 + 3));
          SetShadeTex(p,0);
          *(u_char *)(puVar15 + -5) = *puVar12;
          *(u_char *)((int)puVar15 + -9) = puVar12[1];
          uVar1 = puVar12[2];
          puVar15[-3] = uVar17;
          puVar15[-2] = local_48;
          *(u_char *)(puVar15 + -4) = uVar1;
          *(u_char *)(puVar15 + -1) = *(u_char *)(puVar14 + 2);
          *(u_char *)((int)puVar15 + -1) = *(u_char *)((int)puVar14 + 5);
          *puVar15 = puVar14[1];
          SetDrawTPage(p_00,0,0,(uint)*puVar14 | (uint)param_11 << 5);
          uVar7 = uVar18;
          if (param_1[0x3e] != 0) {
            uVar7 = uVar16;
          }
          ppDVar13 = (DR_TPAGE **)(*(int *)(param_1 + uVar9 * 2 + 0x34) + (uint)uVar7 * 8);
          if (*ppDVar13 == (DR_TPAGE *)0x0) {
            *ppDVar13 = p_00;
          }
          else {
            CatPrim(ppDVar13[1],p_00);
          }
          ppDVar13[1] = p_00;
          puVar15 = puVar15 + 8;
          p_00 = p_00 + 1;
          CatPrim(ppDVar13[1],p);
          ppDVar13[1] = (DR_TPAGE *)p;
          p = p + 1;
        }
        uVar17 = uVar17 + 0x10;
        local_68 = local_68 + 1;
      }
      local_48 = local_48 + 0x10;
    }
    local_50 = local_50 + 1;
  }
  return param_1;
}



void FUN_80018898(undefined2 *param_1,undefined2 param_2)

{
  *(undefined **)(param_1 + 6) = &DAT_8001039c;
  *(undefined *)(param_1 + 5) = 1;
  param_1[4] = param_2;
  *param_1 = 0;
  param_1[1] = 0;
  param_1[2] = 0;
  param_1[3] = 0;
  *(undefined **)(param_1 + 6) = &DAT_80010344;
  *(undefined4 *)(param_1 + 8) = 0;
  *(undefined *)(param_1 + 0x2a) = 0;
  return;
}



// WARNING: Removing unreachable block (ram,0x80019060)
// WARNING: Removing unreachable block (ram,0x80018f40)
// WARNING: Removing unreachable block (ram,0x80019094)
// WARNING: Removing unreachable block (ram,0x80019130)
// WARNING: Removing unreachable block (ram,0x80019150)

void load_sprites(int param_1,int param_2)

{
  undefined *puVar1;
  uint uVar2;
  uint *puVar3;
  char cVar4;
  u_short uVar5;
  ushort uVar6;
  int iVar7;
  int *piVar8;
  u_long *p;
  short sVar9;
  int i;
  short *psVar10;
  int *piVar11;
  ushort uVar12;
  int local_50;
  u_long *local_4c;
  uint uStack_44;
  undefined2 local_40;
  undefined local_3e;
  undefined auStack_38 [8];
  RECT sprite;
  
  i = 0;
  iVar7 = 0;
  do {
    i = i + 1;
    if (*(int *)(param_1 + (iVar7 >> 0x10) * 0x18) == param_2) {
      return;
    }
    iVar7 = i * 0x10000;
  } while (i * 0x10000 >> 0x10 < 0x14);
  i = 0;
  iVar7 = 0;
  do {
    sVar9 = (short)i;
    i = i + 1;
    if (*(int *)(param_1 + (iVar7 >> 0x10) * 0x18) == 0) break;
    iVar7 = i * 0x10000;
    sVar9 = (short)i;
  } while (i * 0x10000 >> 0x10 < 0x14);
  if (sVar9 < 0x14) {
    piVar11 = (int *)(param_1 + sVar9 * 0x18);
    *piVar11 = param_2;
    FUN_8007bbac(&local_50);
    *(undefined2 *)(piVar11 + 4) = local_40;
    puVar1 = auStack_38 + 3;
    uVar2 = (uint)puVar1 & 3;
    *(uint *)(puVar1 + -uVar2) =
         *(uint *)(puVar1 + -uVar2) & -1 << (uVar2 + 1) * 8 | uStack_44 >> (3 - uVar2) * 8;
    auStack_38._0_4_ = uStack_44;
    uVar2 = (int)piVar11 + 0xbU & 3;
    puVar3 = (uint *)(((int)piVar11 + 0xbU) - uVar2);
    *puVar3 = *puVar3 & -1 << (uVar2 + 1) * 8 | uStack_44 >> (3 - uVar2) * 8;
    uVar2 = (uint)(piVar11 + 2) & 3;
    puVar3 = (uint *)((int)(piVar11 + 2) - uVar2);
    *puVar3 = *puVar3 & 0xffffffffU >> (4 - uVar2) * 8 | uStack_44 << uVar2 * 8;
    *(undefined *)(piVar11 + 5) = local_3e;
    cVar4 = FUN_80013d0c(PTR_DAT_800a59b0,piVar11 + 3,1);
    if (cVar4 == '\0') {
      *(undefined2 *)((int)piVar11 + 0x12) = 0;
    }
    else {
      uVar5 = GetClut((int)*(short *)(piVar11 + 3),(int)*(short *)((int)piVar11 + 0xe));
      *(u_short *)((int)piVar11 + 0x12) = uVar5;
    }
    LoadClut(local_4c,(int)*(short *)(piVar11 + 3),(int)*(short *)((int)piVar11 + 0xe));
    DrawSync(0);
    piVar8 = (int *)FUN_800143ec(PTR_DAT_800a59b0,0x14,*(undefined2 *)(piVar11 + 4),0);
    psVar10 = (short *)((int)piVar8 + 6);
    piVar11[1] = (int)piVar8;
    for (uVar12 = 0; puVar1 = PTR_DAT_800a59b0,
        (int)(short)uVar12 < (int)(uint)*(ushort *)(piVar11 + 4); uVar12 = uVar12 + 1) {
      iVar7 = local_50 + (uint)uVar12 * 0x24;
      *piVar8 = iVar7;
      uVar6 = *(short *)(iVar7 + 10) + 3U & 0xfffc;
      cVar4 = FUN_800138ec(puVar1,piVar8 + 1,1,(int)(short)uVar6,(int)*(short *)(iVar7 + 0xc));
      *(char *)(psVar10 + 5) = cVar4;
      if (cVar4 != '\0') {
        uVar5 = GetTPage(1,0,(int)psVar10[-1] & 0xffffffc0,(int)*psVar10 & 0xffffff00);
        psVar10[3] = uVar5;
        *(char *)(psVar10 + 4) = (char)((*(byte *)(psVar10 + -1) & 0x3f) << 1);
        *(char *)((int)psVar10 + 9) = (char)*psVar10;
        i = (int)(short)uVar6;
        p = (u_long *)FUN_800143ec(PTR_DAT_800a59b0,1,i * *(short *)(iVar7 + 0xc),0);
        FUN_80010000(p,uVar6 * *(short *)(iVar7 + 0xc),0);
        FUN_8007bda8(&local_50,uVar12,p,i,0,0);
        sprite.x = psVar10[-1];
        sprite.y = *psVar10;
        sprite.w = (short)(i >> 1);
        sprite.h = *(short *)(iVar7 + 0xc);
        LoadImage(&sprite,p);
        potentially_load_asset_(PTR_DAT_800a59b0,p,0,0);
        DrawSync(0);
      }
      psVar10 = psVar10 + 10;
      piVar8 = piVar8 + 5;
    }
  }
  return;
}



void FUN_800191d8(undefined4 param_1,int *param_2)

{
  int iVar1;
  
  iVar1 = *param_2;
  while (iVar1 != 0) {
    iVar1 = *param_2;
    param_2 = param_2 + 1;
    load_sprites(param_1,iVar1);
    iVar1 = *param_2;
  }
  return;
}



void FUN_80019234(int param_1,uint param_2)

{
  int iVar1;
  undefined2 *puVar2;
  undefined4 *puVar3;
  int iVar4;
  
  iVar1 = param_1 + (param_2 & 0xff) * 0x18;
  if (*(short *)(iVar1 + 0x12) != 0) {
    FUN_80013f4c(PTR_DAT_800a59b0,iVar1 + 0xc);
  }
  iVar4 = 0;
  if (*(short *)(iVar1 + 0x10) != 0) {
    puVar2 = (undefined2 *)(*(int *)(iVar1 + 4) + 10);
    do {
      if (*(char *)(puVar2 + 3) != '\0') {
        FUN_80013aac(PTR_DAT_800a59b0,*(undefined4 *)(puVar2 + -3),CONCAT22(*puVar2,puVar2[-1]));
      }
      iVar4 = iVar4 + 1;
      puVar2 = puVar2 + 10;
    } while (iVar4 * 0x10000 >> 0x10 < (int)(uint)*(ushort *)(iVar1 + 0x10));
  }
  puVar3 = (undefined4 *)(param_1 + (param_2 & 0xff) * 0x18);
  potentially_load_asset_(PTR_DAT_800a59b0,puVar3[1],0,0);
  *puVar3 = 0;
  return;
}



void FUN_80019470(int param_1)

{
  int iVar1;
  uint uVar2;
  
  uVar2 = 0;
  iVar1 = 0;
  do {
    if (*(int *)(param_1 + (iVar1 >> 0x10) * 0x18) != 0) {
      FUN_80019234(param_1,uVar2 & 0xff);
    }
    uVar2 = uVar2 + 1;
    iVar1 = uVar2 * 0x10000;
  } while ((int)(uVar2 * 0x10000) >> 0x10 < 0x14);
  return;
}



void FUN_80019548(undefined4 *param_1)

{
  *param_1 = 0;
  return;
}



void FUN_800195ac(int **param_1,int param_2)

{
  int iVar1;
  int *piVar2;
  int iVar3;
  
  iVar3 = 0;
  iVar1 = 0;
  do {
    piVar2 = (int *)(PTR_DAT_800a59b8 + (iVar1 >> 0x10) * 0x18);
    iVar3 = iVar3 + 1;
    if (*piVar2 == param_2) goto LAB_80019600;
    iVar1 = iVar3 * 0x10000;
  } while (iVar3 * 0x10000 >> 0x10 < 0x14);
  piVar2 = (int *)0x0;
LAB_80019600:
  *param_1 = piVar2;
  return;
}



undefined2 FUN_80019638(int *param_1)

{
  return *(undefined2 *)(*param_1 + 0x10);
}



undefined4 FUN_8001964c(int *param_1,uint param_2)

{
  return *(undefined4 *)((param_2 & 0xffff) * 0x14 + *(int *)(*param_1 + 4));
}



void FUN_800196d4(void)

{
  FUN_80019470(&DAT_8009aeb4);
  return;
}



void FUN_800196fc(void)

{
  short sVar1;
  int iVar2;
  
  iVar2 = 0;
  do {
    sVar1 = (short)iVar2;
    iVar2 = iVar2 + 1;
    (&DAT_8009aeb4)[sVar1 * 6] = 0;
  } while (iVar2 * 0x10000 >> 0x10 < 20);
  return;
}



void FUN_80019744(undefined2 *param_1,undefined2 param_2)

{
  *(undefined **)(param_1 + 0xc) = &DAT_800104ac;
  *param_1 = 0;
  param_1[1] = 0;
  *(undefined4 *)(param_1 + 2) = 0;
  param_1[4] = 0;
  param_1[5] = 0;
  *(undefined4 *)(param_1 + 6) = 0;
  param_1[8] = param_2;
  *(undefined *)(param_1 + 10) = 1;
  param_1[9] = 0;
  return;
}



void FUN_8001978c(undefined2 *param_1,undefined param_2)

{
  undefined *puVar1;
  u_short uVar2;
  
  *(undefined **)(param_1 + 0xc) = &DAT_800104ac;
  *param_1 = 0;
  param_1[1] = 0;
  *(undefined4 *)(param_1 + 2) = 0;
  *(undefined *)(param_1 + 10) = 1;
  *(undefined *)(param_1 + 0x1a) = param_2;
  puVar1 = PTR_DAT_800a59b0;
  param_1[4] = 0;
  param_1[5] = 0;
  *(undefined4 *)(param_1 + 6) = 0;
  param_1[8] = 0;
  param_1[9] = 0;
  *(undefined **)(param_1 + 0xc) = &DAT_8001048c;
  FUN_80013d0c(puVar1,param_1 + 0x14,param_2);
  uVar2 = GetClut((int)(short)param_1[0x14],(int)(short)param_1[0x15]);
  param_1[0x16] = uVar2;
  *(undefined4 *)(param_1 + 0xe) = 0;
  *(undefined *)((int)param_1 + 0x35) = 0;
  *(undefined *)(param_1 + 0x1b) = 0xff;
  *(undefined *)((int)param_1 + 0x37) = 0;
  *(undefined *)(param_1 + 0x1c) = 1;
  *(undefined *)((int)param_1 + 0x39) = 0;
  *(undefined4 *)(param_1 + 0x10) = 0;
  *(undefined4 *)(param_1 + 0x12) = 0;
  param_1[0x17] = 0;
  param_1[0x18] = 0;
  param_1[0x19] = 0;
  *(undefined *)(param_1 + 10) = 0;
  return;
}



// seems to load the tiles for maps rather than sprites

void load_tiles(int param_1,u_long *param_2)

{
  RECT tile;
  
  if (*(char *)(param_1 + 0x34) == '\0') {
    tile.x = *(short *)(param_1 + 0x28);
    tile.y = *(short *)(param_1 + 0x2a);
    tile.w = 0x10;
    tile.h = 1;
    LoadImage(&tile,param_2);
  }
  else if (*(char *)(param_1 + 0x34) == '\x01') {
    LoadClut(param_2,(int)*(short *)(param_1 + 0x28),(int)*(short *)(param_1 + 0x2a));
  }
  return;
}



void FUN_80019d70(undefined *param_1,undefined4 *param_2,uint param_3)

{
  uint *puVar1;
  uint uVar2;
  uint uVar3;
  uint uVar4;
  uint uVar5;
  undefined4 uVar6;
  uint uVar7;
  undefined *puVar8;
  undefined4 uVar9;
  uint uVar10;
  uint uVar11;
  undefined4 uVar12;
  uint uVar13;
  undefined4 *puVar14;
  undefined4 *puVar15;
  undefined8 uVar16;
  
  if (param_1[0x34] == '\0') {
    uVar2 = *(uint *)(param_1 + 0x1c);
    uVar10 = 2;
    uVar5 = 0;
    puVar8 = param_1;
    if (uVar2 == 0) {
      param_3 = 0x10;
      puVar8 = PTR_DAT_800a59b0;
      uVar16 = FUN_800143ec();
      uVar5 = (uint)((ulonglong)uVar16 >> 0x20);
      *(int *)(param_1 + 0x1c) = (int)uVar16;
      uVar2 = *(uint *)(param_1 + 0x1c);
    }
    uVar4 = (int)param_2 + 3U & 3;
    uVar3 = (uint)param_2 & 3;
    uVar3 = (*(int *)(((int)param_2 + 3U) - uVar4) << (3 - uVar4) * 8 |
            uVar5 & 0xffffffffU >> (uVar4 + 1) * 8) & -1 << (4 - uVar3) * 8 |
            *(uint *)((int)param_2 - uVar3) >> uVar3 * 8;
    uVar5 = (int)param_2 + 7U & 3;
    uVar4 = (uint)(param_2 + 1) & 3;
    uVar7 = (*(int *)(((int)param_2 + 7U) - uVar5) << (3 - uVar5) * 8 |
            (uint)puVar8 & 0xffffffffU >> (uVar5 + 1) * 8) & -1 << (4 - uVar4) * 8 |
            *(uint *)((int)(param_2 + 1) - uVar4) >> uVar4 * 8;
    uVar5 = (int)param_2 + 0xbU & 3;
    uVar4 = (uint)(param_2 + 2) & 3;
    uVar11 = (*(int *)(((int)param_2 + 0xbU) - uVar5) << (3 - uVar5) * 8 |
             uVar10 & 0xffffffffU >> (uVar5 + 1) * 8) & -1 << (4 - uVar4) * 8 |
             *(uint *)((int)(param_2 + 2) - uVar4) >> uVar4 * 8;
    uVar5 = (int)param_2 + 0xfU & 3;
    uVar10 = (uint)(param_2 + 3) & 3;
    uVar13 = (*(int *)(((int)param_2 + 0xfU) - uVar5) << (3 - uVar5) * 8 |
             param_3 & 0xffffffffU >> (uVar5 + 1) * 8) & -1 << (4 - uVar10) * 8 |
             *(uint *)((int)(param_2 + 3) - uVar10) >> uVar10 * 8;
    uVar5 = uVar2 + 3 & 3;
    puVar1 = (uint *)((uVar2 + 3) - uVar5);
    *puVar1 = *puVar1 & -1 << (uVar5 + 1) * 8 | uVar3 >> (3 - uVar5) * 8;
    uVar5 = uVar2 & 3;
    *(uint *)(uVar2 - uVar5) =
         *(uint *)(uVar2 - uVar5) & 0xffffffffU >> (4 - uVar5) * 8 | uVar3 << uVar5 * 8;
    uVar5 = uVar2 + 7 & 3;
    puVar1 = (uint *)((uVar2 + 7) - uVar5);
    *puVar1 = *puVar1 & -1 << (uVar5 + 1) * 8 | uVar7 >> (3 - uVar5) * 8;
    uVar5 = uVar2 + 4 & 3;
    puVar1 = (uint *)((uVar2 + 4) - uVar5);
    *puVar1 = *puVar1 & 0xffffffffU >> (4 - uVar5) * 8 | uVar7 << uVar5 * 8;
    uVar5 = uVar2 + 0xb & 3;
    puVar1 = (uint *)((uVar2 + 0xb) - uVar5);
    *puVar1 = *puVar1 & -1 << (uVar5 + 1) * 8 | uVar11 >> (3 - uVar5) * 8;
    uVar5 = uVar2 + 8 & 3;
    puVar1 = (uint *)((uVar2 + 8) - uVar5);
    *puVar1 = *puVar1 & 0xffffffffU >> (4 - uVar5) * 8 | uVar11 << uVar5 * 8;
    uVar5 = uVar2 + 0xf & 3;
    puVar1 = (uint *)((uVar2 + 0xf) - uVar5);
    *puVar1 = *puVar1 & -1 << (uVar5 + 1) * 8 | uVar13 >> (3 - uVar5) * 8;
    uVar5 = uVar2 + 0xc & 3;
    puVar1 = (uint *)((uVar2 + 0xc) - uVar5);
    *puVar1 = *puVar1 & 0xffffffffU >> (4 - uVar5) * 8 | uVar13 << uVar5 * 8;
    uVar5 = (int)param_2 + 0x13U & 3;
    uVar10 = (uint)(param_2 + 4) & 3;
    uVar4 = (*(int *)(((int)param_2 + 0x13U) - uVar5) << (3 - uVar5) * 8 |
            uVar3 & 0xffffffffU >> (uVar5 + 1) * 8) & -1 << (4 - uVar10) * 8 |
            *(uint *)((int)(param_2 + 4) - uVar10) >> uVar10 * 8;
    uVar5 = (int)param_2 + 0x17U & 3;
    uVar10 = (uint)(param_2 + 5) & 3;
    uVar3 = (*(int *)(((int)param_2 + 0x17U) - uVar5) << (3 - uVar5) * 8 |
            uVar7 & 0xffffffffU >> (uVar5 + 1) * 8) & -1 << (4 - uVar10) * 8 |
            *(uint *)((int)(param_2 + 5) - uVar10) >> uVar10 * 8;
    uVar5 = (int)param_2 + 0x1bU & 3;
    uVar10 = (uint)(param_2 + 6) & 3;
    uVar7 = (*(int *)(((int)param_2 + 0x1bU) - uVar5) << (3 - uVar5) * 8 |
            uVar11 & 0xffffffffU >> (uVar5 + 1) * 8) & -1 << (4 - uVar10) * 8 |
            *(uint *)((int)(param_2 + 6) - uVar10) >> uVar10 * 8;
    uVar5 = (int)param_2 + 0x1fU & 3;
    uVar10 = (uint)(param_2 + 7) & 3;
    uVar10 = (*(int *)(((int)param_2 + 0x1fU) - uVar5) << (3 - uVar5) * 8 |
             uVar13 & 0xffffffffU >> (uVar5 + 1) * 8) & -1 << (4 - uVar10) * 8 |
             *(uint *)((int)(param_2 + 7) - uVar10) >> uVar10 * 8;
    uVar5 = uVar2 + 0x13 & 3;
    puVar1 = (uint *)((uVar2 + 0x13) - uVar5);
    *puVar1 = *puVar1 & -1 << (uVar5 + 1) * 8 | uVar4 >> (3 - uVar5) * 8;
    uVar5 = uVar2 + 0x10 & 3;
    puVar1 = (uint *)((uVar2 + 0x10) - uVar5);
    *puVar1 = *puVar1 & 0xffffffffU >> (4 - uVar5) * 8 | uVar4 << uVar5 * 8;
    uVar5 = uVar2 + 0x17 & 3;
    puVar1 = (uint *)((uVar2 + 0x17) - uVar5);
    *puVar1 = *puVar1 & -1 << (uVar5 + 1) * 8 | uVar3 >> (3 - uVar5) * 8;
    uVar5 = uVar2 + 0x14 & 3;
    puVar1 = (uint *)((uVar2 + 0x14) - uVar5);
    *puVar1 = *puVar1 & 0xffffffffU >> (4 - uVar5) * 8 | uVar3 << uVar5 * 8;
    uVar5 = uVar2 + 0x1b & 3;
    puVar1 = (uint *)((uVar2 + 0x1b) - uVar5);
    *puVar1 = *puVar1 & -1 << (uVar5 + 1) * 8 | uVar7 >> (3 - uVar5) * 8;
    uVar5 = uVar2 + 0x18 & 3;
    puVar1 = (uint *)((uVar2 + 0x18) - uVar5);
    *puVar1 = *puVar1 & 0xffffffffU >> (4 - uVar5) * 8 | uVar7 << uVar5 * 8;
    uVar5 = uVar2 + 0x1f & 3;
    puVar1 = (uint *)((uVar2 + 0x1f) - uVar5);
    *puVar1 = *puVar1 & -1 << (uVar5 + 1) * 8 | uVar10 >> (3 - uVar5) * 8;
    uVar5 = uVar2 + 0x1c & 3;
    puVar1 = (uint *)((uVar2 + 0x1c) - uVar5);
    *puVar1 = *puVar1 & 0xffffffffU >> (4 - uVar5) * 8 | uVar10 << uVar5 * 8;
  }
  else if (param_1[0x34] == '\x01') {
    uVar2 = 2;
    uVar5 = 1;
    puVar8 = param_1;
    if (*(int *)(param_1 + 0x1c) == 0) {
      puVar8 = PTR_DAT_800a59b0;
      uVar16 = FUN_800143ec(PTR_DAT_800a59b0,2,0x100,0);
      uVar5 = (uint)((ulonglong)uVar16 >> 0x20);
      *(int *)(param_1 + 0x1c) = (int)uVar16;
    }
    puVar14 = *(undefined4 **)(param_1 + 0x1c);
    uVar10 = ((uint)param_2 | (uint)puVar14) & 3;
    puVar15 = param_2 + 0x80;
    if (uVar10 == 0) {
      do {
        uVar6 = param_2[1];
        uVar9 = param_2[2];
        uVar12 = param_2[3];
        *puVar14 = *param_2;
        puVar14[1] = uVar6;
        puVar14[2] = uVar9;
        puVar14[3] = uVar12;
        param_2 = param_2 + 4;
        puVar14 = puVar14 + 4;
      } while (param_2 != puVar15);
    }
    else {
      do {
        uVar4 = (int)param_2 + 3U & 3;
        uVar3 = (uint)param_2 & 3;
        uVar10 = (*(int *)(((int)param_2 + 3U) - uVar4) << (3 - uVar4) * 8 |
                 uVar10 & 0xffffffffU >> (uVar4 + 1) * 8) & -1 << (4 - uVar3) * 8 |
                 *(uint *)((int)param_2 - uVar3) >> uVar3 * 8;
        uVar4 = (int)param_2 + 7U & 3;
        uVar3 = (uint)(param_2 + 1) & 3;
        uVar5 = (*(int *)(((int)param_2 + 7U) - uVar4) << (3 - uVar4) * 8 |
                uVar5 & 0xffffffffU >> (uVar4 + 1) * 8) & -1 << (4 - uVar3) * 8 |
                *(uint *)((int)(param_2 + 1) - uVar3) >> uVar3 * 8;
        uVar4 = (int)param_2 + 0xbU & 3;
        uVar3 = (uint)(param_2 + 2) & 3;
        puVar8 = (undefined *)
                 ((*(int *)(((int)param_2 + 0xbU) - uVar4) << (3 - uVar4) * 8 |
                  (uint)puVar8 & 0xffffffffU >> (uVar4 + 1) * 8) & -1 << (4 - uVar3) * 8 |
                 *(uint *)((int)(param_2 + 2) - uVar3) >> uVar3 * 8);
        uVar4 = (int)param_2 + 0xfU & 3;
        uVar3 = (uint)(param_2 + 3) & 3;
        uVar2 = (*(int *)(((int)param_2 + 0xfU) - uVar4) << (3 - uVar4) * 8 |
                uVar2 & 0xffffffffU >> (uVar4 + 1) * 8) & -1 << (4 - uVar3) * 8 |
                *(uint *)((int)(param_2 + 3) - uVar3) >> uVar3 * 8;
        uVar4 = (int)puVar14 + 3U & 3;
        puVar1 = (uint *)(((int)puVar14 + 3U) - uVar4);
        *puVar1 = *puVar1 & -1 << (uVar4 + 1) * 8 | uVar10 >> (3 - uVar4) * 8;
        uVar4 = (uint)puVar14 & 3;
        *(uint *)((int)puVar14 - uVar4) =
             *(uint *)((int)puVar14 - uVar4) & 0xffffffffU >> (4 - uVar4) * 8 | uVar10 << uVar4 * 8;
        uVar4 = (int)puVar14 + 7U & 3;
        puVar1 = (uint *)(((int)puVar14 + 7U) - uVar4);
        *puVar1 = *puVar1 & -1 << (uVar4 + 1) * 8 | uVar5 >> (3 - uVar4) * 8;
        uVar4 = (uint)(puVar14 + 1) & 3;
        puVar1 = (uint *)((int)(puVar14 + 1) - uVar4);
        *puVar1 = *puVar1 & 0xffffffffU >> (4 - uVar4) * 8 | uVar5 << uVar4 * 8;
        uVar4 = (int)puVar14 + 0xbU & 3;
        puVar1 = (uint *)(((int)puVar14 + 0xbU) - uVar4);
        *puVar1 = *puVar1 & -1 << (uVar4 + 1) * 8 | (uint)puVar8 >> (3 - uVar4) * 8;
        uVar4 = (uint)(puVar14 + 2) & 3;
        puVar1 = (uint *)((int)(puVar14 + 2) - uVar4);
        *puVar1 = *puVar1 & 0xffffffffU >> (4 - uVar4) * 8 | (int)puVar8 << uVar4 * 8;
        uVar4 = (int)puVar14 + 0xfU & 3;
        puVar1 = (uint *)(((int)puVar14 + 0xfU) - uVar4);
        *puVar1 = *puVar1 & -1 << (uVar4 + 1) * 8 | uVar2 >> (3 - uVar4) * 8;
        uVar4 = (uint)(puVar14 + 3) & 3;
        puVar1 = (uint *)((int)(puVar14 + 3) - uVar4);
        *puVar1 = *puVar1 & 0xffffffffU >> (4 - uVar4) * 8 | uVar2 << uVar4 * 8;
        param_2 = param_2 + 4;
        puVar14 = puVar14 + 4;
      } while (param_2 != puVar15);
    }
  }
  return;
}



void FUN_80019f28(undefined4 *param_1,undefined param_2,undefined param_3,undefined param_4,
                 undefined param_5)

{
  if (param_1[7] != 0) {
    *(undefined *)((int)param_1 + 0x35) = param_3;
    *(undefined *)((int)param_1 + 0x36) = param_4;
    *(undefined *)((int)param_1 + 0x37) = param_5;
    *(undefined *)(param_1 + 0xe) = param_2;
    *(undefined *)((int)param_1 + 0x39) = param_2;
    *param_1 = 0xffff0000;
    param_1[1] = &LAB_80019918;
  }
  return;
}



void FUN_8001a0c4(undefined2 *param_1,undefined2 param_2)

{
  *(undefined **)(param_1 + 0xc) = &DAT_800104ac;
  *param_1 = 0;
  param_1[1] = 0;
  *(undefined4 *)(param_1 + 2) = 0;
  *(undefined *)(param_1 + 10) = 1;
  param_1[4] = 0;
  param_1[5] = 0;
  *(undefined4 *)(param_1 + 6) = 0;
  param_1[8] = param_2;
  param_1[9] = 0;
  *(undefined **)(param_1 + 0xc) = &DAT_8001046c;
  *(undefined4 *)(param_1 + 4) = 0xffff0000;
  *(undefined **)(param_1 + 6) = &LAB_80020284;
  param_1[0xe] = 0;
  param_1[0xf] = 0;
  *(undefined4 *)(param_1 + 0x10) = 0;
  param_1[0x12] = 0;
  param_1[0x13] = 0;
  *(undefined4 *)(param_1 + 0x14) = 0;
  param_1[0x16] = 0;
  param_1[0x17] = 0;
  *(undefined4 *)(param_1 + 0x18) = 0;
  param_1[0x34] = 0;
  param_1[0x35] = 0;
  *(undefined4 *)(param_1 + 0x1a) = 0;
  *(undefined *)(param_1 + 0x3a) = 0;
  *(undefined *)((int)param_1 + 0x75) = 0;
  param_1[0x1c] = 0;
  param_1[0x1d] = 0;
  param_1[0x1e] = 0;
  param_1[0x1f] = 0;
  param_1[0x20] = 0;
  param_1[0x21] = 0;
  param_1[0x22] = 0;
  param_1[0x23] = 0;
  param_1[0x24] = 0;
  param_1[0x25] = 0;
  param_1[0x26] = 0;
  param_1[0x27] = 0;
  *(undefined *)((int)param_1 + 0x77) = 0;
  param_1[0x38] = 0;
  *(undefined4 *)(param_1 + 0x28) = 0x10000;
  *(undefined4 *)(param_1 + 0x2a) = 0x10000;
  *(undefined4 *)(param_1 + 0x2c) = 0x10000;
  *(undefined4 *)(param_1 + 0x2e) = 0x10000;
  param_1[0x39] = 0;
  *(undefined4 *)(param_1 + 0x30) = 0x10000;
  *(undefined4 *)(param_1 + 0x32) = 0x10000;
  param_1[0x36] = 0;
  param_1[0x37] = 0;
  *(undefined *)(param_1 + 0x3b) = 0;
  return;
}



void FUN_8001a3a8(int param_1,short param_2,short param_3,short param_4,undefined param_5)

{
  undefined4 uVar1;
  
  uVar1 = FUN_800143ec(PTR_DAT_800a59b0,0x3c,1,0);
  uVar1 = FUN_80015468(uVar1,(int)param_2,(int)(short)(param_3 + 3U & 0xfffc),(int)param_4,param_5);
  *(undefined4 *)(param_1 + 0x34) = uVar1;
  return;
}



void FUN_8001a444(int param_1,uint param_2)

{
  uint uVar1;
  uint *puVar2;
  uint uVar3;
  uint uVar4;
  undefined8 uVar5;
  
  uVar5 = FUN_8001a498();
  uVar1 = param_1 + 0x4bU & 3;
  uVar4 = param_1 + 0x48U & 3;
  uVar3 = (*(int *)((param_1 + 0x4bU) - uVar1) << (3 - uVar1) * 8 |
          (uint)uVar5 & 0xffffffffU >> (uVar1 + 1) * 8) & -1 << (4 - uVar4) * 8 |
          *(uint *)((param_1 + 0x48U) - uVar4) >> uVar4 * 8;
  uVar1 = param_1 + 0x4fU & 3;
  uVar4 = param_1 + 0x4cU & 3;
  uVar4 = (*(int *)((param_1 + 0x4fU) - uVar1) << (3 - uVar1) * 8 |
          (uint)((ulonglong)uVar5 >> 0x20) & 0xffffffffU >> (uVar1 + 1) * 8) & -1 << (4 - uVar4) * 8
          | *(uint *)((param_1 + 0x4cU) - uVar4) >> uVar4 * 8;
  uVar1 = param_2 + 3 & 3;
  puVar2 = (uint *)((param_2 + 3) - uVar1);
  *puVar2 = *puVar2 & -1 << (uVar1 + 1) * 8 | uVar3 >> (3 - uVar1) * 8;
  uVar1 = param_2 & 3;
  *(uint *)(param_2 - uVar1) =
       *(uint *)(param_2 - uVar1) & 0xffffffffU >> (4 - uVar1) * 8 | uVar3 << uVar1 * 8;
  uVar1 = param_2 + 7 & 3;
  puVar2 = (uint *)((param_2 + 7) - uVar1);
  *puVar2 = *puVar2 & -1 << (uVar1 + 1) * 8 | uVar4 >> (3 - uVar1) * 8;
  uVar1 = param_2 + 4 & 3;
  puVar2 = (uint *)((param_2 + 4) - uVar1);
  *puVar2 = *puVar2 & 0xffffffffU >> (4 - uVar1) * 8 | uVar4 << uVar1 * 8;
  return;
}



void FUN_8001a498(int param_1,undefined4 param_2,short param_3)

{
  short sVar1;
  undefined2 uVar2;
  int iVar3;
  int iVar4;
  short sVar5;
  short in_t0;
  code *pcVar6;
  short unaff_s2;
  short unaff_s4;
  short unaff_s6;
  short local_50;
  short local_40;
  short local_28;
  
  if (*(char *)(param_1 + 0x77) != '\0') {
    return;
  }
  if (*(char *)(param_1 + 0x74) == '\0') {
    iVar4 = (int)*(short *)(param_1 + 0x26);
    sVar5 = *(short *)(param_1 + 0x68) + *(short *)(param_1 + 0x40);
    if (iVar4 == 0) {
      *(short *)(param_1 + 0x48) = sVar5;
    }
    else {
      if (iVar4 < 1) {
        pcVar6 = *(code **)(param_1 + 0x28);
      }
      else {
        iVar3 = iVar4 * 8 + *(int *)(param_1 + *(short *)(param_1 + 0x28));
        param_3 = (short)*(undefined4 *)(iVar3 + -8);
        pcVar6 = *(code **)(iVar3 + -4);
      }
      iVar3 = (int)*(short *)(param_1 + 0x24);
      if (0 < iVar4 << 0x10) {
        iVar3 = param_3 + iVar3;
      }
      uVar2 = (*pcVar6)(param_1 + iVar3,(int)sVar5);
      *(undefined2 *)(param_1 + 0x48) = uVar2;
    }
    sVar5 = *(short *)(param_1 + 0x44) + *(short *)(param_1 + 0x68) + *(short *)(param_1 + 0x40) +
            -1;
    iVar4 = (int)*(short *)(param_1 + 0x26);
    if (iVar4 != 0) {
      if (iVar4 < 1) {
        pcVar6 = *(code **)(param_1 + 0x28);
      }
      else {
        iVar3 = iVar4 * 8 + *(int *)(param_1 + *(short *)(param_1 + 0x28));
        unaff_s4 = (short)*(undefined4 *)(iVar3 + -8);
        pcVar6 = *(code **)(iVar3 + -4);
      }
      sVar1 = *(short *)(param_1 + 0x24);
      unaff_s2 = unaff_s4;
      goto joined_r0x8001a6e0;
    }
LAB_8001a710:
    *(short *)(param_1 + 0x4c) = sVar5;
  }
  else {
    sVar5 = ((*(short *)(param_1 + 0x68) - *(short *)(param_1 + 0x40)) - *(short *)(param_1 + 0x44))
            + 1;
    iVar4 = (int)*(short *)(param_1 + 0x26);
    if (iVar4 != 0) {
      if (iVar4 < 1) {
        pcVar6 = *(code **)(param_1 + 0x28);
      }
      else {
        iVar3 = iVar4 * 8 + *(int *)(param_1 + *(short *)(param_1 + 0x28));
        in_t0 = (short)*(undefined4 *)(iVar3 + -8);
        pcVar6 = *(code **)(iVar3 + -4);
      }
      iVar3 = (int)*(short *)(param_1 + 0x24);
      if (0 < iVar4 << 0x10) {
        iVar3 = in_t0 + iVar3;
      }
      sVar5 = (*pcVar6)(param_1 + iVar3,(int)sVar5);
    }
    *(short *)(param_1 + 0x48) = sVar5;
    iVar4 = (int)*(short *)(param_1 + 0x26);
    sVar5 = *(short *)(param_1 + 0x68) - *(short *)(param_1 + 0x40);
    if (iVar4 == 0) goto LAB_8001a710;
    if (iVar4 < 1) {
      pcVar6 = *(code **)(param_1 + 0x28);
    }
    else {
      iVar3 = iVar4 * 8 + *(int *)(param_1 + *(short *)(param_1 + 0x28));
      unaff_s2 = (short)*(undefined4 *)(iVar3 + -8);
      pcVar6 = *(code **)(iVar3 + -4);
    }
    sVar1 = *(short *)(param_1 + 0x24);
joined_r0x8001a6e0:
    iVar3 = (int)sVar1;
    if (0 < iVar4 << 0x10) {
      iVar3 = unaff_s2 + iVar3;
    }
    uVar2 = (*pcVar6)(param_1 + iVar3,(int)sVar5);
    *(undefined2 *)(param_1 + 0x4c) = uVar2;
  }
  if (*(char *)(param_1 + 0x75) == '\0') {
    iVar4 = (int)*(short *)(param_1 + 0x2e);
    sVar5 = *(short *)(param_1 + 0x6a) + *(short *)(param_1 + 0x42);
    if (iVar4 == 0) {
      *(short *)(param_1 + 0x4a) = sVar5;
    }
    else {
      if (iVar4 < 1) {
        pcVar6 = *(code **)(param_1 + 0x30);
      }
      else {
        iVar3 = iVar4 * 8 + *(int *)(param_1 + *(short *)(param_1 + 0x30));
        unaff_s6 = (short)*(undefined4 *)(iVar3 + -8);
        pcVar6 = *(code **)(iVar3 + -4);
      }
      iVar3 = (int)*(short *)(param_1 + 0x2c);
      if (0 < iVar4 << 0x10) {
        iVar3 = unaff_s6 + iVar3;
      }
      uVar2 = (*pcVar6)(param_1 + iVar3,(int)sVar5);
      *(undefined2 *)(param_1 + 0x4a) = uVar2;
    }
    sVar5 = *(short *)(param_1 + 0x46) + *(short *)(param_1 + 0x6a) + *(short *)(param_1 + 0x42) +
            -1;
    iVar4 = (int)*(short *)(param_1 + 0x2e);
    if (iVar4 != 0) {
      if (iVar4 < 1) {
        pcVar6 = *(code **)(param_1 + 0x30);
      }
      else {
        iVar3 = iVar4 * 8 + *(int *)(param_1 + *(short *)(param_1 + 0x30));
        local_28 = (short)*(undefined4 *)(iVar3 + -8);
        pcVar6 = *(code **)(iVar3 + -4);
      }
      sVar1 = *(short *)(param_1 + 0x2c);
      goto joined_r0x8001a958;
    }
  }
  else {
    sVar5 = ((*(short *)(param_1 + 0x6a) - *(short *)(param_1 + 0x42)) - *(short *)(param_1 + 0x46))
            + 1;
    iVar4 = (int)*(short *)(param_1 + 0x2e);
    if (iVar4 != 0) {
      if (iVar4 < 1) {
        pcVar6 = *(code **)(param_1 + 0x30);
      }
      else {
        iVar3 = iVar4 * 8 + *(int *)(param_1 + *(short *)(param_1 + 0x30));
        local_50 = (short)*(undefined4 *)(iVar3 + -8);
        pcVar6 = *(code **)(iVar3 + -4);
      }
      iVar3 = (int)*(short *)(param_1 + 0x2c);
      if (0 < iVar4 << 0x10) {
        iVar3 = local_50 + iVar3;
      }
      sVar5 = (*pcVar6)(param_1 + iVar3,(int)sVar5);
    }
    *(short *)(param_1 + 0x4a) = sVar5;
    iVar4 = (int)*(short *)(param_1 + 0x2e);
    sVar5 = *(short *)(param_1 + 0x6a) - *(short *)(param_1 + 0x42);
    if (iVar4 != 0) {
      if (iVar4 < 1) {
        pcVar6 = *(code **)(param_1 + 0x30);
      }
      else {
        iVar3 = iVar4 * 8 + *(int *)(param_1 + *(short *)(param_1 + 0x30));
        local_40 = (short)*(undefined4 *)(iVar3 + -8);
        pcVar6 = *(code **)(iVar3 + -4);
      }
      sVar1 = *(short *)(param_1 + 0x2c);
      local_28 = local_40;
joined_r0x8001a958:
      iVar3 = (int)sVar1;
      if (0 < iVar4 << 0x10) {
        iVar3 = local_28 + iVar3;
      }
      uVar2 = (*pcVar6)(param_1 + iVar3,(int)sVar5);
      *(undefined2 *)(param_1 + 0x4e) = uVar2;
      goto LAB_8001a99c;
    }
  }
  *(short *)(param_1 + 0x4e) = sVar5;
LAB_8001a99c:
  *(undefined *)(param_1 + 0x77) = 1;
  return;
}



void FUN_8001aab0(int param_1,char param_2)

{
  if (param_2 == '\x02') {
    param_2 = *(char *)(param_1 + 0x74) == '\0';
  }
  *(char *)(param_1 + 0x74) = param_2;
  *(undefined *)(param_1 + 0x76) = 1;
  return;
}



bool FUN_8001b35c(int param_1,short param_2,short param_3)

{
  bool bVar1;
  
  FUN_8001a498();
  bVar1 = false;
  if (((*(short *)(param_1 + 0x48) <= param_2) && (param_2 <= *(short *)(param_1 + 0x4c))) &&
     (*(short *)(param_1 + 0x4a) <= param_3)) {
    bVar1 = param_3 <= *(short *)(param_1 + 0x4e);
  }
  return bVar1;
}



bool FUN_8001b3ec(int param_1,undefined4 param_2,undefined4 param_3)

{
  bool bVar1;
  short local_res4;
  short sStackX_6;
  short local_res8;
  short sStackX_a;
  
  FUN_8001a498();
  local_res8 = (short)param_3;
  bVar1 = false;
  if (((*(short *)(param_1 + 0x48) <= local_res8) &&
      (local_res4 = (short)param_2, bVar1 = false, local_res4 <= *(short *)(param_1 + 0x4c))) &&
     (sStackX_a = (short)((uint)param_3 >> 0x10), bVar1 = false,
     *(short *)(param_1 + 0x4a) <= sStackX_a)) {
    sStackX_6 = (short)((uint)param_2 >> 0x10);
    bVar1 = sStackX_6 <= *(short *)(param_1 + 0x4e);
  }
  return bVar1;
}



void FUN_8001b478(int param_1,undefined2 param_2,undefined2 param_3,undefined4 param_4)

{
  FUN_8001a498();
  FUN_800226f4(BUF_PTR,*(undefined4 *)(param_1 + 0x48),*(undefined4 *)(param_1 + 0x4c),param_2,
               param_3,param_4,param_1);
  return;
}



void FUN_8001b590(int param_1,undefined2 param_2,undefined2 param_3,undefined4 param_4)

{
  short sVar1;
  short sVar2;
  int iVar3;
  int iVar4;
  short in_t0;
  code *pcVar5;
  short unaff_s2;
  
  iVar4 = (int)*(short *)(param_1 + 0x26);
  sVar1 = *(short *)(param_1 + 0x68);
  if (iVar4 != 0) {
    if (iVar4 < 1) {
      pcVar5 = *(code **)(param_1 + 0x28);
    }
    else {
      iVar3 = iVar4 * 8 + *(int *)(param_1 + *(short *)(param_1 + 0x28));
      in_t0 = (short)*(undefined4 *)(iVar3 + -8);
      pcVar5 = *(code **)(iVar3 + -4);
    }
    iVar3 = (int)*(short *)(param_1 + 0x24);
    if (0 < iVar4 << 0x10) {
      iVar3 = in_t0 + iVar3;
    }
    sVar1 = (*pcVar5)(param_1 + iVar3,(int)sVar1);
  }
  iVar4 = (int)*(short *)(param_1 + 0x2e);
  sVar2 = *(short *)(param_1 + 0x6a);
  if (iVar4 != 0) {
    if (iVar4 < 1) {
      pcVar5 = *(code **)(param_1 + 0x30);
    }
    else {
      iVar3 = iVar4 * 8 + *(int *)(param_1 + *(short *)(param_1 + 0x30));
      unaff_s2 = (short)*(undefined4 *)(iVar3 + -8);
      pcVar5 = *(code **)(iVar3 + -4);
    }
    iVar3 = (int)*(short *)(param_1 + 0x2c);
    if (0 < iVar4 << 0x10) {
      iVar3 = unaff_s2 + iVar3;
    }
    sVar2 = (*pcVar5)(param_1 + iVar3,(int)sVar2);
  }
  FUN_800224cc(BUF_PTR,(int)sVar1,(int)sVar2,param_2,param_3,param_4,param_1);
  return;
}



undefined4 FUN_8001b928(int param_1)

{
  short sVar1;
  short sVar2;
  int iVar3;
  int iVar4;
  short in_t0;
  code *pcVar5;
  short sVar6;
  short sVar7;
  short unaff_s4;
  short unaff_s6;
  short local_58;
  short local_56;
  short local_30;
  
  if (*(char *)(param_1 + 0x74) == '\0') {
    local_58 = *(short *)(param_1 + 0x68) + *(short *)(param_1 + 0x38);
    sVar1 = *(short *)(param_1 + 0x3c) + *(short *)(param_1 + 0x68) + *(short *)(param_1 + 0x38) +
            -1;
  }
  else {
    local_58 = ((*(short *)(param_1 + 0x68) - *(short *)(param_1 + 0x38)) -
               *(short *)(param_1 + 0x3c)) + 1;
    sVar1 = *(short *)(param_1 + 0x68) - *(short *)(param_1 + 0x38);
  }
  if (*(char *)(param_1 + 0x75) == '\0') {
    local_56 = *(short *)(param_1 + 0x6a) + *(short *)(param_1 + 0x3a);
    sVar2 = *(short *)(param_1 + 0x3e) + *(short *)(param_1 + 0x6a) + *(short *)(param_1 + 0x3a) +
            -1;
  }
  else {
    local_56 = ((*(short *)(param_1 + 0x6a) - *(short *)(param_1 + 0x3a)) -
               *(short *)(param_1 + 0x3e)) + 1;
    sVar2 = *(short *)(param_1 + 0x6a) - *(short *)(param_1 + 0x3a);
  }
  if (*(int *)(param_1 + 0x60) == 0x10000) {
    sVar6 = *(short *)(BUF_PTR + 0x44);
  }
  else {
    sVar6 = (short)((uint)((int)*(short *)(BUF_PTR + 0x44) * *(int *)(param_1 + 0x60)) >> 0x10);
  }
  if (*(int *)(param_1 + 100) == 0x10000) {
    sVar7 = *(short *)(BUF_PTR + 0x46);
  }
  else {
    sVar7 = (short)((uint)((int)*(short *)(BUF_PTR + 0x46) * *(int *)(param_1 + 100)) >> 0x10);
  }
  iVar4 = (int)*(short *)(param_1 + 0x26);
  if (iVar4 != 0) {
    if (iVar4 < 1) {
      pcVar5 = *(code **)(param_1 + 0x28);
    }
    else {
      iVar3 = iVar4 * 8 + *(int *)(param_1 + *(short *)(param_1 + 0x28));
      in_t0 = (short)*(undefined4 *)(iVar3 + -8);
      pcVar5 = *(code **)(iVar3 + -4);
    }
    iVar3 = (int)*(short *)(param_1 + 0x24);
    if (0 < iVar4 << 0x10) {
      iVar3 = in_t0 + iVar3;
    }
    sVar1 = (*pcVar5)(param_1 + iVar3,(int)sVar1);
  }
  if (-0x11 < (int)sVar1 - (int)sVar6) {
    iVar4 = (int)*(short *)(param_1 + 0x26);
    if (iVar4 != 0) {
      if (iVar4 < 1) {
        pcVar5 = *(code **)(param_1 + 0x28);
      }
      else {
        iVar3 = iVar4 * 8 + *(int *)(param_1 + *(short *)(param_1 + 0x28));
        unaff_s4 = (short)*(undefined4 *)(iVar3 + -8);
        pcVar5 = *(code **)(iVar3 + -4);
      }
      iVar3 = (int)*(short *)(param_1 + 0x24);
      if (0 < iVar4 << 0x10) {
        iVar3 = unaff_s4 + iVar3;
      }
      local_58 = (*pcVar5)(param_1 + iVar3,(int)local_58);
    }
    if ((int)local_58 - (int)sVar6 <= *(short *)PTR_DAT_800a59b0 + 0x10) {
      iVar4 = (int)*(short *)(param_1 + 0x2e);
      if (iVar4 != 0) {
        if (iVar4 < 1) {
          pcVar5 = *(code **)(param_1 + 0x30);
        }
        else {
          iVar3 = iVar4 * 8 + *(int *)(param_1 + *(short *)(param_1 + 0x30));
          unaff_s6 = (short)*(undefined4 *)(iVar3 + -8);
          pcVar5 = *(code **)(iVar3 + -4);
        }
        iVar3 = (int)*(short *)(param_1 + 0x2c);
        if (0 < iVar4 << 0x10) {
          iVar3 = unaff_s6 + iVar3;
        }
        sVar2 = (*pcVar5)(param_1 + iVar3,(int)sVar2);
      }
      if (-0x11 < (int)sVar2 - (int)sVar7) {
        iVar4 = (int)*(short *)(param_1 + 0x2e);
        if (iVar4 != 0) {
          if (iVar4 < 1) {
            pcVar5 = *(code **)(param_1 + 0x30);
          }
          else {
            iVar3 = iVar4 * 8 + *(int *)(param_1 + *(short *)(param_1 + 0x30));
            local_30 = (short)*(undefined4 *)(iVar3 + -8);
            pcVar5 = *(code **)(iVar3 + -4);
          }
          iVar3 = (int)*(short *)(param_1 + 0x2c);
          if (0 < iVar4 << 0x10) {
            iVar3 = local_30 + iVar3;
          }
          local_56 = (*pcVar5)(param_1 + iVar3,(int)local_56);
        }
        if ((int)local_56 - (int)sVar7 <= *(short *)(PTR_DAT_800a59b0 + 2) + 0x10) {
          return 0;
        }
      }
    }
  }
  return 1;
}



bool FUN_8001c174(int param_1)

{
  short sVar1;
  short sVar2;
  int iVar3;
  int iVar4;
  short in_t2;
  code *pcVar5;
  short sVar6;
  short local_16;
  
  if (*(char *)(param_1 + 0x74) == '\0') {
    sVar1 = *(short *)(param_1 + 0x68) + *(short *)(param_1 + 0x38);
    sVar2 = *(short *)(param_1 + 0x3c) + *(short *)(param_1 + 0x68) + *(short *)(param_1 + 0x38) +
            -1;
  }
  else {
    sVar1 = ((*(short *)(param_1 + 0x68) - *(short *)(param_1 + 0x38)) - *(short *)(param_1 + 0x3c))
            + 1;
    sVar2 = *(short *)(param_1 + 0x68) - *(short *)(param_1 + 0x38);
  }
  if (*(char *)(param_1 + 0x75) == '\0') {
    local_16 = *(short *)(param_1 + 0x6a) + *(short *)(param_1 + 0x3a);
  }
  else {
    local_16 = ((*(short *)(param_1 + 0x6a) - *(short *)(param_1 + 0x3a)) -
               *(short *)(param_1 + 0x3e)) + 1;
  }
  if (*(int *)(param_1 + 100) == 0x10000) {
    sVar6 = *(short *)(BUF_PTR + 0x46);
  }
  else {
    sVar6 = (short)((uint)((int)*(short *)(BUF_PTR + 0x46) * *(int *)(param_1 + 100)) >> 0x10);
  }
  iVar4 = (int)*(short *)(param_1 + 0x2e);
  if (iVar4 != 0) {
    if (iVar4 < 1) {
      pcVar5 = *(code **)(param_1 + 0x30);
    }
    else {
      iVar3 = iVar4 * 8 + *(int *)(param_1 + *(short *)(param_1 + 0x30));
      in_t2 = (short)*(undefined4 *)(iVar3 + -8);
      pcVar5 = *(code **)(iVar3 + -4);
    }
    iVar3 = (int)*(short *)(param_1 + 0x2c);
    if (0 < iVar4 << 0x10) {
      iVar3 = in_t2 + iVar3;
    }
    local_16 = (*pcVar5)(param_1 + iVar3,(int)local_16,param_1,pcVar5,sVar1,sVar2);
  }
  return *(short *)(PTR_DAT_800a59b0 + 2) + 0x10 < (int)local_16 - (int)sVar6;
}



void FUN_8001c360(int param_1)

{
  int iVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  
  iVar5 = *(int *)(BUF_PTR + 0x11c);
  if (iVar5 == 0x10000) {
    *(undefined4 *)(param_1 + 0x24) = 0;
    *(undefined4 *)(param_1 + 0x28) = 0;
    *(undefined4 *)(param_1 + 0x2c) = 0;
    *(undefined4 *)(param_1 + 0x30) = 0;
  }
  else {
    *(undefined4 *)(param_1 + 0x24) = 0xffff0000;
    *(undefined **)(param_1 + 0x28) = &LAB_8001a268;
    *(undefined4 *)(param_1 + 0x2c) = 0xffff0000;
    *(undefined **)(param_1 + 0x30) = &LAB_8001a298;
    *(int *)(param_1 + 0x58) = iVar5;
    iVar1 = *(int *)(param_1 + 0x58);
    iVar4 = (int)*(short *)(param_1 + 0x68) << 0x10;
    if (iVar1 == 0) {
      trap(0x1c00);
    }
    if ((iVar1 == -1) && (iVar4 == -0x80000000)) {
      trap(0x1800);
    }
    *(int *)(param_1 + 0x5c) = iVar5;
    iVar3 = *(int *)(param_1 + 0x5c);
    iVar2 = (int)*(short *)(param_1 + 0x6a) << 0x10;
    if (iVar3 == 0) {
      trap(0x1c00);
    }
    if ((iVar3 == -1) && (iVar2 == -0x80000000)) {
      trap(0x1800);
    }
    *(int *)(param_1 + 0x50) = iVar5;
    *(int *)(param_1 + 0x54) = iVar5;
    *(short *)(param_1 + 0x68) = (short)(iVar4 / iVar1);
    *(short *)(param_1 + 0x6a) = (short)(iVar2 / iVar3);
  }
  return;
}



void FUN_8001c4a0(int param_1,undefined4 param_2)

{
  short sVar1;
  int iVar2;
  int iVar3;
  short in_t0;
  code *pcVar4;
  short sVar5;
  
  if (*(int *)(param_1 + 0x60) == 0x10000) {
    sVar5 = *(short *)(BUF_PTR + 0x44);
  }
  else {
    sVar5 = (short)((uint)((int)*(short *)(BUF_PTR + 0x44) * *(int *)(param_1 + 0x60)) >> 0x10);
  }
  iVar3 = (int)*(short *)(param_1 + 0x26);
  sVar1 = *(short *)(param_1 + 0x68);
  if (iVar3 != 0) {
    if (iVar3 < 1) {
      pcVar4 = *(code **)(param_1 + 0x28);
    }
    else {
      iVar2 = iVar3 * 8 + *(int *)(param_1 + *(short *)(param_1 + 0x28));
      in_t0 = (short)*(undefined4 *)(iVar2 + -8);
      pcVar4 = *(code **)(iVar2 + -4);
    }
    iVar2 = (int)*(short *)(param_1 + 0x24);
    if (0 < iVar3 << 0x10) {
      iVar2 = in_t0 + iVar2;
    }
    sVar1 = (*pcVar4)(param_1 + iVar2,(int)sVar1);
  }
  FUN_8007c348(param_2,(int)sVar1 - (int)sVar5,0);
  return;
}



void FUN_8001c5b0(int param_1,int param_2)

{
  short sVar1;
  int iVar2;
  int iVar3;
  short in_t0;
  code *pcVar4;
  short sVar5;
  
  if (-1 < param_2) {
    if (*(int *)(param_1 + 0x60) == 0x10000) {
      sVar5 = *(short *)(BUF_PTR + 0x44);
    }
    else {
      sVar5 = (short)((uint)((int)*(short *)(BUF_PTR + 0x44) * *(int *)(param_1 + 0x60)) >> 0x10);
    }
    iVar3 = (int)*(short *)(param_1 + 0x26);
    sVar1 = *(short *)(param_1 + 0x68);
    if (iVar3 != 0) {
      if (iVar3 < 1) {
        pcVar4 = *(code **)(param_1 + 0x28);
      }
      else {
        iVar2 = iVar3 * 8 + *(int *)(param_1 + *(short *)(param_1 + 0x28));
        in_t0 = (short)*(undefined4 *)(iVar2 + -8);
        pcVar4 = *(code **)(iVar2 + -4);
      }
      iVar2 = (int)*(short *)(param_1 + 0x24);
      if (0 < iVar3 << 0x10) {
        iVar2 = in_t0 + iVar2;
      }
      sVar1 = (*pcVar4)(param_1 + iVar2,(int)sVar1);
    }
    FUN_8007c9e8(param_2,(int)sVar1 - (int)sVar5);
  }
  return;
}



int FUN_8001c6c4(int param_1,short param_2)

{
  FUN_8001a0c4(param_1,(int)param_2);
  *(undefined **)(param_1 + 0x18) = &DAT_8001044c;
  FUN_8007bb80(param_1 + 0x78);
  FUN_80019548(param_1 + 0x8c);
  FUN_8001c97c(param_1);
  return param_1;
}



undefined4 *
FUN_8001c71c(undefined4 *param_1,undefined4 param_2,short param_3,undefined2 param_4,
            undefined2 param_5,undefined param_6)

{
  undefined uVar1;
  undefined uVar2;
  int iVar3;
  
  FUN_8001a0c4(param_1,0x44c);
  param_1[6] = &DAT_8001044c;
  FUN_8007bb80(param_1 + 0x1e);
  FUN_80019548(param_1 + 0x23);
  FUN_8001c97c(param_1);
  *(undefined *)((int)param_1 + 0xf7) = param_6;
  *param_1 = 0xffff0000;
  param_1[1] = FUN_8001cb84;
  if (*(char *)((int)param_1 + 0xf7) == '\0') {
    FUN_8001cda8(param_1,(int)param_3,param_2);
  }
  else {
    FUN_8001d020(param_1,(int)param_3);
  }
  *(undefined2 *)(param_1 + 0x1a) = param_4;
  *(undefined2 *)((int)param_1 + 0x6a) = param_5;
  FUN_8001d07c(param_1,param_2,1);
  iVar3 = param_1[0xd];
  if (iVar3 != 0) {
    uVar1 = *(undefined *)(BUF_PTR + 0x125);
    uVar2 = *(undefined *)(BUF_PTR + 0x126);
    *(undefined *)(iVar3 + 0x34) = *(undefined *)(BUF_PTR + 0x124);
    *(undefined *)(iVar3 + 0x35) = uVar1;
    *(undefined *)(iVar3 + 0x36) = uVar2;
    *(undefined *)(param_1[0xd] + 0x33) = 1;
  }
  return param_1;
}



undefined4 *
FUN_8001c864(undefined4 *param_1,undefined4 *param_2,short param_3,undefined2 param_4,
            undefined2 param_5)

{
  undefined uVar1;
  undefined uVar2;
  int iVar3;
  
  FUN_8001a0c4(param_1,0x44c);
  param_1[6] = &DAT_8001044c;
  FUN_8007bb80(param_1 + 0x1e);
  FUN_80019548(param_1 + 0x23);
  FUN_8001c97c(param_1);
  *param_1 = 0xffff0000;
  param_1[1] = FUN_8001cb84;
  FUN_8001cea0(param_1,(int)param_3,param_2);
  *(undefined2 *)(param_1 + 0x1a) = param_4;
  *(undefined2 *)((int)param_1 + 0x6a) = param_5;
  FUN_8001d07c(param_1,*param_2,1);
  iVar3 = param_1[0xd];
  if (iVar3 != 0) {
    uVar1 = *(undefined *)(BUF_PTR + 0x125);
    uVar2 = *(undefined *)(BUF_PTR + 0x126);
    *(undefined *)(iVar3 + 0x34) = *(undefined *)(BUF_PTR + 0x124);
    *(undefined *)(iVar3 + 0x35) = uVar1;
    *(undefined *)(iVar3 + 0x36) = uVar2;
    *(undefined *)(param_1[0xd] + 0x33) = 1;
  }
  return param_1;
}



void FUN_8001c97c(int param_1)

{
  undefined *puVar1;
  undefined4 uVar2;
  
  *(undefined *)(param_1 + 0xfe) = 1;
  *(undefined *)(param_1 + 0xfd) = 0;
  *(undefined *)(param_1 + 0xf6) = 1;
  *(undefined *)(param_1 + 0xf7) = 0;
  *(undefined *)(param_1 + 0xf8) = 0;
  *(undefined2 *)(param_1 + 0x6c) = 0;
  *(undefined2 *)(param_1 + 0x6e) = 0;
  *(undefined4 *)(param_1 + 0xcc) = 0;
  *(undefined2 *)(param_1 + 0xda) = 0;
  *(undefined2 *)(param_1 + 0xdc) = 0;
  *(undefined2 *)(param_1 + 0xde) = 0;
  *(undefined *)(param_1 + 0xf0) = 0;
  *(undefined *)(param_1 + 0xf1) = 1;
  *(undefined *)(param_1 + 0xf2) = 1;
  *(undefined2 *)(param_1 + 0xec) = 0;
  *(undefined4 *)(param_1 + 0xb4) = 0;
  *(undefined4 *)(param_1 + 0xb8) = 0;
  *(undefined2 *)(param_1 + 0xe6) = 0;
  *(undefined2 *)(param_1 + 0xe8) = 0;
  *(undefined2 *)(param_1 + 0xe0) = 0;
  *(undefined4 *)(param_1 + 0x94) = 0;
  *(undefined2 *)(param_1 + 0x98) = 0;
  *(undefined2 *)(param_1 + 0x9a) = 0;
  *(undefined4 *)(param_1 + 0x9c) = 0;
  *(undefined2 *)(param_1 + 0xa0) = 0;
  *(undefined2 *)(param_1 + 0xa2) = 0;
  *(undefined4 *)(param_1 + 0xa4) = 0;
  *(undefined2 *)(param_1 + 0xa8) = 0;
  *(undefined2 *)(param_1 + 0xaa) = 0;
  *(undefined4 *)(param_1 + 0xac) = 0;
  *(undefined4 *)(param_1 + 0xb0) = 0;
  puVar1 = PTR_DAT_800a59b0;
  *(undefined4 *)(param_1 + 0xd4) = 0;
  uVar2 = FUN_800143ec(puVar1,0x18,1,0);
  *(undefined4 *)(param_1 + 0x90) = uVar2;
  *(undefined4 *)(param_1 + 0xd0) = 0;
  *(undefined2 *)(param_1 + 0xea) = 0;
  *(undefined *)(param_1 + 0xf9) = 0;
  *(undefined2 *)(param_1 + 0xee) = 0;
  *(undefined *)(param_1 + 0xfa) = 0;
  *(undefined *)(param_1 + 0xfb) = 0;
  *(undefined *)(param_1 + 0xfc) = 0;
  return;
}



void FUN_8001cb84(int param_1)

{
  ushort uVar1;
  int iVar2;
  int iVar3;
  short unaff_s2;
  code *pcVar4;
  
  FUN_8001d28c();
  iVar3 = (int)*(short *)(param_1 + 0x1e);
  if (iVar3 != 0) {
    if (iVar3 < 1) {
      pcVar4 = *(code **)(param_1 + 0x20);
    }
    else {
      iVar2 = iVar3 * 8 + *(int *)(param_1 + *(short *)(param_1 + 0x20));
      unaff_s2 = (short)*(undefined4 *)(iVar2 + -8);
      pcVar4 = *(code **)(iVar2 + -4);
    }
    iVar2 = (int)*(short *)(param_1 + 0x1c);
    if (0 < iVar3 << 0x10) {
      iVar2 = unaff_s2 + iVar2;
    }
    (*pcVar4)(param_1 + iVar2);
  }
  uVar1 = *(ushort *)(param_1 + 0xe0);
  *(undefined *)(param_1 + 0x77) = 0;
  if (((uVar1 & 3) == 1) && (FUN_8001d550(param_1), (uVar1 >> 3 & 1) != 0)) {
    FUN_8001d744(param_1);
  }
  return;
}



void FUN_8001cc68(int param_1)

{
  short sVar1;
  
  if (*(char *)(param_1 + 0x74) == '\0') {
    sVar1 = *(short *)(param_1 + 0x68) + *(short *)(param_1 + 0xe6);
  }
  else {
    sVar1 = *(short *)(param_1 + 0x68) - *(short *)(param_1 + 0xe6);
  }
  *(short *)(param_1 + 0x68) = sVar1;
  if (*(char *)(param_1 + 0x75) == '\0') {
    sVar1 = *(short *)(param_1 + 0x6a) + *(short *)(param_1 + 0xe8);
  }
  else {
    sVar1 = *(short *)(param_1 + 0x6a) - *(short *)(param_1 + 0xe8);
  }
  *(short *)(param_1 + 0x6a) = sVar1;
  *(undefined2 *)(param_1 + 0xe6) = 0;
  *(undefined2 *)(param_1 + 0xe8) = 0;
  return;
}



void FUN_8001cda8(int param_1,short param_2,undefined4 param_3)

{
  undefined *puVar1;
  uint uVar2;
  short sVar3;
  uint uVar4;
  uint uVar5;
  undefined4 uVar6;
  int iVar7;
  ushort uVar8;
  undefined local_20 [8];
  
  uVar4 = FUN_8007bbfc(param_1 + 0x78,param_3);
  uVar2 = param_1 + 0x87U & 3;
  uVar5 = param_1 + 0x84U & 3;
  uVar4 = (*(int *)((param_1 + 0x87U) - uVar2) << (3 - uVar2) * 8 |
          uVar4 & 0xffffffffU >> (uVar2 + 1) * 8) & -1 << (4 - uVar5) * 8 |
          *(uint *)((param_1 + 0x84U) - uVar5) >> uVar5 * 8;
  puVar1 = local_20 + 3;
  uVar2 = (uint)puVar1 & 3;
  *(uint *)(puVar1 + -uVar2) =
       *(uint *)(puVar1 + -uVar2) & -1 << (uVar2 + 1) * 8 | uVar4 >> (3 - uVar2) * 8;
  local_20._0_2_ = (undefined2)uVar4;
  uVar2 = param_1 + 0x87U & 3;
  uVar5 = param_1 + 0x84U & 3;
  uVar5 = (*(int *)((param_1 + 0x87U) - uVar2) << (3 - uVar2) * 8 |
          uVar4 & 0xffffffffU >> (uVar2 + 1) * 8) & -1 << (4 - uVar5) * 8 |
          *(uint *)((param_1 + 0x84U) - uVar5) >> uVar5 * 8;
  puVar1 = local_20 + 3;
  uVar2 = (uint)puVar1 & 3;
  *(uint *)(puVar1 + -uVar2) =
       *(uint *)(puVar1 + -uVar2) & -1 << (uVar2 + 1) * 8 | uVar5 >> (3 - uVar2) * 8;
  local_20._2_2_ = (undefined2)(uVar5 >> 0x10);
  sVar3 = local_20._2_2_;
  uVar8 = local_20._0_2_ + 3;
  local_20._0_4_ = uVar5;
  uVar6 = FUN_800143ec(PTR_DAT_800a59b0,0x3c,1,0);
  iVar7 = FUN_80015468(uVar6,(int)param_2,(int)(short)(uVar8 & 0xfffc),(int)sVar3,1);
  *(int *)(param_1 + 0x34) = iVar7;
  puVar1 = PTR_DAT_800a59b0;
  iVar7 = (int)*(short *)(iVar7 + 4) * (int)*(short *)(iVar7 + 6);
  *(int *)(param_1 + 0xd4) = iVar7;
  uVar6 = FUN_800143ec(puVar1,1,iVar7,0);
  *(undefined4 *)(param_1 + 0xb0) = uVar6;
  return;
}



void FUN_8001cea0(int param_1,short param_2,int *param_3)

{
  undefined *puVar1;
  uint uVar2;
  undefined4 uVar3;
  int iVar4;
  short sVar5;
  short sVar6;
  undefined auStack_38 [12];
  uint uStack_2c;
  short local_20;
  undefined local_1e [6];
  
  sVar5 = 0;
  sVar6 = 0;
  FUN_8007bbfc(param_1 + 0x78,*param_3);
  for (; *param_3 != 0; param_3 = param_3 + 1) {
    FUN_8007bbac(auStack_38);
    puVar1 = local_1e + 1;
    uVar2 = (uint)puVar1 & 3;
    *(uint *)(puVar1 + -uVar2) =
         *(uint *)(puVar1 + -uVar2) & -1 << (uVar2 + 1) * 8 | uStack_2c >> (3 - uVar2) * 8;
    local_20 = (short)uStack_2c;
    if (sVar5 < local_20) {
      puVar1 = local_1e + 1;
      uVar2 = (uint)puVar1 & 3;
      *(uint *)(puVar1 + -uVar2) =
           *(uint *)(puVar1 + -uVar2) & -1 << (uVar2 + 1) * 8 | uStack_2c >> (3 - uVar2) * 8;
      sVar5 = local_20;
    }
    puVar1 = local_1e + 1;
    uVar2 = (uint)puVar1 & 3;
    *(uint *)(puVar1 + -uVar2) =
         *(uint *)(puVar1 + -uVar2) & -1 << (uVar2 + 1) * 8 | uStack_2c >> (3 - uVar2) * 8;
    local_1e._0_2_ = (undefined2)(uStack_2c >> 0x10);
    if (sVar6 < (short)local_1e._0_2_) {
      puVar1 = local_1e + 1;
      uVar2 = (uint)puVar1 & 3;
      *(uint *)(puVar1 + -uVar2) =
           *(uint *)(puVar1 + -uVar2) & -1 << (uVar2 + 1) * 8 | uStack_2c >> (3 - uVar2) * 8;
      sVar6 = local_1e._0_2_;
    }
  }
  uVar3 = FUN_800143ec(PTR_DAT_800a59b0,0x3c,1,0);
  iVar4 = FUN_80015468(uVar3,(int)param_2,(int)(short)(sVar5 + 3U & 0xfffc),(int)sVar6,1);
  *(int *)(param_1 + 0x34) = iVar4;
  puVar1 = PTR_DAT_800a59b0;
  iVar4 = (int)*(short *)(iVar4 + 4) * (int)*(short *)(iVar4 + 6);
  *(int *)(param_1 + 0xd4) = iVar4;
  uVar3 = FUN_800143ec(puVar1,1,iVar4,0);
  *(undefined4 *)(param_1 + 0xb0) = uVar3;
  return;
}



void FUN_8001d020(int param_1,short param_2)

{
  undefined4 uVar1;
  
  uVar1 = FUN_800143ec(PTR_DAT_800a59b0,0x3c,1,0);
  uVar1 = FUN_80015610(uVar1,(int)param_2);
  *(undefined4 *)(param_1 + 0x34) = uVar1;
  return;
}



void FUN_8001d07c(int param_1,undefined4 param_2,ushort param_3)

{
  *(undefined4 *)(param_1 + 200) = 0xffff;
  *(ushort *)(param_1 + 0xe0) = param_3 | 0x1fc;
  *(undefined4 *)(param_1 + 0xbc) = param_2;
  *(undefined4 *)(param_1 + 0xc0) = 0;
  *(undefined4 *)(param_1 + 0xc4) = 0;
  *(undefined *)(param_1 + 0xf3) = 0;
  *(undefined *)(param_1 + 0xf4) = 1;
  *(undefined *)(param_1 + 0xf5) = 1;
  return;
}



void FUN_8001d0ac(int param_1,undefined4 param_2,ushort param_3)

{
  *(ushort *)(param_1 + 0xe0) = param_3 | 4;
  *(undefined4 *)(param_1 + 0xbc) = param_2;
  return;
}



void FUN_8001d0bc(int param_1,uint param_2)

{
  ushort uVar1;
  ushort uVar2;
  
  uVar1 = *(ushort *)(param_1 + 0xe0);
  *(uint *)(param_1 + 0xc0) = param_2 & 0xffff;
  uVar2 = uVar1 & 0xfdff;
  *(ushort *)(param_1 + 0xe0) = uVar2 | 8;
  if ((uVar1 & 3) == 0) {
    *(ushort *)(param_1 + 0xe0) = uVar2 | 9;
  }
  return;
}



void FUN_8001d0ec(int param_1,undefined4 param_2)

{
  ushort uVar1;
  
  uVar1 = *(ushort *)(param_1 + 0xe0);
  *(undefined4 *)(param_1 + 0xc0) = param_2;
  *(ushort *)(param_1 + 0xe0) = uVar1 | 0x208;
  if ((uVar1 & 3) == 0) {
    *(ushort *)(param_1 + 0xe0) = uVar1 | 0x209;
  }
  return;
}



void FUN_8001d16c(int param_1,undefined4 param_2)

{
  ushort uVar1;
  
  uVar1 = *(ushort *)(param_1 + 0xe0);
  *(undefined4 *)(param_1 + 0xc4) = param_2;
  *(ushort *)(param_1 + 0xe0) = uVar1 | 0x410;
  if ((uVar1 & 4) != 0) {
    *(undefined4 *)(param_1 + 0xc0) = *(undefined4 *)(param_1 + 0xc4);
    *(ushort *)(param_1 + 0xe0) = *(ushort *)(param_1 + 0xe0) | 0x208;
  }
  if ((*(ushort *)(param_1 + 0xe0) & 3) == 0) {
    *(ushort *)(param_1 + 0xe0) = *(ushort *)(param_1 + 0xe0) | 1;
  }
  return;
}



void FUN_8001d1bc(int param_1,uint param_2)

{
  ushort uVar1;
  ushort uVar2;
  
  uVar1 = *(ushort *)(param_1 + 0xe0);
  *(uint *)(param_1 + 200) = param_2 & 0xffff;
  uVar2 = uVar1 & 0xf7ff;
  *(ushort *)(param_1 + 0xe0) = uVar2 | 0x20;
  if ((uVar1 & 3) == 0) {
    *(ushort *)(param_1 + 0xe0) = uVar2 | 0x21;
  }
  return;
}



void FUN_8001d1ec(int param_1,undefined4 param_2)

{
  ushort uVar1;
  
  uVar1 = *(ushort *)(param_1 + 0xe0);
  *(undefined4 *)(param_1 + 200) = param_2;
  *(ushort *)(param_1 + 0xe0) = uVar1 | 0x820;
  if ((uVar1 & 3) == 0) {
    *(ushort *)(param_1 + 0xe0) = uVar1 | 0x821;
  }
  return;
}



void FUN_8001d214(int param_1,undefined param_2)

{
  ushort uVar1;
  
  uVar1 = *(ushort *)(param_1 + 0xe0);
  *(undefined *)(param_1 + 0xf5) = param_2;
  *(ushort *)(param_1 + 0xe0) = uVar1 | 0x100;
  if ((uVar1 & 3) == 0) {
    *(ushort *)(param_1 + 0xe0) = uVar1 | 0x101;
  }
  return;
}



void FUN_8001d23c(int param_1,undefined param_2)

{
  ushort uVar1;
  
  uVar1 = *(ushort *)(param_1 + 0xe0);
  *(undefined *)(param_1 + 0xf4) = param_2;
  *(ushort *)(param_1 + 0xe0) = uVar1 | 0x80;
  if ((uVar1 & 3) == 0) {
    *(ushort *)(param_1 + 0xe0) = uVar1 | 0x81;
  }
  return;
}



void FUN_8001d28c(int param_1,undefined4 param_2,short param_3)

{
  short sVar1;
  ushort uVar2;
  bool bVar3;
  int iVar4;
  uint uVar5;
  int iVar6;
  uint uVar7;
  code *pcVar8;
  uint uVar9;
  
  uVar9 = 0;
  if (*(char *)(param_1 + 0xf2) != '\0') {
    sVar1 = *(short *)(param_1 + 0xec);
    if ((sVar1 == 0) || (*(short *)(param_1 + 0xec) = sVar1 + -1, sVar1 == 1)) {
      if (*(short *)(param_1 + 0xda) == *(short *)(param_1 + 0xde)) {
        if (((*(ushort *)(param_1 + 0xe0) & 3) == 0) &&
           (iVar6 = (int)*(short *)(param_1 + 10), iVar6 != 0)) {
          if (iVar6 < 1) {
            pcVar8 = *(code **)(param_1 + 0xc);
          }
          else {
            iVar4 = iVar6 * 8 + *(int *)(param_1 + *(short *)(param_1 + 0xc));
            param_3 = (short)*(undefined4 *)(iVar4 + -8);
            pcVar8 = *(code **)(iVar4 + -4);
          }
          iVar4 = (int)*(short *)(param_1 + 8);
          if (0 < iVar6 << 0x10) {
            iVar4 = param_3 + iVar4;
          }
          (*pcVar8)(param_1 + iVar4,2,0,param_1);
        }
        uVar7 = (uint)*(ushort *)(param_1 + 0xe0);
        uVar5 = uVar7 & 3;
        if (uVar5 == 3) {
          uVar9 = *(ushort *)(param_1 + 0xe0) >> 3 & 1;
          FUN_8001d550(param_1);
          goto LAB_8001d398;
        }
      }
      else {
LAB_8001d398:
        uVar7 = (uint)*(ushort *)(param_1 + 0xe0);
        uVar5 = uVar7 & 3;
      }
      if (uVar5 == 2) {
        uVar9 = uVar7 >> 3 & 1;
        FUN_8001d550(param_1);
      }
    }
  }
  if ((*(ushort *)(param_1 + 0xe0) & 3) == 1) {
    uVar9 = *(ushort *)(param_1 + 0xe0) >> 3 & 1;
    FUN_8001d550(param_1);
  }
  bVar3 = false;
  if (*(short *)(param_1 + 0xda) == *(short *)(param_1 + 0xde)) {
    bVar3 = *(char *)(param_1 + 0xf1) == '\0';
  }
  if (*(char *)(param_1 + 0xf2) != '\0') {
    if (uVar9 != 0) goto LAB_8001d460;
    if (*(short *)(param_1 + 0xec) == 0) {
      FUN_8001d4b8(param_1);
    }
  }
  if (uVar9 == 0) {
    if (*(short *)(param_1 + 0xec) != 0) {
      return;
    }
    if (*(char *)(param_1 + 0xf2) == '\0') {
      return;
    }
    if (bVar3) {
      return;
    }
  }
LAB_8001d460:
  FUN_8001d744(param_1);
  uVar2 = *(ushort *)(param_1 + 0xe0);
  if (((uVar2 & 3) == 1) && (FUN_8001d550(param_1), (uVar2 >> 3 & 1) != 0)) {
    FUN_8001d744(param_1);
  }
  return;
}



void FUN_8001d4b8(int param_1)

{
  int iVar1;
  
  iVar1 = (int)*(short *)(param_1 + 0xda);
  if (iVar1 == *(short *)(param_1 + 0xde)) {
    if (*(char *)(param_1 + 0xf1) != '\0') {
      *(undefined2 *)(param_1 + 0xda) = *(undefined2 *)(param_1 + 0xdc);
    }
  }
  else if (*(char *)(param_1 + 0xf0) == '\0') {
    *(short *)(param_1 + 0xda) = (short)(iVar1 + 1);
    if ((int)*(short *)(param_1 + 0xd8) <= (iVar1 + 1) * 0x10000 >> 0x10) {
      *(undefined2 *)(param_1 + 0xda) = 0;
    }
  }
  else {
    *(short *)(param_1 + 0xda) = (short)(iVar1 + -1);
    if ((iVar1 + -1) * 0x10000 < 0) {
      *(short *)(param_1 + 0xda) = *(short *)(param_1 + 0xd8) + -1;
    }
  }
  return;
}



void FUN_8001d550(int param_1)

{
  ushort uVar1;
  undefined2 uVar2;
  
  if ((*(ushort *)(param_1 + 0xe0) & 4) != 0) {
    *(undefined4 *)(param_1 + 0xcc) = *(undefined4 *)(param_1 + 0xbc);
    if (*(char *)(param_1 + 0xf7) == '\0') {
      FUN_8007bbfc(param_1 + 0x78);
      *(undefined2 *)(param_1 + 0xd8) = *(undefined2 *)(param_1 + 0x88);
    }
    else {
      FUN_800195ac(param_1 + 0x8c);
      uVar2 = FUN_80019638(param_1 + 0x8c);
      *(undefined2 *)(param_1 + 0xd8) = uVar2;
    }
    *(undefined *)(param_1 + 0xf8) = 1;
  }
  uVar1 = *(ushort *)(param_1 + 0xe0);
  if ((uVar1 & 8) != 0) {
    if ((uVar1 & 0x200) == 0) {
      if (*(short *)(param_1 + 0xc0) == -1) {
        *(short *)(param_1 + 0xda) = *(short *)(param_1 + 0xd8) + -1;
      }
      else {
        *(short *)(param_1 + 0xda) = (short)*(undefined4 *)(param_1 + 0xc0);
      }
    }
    else {
      uVar2 = FUN_8001e6a8(param_1,*(undefined4 *)(param_1 + 0xc0));
      *(undefined2 *)(param_1 + 0xda) = uVar2;
    }
    uVar1 = *(ushort *)(param_1 + 0xe0);
  }
  if ((uVar1 & 0x10) != 0) {
    if ((uVar1 & 0x400) == 0) {
      if (*(short *)(param_1 + 0xc4) == -1) {
        *(short *)(param_1 + 0xdc) = *(short *)(param_1 + 0xd8) + -1;
      }
      else {
        *(short *)(param_1 + 0xdc) = (short)*(undefined4 *)(param_1 + 0xc4);
      }
    }
    else {
      uVar2 = FUN_8001e6a8(param_1,*(undefined4 *)(param_1 + 0xc4));
      *(undefined2 *)(param_1 + 0xdc) = uVar2;
    }
  }
  if ((*(ushort *)(param_1 + 0xe0) & 0x20) != 0) {
    if ((*(ushort *)(param_1 + 0xe0) & 0x800) == 0) {
      if (*(short *)(param_1 + 200) == -1) {
        *(short *)(param_1 + 0xde) = *(short *)(param_1 + 0xd8) + -1;
      }
      else {
        *(short *)(param_1 + 0xde) = (short)*(undefined4 *)(param_1 + 200);
      }
    }
    else {
      uVar2 = FUN_8001e6a8(param_1,*(undefined4 *)(param_1 + 200));
      *(undefined2 *)(param_1 + 0xde) = uVar2;
    }
  }
  if ((*(ushort *)(param_1 + 0xe0) & 0x40) != 0) {
    *(undefined *)(param_1 + 0xf0) = *(undefined *)(param_1 + 0xf3);
  }
  if ((*(ushort *)(param_1 + 0xe0) & 0x80) != 0) {
    *(undefined *)(param_1 + 0xf1) = *(undefined *)(param_1 + 0xf4);
  }
  if ((*(ushort *)(param_1 + 0xe0) & 0x100) != 0) {
    *(undefined *)(param_1 + 0xf2) = *(undefined *)(param_1 + 0xf5);
  }
  *(undefined2 *)(param_1 + 0xe0) = 0;
  return;
}



void FUN_8001d744(int param_1)

{
  ushort uVar1;
  uint *puVar2;
  uint uVar3;
  uint uVar4;
  int iVar5;
  uint uVar6;
  uint uVar7;
  int iVar8;
  int *piVar9;
  short unaff_s2;
  code *pcVar10;
  
  if (*(char *)(param_1 + 0xf7) == '\0') {
    piVar9 = (int *)(*(int *)(param_1 + 0x78) + (uint)*(ushort *)(param_1 + 0xda) * 0x24);
  }
  else {
    piVar9 = (int *)FUN_8001964c(param_1 + 0x8c,*(undefined2 *)(param_1 + 0xda));
  }
  uVar1 = *(ushort *)(piVar9 + 1);
  uVar3 = (uint)*(byte *)(param_1 + 0xfe);
  *(ushort *)(param_1 + 0xec) = uVar1;
  if (uVar3 != 0) {
    uVar3 = (uint)uVar1 << 1;
    *(short *)(param_1 + 0xec) = (short)uVar3;
  }
  uVar7 = (int)piVar9 + 9U & 3;
  uVar4 = (int)piVar9 + 6U & 3;
  uVar4 = (*(int *)(((int)piVar9 + 9U) - uVar7) << (3 - uVar7) * 8 |
          uVar3 & 0xffffffffU >> (uVar7 + 1) * 8) & -1 << (4 - uVar4) * 8 |
          *(uint *)(((int)piVar9 + 6U) - uVar4) >> uVar4 * 8;
  uVar3 = (int)piVar9 + 0xdU & 3;
  uVar7 = (int)piVar9 + 10U & 3;
  uVar7 = (*(int *)(((int)piVar9 + 0xdU) - uVar3) << (3 - uVar3) * 8 |
          (uint)uVar1 & 0xffffffffU >> (uVar3 + 1) * 8) & -1 << (4 - uVar7) * 8 |
          *(uint *)(((int)piVar9 + 10U) - uVar7) >> uVar7 * 8;
  uVar3 = param_1 + 0x3bU & 3;
  puVar2 = (uint *)((param_1 + 0x3bU) - uVar3);
  *puVar2 = *puVar2 & -1 << (uVar3 + 1) * 8 | uVar4 >> (3 - uVar3) * 8;
  uVar3 = param_1 + 0x38U & 3;
  puVar2 = (uint *)((param_1 + 0x38U) - uVar3);
  *puVar2 = *puVar2 & 0xffffffffU >> (4 - uVar3) * 8 | uVar4 << uVar3 * 8;
  uVar3 = param_1 + 0x3fU & 3;
  puVar2 = (uint *)((param_1 + 0x3fU) - uVar3);
  *puVar2 = *puVar2 & -1 << (uVar3 + 1) * 8 | uVar7 >> (3 - uVar3) * 8;
  uVar3 = param_1 + 0x3cU & 3;
  puVar2 = (uint *)((param_1 + 0x3cU) - uVar3);
  *puVar2 = *puVar2 & 0xffffffffU >> (4 - uVar3) * 8 | uVar7 << uVar3 * 8;
  *(undefined2 *)(param_1 + 0xe6) = *(undefined2 *)((int)piVar9 + 0xe);
  uVar3 = (uint)*(ushort *)(param_1 + 0xec);
  iVar8 = (int)*(short *)(param_1 + 0xe6) << 0x10;
  if (uVar3 == 0) {
    trap(0x1c00);
  }
  if ((uVar3 == 0xffffffff) && (iVar8 == -0x80000000)) {
    trap(0x1800);
  }
  *(undefined2 *)(param_1 + 0xe8) = *(undefined2 *)(piVar9 + 4);
  uVar7 = (uint)*(ushort *)(param_1 + 0xec);
  iVar5 = (int)*(short *)(param_1 + 0xe8) << 0x10;
  uVar4 = iVar5 / (int)uVar7;
  if (uVar7 == 0) {
    trap(0x1c00);
  }
  if ((uVar7 == 0xffffffff) && (iVar5 == -0x80000000)) {
    trap(0x1800);
  }
  *(int *)(param_1 + 0xb4) = iVar8 / (int)uVar3;
  *(uint *)(param_1 + 0xb8) = uVar4;
  uVar3 = (int)piVar9 + 0x15U & 3;
  uVar6 = (int)piVar9 + 0x12U & 3;
  uVar6 = (*(int *)(((int)piVar9 + 0x15U) - uVar3) << (3 - uVar3) * 8 |
          uVar4 & 0xffffffffU >> (uVar3 + 1) * 8) & -1 << (4 - uVar6) * 8 |
          *(uint *)(((int)piVar9 + 0x12U) - uVar6) >> uVar6 * 8;
  uVar3 = (int)piVar9 + 0x19U & 3;
  uVar4 = (int)piVar9 + 0x16U & 3;
  uVar7 = (*(int *)(((int)piVar9 + 0x19U) - uVar3) << (3 - uVar3) * 8 |
          uVar7 & 0xffffffffU >> (uVar3 + 1) * 8) & -1 << (4 - uVar4) * 8 |
          *(uint *)(((int)piVar9 + 0x16U) - uVar4) >> uVar4 * 8;
  uVar3 = param_1 + 0x43U & 3;
  puVar2 = (uint *)((param_1 + 0x43U) - uVar3);
  *puVar2 = *puVar2 & -1 << (uVar3 + 1) * 8 | uVar6 >> (3 - uVar3) * 8;
  uVar3 = param_1 + 0x40U & 3;
  puVar2 = (uint *)((param_1 + 0x40U) - uVar3);
  *puVar2 = *puVar2 & 0xffffffffU >> (4 - uVar3) * 8 | uVar6 << uVar3 * 8;
  uVar3 = param_1 + 0x47U & 3;
  puVar2 = (uint *)((param_1 + 0x47U) - uVar3);
  *puVar2 = *puVar2 & -1 << (uVar3 + 1) * 8 | uVar7 >> (3 - uVar3) * 8;
  uVar3 = param_1 + 0x44U & 3;
  puVar2 = (uint *)((param_1 + 0x44U) - uVar3);
  *puVar2 = *puVar2 & 0xffffffffU >> (4 - uVar3) * 8 | uVar7 << uVar3 * 8;
  if (*(int *)(param_1 + 0x34) != 0) {
    *(undefined2 *)(*(int *)(param_1 + 0x34) + 6) = *(undefined2 *)(param_1 + 0x3e);
    *(ushort *)(*(int *)(param_1 + 0x34) + 4) = *(short *)(param_1 + 0x3c) + 3U & 0xfffc;
  }
  *(undefined *)(param_1 + 0x76) = 1;
  if (*piVar9 != 0) {
    if ((piVar9[7] & 1U) != 0) {
      FUN_8001c4a0(param_1);
    }
    iVar8 = (int)*(short *)(param_1 + 10);
    if (iVar8 != 0) {
      if (iVar8 < 1) {
        pcVar10 = *(code **)(param_1 + 0xc);
      }
      else {
        iVar5 = iVar8 * 8 + *(int *)(param_1 + *(short *)(param_1 + 0xc));
        unaff_s2 = (short)*(undefined4 *)(iVar5 + -8);
        pcVar10 = *(code **)(iVar5 + -4);
      }
      iVar5 = (int)*(short *)(param_1 + 8);
      if (0 < iVar8 << 0x10) {
        iVar5 = unaff_s2 + iVar5;
      }
      (*pcVar10)(param_1 + iVar5,1,*piVar9,param_1);
    }
  }
  return;
}



int FUN_8001e6a8(int param_1,int param_2)

{
  int *piVar1;
  uint uVar2;
  ushort uVar3;
  int iVar4;
  short sVar5;
  
  if (*(char *)(param_1 + 0xf7) == '\0') {
    uVar3 = 0;
    do {
      iVar4 = (int)(short)uVar3;
      uVar2 = (uint)uVar3;
      if (*(short *)(param_1 + 0xd8) <= iVar4) goto LAB_8001e76c;
      uVar3 = uVar3 + 1;
    } while (*(int *)(*(int *)(param_1 + 0x78) + uVar2 * 0x24) != param_2);
  }
  else {
    sVar5 = 0;
    if (0 < *(short *)(param_1 + 0xd8)) {
      do {
        piVar1 = (int *)FUN_8001964c(param_1 + 0x8c,sVar5);
        if (*piVar1 == param_2) {
          return (int)sVar5;
        }
        sVar5 = sVar5 + 1;
      } while (sVar5 < *(short *)(param_1 + 0xd8));
    }
LAB_8001e76c:
    iVar4 = -1;
  }
  return iVar4;
}



void FUN_8001e78c(int param_1,undefined4 param_2,undefined2 param_3)

{
  *(undefined2 *)(param_1 + 0xe2) = 0;
  *(undefined2 *)(param_1 + 0xe4) = param_3;
  *(undefined4 *)(param_1 + 0x94) = param_2;
  FUN_8001e7b4();
  return;
}



void FUN_8001e7b4(int param_1,undefined4 param_2,short param_3)

{
  short sVar1;
  undefined4 uVar2;
  int iVar3;
  undefined4 *puVar4;
  code *pcVar5;
  int iVar6;
  short unaff_s2;
  short local_30;
  short sStack_2e;
  short local_2c;
  
  if (*(short *)(param_1 + 0xaa) != 0) {
    uVar2 = *(undefined4 *)(param_1 + 0xa8);
    pcVar5 = *(code **)(param_1 + 0xac);
    *(undefined2 *)(param_1 + 0xa8) = 0;
    *(undefined2 *)(param_1 + 0xaa) = 0;
    *(undefined4 *)(param_1 + 0xac) = 0;
    sStack_2e = (short)((uint)uVar2 >> 0x10);
    iVar6 = (int)sStack_2e;
    if (0 < iVar6) {
      local_2c = (short)pcVar5;
      iVar3 = iVar6 * 8 + *(int *)(param_1 + local_2c);
      param_3 = (short)*(undefined4 *)(iVar3 + -8);
      pcVar5 = *(code **)(iVar3 + -4);
    }
    local_30 = (short)uVar2;
    iVar3 = (int)local_30;
    if (0 < iVar6 << 0x10) {
      iVar3 = param_3 + iVar3;
    }
    (*pcVar5)(param_1 + iVar3);
  }
  puVar4 = (undefined4 *)(*(short *)(param_1 + 0xe2) * 8 + *(int *)(param_1 + 0x94));
  uVar2 = puVar4[1];
  *(undefined4 *)(param_1 + 0xa0) = *puVar4;
  *(undefined4 *)(param_1 + 0xa4) = uVar2;
  sVar1 = *(short *)(param_1 + 0xe2) + 1;
  *(short *)(param_1 + 0xe2) = sVar1;
  if (*(short *)(param_1 + 0xe4) <= sVar1) {
    *(undefined4 *)(param_1 + 0x94) = 0;
  }
  iVar6 = (int)*(short *)(param_1 + 0xa2);
  if (iVar6 < 1) {
    pcVar5 = *(code **)(param_1 + 0xa4);
  }
  else {
    iVar3 = iVar6 * 8 + *(int *)(param_1 + *(short *)(param_1 + 0xa4));
    unaff_s2 = (short)*(undefined4 *)(iVar3 + -8);
    pcVar5 = *(code **)(iVar3 + -4);
  }
  iVar3 = (int)*(short *)(param_1 + 0xa0);
  if (0 < iVar6 << 0x10) {
    iVar3 = unaff_s2 + iVar3;
  }
  (*pcVar5)(param_1 + iVar3);
  return;
}



void FUN_8001e924(int param_1,undefined4 param_2,short param_3)

{
  undefined4 uVar1;
  int iVar2;
  code *pcVar3;
  int iVar4;
  short unaff_s2;
  short local_40;
  short sStack_3e;
  short local_3c;
  
  if (*(short *)(param_1 + 0xaa) != 0) {
    uVar1 = *(undefined4 *)(param_1 + 0xa8);
    pcVar3 = *(code **)(param_1 + 0xac);
    *(undefined2 *)(param_1 + 0xa8) = 0;
    *(undefined2 *)(param_1 + 0xaa) = 0;
    *(undefined4 *)(param_1 + 0xac) = 0;
    sStack_3e = (short)((uint)uVar1 >> 0x10);
    iVar4 = (int)sStack_3e;
    if (0 < iVar4) {
      local_3c = (short)pcVar3;
      iVar2 = iVar4 * 8 + *(int *)(param_1 + local_3c);
      param_3 = (short)*(undefined4 *)(iVar2 + -8);
      pcVar3 = *(code **)(iVar2 + -4);
    }
    local_40 = (short)uVar1;
    iVar2 = (int)local_40;
    if (0 < iVar4 << 0x10) {
      iVar2 = param_3 + iVar2;
    }
    (*pcVar3)(param_1 + iVar2);
  }
  if (*(short *)(param_1 + 0x9a) == 0) {
    if (*(int *)(param_1 + 0x94) == 0) {
      *(undefined2 *)(param_1 + 0xa0) = 0;
      *(undefined2 *)(param_1 + 0xa2) = 0;
      *(undefined4 *)(param_1 + 0xa4) = 0;
    }
    else {
      FUN_8001e7b4(param_1);
    }
  }
  else {
    *(undefined4 *)(param_1 + 0xa0) = *(undefined4 *)(param_1 + 0x98);
    *(undefined4 *)(param_1 + 0xa4) = *(undefined4 *)(param_1 + 0x9c);
    iVar4 = (int)*(short *)(param_1 + 0xa2);
    *(undefined2 *)(param_1 + 0x98) = 0;
    *(undefined2 *)(param_1 + 0x9a) = 0;
    *(undefined4 *)(param_1 + 0x9c) = 0;
    if (iVar4 < 1) {
      pcVar3 = *(code **)(param_1 + 0xa4);
    }
    else {
      iVar2 = iVar4 * 8 + *(int *)(param_1 + *(short *)(param_1 + 0xa4));
      unaff_s2 = (short)*(undefined4 *)(iVar2 + -8);
      pcVar3 = *(code **)(iVar2 + -4);
    }
    iVar2 = (int)*(short *)(param_1 + 0xa0);
    if (0 < iVar4 << 0x10) {
      iVar2 = unaff_s2 + iVar2;
    }
    (*pcVar3)(param_1 + iVar2);
  }
  return;
}



void FUN_8001eaa8(int param_1,undefined4 param_2,undefined4 param_3)

{
  undefined4 uVar1;
  int iVar2;
  code *pcVar3;
  int iVar4;
  short in_t0;
  short unaff_s2;
  short local_40;
  short sStack_3e;
  short local_3c;
  
  *(undefined2 *)(param_1 + 0xa0) = 0;
  *(undefined2 *)(param_1 + 0xa2) = 0;
  *(undefined4 *)(param_1 + 0xa4) = 0;
  if (*(short *)(param_1 + 0xaa) != 0) {
    uVar1 = *(undefined4 *)(param_1 + 0xa8);
    pcVar3 = *(code **)(param_1 + 0xac);
    *(undefined2 *)(param_1 + 0xa8) = 0;
    *(undefined2 *)(param_1 + 0xaa) = 0;
    *(undefined4 *)(param_1 + 0xac) = 0;
    sStack_3e = (short)((uint)uVar1 >> 0x10);
    iVar4 = (int)sStack_3e;
    if (0 < iVar4) {
      local_3c = (short)pcVar3;
      iVar2 = iVar4 * 8 + *(int *)(param_1 + local_3c);
      in_t0 = (short)*(undefined4 *)(iVar2 + -8);
      pcVar3 = *(code **)(iVar2 + -4);
    }
    local_40 = (short)uVar1;
    iVar2 = (int)local_40;
    if (0 < iVar4 << 0x10) {
      iVar2 = in_t0 + iVar2;
    }
    (*pcVar3)(param_1 + iVar2);
  }
  if (*(short *)(param_1 + 0xa2) == 0) {
    *(undefined4 *)(param_1 + 0x94) = 0;
    *(undefined2 *)(param_1 + 0x98) = 0;
    *(undefined2 *)(param_1 + 0x9a) = 0;
    *(undefined4 *)(param_1 + 0x9c) = 0;
    *(undefined4 *)(param_1 + 0xa0) = param_2;
    *(undefined4 *)(param_1 + 0xa4) = param_3;
    iVar4 = (int)*(short *)(param_1 + 0xa2);
    if (iVar4 != 0) {
      if (iVar4 < 1) {
        pcVar3 = *(code **)(param_1 + 0xa4);
      }
      else {
        iVar2 = iVar4 * 8 + *(int *)(param_1 + *(short *)(param_1 + 0xa4));
        unaff_s2 = (short)*(undefined4 *)(iVar2 + -8);
        pcVar3 = *(code **)(iVar2 + -4);
      }
      iVar2 = (int)*(short *)(param_1 + 0xa0);
      if (0 < iVar4 << 0x10) {
        iVar2 = unaff_s2 + iVar2;
      }
      (*pcVar3)(param_1 + iVar2);
    }
  }
  return;
}



void FUN_8001ec14(int param_1,undefined4 param_2,undefined4 param_3)

{
  int iVar1;
  int iVar2;
  short in_t0;
  code *pcVar3;
  
  iVar2 = (int)*(short *)(param_1 + 0xaa);
  if (iVar2 != 0) {
    if (iVar2 < 1) {
      pcVar3 = *(code **)(param_1 + 0xac);
    }
    else {
      iVar1 = iVar2 * 8 + *(int *)(param_1 + *(short *)(param_1 + 0xac));
      in_t0 = (short)*(undefined4 *)(iVar1 + -8);
      pcVar3 = *(code **)(iVar1 + -4);
    }
    iVar1 = (int)*(short *)(param_1 + 0xa8);
    if (0 < iVar2 << 0x10) {
      iVar1 = in_t0 + iVar1;
    }
    (*pcVar3)(param_1 + iVar1);
  }
  *(undefined4 *)(param_1 + 0xa8) = param_2;
  *(undefined4 *)(param_1 + 0xac) = param_3;
  return;
}



void FUN_8001ecbc(undefined4 *param_1,undefined4 param_2,short param_3,undefined4 param_4,
                 undefined4 param_5,uint param_6,uint param_7,undefined2 param_8,undefined2 param_9,
                 undefined param_10,char param_11,byte param_12)

{
  undefined *puVar1;
  uint uVar2;
  uint *puVar3;
  undefined4 uVar4;
  short sVar5;
  short sVar6;
  undefined auStack_58 [4];
  int local_54;
  int local_50;
  uint local_4c;
  
  param_1[6] = &DAT_800104ac;
  *(undefined2 *)param_1 = 0;
  *(undefined2 *)((int)param_1 + 2) = 0;
  param_1[1] = 0;
  sVar6 = 0;
  *(undefined2 *)(param_1 + 2) = 0;
  *(undefined2 *)((int)param_1 + 10) = 0;
  param_1[3] = 0;
  *(undefined2 *)(param_1 + 4) = 30000;
  *(undefined *)(param_1 + 5) = 1;
  *(undefined *)(param_1 + 0xe) = param_10;
  *(undefined2 *)((int)param_1 + 0x12) = 0;
  param_1[6] = &DAT_8001042c;
  *(undefined2 *)(param_1 + 0xd) = param_8;
  *(undefined2 *)((int)param_1 + 0x36) = param_9;
  *(char *)((int)param_1 + 0x39) = param_11;
  if (*(char *)(param_1 + 0xe) != '\0') {
    sVar6 = *(short *)(param_1 + 0xd);
  }
  sVar5 = 0;
  if (param_11 != '\0') {
    sVar5 = *(short *)((int)param_1 + 0x36);
  }
  uVar4 = FUN_800143ec(PTR_DAT_800a59b0,0x84,1,0);
  uVar2 = (uint)&stack0xffffffa7 & 3;
  puVar3 = (uint *)(&stack0xffffffa7 + -uVar2);
  *puVar3 = *puVar3 & -1 << (uVar2 + 1) * 8 | param_6 >> (3 - uVar2) * 8;
  puVar1 = auStack_58 + 3;
  uVar2 = (uint)puVar1 & 3;
  *(uint *)(puVar1 + -uVar2) =
       *(uint *)(puVar1 + -uVar2) & -1 << (uVar2 + 1) * 8 | param_7 >> (3 - uVar2) * 8;
  auStack_58 = (undefined  [4])param_7;
  local_54 = (int)sVar6;
  local_50 = (int)sVar5;
  local_4c = (uint)param_12;
  uVar4 = FUN_80016018(uVar4,param_2,(int)param_3,param_4,param_5,param_6);
  param_1[7] = uVar4;
  param_1[8] = 0x10000;
  param_1[9] = 0x10000;
  *param_1 = 0xffff0000;
  param_1[1] = &LAB_8001eee8;
  param_1[10] = 0;
  param_1[0xb] = 0;
  *(undefined2 *)(param_1 + 0xc) = 0;
  *(undefined2 *)((int)param_1 + 0x32) = 0;
  *(undefined *)((int)param_1 + 0x3a) = 0;
  *(undefined *)((int)param_1 + 0x3b) = 0;
  return;
}



undefined4 *
FUN_8001f14c(undefined4 *param_1,undefined4 param_2,short param_3,undefined4 param_4,
            undefined4 param_5,uint param_6,uint param_7,undefined2 param_8,undefined2 param_9,
            short param_10,byte param_11,byte param_12,byte param_13)

{
  undefined *puVar1;
  uint uVar2;
  uint *puVar3;
  undefined4 uVar4;
  undefined auStack_68 [4];
  int local_64;
  uint local_60;
  uint local_5c;
  uint local_58;
  undefined4 local_40;
  
  param_1[6] = &DAT_800104ac;
  *(undefined2 *)param_1 = 0;
  *(undefined2 *)((int)param_1 + 2) = 0;
  param_1[1] = 0;
  *(undefined *)(param_1 + 5) = 1;
  puVar1 = PTR_DAT_800a59b0;
  *(undefined2 *)(param_1 + 4) = 30000;
  *(undefined2 *)(param_1 + 2) = 0;
  *(undefined2 *)((int)param_1 + 10) = 0;
  param_1[3] = 0;
  *(undefined2 *)((int)param_1 + 0x12) = 0;
  param_1[6] = &DAT_8001040c;
  local_40 = param_4;
  uVar4 = FUN_800143ec(puVar1,0x70,1,0);
  uVar2 = (uint)&stack0xffffff97 & 3;
  puVar3 = (uint *)(&stack0xffffff97 + -uVar2);
  *puVar3 = *puVar3 & -1 << (uVar2 + 1) * 8 | param_6 >> (3 - uVar2) * 8;
  puVar1 = auStack_68 + 3;
  uVar2 = (uint)puVar1 & 3;
  *(uint *)(puVar1 + -uVar2) =
       *(uint *)(puVar1 + -uVar2) & -1 << (uVar2 + 1) * 8 | param_7 >> (3 - uVar2) * 8;
  auStack_68 = (undefined  [4])param_7;
  local_64 = (int)param_10;
  local_60 = (uint)param_11;
  local_5c = (uint)param_12;
  local_58 = (uint)param_13;
  uVar4 = FUN_8001753c(uVar4,param_2,(int)param_3,local_40,param_5,param_6);
  param_1[7] = uVar4;
  param_1[8] = 0x10000;
  param_1[9] = 0x10000;
  *(undefined2 *)(param_1 + 0xd) = param_8;
  *(undefined2 *)((int)param_1 + 0x36) = param_9;
  *(byte *)(param_1 + 0xe) = param_11;
  *(byte *)((int)param_1 + 0x39) = param_12;
  param_1[10] = 0;
  param_1[0xb] = 0;
  *(undefined2 *)(param_1 + 0xc) = 0;
  *(undefined2 *)((int)param_1 + 0x32) = 0;
  *(undefined *)((int)param_1 + 0x3a) = 0;
  *(undefined *)((int)param_1 + 0x3b) = 0;
  *param_1 = 0xffff0000;
  param_1[1] = &LAB_8001f364;
  return param_1;
}



void FUN_8001f530(undefined4 *param_1,undefined4 param_2,short param_3,undefined4 param_4,
                 undefined4 param_5,uint param_6,uint param_7,undefined2 param_8,undefined2 param_9,
                 short param_10,undefined param_11,char param_12,byte param_13)

{
  undefined *puVar1;
  uint uVar2;
  uint *puVar3;
  undefined4 uVar4;
  short sVar5;
  short sVar6;
  undefined auStack_60 [4];
  int local_5c;
  int local_58;
  int local_54;
  uint local_50;
  
  param_1[6] = &DAT_800104ac;
  *(undefined2 *)param_1 = 0;
  *(undefined2 *)((int)param_1 + 2) = 0;
  param_1[1] = 0;
  sVar6 = 0;
  *(undefined2 *)(param_1 + 2) = 0;
  *(undefined2 *)((int)param_1 + 10) = 0;
  param_1[3] = 0;
  *(undefined2 *)(param_1 + 4) = 30000;
  *(undefined *)(param_1 + 5) = 1;
  *(undefined *)(param_1 + 0xe) = param_11;
  *(undefined2 *)((int)param_1 + 0x12) = 0;
  param_1[6] = &DAT_800103ec;
  *(undefined2 *)(param_1 + 0xd) = param_8;
  *(undefined2 *)((int)param_1 + 0x36) = param_9;
  *(char *)((int)param_1 + 0x39) = param_12;
  if (*(char *)(param_1 + 0xe) != '\0') {
    sVar6 = *(short *)(param_1 + 0xd);
  }
  sVar5 = 0;
  if (param_12 != '\0') {
    sVar5 = *(short *)((int)param_1 + 0x36);
  }
  uVar4 = FUN_800143ec(PTR_DAT_800a59b0,0x80,1,0);
  uVar2 = (uint)&stack0xffffff9f & 3;
  puVar3 = (uint *)(&stack0xffffff9f + -uVar2);
  *puVar3 = *puVar3 & -1 << (uVar2 + 1) * 8 | param_6 >> (3 - uVar2) * 8;
  puVar1 = auStack_60 + 3;
  uVar2 = (uint)puVar1 & 3;
  *(uint *)(puVar1 + -uVar2) =
       *(uint *)(puVar1 + -uVar2) & -1 << (uVar2 + 1) * 8 | param_7 >> (3 - uVar2) * 8;
  auStack_60 = (undefined  [4])param_7;
  local_5c = (int)param_10;
  local_58 = (int)sVar6;
  local_54 = (int)sVar5;
  local_50 = (uint)param_13;
  uVar4 = FUN_80017d08(uVar4,param_2,(int)param_3,param_4,param_5,param_6);
  param_1[7] = uVar4;
  param_1[8] = 0x10000;
  param_1[9] = 0x10000;
  *param_1 = 0xffff0000;
  param_1[1] = &LAB_8001f774;
  param_1[10] = 0;
  param_1[0xb] = 0;
  *(undefined2 *)(param_1 + 0xc) = 0;
  *(undefined2 *)((int)param_1 + 0x32) = 0;
  *(undefined *)((int)param_1 + 0x3a) = 0;
  *(undefined *)((int)param_1 + 0x3b) = 0;
  return;
}



undefined4 *
FUN_8001f940(undefined4 *param_1,undefined4 param_2,short param_3,undefined2 param_4,ushort param_5,
            undefined param_6)

{
  uint uVar1;
  uint *puVar2;
  int iVar3;
  undefined4 uVar4;
  uint uVar5;
  uint uVar6;
  
  param_1[6] = &DAT_800104ac;
  *(undefined2 *)param_1 = 0;
  *(undefined2 *)((int)param_1 + 2) = 0;
  param_1[1] = 0;
  *(undefined2 *)(param_1 + 2) = 0;
  *(undefined2 *)((int)param_1 + 10) = 0;
  param_1[3] = 0;
  *(undefined2 *)(param_1 + 4) = 0x44c;
  *(undefined *)(param_1 + 5) = 1;
  param_1[6] = &DAT_800103cc;
  *(undefined2 *)((int)param_1 + 0x12) = 0;
  *(undefined2 *)(param_1 + 0xb) = param_4;
  *(undefined *)((int)param_1 + 0x32) = param_6;
  *(ushort *)((int)param_1 + 0x2e) = param_5;
  *param_1 = 0xffff0000;
  param_1[1] = &LAB_8001fb08;
  param_1[7] = param_2;
  *(undefined *)(param_1 + 0xc) = 0;
  *(char *)((int)param_1 + 0x31) = *(char *)(param_1[7] + 4) + '\x01';
  iVar3 = (uint)*(byte *)(param_1 + 0xc) * 0x10 + param_1[7];
  uVar1 = iVar3 + 9U & 3;
  uVar6 = iVar3 + 6U & 3;
  uVar5 = (*(int *)((iVar3 + 9U) - uVar1) << (3 - uVar1) * 8 |
          param_1[7] & 0xffffffffU >> (uVar1 + 1) * 8) & -1 << (4 - uVar6) * 8 |
          *(uint *)((iVar3 + 6U) - uVar6) >> uVar6 * 8;
  uVar1 = iVar3 + 0xdU & 3;
  uVar6 = iVar3 + 10U & 3;
  uVar6 = (*(int *)((iVar3 + 0xdU) - uVar1) << (3 - uVar1) * 8 |
          (uint)param_5 & 0xffffffffU >> (uVar1 + 1) * 8) & -1 << (4 - uVar6) * 8 |
          *(uint *)((iVar3 + 10U) - uVar6) >> uVar6 * 8;
  uVar1 = (int)param_1 + 0x27U & 3;
  puVar2 = (uint *)(((int)param_1 + 0x27U) - uVar1);
  *puVar2 = *puVar2 & -1 << (uVar1 + 1) * 8 | uVar5 >> (3 - uVar1) * 8;
  uVar1 = (uint)(param_1 + 9) & 3;
  puVar2 = (uint *)((int)(param_1 + 9) - uVar1);
  *puVar2 = *puVar2 & 0xffffffffU >> (4 - uVar1) * 8 | uVar5 << uVar1 * 8;
  uVar1 = (int)param_1 + 0x2bU & 3;
  puVar2 = (uint *)(((int)param_1 + 0x2bU) - uVar1);
  *puVar2 = *puVar2 & -1 << (uVar1 + 1) * 8 | uVar6 >> (3 - uVar1) * 8;
  uVar1 = (uint)(param_1 + 10) & 3;
  puVar2 = (uint *)((int)(param_1 + 10) - uVar1);
  *puVar2 = *puVar2 & 0xffffffffU >> (4 - uVar1) * 8 | uVar6 << uVar1 * 8;
  uVar4 = FUN_800143ec(PTR_DAT_800a59b0,0x58,1,0);
  iVar3 = FUN_80018898(uVar4,(int)param_3);
  param_1[8] = iVar3;
  *(undefined4 *)(iVar3 + 0x10) =
       *(undefined4 *)((uint)*(byte *)(param_1 + 0xc) * 0x10 + param_1[7]);
  return param_1;
}



undefined4 * FUN_8001fcec(undefined4 *param_1)

{
  undefined uVar1;
  undefined uVar2;
  int iVar3;
  
  FUN_8001a0c4(param_1,0x44c);
  param_1[6] = &DAT_8001044c;
  FUN_8007bb80(param_1 + 0x1e);
  FUN_80019548(param_1 + 0x23);
  FUN_8001c97c(param_1);
  *(undefined *)((int)param_1 + 0xf7) = 0;
  *param_1 = 0xffff0000;
  param_1[1] = FUN_8001cb84;
  if (*(char *)((int)param_1 + 0xf7) == '\0') {
    FUN_8001cda8(param_1,10000,0x21842018);
  }
  else {
    FUN_8001d020(param_1,10000);
  }
  *(undefined2 *)(param_1 + 0x1a) = 0xa0;
  *(undefined2 *)((int)param_1 + 0x6a) = 0x78;
  FUN_8001d07c(param_1,0x21842018,1);
  iVar3 = param_1[0xd];
  if (iVar3 != 0) {
    uVar1 = *(undefined *)(BUF_PTR + 0x125);
    uVar2 = *(undefined *)(BUF_PTR + 0x126);
    *(undefined *)(iVar3 + 0x34) = *(undefined *)(BUF_PTR + 0x124);
    *(undefined *)(iVar3 + 0x35) = uVar1;
    *(undefined *)(iVar3 + 0x36) = uVar2;
    *(undefined *)(param_1[0xd] + 0x33) = 1;
  }
  param_1[6] = &DAT_800103ac;
  *param_1 = 0xffff0000;
  param_1[1] = FUN_8001cb84;
  if (param_1[0xd] != 0) {
    *(undefined *)(param_1[0xd] + 10) = 0;
  }
  param_1[9] = 0xffff0000;
  param_1[10] = &LAB_8001a2c8;
  param_1[0xb] = 0xffff0000;
  param_1[0xc] = &LAB_8001a2e4;
  return param_1;
}



void FUN_8001fea4(int param_1,short param_2,short param_3)

{
  int iVar1;
  int iVar2;
  short in_t0;
  code *pcVar3;
  short unaff_s2;
  
  iVar2 = (int)*(short *)(param_1 + 0x26);
  if (iVar2 != 0) {
    if (iVar2 < 1) {
      pcVar3 = *(code **)(param_1 + 0x28);
    }
    else {
      iVar1 = iVar2 * 8 + *(int *)(param_1 + *(short *)(param_1 + 0x28));
      in_t0 = (short)*(undefined4 *)(iVar1 + -8);
      pcVar3 = *(code **)(iVar1 + -4);
    }
    iVar1 = (int)*(short *)(param_1 + 0x24);
    if (0 < iVar2 << 0x10) {
      iVar1 = in_t0 + iVar1;
    }
    param_2 = (*pcVar3)(param_1 + iVar1,(int)param_2);
  }
  iVar2 = (int)*(short *)(param_1 + 0x2e);
  if (iVar2 != 0) {
    if (iVar2 < 1) {
      pcVar3 = *(code **)(param_1 + 0x30);
    }
    else {
      iVar1 = iVar2 * 8 + *(int *)(param_1 + *(short *)(param_1 + 0x30));
      unaff_s2 = (short)*(undefined4 *)(iVar1 + -8);
      pcVar3 = *(code **)(iVar1 + -4);
    }
    iVar1 = (int)*(short *)(param_1 + 0x2c);
    if (0 < iVar2 << 0x10) {
      iVar1 = unaff_s2 + iVar1;
    }
    param_3 = (*pcVar3)(param_1 + iVar1,(int)param_3);
  }
  FUN_800241f0(BUF_PTR,(int)param_2,(int)param_3);
  return;
}



int FUN_80020868(int param_1)

{
  FUN_80019744(param_1,0);
  *(undefined **)(param_1 + 0x18) = &DAT_800104cc;
  FUN_8007a110(param_1 + 0x84);
  return param_1;
}



void set_up_buffer(astruct_2 *buffer_loc)

{
  int iVar2;
  undefined *puVar1;
  
  FUN_8007bf78();
  BUF_PTR = buffer_loc;
  buffer_loc->field_0x114 = 0;
  buffer_loc->field_0x130 = 0;
  puVar1 = PTR_DAT_800a59b0;
  buffer_loc->pixel_count = uVar3;
  buffer_loc->field40_0x28 = 0;
  buffer_loc->field249_0x104 = 0;
  buffer_loc->field252_0x108 = 0;
  buffer_loc->field257_0x110 = 0;
  buffer_loc->field91_0x64 = 0;
  buffer_loc->field92_0x66 = 0;
  buffer_loc->padding = 0x1234567;
  iVar2 = *(int *)(puVar1 + 0xa650);
  padding = 0x1234567;
  buffer_loc->buffer = iVar2;
  buffer_loc->maybe_next_block_ = iVar2 + 0x1000;
  load_game_blb_asset(0,2,buffer_loc->buffer);
  initialise_blb_struct
            ((astruct_8 *)&buffer_loc->blb_reading_struct,buffer_loc->buffer,&LOAD_BLB_ASSET);
  set_blb_pointer(0,(long)&buffer_loc->blb_reading_struct);
  return;
}



void FUN_80020970(int param_1,uint param_2)

{
  *(undefined **)(param_1 + 0x18) = &DAT_800104cc;
  FUN_80020a18();
  FUN_80020a70(param_1);
  FUN_80022334(param_1);
  FUN_800223b8(param_1);
  if (*(int *)(param_1 + 0x3c) != 0) {
    __builtin_delete();
  }
  FUN_8007a154(param_1 + 0x84,2);
  *(undefined **)(param_1 + 0x18) = &DAT_800104ec;
  if ((param_2 & 1) != 0) {
    potentially_load_asset_(PTR_DAT_800a59b0,param_1,0,0);
  }
  return;
}



void FUN_80020a18(int param_1)

{
  undefined *puVar1;
  
  puVar1 = PTR_DAT_800a59b0;
  *(undefined2 *)(PTR_DAT_800a59b0 + 0xa08a) = 0;
  if (*(int *)(param_1 + 0x108) != 0) {
    potentially_load_asset_(puVar1,*(int *)(param_1 + 0x108),0,0);
    *(undefined4 *)(param_1 + 0x108) = 0;
    *(undefined2 *)(param_1 + 0x104) = 0;
  }
  return;
}



void FUN_80020a70(int param_1)

{
  int iVar1;
  int iVar2;
  
  iVar2 = 0;
  if (*(char *)(param_1 + 0x114) != '\0') {
    iVar1 = 0;
    do {
      iVar1 = *(int *)((iVar1 >> 0xe) + *(int *)(param_1 + 0x110));
      if (iVar1 != 0) {
        (**(code **)(*(int *)(iVar1 + 0x18) + 0xc))
                  (iVar1 + *(short *)(*(int *)(iVar1 + 0x18) + 8),3);
      }
      iVar2 = iVar2 + 1;
      iVar1 = iVar2 * 0x10000;
    } while (iVar2 * 0x10000 >> 0x10 < (int)(uint)*(byte *)(param_1 + 0x114));
  }
  if (*(int *)(param_1 + 0x110) != 0) {
    potentially_load_asset_(PTR_DAT_800a59b0,*(int *)(param_1 + 0x110),0,0);
    *(undefined4 *)(param_1 + 0x110) = 0;
    *(undefined *)(param_1 + 0x114) = 0;
  }
  return;
}



void FUN_80020b30(int param_1)

{
  bool bVar1;
  int iVar2;
  int iVar3;
  short *psVar4;
  int *piVar5;
  undefined4 unaff_s2;
  code *pcVar6;
  
  bVar1 = false;
  piVar5 = *(int **)(param_1 + 0x1c);
  while (piVar5 != (int *)0x0) {
    psVar4 = (short *)piVar5[1];
    if ((!bVar1) && (1999 < psVar4[8])) {
      FUN_800233bc(param_1);
      bVar1 = true;
    }
    iVar3 = (int)psVar4[1];
    if (iVar3 != 0) {
      if (iVar3 < 1) {
        pcVar6 = *(code **)(psVar4 + 2);
      }
      else {
        iVar2 = iVar3 * 8 + *(int *)((int)psVar4 + (int)psVar4[2]);
        unaff_s2 = *(undefined4 *)(iVar2 + -8);
        pcVar6 = *(code **)(iVar2 + -4);
      }
      iVar2 = (int)*psVar4;
      if (0 < iVar3 << 0x10) {
        iVar2 = (short)unaff_s2 + iVar2;
      }
      (*pcVar6)((int)psVar4 + iVar2);
    }
    piVar5 = (int *)*piVar5;
    FUN_80020c70(param_1);
  }
  if (!bVar1) {
    FUN_800233bc(param_1);
  }
  if (*(char *)(param_1 + 0x11a) != '\0') {
    *(char *)(param_1 + 0x11a) = *(char *)(param_1 + 0x11a) + -1;
  }
  *(int *)(param_1 + 0x10c) = *(int *)(param_1 + 0x10c) + 1;
  return;
}



void FUN_80020c70(int param_1)

{
  int iVar1;
  
  if (*(int *)(param_1 + 0x34) != 0) {
    if (*(int *)(param_1 + 0x38) == 0) {
      FUN_80022070();
      *(undefined4 *)(param_1 + 0x34) = 0;
    }
    else {
      FUN_80021e4c(param_1);
      if (*(int *)(param_1 + 0x38) != 1) {
        FUN_80021dbc(param_1);
      }
      FUN_80021d2c(param_1,*(undefined4 *)(param_1 + 0x34));
      iVar1 = *(int *)(param_1 + 0x34);
      if (iVar1 != 0) {
        (**(code **)(*(int *)(iVar1 + 0x18) + 0xc))
                  (iVar1 + *(short *)(*(int *)(iVar1 + 0x18) + 8),3);
      }
      *(undefined4 *)(param_1 + 0x34) = 0;
    }
    *(undefined4 *)(param_1 + 0x38) = 0;
  }
  return;
}



void traverse_linked_list_and_execute(int param_1)

{
  int iVar1;
  int *piVar2;
  
  for (piVar2 = *(int **)(param_1 + 0x1c); piVar2 != (int *)0x0; piVar2 = (int *)*piVar2) {
    iVar1 = *(int *)(piVar2[1] + 0x18);
    (**(code **)(iVar1 + 0x14))(piVar2[1] + (int)*(short *)(iVar1 + 0x10));
  }
  return;
}



void FUN_80020e7c(int param_1)

{
  undefined uVar1;
  undefined uVar2;
  undefined uVar3;
  undefined *puVar4;
  int *piVar5;
  int iVar6;
  
  puVar4 = PTR_DAT_800a59b0;
  if (*(char *)(param_1 + 0x130) != '\0') {
    uVar1 = *(undefined *)(param_1 + 0x131);
    uVar2 = *(undefined *)(param_1 + 0x132);
    uVar3 = *(undefined *)(param_1 + 0x133);
    PTR_DAT_800a59b0[0x1d] = uVar1;
    puVar4[0x1e] = uVar2;
    puVar4[0x1f] = uVar3;
    puVar4[0x505d] = uVar1;
    puVar4[0x505e] = uVar2;
    puVar4[0x505f] = uVar3;
    *(undefined *)(param_1 + 0x130) = 0;
  }
  for (piVar5 = *(int **)(param_1 + 0x1c); piVar5 != (int *)0x0; piVar5 = (int *)*piVar5) {
  }
  for (piVar5 = *(int **)(param_1 + 0x20); piVar5 != (int *)0x0; piVar5 = (int *)*piVar5) {
    iVar6 = *(int *)(piVar5[1] + 0xc);
    (**(code **)(iVar6 + 0xc))(piVar5[1] + (int)*(short *)(iVar6 + 8));
  }
  return;
}



void FUN_80020f64(int param_1,int param_2)

{
  bool bVar1;
  undefined4 *puVar2;
  undefined4 *puVar3;
  undefined4 *puVar4;
  
  if (*(undefined4 **)(param_1 + 0x1c) == (undefined4 *)0x0) {
    puVar2 = (undefined4 *)FUN_800143ec(PTR_DAT_800a59b0,8,1,0);
    *(undefined4 **)(param_1 + 0x1c) = puVar2;
  }
  else {
    puVar2 = *(undefined4 **)(param_1 + 0x1c);
    puVar4 = (undefined4 *)0x0;
    while (puVar3 = puVar2, bVar1 = false, puVar3 != (undefined4 *)0x0) {
      if (*(short *)(param_2 + 0x10) <= *(short *)(puVar3[1] + 0x10)) {
        puVar2 = (undefined4 *)FUN_800143ec(PTR_DAT_800a59b0,8,1,0);
        if (puVar4 == (undefined4 *)0x0) {
          *(undefined4 **)(param_1 + 0x1c) = puVar2;
        }
        else {
          *puVar4 = puVar2;
        }
        *puVar2 = puVar3;
        puVar2[1] = param_2;
        bVar1 = true;
        break;
      }
      puVar4 = puVar3;
      puVar2 = (undefined4 *)*puVar3;
    }
    if (bVar1) {
      return;
    }
    puVar2 = (undefined4 *)FUN_800143ec(PTR_DAT_800a59b0,8,1,0);
    *puVar4 = puVar2;
  }
  *puVar2 = 0;
  puVar2[1] = param_2;
  return;
}



void FUN_80021078(int param_1,int param_2)

{
  bool bVar1;
  undefined4 *puVar2;
  undefined4 *puVar3;
  undefined4 *puVar4;
  
  if (*(undefined4 **)(param_1 + 0x20) == (undefined4 *)0x0) {
    puVar2 = (undefined4 *)FUN_800143ec(PTR_DAT_800a59b0,8,1,0);
    *(undefined4 **)(param_1 + 0x20) = puVar2;
  }
  else {
    puVar2 = *(undefined4 **)(param_1 + 0x20);
    puVar4 = (undefined4 *)0x0;
    while (puVar3 = puVar2, bVar1 = false, puVar3 != (undefined4 *)0x0) {
      if (*(short *)(puVar3[1] + 8) <= *(short *)(param_2 + 8)) {
        puVar2 = (undefined4 *)FUN_800143ec(PTR_DAT_800a59b0,8,1,0);
        if (puVar4 == (undefined4 *)0x0) {
          *(undefined4 **)(param_1 + 0x20) = puVar2;
        }
        else {
          *puVar4 = puVar2;
        }
        *puVar2 = puVar3;
        puVar2[1] = param_2;
        bVar1 = true;
        break;
      }
      puVar4 = puVar3;
      puVar2 = (undefined4 *)*puVar3;
    }
    if (bVar1) {
      return;
    }
    puVar2 = (undefined4 *)FUN_800143ec(PTR_DAT_800a59b0,8,1,0);
    *puVar4 = puVar2;
  }
  *puVar2 = 0;
  puVar2[1] = param_2;
  return;
}



void FUN_800213a4(int param_1,int param_2)

{
  bool bVar1;
  undefined4 *puVar2;
  undefined4 *puVar3;
  undefined4 *puVar4;
  int iVar5;
  
  if (*(undefined4 **)(param_1 + 0x1c) == (undefined4 *)0x0) {
    puVar2 = (undefined4 *)FUN_800143ec(PTR_DAT_800a59b0,8,1,0);
    *(undefined4 **)(param_1 + 0x1c) = puVar2;
  }
  else {
    puVar2 = *(undefined4 **)(param_1 + 0x1c);
    puVar4 = (undefined4 *)0x0;
    while (puVar3 = puVar2, bVar1 = false, puVar3 != (undefined4 *)0x0) {
      if (*(short *)(param_2 + 0x10) <= *(short *)(puVar3[1] + 0x10)) {
        puVar2 = (undefined4 *)FUN_800143ec(PTR_DAT_800a59b0,8,1,0);
        if (puVar4 == (undefined4 *)0x0) {
          *(undefined4 **)(param_1 + 0x1c) = puVar2;
        }
        else {
          *puVar4 = puVar2;
        }
        *puVar2 = puVar3;
        puVar2[1] = param_2;
        bVar1 = true;
        break;
      }
      puVar4 = puVar3;
      puVar2 = (undefined4 *)*puVar3;
    }
    if (bVar1) goto LAB_80021498;
    puVar2 = (undefined4 *)FUN_800143ec(PTR_DAT_800a59b0,8,1,0);
    *puVar4 = puVar2;
  }
  *puVar2 = 0;
  puVar2[1] = param_2;
LAB_80021498:
  iVar5 = *(int *)(param_2 + 0x34);
  if (*(undefined4 **)(param_1 + 0x20) == (undefined4 *)0x0) {
    puVar2 = (undefined4 *)FUN_800143ec(PTR_DAT_800a59b0,8,1,0);
    *(undefined4 **)(param_1 + 0x20) = puVar2;
  }
  else {
    puVar2 = *(undefined4 **)(param_1 + 0x20);
    puVar4 = (undefined4 *)0x0;
    while (puVar3 = puVar2, bVar1 = false, puVar3 != (undefined4 *)0x0) {
      if (*(short *)(puVar3[1] + 8) <= *(short *)(iVar5 + 8)) {
        puVar2 = (undefined4 *)FUN_800143ec(PTR_DAT_800a59b0,8,1,0);
        if (puVar4 == (undefined4 *)0x0) {
          *(undefined4 **)(param_1 + 0x20) = puVar2;
        }
        else {
          *puVar4 = puVar2;
        }
        *puVar2 = puVar3;
        puVar2[1] = iVar5;
        bVar1 = true;
        break;
      }
      puVar4 = puVar3;
      puVar2 = (undefined4 *)*puVar3;
    }
    if (bVar1) {
      return;
    }
    puVar2 = (undefined4 *)FUN_800143ec(PTR_DAT_800a59b0,8,1,0);
    *puVar4 = puVar2;
  }
  *puVar2 = 0;
  puVar2[1] = iVar5;
  return;
}



void FUN_8002158c(int param_1,int param_2)

{
  bool bVar1;
  undefined4 *puVar2;
  undefined4 *puVar3;
  undefined4 *puVar4;
  int iVar5;
  
  if (*(undefined4 **)(param_1 + 0x1c) == (undefined4 *)0x0) {
    puVar2 = (undefined4 *)FUN_800143ec(PTR_DAT_800a59b0,8,1,0);
    *(undefined4 **)(param_1 + 0x1c) = puVar2;
  }
  else {
    puVar2 = *(undefined4 **)(param_1 + 0x1c);
    puVar4 = (undefined4 *)0x0;
    while (puVar3 = puVar2, bVar1 = false, puVar3 != (undefined4 *)0x0) {
      if (*(short *)(param_2 + 0x10) <= *(short *)(puVar3[1] + 0x10)) {
        puVar2 = (undefined4 *)FUN_800143ec(PTR_DAT_800a59b0,8,1,0);
        if (puVar4 == (undefined4 *)0x0) {
          *(undefined4 **)(param_1 + 0x1c) = puVar2;
        }
        else {
          *puVar4 = puVar2;
        }
        *puVar2 = puVar3;
        puVar2[1] = param_2;
        bVar1 = true;
        break;
      }
      puVar4 = puVar3;
      puVar2 = (undefined4 *)*puVar3;
    }
    if (bVar1) goto LAB_80021680;
    puVar2 = (undefined4 *)FUN_800143ec(PTR_DAT_800a59b0,8,1,0);
    *puVar4 = puVar2;
  }
  *puVar2 = 0;
  puVar2[1] = param_2;
LAB_80021680:
  iVar5 = *(int *)(param_2 + 0x1c);
  if (*(undefined4 **)(param_1 + 0x20) == (undefined4 *)0x0) {
    puVar2 = (undefined4 *)FUN_800143ec(PTR_DAT_800a59b0,8,1,0);
    *(undefined4 **)(param_1 + 0x20) = puVar2;
  }
  else {
    puVar2 = *(undefined4 **)(param_1 + 0x20);
    puVar4 = (undefined4 *)0x0;
    while (puVar3 = puVar2, bVar1 = false, puVar3 != (undefined4 *)0x0) {
      if (*(short *)(puVar3[1] + 8) <= *(short *)(iVar5 + 8)) {
        puVar2 = (undefined4 *)FUN_800143ec(PTR_DAT_800a59b0,8,1,0);
        if (puVar4 == (undefined4 *)0x0) {
          *(undefined4 **)(param_1 + 0x20) = puVar2;
        }
        else {
          *puVar4 = puVar2;
        }
        *puVar2 = puVar3;
        puVar2[1] = iVar5;
        bVar1 = true;
        break;
      }
      puVar4 = puVar3;
      puVar2 = (undefined4 *)*puVar3;
    }
    if (bVar1) {
      return;
    }
    puVar2 = (undefined4 *)FUN_800143ec(PTR_DAT_800a59b0,8,1,0);
    *puVar4 = puVar2;
  }
  *puVar2 = 0;
  puVar2[1] = iVar5;
  return;
}



void FUN_80021774(int param_1,int param_2)

{
  bool bVar1;
  undefined4 *puVar2;
  undefined4 *puVar3;
  undefined4 *puVar4;
  int iVar5;
  
  if (*(undefined4 **)(param_1 + 0x1c) == (undefined4 *)0x0) {
    puVar2 = (undefined4 *)FUN_800143ec(PTR_DAT_800a59b0,8,1,0);
    *(undefined4 **)(param_1 + 0x1c) = puVar2;
  }
  else {
    puVar2 = *(undefined4 **)(param_1 + 0x1c);
    puVar4 = (undefined4 *)0x0;
    while (puVar3 = puVar2, bVar1 = false, puVar3 != (undefined4 *)0x0) {
      if (*(short *)(param_2 + 0x10) <= *(short *)(puVar3[1] + 0x10)) {
        puVar2 = (undefined4 *)FUN_800143ec(PTR_DAT_800a59b0,8,1,0);
        if (puVar4 == (undefined4 *)0x0) {
          *(undefined4 **)(param_1 + 0x1c) = puVar2;
        }
        else {
          *puVar4 = puVar2;
        }
        *puVar2 = puVar3;
        puVar2[1] = param_2;
        bVar1 = true;
        break;
      }
      puVar4 = puVar3;
      puVar2 = (undefined4 *)*puVar3;
    }
    if (bVar1) goto LAB_80021868;
    puVar2 = (undefined4 *)FUN_800143ec(PTR_DAT_800a59b0,8,1,0);
    *puVar4 = puVar2;
  }
  *puVar2 = 0;
  puVar2[1] = param_2;
LAB_80021868:
  iVar5 = *(int *)(param_2 + 0x1c);
  if (*(undefined4 **)(param_1 + 0x20) == (undefined4 *)0x0) {
    puVar2 = (undefined4 *)FUN_800143ec(PTR_DAT_800a59b0,8,1,0);
    *(undefined4 **)(param_1 + 0x20) = puVar2;
  }
  else {
    puVar2 = *(undefined4 **)(param_1 + 0x20);
    puVar4 = (undefined4 *)0x0;
    while (puVar3 = puVar2, bVar1 = false, puVar3 != (undefined4 *)0x0) {
      if (*(short *)(puVar3[1] + 8) <= *(short *)(iVar5 + 8)) {
        puVar2 = (undefined4 *)FUN_800143ec(PTR_DAT_800a59b0,8,1,0);
        if (puVar4 == (undefined4 *)0x0) {
          *(undefined4 **)(param_1 + 0x20) = puVar2;
        }
        else {
          *puVar4 = puVar2;
        }
        *puVar2 = puVar3;
        puVar2[1] = iVar5;
        bVar1 = true;
        break;
      }
      puVar4 = puVar3;
      puVar2 = (undefined4 *)*puVar3;
    }
    if (bVar1) {
      return;
    }
    puVar2 = (undefined4 *)FUN_800143ec(PTR_DAT_800a59b0,8,1,0);
    *puVar4 = puVar2;
  }
  *puVar2 = 0;
  puVar2[1] = iVar5;
  return;
}



void FUN_8002195c(int param_1,int param_2)

{
  bool bVar1;
  undefined4 *puVar2;
  undefined4 *puVar3;
  undefined4 *puVar4;
  int iVar5;
  
  if (*(undefined4 **)(param_1 + 0x1c) == (undefined4 *)0x0) {
    puVar2 = (undefined4 *)FUN_800143ec(PTR_DAT_800a59b0,8,1,0);
    *(undefined4 **)(param_1 + 0x1c) = puVar2;
  }
  else {
    puVar2 = *(undefined4 **)(param_1 + 0x1c);
    puVar4 = (undefined4 *)0x0;
    while (puVar3 = puVar2, bVar1 = false, puVar3 != (undefined4 *)0x0) {
      if (*(short *)(param_2 + 0x10) <= *(short *)(puVar3[1] + 0x10)) {
        puVar2 = (undefined4 *)FUN_800143ec(PTR_DAT_800a59b0,8,1,0);
        if (puVar4 == (undefined4 *)0x0) {
          *(undefined4 **)(param_1 + 0x1c) = puVar2;
        }
        else {
          *puVar4 = puVar2;
        }
        *puVar2 = puVar3;
        puVar2[1] = param_2;
        bVar1 = true;
        break;
      }
      puVar4 = puVar3;
      puVar2 = (undefined4 *)*puVar3;
    }
    if (bVar1) goto LAB_80021a50;
    puVar2 = (undefined4 *)FUN_800143ec(PTR_DAT_800a59b0,8,1,0);
    *puVar4 = puVar2;
  }
  *puVar2 = 0;
  puVar2[1] = param_2;
LAB_80021a50:
  iVar5 = *(int *)(param_2 + 0x1c);
  if (*(undefined4 **)(param_1 + 0x20) == (undefined4 *)0x0) {
    puVar2 = (undefined4 *)FUN_800143ec(PTR_DAT_800a59b0,8,1,0);
    *(undefined4 **)(param_1 + 0x20) = puVar2;
  }
  else {
    puVar2 = *(undefined4 **)(param_1 + 0x20);
    puVar4 = (undefined4 *)0x0;
    while (puVar3 = puVar2, bVar1 = false, puVar3 != (undefined4 *)0x0) {
      if (*(short *)(puVar3[1] + 8) <= *(short *)(iVar5 + 8)) {
        puVar2 = (undefined4 *)FUN_800143ec(PTR_DAT_800a59b0,8,1,0);
        if (puVar4 == (undefined4 *)0x0) {
          *(undefined4 **)(param_1 + 0x20) = puVar2;
        }
        else {
          *puVar4 = puVar2;
        }
        *puVar2 = puVar3;
        puVar2[1] = iVar5;
        bVar1 = true;
        break;
      }
      puVar4 = puVar3;
      puVar2 = (undefined4 *)*puVar3;
    }
    if (bVar1) {
      return;
    }
    puVar2 = (undefined4 *)FUN_800143ec(PTR_DAT_800a59b0,8,1,0);
    *puVar4 = puVar2;
  }
  *puVar2 = 0;
  puVar2[1] = iVar5;
  return;
}



void FUN_80021b44(int param_1,int param_2)

{
  bool bVar1;
  undefined4 *puVar2;
  undefined4 *puVar3;
  undefined4 *puVar4;
  int iVar5;
  
  if (*(undefined4 **)(param_1 + 0x1c) == (undefined4 *)0x0) {
    puVar2 = (undefined4 *)FUN_800143ec(PTR_DAT_800a59b0,8,1,0);
    *(undefined4 **)(param_1 + 0x1c) = puVar2;
  }
  else {
    puVar2 = *(undefined4 **)(param_1 + 0x1c);
    puVar4 = (undefined4 *)0x0;
    while (puVar3 = puVar2, bVar1 = false, puVar3 != (undefined4 *)0x0) {
      if (*(short *)(param_2 + 0x10) <= *(short *)(puVar3[1] + 0x10)) {
        puVar2 = (undefined4 *)FUN_800143ec(PTR_DAT_800a59b0,8,1,0);
        if (puVar4 == (undefined4 *)0x0) {
          *(undefined4 **)(param_1 + 0x1c) = puVar2;
        }
        else {
          *puVar4 = puVar2;
        }
        *puVar2 = puVar3;
        puVar2[1] = param_2;
        bVar1 = true;
        break;
      }
      puVar4 = puVar3;
      puVar2 = (undefined4 *)*puVar3;
    }
    if (bVar1) goto LAB_80021c38;
    puVar2 = (undefined4 *)FUN_800143ec(PTR_DAT_800a59b0,8,1,0);
    *puVar4 = puVar2;
  }
  *puVar2 = 0;
  puVar2[1] = param_2;
LAB_80021c38:
  iVar5 = *(int *)(param_2 + 0x20);
  if (*(undefined4 **)(param_1 + 0x20) == (undefined4 *)0x0) {
    puVar2 = (undefined4 *)FUN_800143ec(PTR_DAT_800a59b0,8,1,0);
    *(undefined4 **)(param_1 + 0x20) = puVar2;
  }
  else {
    puVar2 = *(undefined4 **)(param_1 + 0x20);
    puVar4 = (undefined4 *)0x0;
    while (puVar3 = puVar2, bVar1 = false, puVar3 != (undefined4 *)0x0) {
      if (*(short *)(puVar3[1] + 8) <= *(short *)(iVar5 + 8)) {
        puVar2 = (undefined4 *)FUN_800143ec(PTR_DAT_800a59b0,8,1,0);
        if (puVar4 == (undefined4 *)0x0) {
          *(undefined4 **)(param_1 + 0x20) = puVar2;
        }
        else {
          *puVar4 = puVar2;
        }
        *puVar2 = puVar3;
        puVar2[1] = iVar5;
        bVar1 = true;
        break;
      }
      puVar4 = puVar3;
      puVar2 = (undefined4 *)*puVar3;
    }
    if (bVar1) {
      return;
    }
    puVar2 = (undefined4 *)FUN_800143ec(PTR_DAT_800a59b0,8,1,0);
    *puVar4 = puVar2;
  }
  *puVar2 = 0;
  puVar2[1] = iVar5;
  return;
}



undefined4 FUN_80021d2c(int param_1,int param_2)

{
  int *piVar1;
  int *piVar2;
  int *piVar3;
  
  piVar3 = (int *)*(int *)(param_1 + 0x1c);
  piVar2 = (undefined4 *)0x0;
  while( true ) {
    piVar1 = piVar3;
    if (piVar1 == (int *)0x0) {
      return 0;
    }
    if (piVar1[1] == param_2) break;
    piVar3 = (int *)*piVar1;
    piVar2 = piVar1;
  }
  if (piVar2 == (undefined4 *)0x0) {
    *(int *)(param_1 + 0x1c) = *piVar1;
  }
  else {
    *piVar2 = *piVar1;
  }
  potentially_load_asset_(PTR_DAT_800a59b0,piVar1,8,0);
  return 1;
}



undefined4 FUN_80021dbc(int param_1,int param_2)

{
  int *piVar1;
  int *piVar2;
  int *piVar3;
  
  piVar3 = (int *)*(int *)(param_1 + 0x20);
  piVar2 = (undefined4 *)0x0;
  while( true ) {
    piVar1 = piVar3;
    if (piVar1 == (int *)0x0) {
      return 0;
    }
    if (piVar1[1] == param_2) break;
    piVar3 = (int *)*piVar1;
    piVar2 = piVar1;
  }
  if (piVar2 == (undefined4 *)0x0) {
    *(int *)(param_1 + 0x20) = *piVar1;
  }
  else {
    *piVar2 = *piVar1;
  }
  potentially_load_asset_(PTR_DAT_800a59b0,piVar1,8,0);
  return 1;
}



void FUN_80021e4c(int param_1,int param_2)

{
  int *piVar1;
  int *piVar2;
  int *piVar3;
  
  piVar3 = (int *)*(int *)(param_1 + 0x24);
  piVar2 = (undefined4 *)0x0;
  while( true ) {
    piVar1 = piVar3;
    if (piVar1 == (int *)0x0) {
      return;
    }
    if (piVar1[1] == param_2) break;
    piVar3 = (int *)*piVar1;
    piVar2 = piVar1;
  }
  if (piVar2 == (undefined4 *)0x0) {
    *(int *)(param_1 + 0x24) = *piVar1;
  }
  else {
    *piVar2 = *piVar1;
  }
  potentially_load_asset_(PTR_DAT_800a59b0,piVar1,8,0);
  return;
}



void FUN_80021ed8(int param_1,int param_2,short param_3)

{
  bool bVar1;
  int *piVar2;
  int *piVar3;
  undefined4 *puVar4;
  undefined4 *puVar5;
  undefined4 *puVar6;
  
  piVar2 = (undefined4 *)0x0;
  for (piVar3 = (int *)*(int *)(param_1 + 0x20); piVar3 != (int *)0x0; piVar3 = (int *)*piVar3) {
    if (piVar3[1] == param_2) {
      if (piVar2 == (undefined4 *)0x0) {
        *(int *)(param_1 + 0x20) = *piVar3;
      }
      else {
        *piVar2 = *piVar3;
      }
      potentially_load_asset_(PTR_DAT_800a59b0,piVar3,8,0);
      *(short *)(param_2 + 8) = param_3;
      goto LAB_80021f74;
    }
    piVar2 = piVar3;
  }
  *(short *)(param_2 + 8) = param_3;
LAB_80021f74:
  if (*(undefined4 **)(param_1 + 0x20) == (undefined4 *)0x0) {
    puVar4 = (undefined4 *)FUN_800143ec(PTR_DAT_800a59b0,8,1,0);
    *(undefined4 **)(param_1 + 0x20) = puVar4;
  }
  else {
    puVar4 = *(undefined4 **)(param_1 + 0x20);
    puVar6 = (undefined4 *)0x0;
    while (puVar5 = puVar4, bVar1 = false, puVar5 != (undefined4 *)0x0) {
      if (*(short *)(puVar5[1] + 8) <= param_3) {
        puVar4 = (undefined4 *)FUN_800143ec(PTR_DAT_800a59b0,8,1,0);
        if (puVar6 == (undefined4 *)0x0) {
          *(undefined4 **)(param_1 + 0x20) = puVar4;
        }
        else {
          *puVar6 = puVar4;
        }
        *puVar4 = puVar5;
        puVar4[1] = param_2;
        bVar1 = true;
        break;
      }
      puVar6 = puVar5;
      puVar4 = (undefined4 *)*puVar5;
    }
    if (bVar1) {
      return;
    }
    puVar4 = (undefined4 *)FUN_800143ec(PTR_DAT_800a59b0,8,1,0);
    *puVar6 = puVar4;
  }
  *puVar4 = 0;
  puVar4[1] = param_2;
  return;
}



void FUN_80022070(int param_1,int param_2)

{
  int *piVar1;
  int *piVar2;
  int *piVar3;
  
  piVar3 = (int *)*(int *)(param_1 + 0x24);
  piVar2 = (undefined4 *)0x0;
  while (piVar1 = piVar3, piVar1 != (int *)0x0) {
    if (piVar1[1] == param_2) {
      if (piVar2 == (undefined4 *)0x0) {
        *(int *)(param_1 + 0x24) = *piVar1;
      }
      else {
        *piVar2 = *piVar1;
      }
      potentially_load_asset_(PTR_DAT_800a59b0,piVar1,8,0);
      break;
    }
    piVar2 = piVar1;
    piVar3 = (int *)*piVar1;
  }
  piVar3 = (int *)*(int *)(param_1 + 0x20);
  piVar2 = (undefined4 *)0x0;
  while (piVar1 = piVar3, piVar1 != (int *)0x0) {
    if (piVar1[1] == *(int *)(param_2 + 0x34)) {
      if (piVar2 == (undefined4 *)0x0) {
        *(int *)(param_1 + 0x20) = *piVar1;
      }
      else {
        *piVar2 = *piVar1;
      }
      potentially_load_asset_(PTR_DAT_800a59b0,piVar1,8,0);
      break;
    }
    piVar2 = piVar1;
    piVar3 = (int *)*piVar1;
  }
  piVar3 = (int *)*(int *)(param_1 + 0x1c);
  piVar2 = (undefined4 *)0x0;
  do {
    piVar1 = piVar3;
    if (piVar1 == (int *)0x0) {
LAB_800221d8:
      if (param_2 != 0) {
        (**(code **)(*(int *)(param_2 + 0x18) + 0xc))
                  (param_2 + *(short *)(*(int *)(param_2 + 0x18) + 8),3);
      }
      return;
    }
    if (piVar1[1] == param_2) {
      if (piVar2 == (undefined4 *)0x0) {
        *(int *)(param_1 + 0x1c) = *piVar1;
      }
      else {
        *piVar2 = *piVar1;
      }
      potentially_load_asset_(PTR_DAT_800a59b0,piVar1,8,0);
      goto LAB_800221d8;
    }
    piVar3 = (int *)*piVar1;
    piVar2 = piVar1;
  } while( true );
}



void FUN_80022214(int param_1)

{
  undefined *puVar1;
  int iVar2;
  undefined4 *puVar3;
  
  iVar2 = *(int *)(param_1 + 0x1c);
  puVar1 = PTR_DAT_800a59b0;
  while (iVar2 != 0) {
    puVar3 = *(undefined4 **)(param_1 + 0x1c);
    PTR_DAT_800a59b0 = puVar1;
    *(undefined4 *)(param_1 + 0x1c) = *puVar3;
    potentially_load_asset_(puVar1,puVar3,8,0);
    puVar1 = PTR_DAT_800a59b0;
    iVar2 = *(int *)(param_1 + 0x1c);
  }
  PTR_DAT_800a59b0 = puVar1;
  return;
}



void FUN_80022334(int param_1)

{
  undefined *puVar1;
  int iVar2;
  undefined4 *puVar3;
  
  iVar2 = *(int *)(param_1 + 0x28);
  while (iVar2 != 0) {
    puVar3 = *(undefined4 **)(param_1 + 0x28);
    potentially_load_asset_(PTR_DAT_800a59b0,puVar3[1],0,0);
    puVar1 = PTR_DAT_800a59b0;
    *(undefined4 *)(param_1 + 0x28) = *puVar3;
    potentially_load_asset_(puVar1,puVar3,8,0);
    iVar2 = *(int *)(param_1 + 0x28);
  }
  return;
}



void FUN_800223b8(int param_1)

{
  undefined *puVar1;
  int iVar2;
  undefined4 *puVar3;
  
  iVar2 = *(int *)(param_1 + 0x20);
  puVar1 = PTR_DAT_800a59b0;
  while (PTR_DAT_800a59b0 = puVar1, iVar2 != 0) {
    puVar3 = *(undefined4 **)(param_1 + 0x20);
    *(undefined4 *)(param_1 + 0x20) = *puVar3;
    potentially_load_asset_(puVar1,puVar3,8,0);
    puVar1 = PTR_DAT_800a59b0;
    iVar2 = *(int *)(param_1 + 0x20);
  }
  while (puVar1 = PTR_DAT_800a59b0, *(int *)(param_1 + 0x24) != 0) {
    puVar3 = *(undefined4 **)(param_1 + 0x24);
    *(undefined4 *)(param_1 + 0x24) = *puVar3;
    potentially_load_asset_(puVar1,puVar3,8,0);
  }
  while (puVar3 = *(undefined4 **)(param_1 + 0x1c), puVar3 != (undefined4 *)0x0) {
    *(undefined4 *)(param_1 + 0x1c) = *puVar3;
    iVar2 = puVar3[1];
    if ((*(char *)(iVar2 + 0x14) != '\0') && (iVar2 != 0)) {
      (**(code **)(*(int *)(iVar2 + 0x18) + 0xc))(iVar2 + *(short *)(*(int *)(iVar2 + 0x18) + 8),3);
    }
    potentially_load_asset_(PTR_DAT_800a59b0,puVar3,8,0);
  }
  return;
}



undefined4
FUN_800224cc(int param_1,short param_2,short param_3,ushort param_4,undefined2 param_5,
            undefined4 param_6,int param_7)

{
  bool bVar1;
  char cVar2;
  int iVar3;
  undefined4 uVar4;
  int iVar5;
  int iVar6;
  int *piVar7;
  short unaff_s2;
  short unaff_s6;
  code *pcVar8;
  
  if ((param_4 == 2) && (*(int *)(param_1 + 0x2c) != 0)) {
    cVar2 = FUN_8001b35c(*(int *)(param_1 + 0x2c),(int)param_2,(int)param_3);
    if (cVar2 != '\0') {
      iVar5 = *(int *)(param_1 + 0x2c);
      iVar6 = (int)*(short *)(iVar5 + 10);
      if (iVar6 != 0) {
        if (iVar6 < 1) {
          pcVar8 = *(code **)(iVar5 + 0xc);
        }
        else {
          iVar3 = iVar6 * 8 + *(int *)(iVar5 + *(short *)(iVar5 + 0xc));
          unaff_s6 = (short)*(undefined4 *)(iVar3 + -8);
          pcVar8 = *(code **)(iVar3 + -4);
        }
        iVar3 = (int)*(short *)(iVar5 + 8);
        if (0 < iVar6 << 0x10) {
          iVar3 = unaff_s6 + iVar3;
        }
        uVar4 = (*pcVar8)(iVar5 + iVar3,param_5,param_6,param_7);
        return uVar4;
      }
    }
  }
  else {
    for (piVar7 = *(int **)(param_1 + 0x24); piVar7 != (int *)0x0; piVar7 = (int *)*piVar7) {
      iVar5 = piVar7[1];
      bVar1 = false;
      if ((iVar5 != param_7) && ((param_4 & *(ushort *)(iVar5 + 0x12)) != 0)) {
        cVar2 = FUN_8001b35c(iVar5,(int)param_2,(int)param_3);
        bVar1 = cVar2 != '\0';
      }
      if (bVar1) {
        iVar6 = (int)*(short *)(iVar5 + 10);
        if (iVar6 == 0) {
          return 0;
        }
        if (iVar6 < 1) {
          pcVar8 = *(code **)(iVar5 + 0xc);
        }
        else {
          iVar3 = iVar6 * 8 + *(int *)(iVar5 + *(short *)(iVar5 + 0xc));
          unaff_s2 = (short)*(undefined4 *)(iVar3 + -8);
          pcVar8 = *(code **)(iVar3 + -4);
        }
        iVar3 = (int)*(short *)(iVar5 + 8);
        if (0 < iVar6 << 0x10) {
          iVar3 = unaff_s2 + iVar3;
        }
        uVar4 = (*pcVar8)(iVar5 + iVar3,param_5,param_6,param_7);
        return uVar4;
      }
    }
  }
  return 0;
}



undefined4
FUN_800226f4(int param_1,undefined4 param_2,undefined4 param_3,ushort param_4,undefined2 param_5,
            undefined4 param_6,int param_7)

{
  bool bVar1;
  char cVar2;
  int iVar3;
  undefined4 uVar4;
  int iVar5;
  int iVar6;
  int *piVar7;
  short unaff_s2;
  short unaff_s6;
  code *pcVar8;
  
  if ((param_4 == 2) && (*(int *)(param_1 + 0x2c) != 0)) {
    cVar2 = FUN_8001b3ec(*(int *)(param_1 + 0x2c),param_2,param_3);
    if (cVar2 != '\0') {
      iVar5 = *(int *)(param_1 + 0x2c);
      iVar6 = (int)*(short *)(iVar5 + 10);
      if (iVar6 != 0) {
        if (iVar6 < 1) {
          pcVar8 = *(code **)(iVar5 + 0xc);
        }
        else {
          iVar3 = iVar6 * 8 + *(int *)(iVar5 + *(short *)(iVar5 + 0xc));
          unaff_s6 = (short)*(undefined4 *)(iVar3 + -8);
          pcVar8 = *(code **)(iVar3 + -4);
        }
        iVar3 = (int)*(short *)(iVar5 + 8);
        if (0 < iVar6 << 0x10) {
          iVar3 = unaff_s6 + iVar3;
        }
        uVar4 = (*pcVar8)(iVar5 + iVar3,param_5,param_6,param_7);
        return uVar4;
      }
    }
  }
  else {
    for (piVar7 = *(int **)(param_1 + 0x24); piVar7 != (int *)0x0; piVar7 = (int *)*piVar7) {
      iVar5 = piVar7[1];
      bVar1 = false;
      if ((iVar5 != param_7) && ((param_4 & *(ushort *)(iVar5 + 0x12)) != 0)) {
        cVar2 = FUN_8001b3ec(iVar5,param_2,param_3);
        bVar1 = cVar2 != '\0';
      }
      if (bVar1) {
        iVar6 = (int)*(short *)(iVar5 + 10);
        if (iVar6 == 0) {
          return 0;
        }
        if (iVar6 < 1) {
          pcVar8 = *(code **)(iVar5 + 0xc);
        }
        else {
          iVar3 = iVar6 * 8 + *(int *)(iVar5 + *(short *)(iVar5 + 0xc));
          unaff_s2 = (short)*(undefined4 *)(iVar3 + -8);
          pcVar8 = *(code **)(iVar3 + -4);
        }
        iVar3 = (int)*(short *)(iVar5 + 8);
        if (0 < iVar6 << 0x10) {
          iVar3 = unaff_s2 + iVar3;
        }
        uVar4 = (*pcVar8)(iVar5 + iVar3,param_5,param_6,param_7);
        return uVar4;
      }
    }
  }
  return 0;
}



void FUN_80022d90(int param_1,short param_2,undefined2 param_3,undefined4 param_4,undefined4 param_5
                 )

{
  int iVar1;
  int iVar2;
  int iVar3;
  short in_t0;
  code *pcVar4;
  int *piVar5;
  undefined4 unaff_s2;
  
  if ((param_2 == 2) && (iVar1 = *(int *)(param_1 + 0x2c), iVar1 != 0)) {
    iVar3 = (int)*(short *)(iVar1 + 10);
    if (iVar3 != 0) {
      if (iVar3 < 1) {
        pcVar4 = *(code **)(iVar1 + 0xc);
      }
      else {
        iVar2 = iVar3 * 8 + *(int *)(iVar1 + *(short *)(iVar1 + 0xc));
        in_t0 = (short)*(undefined4 *)(iVar2 + -8);
        pcVar4 = *(code **)(iVar2 + -4);
      }
      iVar2 = (int)*(short *)(iVar1 + 8);
      if (0 < iVar3 << 0x10) {
        iVar2 = in_t0 + iVar2;
      }
      (*pcVar4)(iVar1 + iVar2,param_3,param_4,param_5);
    }
  }
  else {
    for (piVar5 = *(int **)(param_1 + 0x24); piVar5 != (int *)0x0; piVar5 = (int *)*piVar5) {
      iVar1 = piVar5[1];
      iVar3 = (int)*(short *)(iVar1 + 10);
      if (iVar3 != 0) {
        if (iVar3 < 1) {
          pcVar4 = *(code **)(iVar1 + 0xc);
        }
        else {
          iVar2 = iVar3 * 8 + *(int *)(iVar1 + *(short *)(iVar1 + 0xc));
          unaff_s2 = *(undefined4 *)(iVar2 + -8);
          pcVar4 = *(code **)(iVar2 + -4);
        }
        iVar2 = (int)*(short *)(iVar1 + 8);
        if (0 < iVar3 << 0x10) {
          iVar2 = (short)unaff_s2 + iVar2;
        }
        (*pcVar4)(iVar1 + iVar2,param_3,param_4,param_5);
      }
    }
  }
  return;
}



void FUN_80022f20(int param_1,short param_2,undefined2 param_3,undefined4 param_4,undefined4 param_5
                 )

{
  int iVar1;
  int iVar2;
  int iVar3;
  short in_t0;
  code *pcVar4;
  int *piVar5;
  undefined4 unaff_s2;
  
  if ((param_2 == 2) && (iVar1 = *(int *)(param_1 + 0x2c), iVar1 != 0)) {
    iVar3 = (int)*(short *)(iVar1 + 10);
    if (iVar3 != 0) {
      if (iVar3 < 1) {
        pcVar4 = *(code **)(iVar1 + 0xc);
      }
      else {
        iVar2 = iVar3 * 8 + *(int *)(iVar1 + *(short *)(iVar1 + 0xc));
        in_t0 = (short)*(undefined4 *)(iVar2 + -8);
        pcVar4 = *(code **)(iVar2 + -4);
      }
      iVar2 = (int)*(short *)(iVar1 + 8);
      if (0 < iVar3 << 0x10) {
        iVar2 = in_t0 + iVar2;
      }
      (*pcVar4)(iVar1 + iVar2,param_3,param_4,param_5);
    }
  }
  else {
    for (piVar5 = *(int **)(param_1 + 0x1c); piVar5 != (int *)0x0; piVar5 = (int *)*piVar5) {
      iVar1 = piVar5[1];
      iVar3 = (int)*(short *)(iVar1 + 10);
      if (iVar3 != 0) {
        if (iVar3 < 1) {
          pcVar4 = *(code **)(iVar1 + 0xc);
        }
        else {
          iVar2 = iVar3 * 8 + *(int *)(iVar1 + *(short *)(iVar1 + 0xc));
          unaff_s2 = *(undefined4 *)(iVar2 + -8);
          pcVar4 = *(code **)(iVar2 + -4);
        }
        iVar2 = (int)*(short *)(iVar1 + 8);
        if (0 < iVar3 << 0x10) {
          iVar2 = (short)unaff_s2 + iVar2;
        }
        (*pcVar4)(iVar1 + iVar2,param_3,param_4,param_5);
      }
    }
  }
  return;
}



void FUN_800233bc(int param_1)

{
  char cVar1;
  ushort uVar2;
  ushort uVar3;
  ushort uVar4;
  ushort uVar5;
  short sVar6;
  short sVar7;
  bool bVar8;
  short sVar9;
  undefined2 uVar10;
  int iVar11;
  int iVar12;
  int iVar13;
  int iVar14;
  uint uVar15;
  uint uVar16;
  uint uVar17;
  int iVar18;
  short in_t0;
  code *pcVar19;
  uint uVar20;
  short unaff_s2;
  short unaff_s4;
  short unaff_s6;
  short local_40;
  short local_30;
  
  iVar14 = *(int *)(param_1 + 0x30);
  if (iVar14 == 0) {
    return;
  }
  if (*(char *)(param_1 + 99) != '\0') {
    return;
  }
  uVar20 = (uint)*(byte *)(param_1 + 0x12a);
  if (*(char *)(iVar14 + 0x74) == '\x01') {
    uVar20 = -uVar20;
  }
  if (*(char *)(param_1 + 0x62) != '\0') {
    uVar20 = -uVar20;
  }
  cVar1 = *(char *)(param_1 + 0x61);
  iVar18 = (int)*(short *)(iVar14 + 0x26);
  uVar15 = (uint)*(ushort *)(iVar14 + 0x68);
  if (iVar18 != 0) {
    if (iVar18 < 1) {
      pcVar19 = *(code **)(iVar14 + 0x28);
    }
    else {
      iVar11 = iVar18 * 8 + *(int *)(iVar14 + *(short *)(iVar14 + 0x28));
      in_t0 = (short)*(undefined4 *)(iVar11 + -8);
      pcVar19 = *(code **)(iVar11 + -4);
    }
    iVar11 = (int)*(short *)(iVar14 + 0x24);
    if (0 < iVar18 << 0x10) {
      iVar11 = in_t0 + iVar11;
    }
    uVar15 = (*pcVar19)(iVar14 + iVar11,(int)(short)*(ushort *)(iVar14 + 0x68));
  }
  uVar2 = *(ushort *)(param_1 + 0x120);
  iVar14 = *(int *)(param_1 + 0x30);
  uVar3 = *(ushort *)(param_1 + 100);
  iVar18 = (int)*(short *)(iVar14 + 0x2e);
  uVar16 = (uint)*(ushort *)(iVar14 + 0x6a);
  if (iVar18 != 0) {
    if (iVar18 < 1) {
      pcVar19 = *(code **)(iVar14 + 0x30);
    }
    else {
      iVar11 = iVar18 * 8 + *(int *)(iVar14 + *(short *)(iVar14 + 0x30));
      unaff_s2 = (short)*(undefined4 *)(iVar11 + -8);
      pcVar19 = *(code **)(iVar11 + -4);
    }
    iVar11 = (int)*(short *)(iVar14 + 0x2c);
    if (0 < iVar18 << 0x10) {
      iVar11 = unaff_s2 + iVar11;
    }
    uVar16 = (*pcVar19)(iVar14 + iVar11,(int)(short)*(ushort *)(iVar14 + 0x6a));
  }
  uVar4 = *(ushort *)(param_1 + 0x122);
  iVar14 = *(int *)(param_1 + 0x30);
  uVar5 = *(ushort *)(param_1 + 0x66);
  iVar18 = (int)*(short *)(iVar14 + 0x2e);
  uVar17 = (uint)*(ushort *)(iVar14 + 0x6a);
  if (iVar18 != 0) {
    if (iVar18 < 1) {
      pcVar19 = *(code **)(iVar14 + 0x30);
    }
    else {
      iVar11 = iVar18 * 8 + *(int *)(iVar14 + *(short *)(iVar14 + 0x30));
      unaff_s4 = (short)*(undefined4 *)(iVar11 + -8);
      pcVar19 = *(code **)(iVar11 + -4);
    }
    iVar11 = (int)*(short *)(iVar14 + 0x2c);
    if (0 < iVar18 << 0x10) {
      iVar11 = unaff_s4 + iVar11;
    }
    uVar17 = (*pcVar19)(iVar14 + iVar11,(int)(short)*(ushort *)(iVar14 + 0x6a));
  }
  iVar14 = *(int *)(param_1 + 0x30);
  iVar11 = uVar17 - *(ushort *)(param_1 + 0x56);
  iVar18 = (int)*(short *)(iVar14 + 0x26);
  uVar17 = (uint)*(ushort *)(iVar14 + 0x68);
  if (iVar18 != 0) {
    if (iVar18 < 1) {
      pcVar19 = *(code **)(iVar14 + 0x28);
    }
    else {
      iVar12 = iVar18 * 8 + *(int *)(iVar14 + *(short *)(iVar14 + 0x28));
      unaff_s6 = (short)*(undefined4 *)(iVar12 + -8);
      pcVar19 = *(code **)(iVar12 + -4);
    }
    iVar12 = (int)*(short *)(iVar14 + 0x24);
    if (0 < iVar18 << 0x10) {
      iVar12 = unaff_s6 + iVar12;
    }
    uVar17 = (*pcVar19)(iVar14 + iVar12,(int)(short)*(ushort *)(iVar14 + 0x68));
  }
  iVar18 = (uint)uVar5 + (uint)uVar4 + uVar16 + ((-(uint)(cVar1 != '\0') & 0x60) - 0x78) + iVar11;
  uVar17 = uVar17 - *(ushort *)(param_1 + 0x54);
  iVar14 = (uint)uVar3 + (uint)uVar2 + uVar15 + (uVar20 - 0xa0) + uVar17;
  if ((*(char *)(param_1 + 0x58) != '\0') && (iVar14 * 0x10000 < 0)) {
    iVar14 = 0;
  }
  if (*(char *)(param_1 + 0x5a) != '\0') {
    if ((int)*(short *)(param_1 + 0x48) - (int)*(short *)PTR_DAT_800a59b0 < (int)(short)iVar14) {
      iVar14 = (int)*(short *)(param_1 + 0x48) - (int)*(short *)PTR_DAT_800a59b0;
    }
    if (iVar14 << 0x10 < 0) {
      iVar14 = 0;
    }
  }
  if ((*(char *)(param_1 + 0x59) != '\0') && (iVar18 * 0x10000 >> 0x10 < 5)) {
    iVar18 = 5;
  }
  if (*(char *)(param_1 + 0x5b) != '\0') {
    if (((int)*(short *)(param_1 + 0x4a) - (int)*(short *)(PTR_DAT_800a59b0 + 2)) + -5 <
        (int)(short)iVar18) {
      iVar18 = ((int)*(short *)(param_1 + 0x4a) - (int)*(short *)(PTR_DAT_800a59b0 + 2)) + -5;
    }
    if (iVar18 << 0x10 < 0) {
      iVar18 = 0;
    }
  }
  sVar6 = *(short *)(param_1 + 0x44);
  sVar7 = *(short *)(param_1 + 0x44);
  uVar20 = iVar14 - (uint)*(ushort *)(param_1 + 0x44);
  iVar14 = (int)(uVar20 * 0x10000) >> 0x10;
  if (iVar14 == 0) {
    *(undefined4 *)(param_1 + 0x4c) = 0;
  }
  else {
    if ((uVar17 & 0xffff) == 0) {
      if (iVar14 < 0) {
        uVar20 = -uVar20;
      }
      if (0x8f < (short)uVar20) goto LAB_80023854;
      iVar12 = *(int *)(&DAT_8009b0d0 + (uVar20 >> 1 & 0x7c));
    }
    else {
      if (iVar14 < 0) {
        uVar20 = -uVar20;
      }
      if ((short)uVar20 < 0x90) {
        iVar12 = *(int *)(&DAT_8009b160 + (uVar20 >> 1 & 0x7c));
      }
      else {
LAB_80023854:
        iVar12 = 0xa0000;
      }
    }
    if (iVar14 < 0) {
      iVar12 = -iVar12;
    }
    iVar14 = *(int *)(param_1 + 0x4c);
    if (iVar14 < iVar12) {
      iVar13 = 0x10000;
      if (iVar14 < 0) {
        iVar13 = 0x8000;
      }
      *(int *)(param_1 + 0x4c) = iVar14 + iVar13;
      bVar8 = iVar12 < *(int *)(param_1 + 0x4c);
    }
    else {
      if (iVar14 <= iVar12) goto LAB_800238dc;
      iVar13 = -0x10000;
      if (0 < iVar14) {
        iVar13 = -0x8000;
      }
      *(int *)(param_1 + 0x4c) = iVar14 + iVar13;
      bVar8 = *(int *)(param_1 + 0x4c) < iVar12;
    }
    if (bVar8) {
      *(int *)(param_1 + 0x4c) = iVar12;
    }
  }
LAB_800238dc:
  uVar20 = iVar18 - (uint)*(ushort *)(param_1 + 0x46);
  if ((uVar20 & 0xffff) == 0) {
    *(undefined4 *)(param_1 + 0x50) = 0;
    goto LAB_80023ae8;
  }
  if (((*(char *)(param_1 + 0x60) != '\0') &&
      ((short)(*(short *)(param_1 + 0x46) + -0x66) <= (short)iVar18)) &&
     ((short)iVar18 <= (short)(*(short *)(param_1 + 0x46) + 0x10))) {
    iVar14 = *(int *)(param_1 + 0x50);
    if (iVar14 < 1) {
      if (-1 < iVar14) goto LAB_80023ae8;
      iVar18 = 0x10000;
      if (iVar11 * 0x10000 < 1) {
        iVar18 = 0x8000;
      }
    }
    else {
      iVar18 = -0x8000;
      if (iVar11 * 0x10000 < 0) {
        iVar18 = -0x10000;
      }
    }
    *(int *)(param_1 + 0x50) = iVar14 + iVar18;
    goto LAB_80023ae8;
  }
  iVar14 = (int)(uVar20 * 0x10000) >> 0x10;
  if (iVar14 < 1) {
    if (iVar11 * 0x10000 == 0) {
      if (iVar14 < 0) {
        uVar20 = -uVar20;
      }
      if ((short)uVar20 < 0x90) {
        iVar18 = *(int *)(&DAT_8009b0d0 + (uVar20 >> 1 & 0x7c));
      }
      else {
        iVar18 = 0xa0000;
      }
    }
    else {
      if (iVar14 < 0) {
        uVar20 = -uVar20;
      }
      if ((short)uVar20 < 0x90) {
        iVar18 = *(int *)(&DAT_8009b160 + (uVar20 >> 1 & 0x7c));
      }
      else {
        iVar18 = 0xa0000;
      }
    }
    if (iVar14 < 0) {
      iVar18 = -iVar18;
    }
  }
  else if (iVar11 * 0x10000 == 0) {
    if (0x8f < iVar14) goto LAB_800239d0;
    iVar18 = *(int *)(&DAT_8009b0d0 + (uVar20 >> 1 & 0x7c));
  }
  else if (0x8f < iVar14) {
LAB_800239d0:
    iVar18 = 0xa0000;
  }
  else {
    iVar18 = *(int *)(&DAT_8009b118 + (uVar20 >> 1 & 0x7c));
  }
  iVar14 = *(int *)(param_1 + 0x50);
  if (iVar14 < iVar18) {
    iVar11 = 0x10000;
    if (iVar14 < 0) {
      iVar11 = 0x8000;
    }
    *(int *)(param_1 + 0x50) = iVar14 + iVar11;
    bVar8 = iVar18 < *(int *)(param_1 + 0x50);
  }
  else {
    if (iVar14 <= iVar18) goto LAB_80023ae8;
    *(int *)(param_1 + 0x50) = iVar14 + -0x10000;
    bVar8 = *(int *)(param_1 + 0x50) < iVar18;
  }
  if (bVar8) {
    *(int *)(param_1 + 0x50) = iVar18;
  }
LAB_80023ae8:
  iVar14 = *(short *)(param_1 + 0x46) * 0x10000 + (uint)*(ushort *)(param_1 + 0x5e) +
           *(int *)(param_1 + 0x50);
  *(short *)(param_1 + 0x5e) = (short)iVar14;
  iVar18 = *(short *)(param_1 + 0x44) * 0x10000 + (uint)*(ushort *)(param_1 + 0x5c) +
           *(int *)(param_1 + 0x4c);
  *(short *)(param_1 + 0x44) = (short)((uint)iVar18 >> 0x10);
  *(short *)(param_1 + 0x46) = (short)((uint)iVar14 >> 0x10);
  *(short *)(param_1 + 0x5c) = (short)iVar18;
  if ((*(char *)(param_1 + 0x58) != '\0') && (*(short *)(param_1 + 0x44) < 0)) {
    *(undefined2 *)(param_1 + 0x44) = 0;
  }
  if (*(char *)(param_1 + 0x5a) != '\0') {
    if ((int)*(short *)(param_1 + 0x48) - (int)*(short *)PTR_DAT_800a59b0 <
        (int)*(short *)(param_1 + 0x44)) {
      *(short *)(param_1 + 0x44) = *(short *)(param_1 + 0x48) - *(short *)PTR_DAT_800a59b0;
    }
    if (*(short *)(param_1 + 0x44) < 0) {
      *(undefined2 *)(param_1 + 0x44) = 0;
    }
  }
  if ((*(char *)(param_1 + 0x59) != '\0') && (*(short *)(param_1 + 0x46) < 5)) {
    *(undefined2 *)(param_1 + 0x46) = 5;
  }
  if (*(char *)(param_1 + 0x5b) != '\0') {
    if (((int)*(short *)(param_1 + 0x4a) - (int)*(short *)(PTR_DAT_800a59b0 + 2)) + -5 <
        (int)*(short *)(param_1 + 0x46)) {
      *(short *)(param_1 + 0x46) =
           (*(short *)(param_1 + 0x4a) - *(short *)(PTR_DAT_800a59b0 + 2)) + -5;
    }
    if (*(short *)(param_1 + 0x46) < 0) {
      *(undefined2 *)(param_1 + 0x46) = 0;
    }
  }
  iVar14 = *(int *)(param_1 + 0x30);
  *(short *)(param_1 + 0x46) =
       *(short *)(param_1 + 0x46) + *(short *)(&DAT_8009b094 + (uint)*(byte *)(param_1 + 0x11a) * 2)
  ;
  iVar18 = (int)*(short *)(iVar14 + 0x26);
  sVar9 = *(short *)(iVar14 + 0x68);
  if (iVar18 != 0) {
    if (iVar18 < 1) {
      pcVar19 = *(code **)(iVar14 + 0x28);
    }
    else {
      iVar11 = iVar18 * 8 + *(int *)(iVar14 + *(short *)(iVar14 + 0x28));
      local_40 = (short)*(undefined4 *)(iVar11 + -8);
      pcVar19 = *(code **)(iVar11 + -4);
    }
    iVar11 = (int)*(short *)(iVar14 + 0x24);
    if (0 < iVar18 << 0x10) {
      iVar11 = local_40 + iVar11;
    }
    sVar9 = (*pcVar19)(iVar14 + iVar11,(int)sVar9,pcVar19,iVar18,sVar6 + -0x32,sVar7 + 0x32);
  }
  iVar14 = *(int *)(param_1 + 0x30);
  *(short *)(param_1 + 0x54) = sVar9;
  iVar18 = (int)*(short *)(iVar14 + 0x2e);
  if (iVar18 == 0) {
    *(short *)(param_1 + 0x56) = *(short *)(iVar14 + 0x6a);
  }
  else {
    if (iVar18 < 1) {
      pcVar19 = *(code **)(iVar14 + 0x30);
    }
    else {
      iVar11 = iVar18 * 8 + *(int *)(iVar14 + *(short *)(iVar14 + 0x30));
      local_30 = (short)*(undefined4 *)(iVar11 + -8);
      pcVar19 = *(code **)(iVar11 + -4);
    }
    iVar11 = (int)*(short *)(iVar14 + 0x2c);
    if (0 < iVar18 << 0x10) {
      iVar11 = local_30 + iVar11;
    }
    uVar10 = (*pcVar19)(iVar14 + iVar11,(int)*(short *)(iVar14 + 0x6a));
    *(undefined2 *)(param_1 + 0x56) = uVar10;
  }
  return;
}



void FUN_80023db8(int param_1,short param_2,short param_3)

{
  char cVar1;
  short sVar2;
  short sVar3;
  short sVar4;
  short sVar5;
  undefined2 uVar6;
  int iVar7;
  int iVar8;
  int iVar9;
  short in_t0;
  code *pcVar10;
  ushort uVar11;
  short unaff_s2;
  short unaff_s4;
  short local_30;
  
  if (*(char *)(param_1 + 99) == '\0') {
    iVar8 = *(int *)(param_1 + 0x30);
    uVar11 = (ushort)*(byte *)(param_1 + 0x12a);
    if (*(char *)(iVar8 + 0x74) == '\x01') {
      uVar11 = -uVar11;
    }
    if (*(char *)(param_1 + 0x62) != '\0') {
      uVar11 = -uVar11;
    }
    cVar1 = *(char *)(param_1 + 0x61);
    iVar9 = (int)*(short *)(iVar8 + 0x26);
    sVar4 = *(short *)(iVar8 + 0x68);
    if (iVar9 != 0) {
      if (iVar9 < 1) {
        pcVar10 = *(code **)(iVar8 + 0x28);
      }
      else {
        iVar7 = iVar9 * 8 + *(int *)(iVar8 + *(short *)(iVar8 + 0x28));
        in_t0 = (short)*(undefined4 *)(iVar7 + -8);
        pcVar10 = *(code **)(iVar7 + -4);
      }
      iVar7 = (int)*(short *)(iVar8 + 0x24);
      if (0 < iVar9 << 0x10) {
        iVar7 = in_t0 + iVar7;
      }
      sVar4 = (*pcVar10)(iVar8 + iVar7,(int)sVar4);
    }
    sVar2 = *(short *)(param_1 + 0x120);
    iVar8 = *(int *)(param_1 + 0x30);
    sVar3 = *(short *)(param_1 + 100);
    iVar9 = (int)*(short *)(iVar8 + 0x2e);
    sVar5 = *(short *)(iVar8 + 0x6a);
    if (iVar9 != 0) {
      if (iVar9 < 1) {
        pcVar10 = *(code **)(iVar8 + 0x30);
      }
      else {
        iVar7 = iVar9 * 8 + *(int *)(iVar8 + *(short *)(iVar8 + 0x30));
        unaff_s2 = (short)*(undefined4 *)(iVar7 + -8);
        pcVar10 = *(code **)(iVar7 + -4);
      }
      iVar7 = (int)*(short *)(iVar8 + 0x2c);
      if (0 < iVar9 << 0x10) {
        iVar7 = unaff_s2 + iVar7;
      }
      sVar5 = (*pcVar10)(iVar8 + iVar7,(int)sVar5);
    }
    *(ushort *)(param_1 + 0x44) = param_2 + sVar3 + sVar2 + sVar4 + (uVar11 - 0xa0);
    *(ushort *)(param_1 + 0x46) =
         param_3 + *(short *)(param_1 + 0x66) +
                   *(short *)(param_1 + 0x122) + sVar5 + ((-(ushort)(cVar1 != '\0') & 0x60) - 0x78);
    if ((*(char *)(param_1 + 0x58) != '\0') && (*(short *)(param_1 + 0x44) < 0)) {
      *(undefined2 *)(param_1 + 0x44) = 0;
    }
    if (*(char *)(param_1 + 0x5a) != '\0') {
      if ((int)*(short *)(param_1 + 0x48) - (int)*(short *)PTR_DAT_800a59b0 <
          (int)*(short *)(param_1 + 0x44)) {
        *(short *)(param_1 + 0x44) = *(short *)(param_1 + 0x48) - *(short *)PTR_DAT_800a59b0;
      }
      if (*(short *)(param_1 + 0x44) < 0) {
        *(undefined2 *)(param_1 + 0x44) = 0;
      }
    }
    if ((*(char *)(param_1 + 0x59) != '\0') && (*(short *)(param_1 + 0x46) < 5)) {
      *(undefined2 *)(param_1 + 0x46) = 5;
    }
    if (*(char *)(param_1 + 0x5b) != '\0') {
      if (((int)*(short *)(param_1 + 0x4a) - (int)*(short *)(PTR_DAT_800a59b0 + 2)) + -5 <
          (int)*(short *)(param_1 + 0x46)) {
        *(short *)(param_1 + 0x46) =
             (*(short *)(param_1 + 0x4a) - *(short *)(PTR_DAT_800a59b0 + 2)) + -5;
      }
      if (*(short *)(param_1 + 0x46) < 0) {
        *(undefined2 *)(param_1 + 0x46) = 0;
      }
    }
    iVar8 = *(int *)(param_1 + 0x30);
    *(short *)(param_1 + 0x46) =
         *(short *)(param_1 + 0x46) +
         *(short *)(&DAT_8009b094 + (uint)*(byte *)(param_1 + 0x11a) * 2);
    iVar9 = (int)*(short *)(iVar8 + 0x26);
    sVar4 = *(short *)(iVar8 + 0x68);
    if (iVar9 != 0) {
      if (iVar9 < 1) {
        pcVar10 = *(code **)(iVar8 + 0x28);
      }
      else {
        iVar7 = iVar9 * 8 + *(int *)(iVar8 + *(short *)(iVar8 + 0x28));
        unaff_s4 = (short)*(undefined4 *)(iVar7 + -8);
        pcVar10 = *(code **)(iVar7 + -4);
      }
      iVar7 = (int)*(short *)(iVar8 + 0x24);
      if (0 < iVar9 << 0x10) {
        iVar7 = unaff_s4 + iVar7;
      }
      sVar4 = (*pcVar10)(iVar8 + iVar7,(int)sVar4);
    }
    iVar8 = *(int *)(param_1 + 0x30);
    *(short *)(param_1 + 0x54) = sVar4;
    iVar9 = (int)*(short *)(iVar8 + 0x2e);
    if (iVar9 == 0) {
      *(short *)(param_1 + 0x56) = *(short *)(iVar8 + 0x6a);
    }
    else {
      if (iVar9 < 1) {
        pcVar10 = *(code **)(iVar8 + 0x30);
      }
      else {
        iVar7 = iVar9 * 8 + *(int *)(iVar8 + *(short *)(iVar8 + 0x30));
        local_30 = (short)*(undefined4 *)(iVar7 + -8);
        pcVar10 = *(code **)(iVar7 + -4);
      }
      iVar7 = (int)*(short *)(iVar8 + 0x2c);
      if (0 < iVar9 << 0x10) {
        iVar7 = local_30 + iVar7;
      }
      uVar6 = (*pcVar10)(iVar8 + iVar7,(int)*(short *)(iVar8 + 0x6a));
      *(undefined2 *)(param_1 + 0x56) = uVar6;
    }
  }
  return;
}



undefined FUN_800241f0(int param_1,int param_2,int param_3)

{
  int iVar1;
  int iVar2;
  
  if (*(int *)(param_1 + 0x68) != 0) {
    iVar2 = (int)((((param_2 << 0x10) >> 0x14) - (uint)*(ushort *)(param_1 + 0x6c)) * 0x10000) >>
            0x10;
    if (-1 < iVar2) {
      if (iVar2 < *(short *)(param_1 + 0x70)) {
        iVar1 = (int)((((param_3 << 0x10) >> 0x14) - (uint)*(ushort *)(param_1 + 0x6e)) * 0x10000)
                >> 0x10;
        if (iVar1 < 0) {
          return 0;
        }
        if (iVar1 < *(short *)(param_1 + 0x72)) {
          return *(undefined *)
                  (*(int *)(param_1 + 0x68) + iVar1 * *(short *)(param_1 + 0x70) + iVar2);
        }
      }
    }
  }
  return 0;
}



void FUN_80024284(int param_1)

{
  short sVar1;
  short sVar2;
  short sVar3;
  short sVar4;
  undefined4 *puVar5;
  int iVar6;
  undefined4 uVar7;
  code *pcVar8;
  int iVar9;
  short *psVar10;
  int *piVar11;
  uint uVar12;
  undefined4 unaff_s4;
  short local_30;
  short sStack_2e;
  short local_2c;
  
  sVar1 = *(short *)(param_1 + 0x44);
  sVar2 = *(short *)(param_1 + 0x46);
  sVar3 = *(short *)PTR_DAT_800a59b0;
  sVar4 = *(short *)(PTR_DAT_800a59b0 + 2);
  uVar12 = *(uint *)(param_1 + 0x10c) & 1;
  for (piVar11 = *(int **)(param_1 + 0x28); piVar11 != (int *)0x0; piVar11 = (int *)*piVar11) {
    psVar10 = (short *)piVar11[1];
    if (((((uVar12 & 1) != 0) && (*psVar10 < (short)(sVar1 + sVar3 + 0x10))) &&
        ((short)(sVar1 + -0x10) < psVar10[2])) &&
       ((((*(byte *)(psVar10 + 0xb) & 1) == 0 && (psVar10[1] < (short)(sVar2 + sVar4 + 0x10))) &&
        (((short)(sVar2 + -0x10) < psVar10[3] &&
         ((uint)(ushort)psVar10[9] < (uint)*(ushort *)(param_1 + 0x80))))))) {
      puVar5 = (undefined4 *)((uint)(ushort)psVar10[9] * 8 + *(int *)(param_1 + 0x7c));
      uVar7 = *puVar5;
      pcVar8 = (code *)puVar5[1];
      sStack_2e = (short)((uint)uVar7 >> 0x10);
      iVar9 = (int)sStack_2e;
      if (0 < iVar9) {
        local_2c = (short)pcVar8;
        iVar6 = iVar9 * 8 + *(int *)(param_1 + local_2c);
        unaff_s4 = *(undefined4 *)(iVar6 + -8);
        pcVar8 = *(code **)(iVar6 + -4);
      }
      local_30 = (short)uVar7;
      iVar6 = (int)local_30;
      if (0 < iVar9 << 0x10) {
        iVar6 = (short)unaff_s4 + iVar6;
      }
      (*pcVar8)(param_1 + iVar6,psVar10);
      *(byte *)(psVar10 + 0xb) = *(byte *)(psVar10 + 0xb) | 1;
    }
    uVar12 = uVar12 + 1;
  }
  return;
}



void FUN_80024464(int param_1)

{
  undefined4 *puVar1;
  undefined4 *puVar2;
  undefined4 *puVar3;
  
  puVar2 = *(undefined4 **)(param_1 + 0x28);
  puVar3 = (undefined4 *)0x0;
  while (puVar1 = puVar2, puVar1 != (undefined4 *)0x0) {
    if ((*(byte *)(puVar1[1] + 0x16) & 2) == 0) {
      *(undefined *)(puVar1[1] + 0x16) = 0;
      puVar2 = (undefined4 *)*puVar1;
      puVar3 = puVar1;
    }
    else {
      if (puVar3 == (undefined4 *)0x0) {
        *(undefined4 *)(param_1 + 0x28) = *puVar1;
      }
      else {
        *puVar3 = *puVar1;
      }
      potentially_load_asset_(PTR_DAT_800a59b0,puVar1[1],0,0);
      puVar2 = (undefined4 *)*puVar1;
      potentially_load_asset_(PTR_DAT_800a59b0,puVar1,8,0);
    }
  }
  return;
}



undefined4
FUN_800245b8(int param_1,short param_2,short param_3,undefined4 *param_4,undefined4 *param_5)

{
  undefined4 *puVar1;
  short *psVar2;
  ushort uVar3;
  
  psVar2 = *(short **)(param_1 + 0x74);
  uVar3 = 0;
  if (*(short *)(param_1 + 0x78) != 0) {
    puVar1 = (undefined4 *)(psVar2 + 6);
    do {
      if ((((*psVar2 <= param_2) && (param_2 < *(short *)(puVar1 + -2))) &&
          (*(short *)((int)puVar1 + -10) <= param_3)) && (param_3 < *(short *)((int)puVar1 + -6))) {
        *param_4 = puVar1[-1];
        *param_5 = *puVar1;
        return 1;
      }
      puVar1 = puVar1 + 4;
      uVar3 = uVar3 + 1;
      psVar2 = psVar2 + 8;
    } while (uVar3 < *(ushort *)(param_1 + 0x78));
  }
  return 0;
}



void FUN_80024674(int param_1)

{
  undefined *puVar1;
  
  puVar1 = (undefined *)FUN_8007b478(param_1 + 0x84);
  *(undefined *)(param_1 + 0x130) = 1;
  *(undefined *)(param_1 + 0x131) = *puVar1;
  *(undefined *)(param_1 + 0x132) = puVar1[1];
  *(undefined *)(param_1 + 0x133) = puVar1[2];
  return;
}



void FUN_800246cc(int param_1)

{
  undefined *puVar1;
  
  puVar1 = (undefined *)FUN_8007b484(param_1 + 0x84);
  *(undefined *)(param_1 + 0x127) = *puVar1;
  *(undefined *)(param_1 + 0x128) = puVar1[1];
  *(undefined *)(param_1 + 0x129) = puVar1[2];
  return;
}



void FUN_8002471c(int param_1)

{
  short local_10;
  short local_e;
  
  FUN_8007b418(&local_10,param_1 + 0x84);
  *(short *)(param_1 + 0x116) = local_10 * 0x10 + 8;
  *(short *)(param_1 + 0x118) = local_e * 0x10 + 0xf;
  return;
}



void FUN_80024774(int param_1)

{
  undefined *puVar1;
  short sVar2;
  short sVar3;
  short sVar4;
  bool bVar5;
  uint uVar6;
  uint *puVar7;
  bool bVar8;
  uint uVar9;
  uint uVar10;
  undefined2 uVar11;
  ushort uVar12;
  undefined4 uVar13;
  uint *puVar14;
  uint uVar15;
  undefined4 uVar16;
  uint uVar17;
  int iVar18;
  ushort uVar19;
  undefined auStack_60 [4];
  int local_5c;
  int local_58;
  uint local_54;
  uint local_50;
  uint local_4c;
  uint local_48;
  short local_40;
  short local_3e;
  uint local_38;
  uint local_34;
  byte local_30;
  
  iVar18 = param_1 + 0x84;
  uVar19 = 0;
  local_30 = (byte)(*(ushort *)(PTR_DAT_800a59b0 + 2) >> 4);
  FUN_8007b3f4(&local_40,iVar18);
  *(short *)(param_1 + 0x48) = local_40 << 4;
  *(short *)(param_1 + 0x4a) = local_3e << 4;
  uVar11 = FUN_8007b788(iVar18);
  *(undefined2 *)(param_1 + 0x78) = uVar11;
  uVar13 = FUN_8007b79c(iVar18);
  *(undefined4 *)(param_1 + 0x74) = uVar13;
  do {
    uVar12 = FUN_8007b688(param_1 + 0x84);
    if (uVar12 <= uVar19) {
      return;
    }
    puVar14 = (uint *)FUN_8007b6c0(param_1 + 0x84,uVar19);
    if (uVar19 == 0) {
      *(undefined *)(param_1 + 0x124) = *(undefined *)(puVar14 + 0xb);
      *(undefined *)(param_1 + 0x125) = *(undefined *)((int)puVar14 + 0x2d);
      *(undefined *)(param_1 + 0x126) = *(undefined *)((int)puVar14 + 0x2e);
    }
    if ((*(short *)(puVar14 + 10) == 0) && (*(short *)((int)puVar14 + 0x26) != 3)) {
      if (*(char *)((int)puVar14 + 0x1e) != '\0') {
        *(undefined *)(param_1 + 0x59) = 1;
      }
      if (*(char *)((int)puVar14 + 0x21) != '\0') {
        *(undefined *)(param_1 + 0x5a) = 1;
      }
      if (*(char *)(puVar14 + 8) != '\0') {
        *(undefined *)(param_1 + 0x58) = 1;
      }
      if (*(char *)((int)puVar14 + 0x1f) != '\0') {
        *(undefined *)(param_1 + 0x5b) = 1;
      }
      local_38 = *puVar14;
      bVar8 = false;
      local_34 = puVar14[1];
      sVar3 = *(short *)(puVar14 + 2);
      sVar4 = *(short *)((int)puVar14 + 10);
      uVar17 = (uint)(*(short *)(puVar14 + 9) != 0);
      uVar15 = (uint)((puVar14[8] & 0xffff0000) != 0);
      if (uVar17 == 0) {
        if (uVar15 != 0) goto LAB_80024934;
      }
      else if (uVar15 == 0) {
LAB_80024934:
        if ((int)(uint)*(ushort *)((int)puVar14 + 0xe) <=
            (((int)((uint)*(ushort *)(PTR_DAT_800a59b0 + 2) << 0x10) >> 0x14) + 1) * 0x15) {
          bVar8 = true;
        }
      }
      if ((((0x3f < sVar3) || (0x3f < sVar4)) || ((uVar17 != 0 && (sVar3 < 0x15)))) ||
         ((uVar15 != 0 && (sVar4 <= (short)(ushort)local_30)))) {
        bVar8 = false;
      }
      bVar5 = false;
      if (((!bVar8) && (sVar3 < 0x81)) && (sVar4 < 0x81)) {
        bVar5 = (int)(uint)*(ushort *)((int)puVar14 + 0xe) <=
                (((int)((uint)*(ushort *)(PTR_DAT_800a59b0 + 2) << 0x10) >> 0x14) + 1) * 0x15;
      }
      if ((((uVar17 != 0) && (sVar3 != 0x40)) || ((uVar15 != 0 && (sVar4 != 0x40)))) &&
         (sVar3 != 0x80)) {
        bVar5 = false;
      }
      if (bVar8) {
        uVar13 = FUN_800143ec(PTR_DAT_800a59b0,0x3c,1,0);
        uVar16 = FUN_8007b69c(param_1 + 0x84,uVar19);
        uVar10 = local_34;
        uVar9 = local_38;
        sVar2 = *(short *)(puVar14 + 3);
        uVar6 = (uint)&stack0xffffff9f & 3;
        puVar7 = (uint *)(&stack0xffffff9f + -uVar6);
        *puVar7 = *puVar7 & -1 << (uVar6 + 1) * 8 | local_38 >> (3 - uVar6) * 8;
        puVar1 = auStack_60 + 3;
        uVar6 = (uint)puVar1 & 3;
        *(uint *)(puVar1 + -uVar6) =
             *(uint *)(puVar1 + -uVar6) & -1 << (uVar6 + 1) * 8 | uVar10 >> (3 - uVar6) * 8;
        auStack_60 = (undefined  [4])uVar10;
        local_5c = (int)sVar3;
        local_58 = (int)sVar4;
        local_54 = (uint)*(short *)((int)puVar14 + 0xe);
        local_48 = (uint)*(byte *)((int)puVar14 + 0x26);
        local_50 = uVar17;
        local_4c = uVar15;
        iVar18 = FUN_8001f530(uVar13,puVar14 + 0xb,(int)sVar2,*(undefined4 *)(param_1 + 0x108),
                              uVar16,uVar9);
        FUN_8002195c(param_1,iVar18);
      }
      else if (bVar5) {
        uVar13 = FUN_800143ec(PTR_DAT_800a59b0,0x3c,1,0);
        uVar16 = FUN_8007b69c(param_1 + 0x84,uVar19);
        uVar10 = local_34;
        uVar9 = local_38;
        sVar2 = *(short *)(puVar14 + 3);
        uVar6 = (uint)&stack0xffffff9f & 3;
        puVar7 = (uint *)(&stack0xffffff9f + -uVar6);
        *puVar7 = *puVar7 & -1 << (uVar6 + 1) * 8 | local_38 >> (3 - uVar6) * 8;
        puVar1 = auStack_60 + 3;
        uVar6 = (uint)puVar1 & 3;
        *(uint *)(puVar1 + -uVar6) =
             *(uint *)(puVar1 + -uVar6) & -1 << (uVar6 + 1) * 8 | uVar10 >> (3 - uVar6) * 8;
        auStack_60 = (undefined  [4])uVar10;
        local_5c = (int)sVar3;
        local_58 = (int)sVar4;
        local_54 = (uint)*(short *)((int)puVar14 + 0xe);
        local_48 = (uint)*(byte *)((int)puVar14 + 0x26);
        local_50 = uVar17;
        local_4c = uVar15;
        iVar18 = FUN_8001f14c(uVar13,puVar14 + 0xb,(int)sVar2,*(undefined4 *)(param_1 + 0x108),
                              uVar16,uVar9);
        FUN_80021774(param_1,iVar18);
      }
      else {
        uVar13 = FUN_800143ec(PTR_DAT_800a59b0,0x3c,1,0);
        uVar16 = FUN_8007b69c(param_1 + 0x84,uVar19);
        uVar10 = local_34;
        uVar9 = local_38;
        sVar2 = *(short *)(puVar14 + 3);
        uVar6 = (uint)&stack0xffffff9f & 3;
        puVar7 = (uint *)(&stack0xffffff9f + -uVar6);
        *puVar7 = *puVar7 & -1 << (uVar6 + 1) * 8 | local_38 >> (3 - uVar6) * 8;
        puVar1 = auStack_60 + 3;
        uVar6 = (uint)puVar1 & 3;
        *(uint *)(puVar1 + -uVar6) =
             *(uint *)(puVar1 + -uVar6) & -1 << (uVar6 + 1) * 8 | uVar10 >> (3 - uVar6) * 8;
        auStack_60 = (undefined  [4])uVar10;
        local_5c = (int)sVar3;
        local_58 = (int)sVar4;
        local_4c = (uint)*(byte *)((int)puVar14 + 0x26);
        local_54 = uVar17;
        local_50 = uVar15;
        iVar18 = FUN_8001ecbc(uVar13,puVar14 + 0xb,(int)sVar2,*(undefined4 *)(param_1 + 0x108),
                              uVar16,uVar9);
        FUN_8002158c(param_1,iVar18);
      }
      *(uint *)(iVar18 + 0x20) = puVar14[4];
      *(uint *)(iVar18 + 0x24) = puVar14[5];
      *(undefined2 *)(iVar18 + 0x30) = *(undefined2 *)(puVar14 + 6);
      *(undefined2 *)(iVar18 + 0x32) = *(undefined2 *)((int)puVar14 + 0x1a);
      *(undefined *)(iVar18 + 0x3a) = *(undefined *)(puVar14 + 7);
      *(undefined *)(iVar18 + 0x3b) = *(undefined *)((int)puVar14 + 0x1d);
    }
    uVar19 = uVar19 + 1;
  } while( true );
}



void FUN_80024cf0(int param_1)

{
  uint uVar1;
  uint *puVar2;
  char cVar3;
  undefined4 uVar4;
  int iVar5;
  undefined2 local_38;
  undefined2 local_36;
  undefined2 local_30;
  undefined2 local_2e;
  uint local_28;
  uint local_24;
  uint uStack_15;
  undefined uStack_11;
  
  iVar5 = param_1 + 0x84;
  cVar3 = FUN_8007b70c(iVar5);
  if (cVar3 == '\0') {
    *(undefined4 *)(param_1 + 0x68) = 0;
  }
  else {
    FUN_8007b718(&local_38,iVar5);
    FUN_8007b738(&local_30,iVar5);
    local_28 = CONCAT22(local_36,local_38);
    local_24 = CONCAT22(local_2e,local_30);
    uVar4 = FUN_8007b75c();
    uVar1 = (uint)&uStack_15 & 3;
    puVar2 = (uint *)((int)&uStack_15 - uVar1);
    *puVar2 = *puVar2 & -1 << (uVar1 + 1) * 8 | local_28 >> (3 - uVar1) * 8;
    uVar1 = (uint)&uStack_11 & 3;
    puVar2 = (uint *)(&uStack_11 + -uVar1);
    *puVar2 = *puVar2 & -1 << (uVar1 + 1) * 8 | local_24 >> (3 - uVar1) * 8;
    *(undefined4 *)(param_1 + 0x68) = uVar4;
    uVar1 = param_1 + 0x6fU & 3;
    puVar2 = (uint *)((param_1 + 0x6fU) - uVar1);
    *puVar2 = *puVar2 & -1 << (uVar1 + 1) * 8 | local_28 >> (3 - uVar1) * 8;
    uVar1 = param_1 + 0x6cU & 3;
    puVar2 = (uint *)((param_1 + 0x6cU) - uVar1);
    *puVar2 = *puVar2 & 0xffffffffU >> (4 - uVar1) * 8 | local_28 << uVar1 * 8;
    uVar1 = param_1 + 0x73U & 3;
    puVar2 = (uint *)((param_1 + 0x73U) - uVar1);
    *puVar2 = *puVar2 & -1 << (uVar1 + 1) * 8 | local_24 >> (3 - uVar1) * 8;
    uVar1 = param_1 + 0x70U & 3;
    puVar2 = (uint *)((param_1 + 0x70U) - uVar1);
    *puVar2 = *puVar2 & 0xffffffffU >> (4 - uVar1) * 8 | local_24 << uVar1 * 8;
  }
  return;
}



void FUN_80024dc0(int param_1)

{
  undefined *puVar1;
  int iVar2;
  uint uVar3;
  undefined4 uVar4;
  undefined4 uVar5;
  undefined4 uVar6;
  undefined4 *puVar7;
  undefined4 *puVar8;
  uint uVar9;
  
  iVar2 = *(int *)(param_1 + 0x28);
  while (iVar2 != 0) {
    puVar7 = *(undefined4 **)(param_1 + 0x28);
    potentially_load_asset_(PTR_DAT_800a59b0,puVar7[1],0,0);
    puVar1 = PTR_DAT_800a59b0;
    *(undefined4 *)(param_1 + 0x28) = *puVar7;
    potentially_load_asset_(puVar1,puVar7,8,0);
    iVar2 = *(int *)(param_1 + 0x28);
  }
  uVar3 = FUN_8007b768(param_1 + 0x84);
  if ((uVar3 & 0xffff) != 0) {
    iVar2 = FUN_8007b77c(param_1 + 0x84);
    for (uVar9 = 0; (uVar9 & 0xffff) < (uVar3 & 0xffff); uVar9 = uVar9 + 1) {
      puVar8 = (undefined4 *)((uVar9 & 0xffff) * 0x18 + iVar2);
      puVar7 = (undefined4 *)FUN_800143ec(PTR_DAT_800a59b0,0x18,1,0);
      uVar4 = puVar8[1];
      uVar5 = puVar8[2];
      uVar6 = puVar8[3];
      *puVar7 = *puVar8;
      puVar7[1] = uVar4;
      puVar7[2] = uVar5;
      puVar7[3] = uVar6;
      uVar4 = puVar8[5];
      puVar7[4] = puVar8[4];
      puVar7[5] = uVar4;
      puVar8 = (undefined4 *)FUN_800143ec(PTR_DAT_800a59b0,8,1,0);
      uVar4 = *(undefined4 *)(param_1 + 0x28);
      puVar8[1] = puVar7;
      *puVar8 = uVar4;
      *(undefined4 **)(param_1 + 0x28) = puVar8;
    }
  }
  return;
}



void FUN_80024f30(int param_1)

{
  char cVar1;
  int iVar2;
  int iVar3;
  undefined4 uVar4;
  uint uVar5;
  int iVar6;
  int iVar7;
  int iVar8;
  short sVar9;
  uint unaff_s6;
  
  iVar8 = 0;
  iVar7 = 0;
  iVar2 = FUN_8007b67c(param_1 + 0x84);
  sVar9 = 1;
  while( true ) {
    iVar6 = (int)sVar9;
    if ((int)(uint)*(ushort *)(param_1 + 0x104) <= iVar6) break;
    if ((*(byte *)(iVar6 + iVar2 + -1) & 4) != 0) {
      iVar3 = FUN_8007b618(param_1 + 0x84,iVar6);
      if (iVar8 == 0) {
        uVar4 = FUN_800143ec(PTR_DAT_800a59b0,0x100,1,0);
        iVar8 = FUN_8001fcec(uVar4);
        FUN_800213a4(param_1,iVar8);
        iVar7 = *(int *)(iVar8 + 0x34);
        unaff_s6 = (int)*(short *)(iVar7 + 4) + 0xfU >> 4;
      }
      uVar5 = unaff_s6 & 0xff;
      if (uVar5 == 0) {
        trap(0x1c00);
      }
      iVar6 = iVar6 * 8;
      *(undefined2 *)(iVar6 + *(int *)(param_1 + 0x108)) = *(undefined2 *)(iVar7 + 0x24);
      *(undefined2 *)(iVar6 + *(int *)(param_1 + 0x108) + 2) = *(undefined2 *)(iVar7 + 0x26);
      cVar1 = *(char *)(iVar7 + 0x31);
      *(char *)(iVar6 + *(int *)(param_1 + 0x108) + 4) =
           *(char *)(iVar7 + 0x30) + (char)((iVar3 - 1U) % uVar5) * '\x10';
      *(char *)(iVar6 + *(int *)(param_1 + 0x108) + 5) =
           cVar1 + (char)((iVar3 - 1U) / uVar5) * '\x10';
      *(undefined *)(iVar6 + *(int *)(param_1 + 0x108) + 6) = 1;
    }
    sVar9 = sVar9 + 1;
  }
  return;
}



void FUN_800250c4(int param_1)

{
  bool bVar1;
  int iVar2;
  undefined4 *puVar3;
  int iVar4;
  undefined4 *puVar5;
  undefined4 *puVar6;
  short sVar7;
  
  iVar2 = FUN_8007b4f0(param_1 + 0x84);
  sVar7 = 0;
  if (iVar2 != 0) {
    for (; iVar4 = sVar7 * 4, (int)sVar7 < (int)(uint)*(byte *)(param_1 + 0x114); sVar7 = sVar7 + 1)
    {
      if ((*(byte *)(iVar2 + iVar4) & 1) != 0) {
        iVar4 = *(int *)(iVar4 + *(int *)(param_1 + 0x110));
        if (*(undefined4 **)(param_1 + 0x1c) == (undefined4 *)0x0) {
          puVar3 = (undefined4 *)FUN_800143ec(PTR_DAT_800a59b0,8,1,0);
          *(undefined4 **)(param_1 + 0x1c) = puVar3;
        }
        else {
          puVar3 = *(undefined4 **)(param_1 + 0x1c);
          puVar6 = (undefined4 *)0x0;
          while (puVar5 = puVar3, bVar1 = false, puVar5 != (undefined4 *)0x0) {
            if (*(short *)(iVar4 + 0x10) <= *(short *)(puVar5[1] + 0x10)) {
              puVar3 = (undefined4 *)FUN_800143ec(PTR_DAT_800a59b0,8,1,0);
              if (puVar6 == (undefined4 *)0x0) {
                *(undefined4 **)(param_1 + 0x1c) = puVar3;
              }
              else {
                *puVar6 = puVar3;
              }
              *puVar3 = puVar5;
              puVar3[1] = iVar4;
              bVar1 = true;
              break;
            }
            puVar6 = puVar5;
            puVar3 = (undefined4 *)*puVar5;
          }
          if (bVar1) goto LAB_8002520c;
          puVar3 = (undefined4 *)FUN_800143ec(PTR_DAT_800a59b0,8,1,0);
          *puVar6 = puVar3;
        }
        *puVar3 = 0;
        puVar3[1] = iVar4;
      }
LAB_8002520c:
    }
  }
  return;
}



void load_all_assets_for_level(astruct_15 *param_1)

{
  undefined2 uVar1;
  undefined *puVar2;
  byte bVar3;
  undefined uVar4;
  short sVar5;
  u_short uVar6;
  int iVar7;
  undefined4 uVar8;
  u_long *p;
  uint tp;
  int iVar9;
  int iVar10;
  undefined *some_addr_at_0x84;
  byte *pbVar11;
  int iVar12;
  ushort i;
  short local_38;
  short local_36;
  RECT tile_;
  
  some_addr_at_0x84 = &param_1->field_0x84;
  sVar5 = FUN_8007b4fc(some_addr_at_0x84);
  puVar2 = PTR_DAT_800a59b0;
  param_1->field260_0x104 = sVar5 + 1U;
  iVar7 = FUN_800143ec(puVar2,8,sVar5 + 1U,0);
  param_1->field263_0x108 = iVar7;
  bVar3 = get_tile_count_((astruct_16 *)some_addr_at_0x84);
  param_1->tile_count = bVar3;
  iVar7 = FUN_800143ec(PTR_DAT_800a59b0,4,bVar3,0);
  param_1->tile_ptr = iVar7;
  iVar7 = FUN_8007b4f0(some_addr_at_0x84);
  for (i = 0; (int)(short)i < (int)(uint)param_1->tile_count; i = i + 1) {
    uVar8 = FUN_800143ec(PTR_DAT_800a59b0,0x3c,1,0);
    uVar8 = FUN_8001978c(uVar8,1);
    iVar12 = (short)i * 4;
    *(undefined4 *)(iVar12 + param_1->tile_ptr) = uVar8;
    uVar8 = FUN_8007b4b8(some_addr_at_0x84,i & 0xff);
    load_tiles(*(undefined4 *)(iVar12 + param_1->tile_ptr),uVar8);
    pbVar11 = (byte *)(iVar7 + iVar12);
    if ((iVar7 != 0) && ((*pbVar11 & 1) != 0)) {
      uVar8 = FUN_8007b4b8(some_addr_at_0x84,i & 0xff);
      FUN_80019d70(*(undefined4 *)(iVar12 + param_1->tile_ptr),uVar8);
      FUN_80019f28(*(undefined4 *)(iVar12 + param_1->tile_ptr),pbVar11[3],pbVar11[1],pbVar11[2],
                   *pbVar11 & 2);
    }
  }
  iVar7 = FUN_8007b670(&param_1->field_0x84,0x3c);
  iVar12 = FUN_8007b67c(&param_1->field_0x84);
  i = 1;
  p = (u_long *)FUN_800143ec(PTR_DAT_800a59b0,1,0x100,0);
  do {
    iVar10 = (int)(short)i;
    if ((int)(uint)param_1->field260_0x104 <= iVar10) {
      potentially_load_asset_(PTR_DAT_800a59b0,p,0,0);
      return;
    }
    bVar3 = *(byte *)(iVar10 + iVar12 + -1);
    if ((bVar3 & 4) == 0) {
      tp = (uint)((bVar3 & 2) == 0);
      uVar1 = *(undefined2 *)
               (*(int *)((uint)*(byte *)(iVar10 + iVar7 + -1) * 4 + param_1->tile_ptr) + 0x2c);
      uVar8 = 0x10;
      if (tp == 0) {
        uVar8 = 8;
      }
      FUN_8007b548(&param_1->field_0x84,iVar10,p,uVar8);
      FUN_80014274(PTR_DAT_800a59b0,&local_38,tp);
      tile_.x = local_38;
      tile_.y = local_36;
      if (tp == 1) {
        tile_.w = 8;
      }
      else {
        tile_.w = 4;
      }
      tile_.h = 0x10;
      LoadImage(&tile_,p);
      DrawSync(0);
      uVar6 = GetTPage(tp,0,(int)local_38 & 0xffffffc0,(int)local_36 & 0xffffff00);
      iVar10 = (int)((uint)i << 0x10) >> 0xd;
      *(u_short *)(iVar10 + param_1->field263_0x108) = uVar6;
      *(undefined2 *)(iVar10 + param_1->field263_0x108 + 2) = uVar1;
      if (tp == 0) {
        iVar9 = param_1->field263_0x108;
        uVar4 = (undefined)(((byte)local_38 & 0x3f) << 2);
LAB_8002553c:
        *(undefined *)(iVar10 + iVar9 + 4) = uVar4;
      }
      else if (tp == 1) {
        iVar9 = param_1->field263_0x108;
        uVar4 = (undefined)(((byte)local_38 & 0x3f) << 1);
        goto LAB_8002553c;
      }
      iVar10 = (short)i * 8;
      *(char *)(iVar10 + param_1->field263_0x108 + 5) = (char)local_36;
      *(byte *)(iVar10 + param_1->field263_0x108 + 6) = *(byte *)((short)i + iVar12 + -1) & 1;
    }
    i = i + 1;
  } while( true );
}



void FUN_800255c4(int param_1,undefined2 param_2,undefined4 *param_3,undefined2 *param_4)

{
  undefined2 uVar1;
  undefined4 uVar2;
  
  uVar2 = FUN_8007b810(param_1 + 0x84,param_2);
  *param_3 = uVar2;
  uVar1 = FUN_8007b7cc(param_1 + 0x84,param_2);
  *param_4 = uVar1;
  return;
}



void FUN_80025660(int param_1,byte param_2)

{
  undefined2 uVar1;
  
  if (param_2 == 1) {
    uVar1 = 0xffd0;
  }
  else {
    if (param_2 < 2) {
      if (param_2 != 0) {
        return;
      }
      *(undefined2 *)(param_1 + 0x120) = 0;
      return;
    }
    uVar1 = 0x30;
    if (param_2 != 2) {
      return;
    }
  }
  *(undefined2 *)(param_1 + 0x120) = uVar1;
  return;
}



void FUN_800256b4(int param_1,byte param_2)

{
  undefined2 uVar1;
  
  if (param_2 == 1) {
    uVar1 = 0xffd0;
  }
  else {
    if (param_2 < 2) {
      if (param_2 != 0) {
        return;
      }
      *(undefined2 *)(param_1 + 0x122) = 0;
      return;
    }
    uVar1 = 0x30;
    if (param_2 != 2) {
      return;
    }
  }
  *(undefined2 *)(param_1 + 0x122) = uVar1;
  return;
}



void setup_controller(ushort *param_1,ushort param_2)

{
  ushort uVar1;
  ushort uVar2;
  uint uVar3;
  ushort *puVar4;
  
  if (*(char *)((int)param_1 + 5) != '\0') {
    if (((uint)param_1[8] < (uint)**(ushort **)(param_1 + 4)) && (param_2 == 0)) {
      param_1[1] = *(ushort *)((uint)param_1[8] * 4 + *(int *)(param_1 + 6)) & ~*param_1;
      uVar1 = param_1[9];
      uVar2 = *(ushort *)((uint)param_1[8] * 4 + *(int *)(param_1 + 6));
      param_1[9] = uVar1 - 1;
      *param_1 = uVar2;
      if ((ushort)(uVar1 - 1) == 0) {
        uVar1 = param_1[8];
        param_1[8] = uVar1 + 1;
        param_1[9] = *(ushort *)((uint)(ushort)(uVar1 + 1) * 4 + *(int *)(param_1 + 6) + 2);
      }
      goto LAB_80025aac;
    }
    if (*(char *)((int)param_1 + 5) != '\0') {
      *(undefined *)((int)param_1 + 5) = 0;
      param_1[1] = 0;
      *param_1 = 0;
      goto LAB_80025aac;
    }
  }
  uVar1 = *param_1;
  *param_1 = param_2;
  param_1[1] = param_2 & ~uVar1;
LAB_80025aac:
  if ((*(char *)(param_1 + 2) == '\0') || (0x3ff < **(ushort **)(param_1 + 4))) {
    *(undefined *)(param_1 + 2) = 0;
  }
  else {
    if (**(ushort **)(param_1 + 4) == 0) {
      uVar3 = (uint)param_1[8];
    }
    else {
      puVar4 = (ushort *)((uint)param_1[8] * 4 + *(int *)(param_1 + 6));
      uVar3 = param_1[8] + 1;
      if (*puVar4 == param_2) {
        puVar4[1] = puVar4[1] + 1;
        return;
      }
      param_1[8] = (ushort)uVar3;
      uVar3 = uVar3 & 0xffff;
    }
    *(undefined2 *)(uVar3 * 4 + *(int *)(param_1 + 6) + 2) = 1;
    *(ushort *)((uint)param_1[8] * 4 + *(int *)(param_1 + 6)) = param_2;
    **(short **)(param_1 + 4) = **(short **)(param_1 + 4) + 1;
  }
  return;
}



void FUN_80025b78(int param_1,int param_2)

{
  *(int *)(param_1 + 8) = param_2;
  *(int *)(param_1 + 0xc) = param_2 + 4;
  return;
}



void FUN_80025bbc(int param_1,char param_2)

{
  if (((*(char *)(param_1 + 5) == '\0') || (param_2 == '\0')) &&
     (*(char *)(param_1 + 5) = param_2, param_2 != '\0')) {
    *(undefined *)(param_1 + 4) = 0;
    *(undefined2 *)(param_1 + 0x10) = 0;
    *(undefined2 *)(param_1 + 0x12) = *(undefined2 *)(*(int *)(param_1 + 0xc) + 2);
  }
  return;
}



void FUN_80025c78(char *param_1,int param_2,char *param_3)

{
  byte bVar1;
  uint uVar2;
  byte *pbVar3;
  byte bVar4;
  byte bVar5;
  uint uVar6;
  uint uVar7;
  byte local_8 [4];
  char local_4;
  char local_3;
  char local_2;
  char local_1;
  
  local_8[0] = *param_1 + 1;
  if (local_8[0] == 5) {
    local_8[0] = *param_1 + 2;
  }
  if (local_8[0] == 0x11) {
    local_8[0] = 0x12;
  }
  local_8[1] = param_1[0x11];
  local_8[2] = param_1[0x14];
  local_8[3] = param_1[0x15];
  local_4 = param_1[0x16];
  local_3 = param_1[0x1c];
  local_2 = param_1[0x19];
  bVar4 = 0;
  local_1 = param_1[0x1b];
  uVar2 = 0;
  do {
    *(undefined *)(param_2 + uVar2) = 0;
    bVar4 = bVar4 + 1;
    uVar2 = (uint)bVar4;
  } while (bVar4 < 0xc);
  uVar7 = 0;
  uVar6 = 0;
  bVar4 = 0;
  uVar2 = 0;
  do {
    if (((int)(uint)local_8[(byte)(&DAT_8009b1f4)[uVar2 * 2]] >>
         ((byte)(&DAT_8009b1f5)[uVar2 * 2] & 0x1f) & 1U) != 0) {
      pbVar3 = (byte *)(param_2 + (uVar7 & 0xff));
      *pbVar3 = *pbVar3 | (byte)(1 << (uVar6 & 0x1f));
    }
    uVar6 = uVar6 + 1;
    if (2 < (uVar6 & 0xff)) {
      uVar6 = 0;
      uVar7 = uVar7 + 1;
    }
    bVar4 = bVar4 + 1;
    uVar2 = (uint)bVar4;
  } while (bVar4 < 0x20);
  bVar5 = 0;
  bVar4 = 0;
  do {
    uVar2 = (uint)bVar4;
    bVar4 = bVar4 + 1;
    bVar5 = bVar5 + *(char *)(param_2 + uVar2);
  } while (bVar4 < 0xc);
  bVar4 = 0xb;
  if ((*(char *)(param_2 + 0xb) == '\0') && (bVar4 = 10, *(char *)(param_2 + 10) == '\0')) {
    bVar1 = 9;
    do {
      bVar4 = bVar1;
      if (bVar4 == 0) break;
      bVar1 = bVar4 - 1;
    } while (*(char *)(param_2 + (uint)bVar4) == '\0');
  }
  *(byte *)((uint)bVar4 + param_2 + 1) = bVar5 & 7;
  *param_3 = bVar4 + 2;
  return;
}



void initialise_struct(undefined *param_1)

{
  int iVar1;
  
  iVar1 = 0;
  *param_1 = 1;
  param_1[1] = 1;
  param_1[0x11] = 5;
  param_1[0x12] = 0;
  param_1[0x14] = 0;
  param_1[0x15] = 0;
  param_1[0x16] = 0;
  param_1[0x1c] = 0;
  param_1[0x13] = 0;
  param_1[0x19] = 0;
  param_1[0x1a] = 0;
  param_1[0x1b] = 0;
  param_1[0x17] = 0;
  param_1[0x18] = 0;
  param_1[0x1d] = 0;
  param_1[0x10] = 1;
  *(undefined2 *)(param_1 + 2) = 0;
  param_1[4] = 0;
  param_1[5] = 0;
  do {
    param_1[(short)iVar1 + 6] = 0;
    iVar1 = iVar1 + 1;
  } while (iVar1 * 0x10000 >> 0x10 < 10);
  return;
}



void FUN_80026158(int param_1)

{
  *(undefined *)(param_1 + 0x1a) = 0;
  return;
}



void FUN_80026160(int param_1)

{
  int iVar1;
  int iVar2;
  
  PTR_DAT_800a59d8[0x18] = 0;
  iVar2 = 0;
  *(byte *)(param_1 + 0x17) = *(byte *)(param_1 + 0x17) & 0xfd;
  do {
    iVar1 = param_1 + (short)iVar2;
    if (*(char *)(iVar1 + 6) != '\0') {
      *(char *)(param_1 + 5) = *(char *)(param_1 + 5) + '\x01';
      *(undefined *)(iVar1 + 6) = 0;
    }
    iVar2 = iVar2 + 1;
  } while (iVar2 * 0x10000 >> 0x10 < 10);
  return;
}



void FUN_800261d0(undefined *param_1)

{
  int iVar1;
  
  iVar1 = 0;
  *param_1 = 1;
  param_1[1] = 1;
  param_1[0x11] = 5;
  param_1[0x12] = 0;
  param_1[0x14] = 0;
  param_1[0x15] = 0;
  param_1[0x16] = 0;
  param_1[0x1c] = 0;
  param_1[0x13] = 0;
  param_1[0x19] = 0;
  param_1[0x1a] = 0;
  param_1[0x1b] = 0;
  param_1[0x17] = 0;
  param_1[0x18] = 0;
  param_1[0x1d] = 0;
  param_1[0x10] = 1;
  *(undefined2 *)(param_1 + 2) = 0;
  param_1[4] = 0;
  param_1[5] = 0;
  do {
    param_1[(short)iVar1 + 6] = 0;
    iVar1 = iVar1 + 1;
  } while (iVar1 * 0x10000 >> 0x10 < 10);
  return;
}



void FUN_8002625c(int param_1)

{
  int iVar1;
  
  iVar1 = 0;
  *(undefined *)(param_1 + 5) = 0;
  *(undefined *)(param_1 + 4) = 0;
  *(char *)(param_1 + 0x10) = *(char *)(param_1 + 0x10) + '\x01';
  do {
    *(undefined *)(param_1 + (short)iVar1 + 6) = 0;
    iVar1 = iVar1 + 1;
  } while (iVar1 * 0x10000 >> 0x10 < 10);
  return;
}



void FUN_800262a8(int param_1)

{
  *(undefined *)(param_1 + 0x17) = 0;
  *(undefined *)(param_1 + 0x1d) = 0;
  if (*(char *)(param_1 + 0x11) != '\0') {
    *(char *)(param_1 + 0x11) = *(char *)(param_1 + 0x11) + -1;
  }
  return;
}



void FUN_80026b14(undefined4 param_1,byte param_2)

{
  if (param_2 < 3) {
    PTR_DAT_800a59d8[0x14] = 0;
    PTR_DAT_800a59d8[0x15] = 0;
  }
  if (param_2 < 10) {
    PTR_DAT_800a59d8[0x16] = 0;
  }
  if (param_2 < 0xd) {
    PTR_DAT_800a59d8[0x1c] = 0;
  }
  return;
}



void FUN_800275e0(int param_1)

{
  uint uVar1;
  
  *(undefined *)(*(int *)(param_1 + 0x34) + 10) = 1;
  uVar1 = (uint)*(ushort *)(param_1 + 0x118);
  if (uVar1 == 0) {
    uVar1 = (uint)*(ushort *)(param_1 + 0x114);
  }
  else {
    if (uVar1 == 0) {
      trap(0x1c00);
    }
    uVar1 = *(ushort *)(param_1 + 0x114) / uVar1 & 0xff;
    if (uVar1 == 0) {
      *(undefined *)(*(int *)(param_1 + 0x34) + 10) = 0;
    }
  }
  FUN_8001d0bc(param_1,uVar1 % 10);
  FUN_8001d1bc(param_1,uVar1 % 10);
  FUN_8001d23c(param_1,0);
  return;
}



void FUN_800279c4(int param_1)

{
  if ((uint)*(byte *)(param_1 + 0x114) < *(byte *)(param_1 + 0x116) + 1) {
    *(undefined *)(*(int *)(param_1 + 0x34) + 0x37) = 1;
  }
  else {
    *(undefined *)(*(int *)(param_1 + 0x34) + 0x37) = 0;
  }
  return;
}



undefined4 * FUN_800279fc(undefined4 *param_1)

{
  short sVar1;
  u_short uVar2;
  int iVar3;
  
  sVar1 = *(short *)(PTR_DAT_800a59b0 + 2);
  FUN_8001c71c(param_1,0x8c510186,10000,0x18,(int)(short)(sVar1 + 0x20),0);
  param_1[6] = &DAT_800105cc;
  param_1[2] = 0xffff0000;
  param_1[3] = &LAB_80020284;
  *param_1 = 0xffff0000;
  param_1[1] = &LAB_80026f30;
  param_1[9] = 0xffff0000;
  param_1[10] = &LAB_8001a2c8;
  param_1[0xb] = 0xffff0000;
  param_1[0xc] = &LAB_8001a2e4;
  *(undefined2 *)((int)param_1 + 0x106) = 0x98;
  *(undefined *)(param_1 + 5) = 0;
  *(undefined *)((int)param_1 + 0x10e) = 0;
  *(undefined2 *)(param_1 + 0x43) = 0;
  *(short *)(param_1 + 0x42) = sVar1 + 0x20;
  *(undefined *)(param_1 + 0x44) = 1;
  FUN_8001eaa8(param_1,DAT_800a59e4,PTR_LAB_800a59e8);
  *(undefined *)((int)param_1 + 0x111) = 0;
  param_1[6] = &DAT_8001056c;
  *param_1 = 0xffff0000;
  param_1[1] = &LAB_80027bb4;
  iVar3 = param_1[0xd];
  *(undefined *)(iVar3 + 0x34) = 0x20;
  *(undefined *)(iVar3 + 0x35) = 0x60;
  *(undefined *)(iVar3 + 0x36) = 0x30;
  iVar3 = param_1[0xd];
  uVar2 = GetTPage((uint)*(byte *)(iVar3 + 0x32),3,(int)*(short *)(iVar3 + 0x10) & 0xffffffc0,
                   (int)*(short *)(iVar3 + 0x12) & 0xffffff00);
  *(u_short *)(iVar3 + 0x24) = uVar2;
  return param_1;
}



undefined4 * FUN_80027cf0(undefined4 *param_1)

{
  short sVar1;
  u_short uVar2;
  int iVar3;
  
  sVar1 = *(short *)(PTR_DAT_800a59b0 + 2);
  FUN_8001c71c(param_1,0x6a351094,10000,0x120,(int)(short)(sVar1 + 0x20),0);
  param_1[6] = &DAT_800105cc;
  param_1[2] = 0xffff0000;
  param_1[3] = &LAB_80020284;
  *param_1 = 0xffff0000;
  param_1[1] = &LAB_80026f30;
  param_1[9] = 0xffff0000;
  param_1[10] = &LAB_8001a2c8;
  param_1[0xb] = 0xffff0000;
  param_1[0xc] = &LAB_8001a2e4;
  *(undefined2 *)((int)param_1 + 0x106) = 200;
  *(undefined *)(param_1 + 5) = 0;
  *(undefined *)((int)param_1 + 0x10e) = 0;
  *(undefined2 *)(param_1 + 0x43) = 0;
  *(short *)(param_1 + 0x42) = sVar1 + 0x20;
  *(undefined *)(param_1 + 0x44) = 1;
  FUN_8001eaa8(param_1,DAT_800a59e4,PTR_LAB_800a59e8);
  param_1[6] = &DAT_8001054c;
  *(undefined *)((int)param_1 + 0x111) = 0;
  *(undefined2 *)(param_1[0xd] + 8) = 0x271a;
  *param_1 = 0xffff0000;
  param_1[1] = &LAB_80027e98;
  iVar3 = param_1[0xd];
  uVar2 = GetTPage((uint)*(byte *)(iVar3 + 0x32),1,(int)*(short *)(iVar3 + 0x10) & 0xffffffc0,
                   (int)*(short *)(iVar3 + 0x12) & 0xffffff00);
  *(u_short *)(iVar3 + 0x24) = uVar2;
  return param_1;
}



void FUN_800281a0(undefined4 *param_1,undefined4 param_2)

{
  byte bVar1;
  undefined uVar2;
  short sVar3;
  undefined *puVar4;
  u_short uVar5;
  undefined4 *puVar6;
  undefined4 uVar7;
  int iVar8;
  int iVar9;
  uint uVar10;
  byte local_268;
  
  FUN_80019744(param_1,30000);
  param_1[6] = &DAT_8001050c;
  param_1[7] = param_2;
  *param_1 = 0xffff0000;
  param_1[1] = &LAB_8002a374;
  param_1[2] = 0xffff0000;
  param_1[3] = &LAB_8002abbc;
  local_268 = 0;
  puVar6 = (undefined4 *)FUN_800143ec(PTR_DAT_800a59b0,0x114,1,0);
  FUN_8001c71c(puVar6,0xb8700ca1,10000,0x18,0xffffffe0,1);
  puVar6[6] = &DAT_800105cc;
  puVar6[2] = 0xffff0000;
  puVar6[3] = &LAB_80020284;
  *puVar6 = 0xffff0000;
  puVar6[1] = &LAB_80026f30;
  puVar6[9] = 0xffff0000;
  puVar6[10] = &LAB_8001a2c8;
  puVar6[0xb] = 0xffff0000;
  puVar6[0xc] = &LAB_8001a2e4;
  *(undefined *)(puVar6 + 5) = 0;
  *(undefined *)((int)puVar6 + 0x10e) = 0;
  *(undefined2 *)(puVar6 + 0x43) = 0;
  *(undefined2 *)((int)puVar6 + 0x106) = 0x16;
  *(undefined2 *)(puVar6 + 0x42) = 0xffe0;
  *(undefined *)(puVar6 + 0x44) = 1;
  FUN_8001eaa8(puVar6,DAT_800a59e4,PTR_LAB_800a59e8);
  *(undefined *)((int)puVar6 + 0x111) = 0;
  param_1[8] = puVar6;
  iVar8 = puVar6[0xd];
  uVar5 = GetTPage((uint)*(byte *)(iVar8 + 0x32),1,(int)*(short *)(iVar8 + 0x10) & 0xffffffc0,
                   (int)*(short *)(iVar8 + 0x12) & 0xffffff00);
  puVar4 = PTR_DAT_800a59b0;
  *(u_short *)(iVar8 + 0x24) = uVar5;
  puVar6 = (undefined4 *)FUN_800143ec(puVar4,0x120,1,0);
  bVar1 = PTR_DAT_800a59d8[0x12];
  FUN_8001c71c(puVar6,0xe2f188,10000,0x25,0xffffffe0,1);
  puVar6[6] = &DAT_800105cc;
  puVar6[2] = 0xffff0000;
  puVar6[3] = &LAB_80020284;
  *puVar6 = 0xffff0000;
  puVar6[1] = &LAB_80026f30;
  puVar6[9] = 0xffff0000;
  puVar6[10] = &LAB_8001a2c8;
  puVar6[0xb] = 0xffff0000;
  puVar6[0xc] = &LAB_8001a2e4;
  *(undefined *)(puVar6 + 5) = 0;
  *(undefined *)((int)puVar6 + 0x10e) = 0;
  *(undefined2 *)(puVar6 + 0x43) = 0;
  *(undefined2 *)((int)puVar6 + 0x106) = 0x20;
  *(undefined2 *)(puVar6 + 0x42) = 0xffe0;
  *(undefined *)(puVar6 + 0x44) = 1;
  FUN_8001eaa8(puVar6,DAT_800a59e4,PTR_LAB_800a59e8);
  puVar6[6] = &DAT_800105ac;
  *(undefined *)((int)puVar6 + 0x111) = 0;
  *(undefined2 *)(puVar6 + 0x47) = 0x25;
  *(undefined *)((int)puVar6 + 0x11b) = 0;
  *(ushort *)(puVar6 + 0x45) = (ushort)bVar1;
  *(ushort *)((int)puVar6 + 0x116) = (ushort)bVar1;
  *(undefined2 *)(puVar6 + 0x46) = 10;
  *puVar6 = 0xffff0000;
  puVar6[1] = &LAB_80027414;
  FUN_800275e0(puVar6);
  *(undefined *)((int)puVar6 + 0x11a) = 10;
  puVar4 = PTR_DAT_800a59b0;
  param_1[9] = puVar6;
  puVar6 = (undefined4 *)FUN_800143ec(puVar4,0x120,1,0);
  bVar1 = PTR_DAT_800a59d8[0x12];
  FUN_8001c71c(puVar6,0xe2f188,10000,0x31,0xffffffe0,1);
  puVar6[6] = &DAT_800105cc;
  puVar6[2] = 0xffff0000;
  puVar6[3] = &LAB_80020284;
  *puVar6 = 0xffff0000;
  puVar6[1] = &LAB_80026f30;
  puVar6[9] = 0xffff0000;
  puVar6[10] = &LAB_8001a2c8;
  puVar6[0xb] = 0xffff0000;
  puVar6[0xc] = &LAB_8001a2e4;
  *(undefined *)(puVar6 + 5) = 0;
  *(undefined *)((int)puVar6 + 0x10e) = 0;
  *(undefined2 *)(puVar6 + 0x43) = 0;
  *(undefined2 *)((int)puVar6 + 0x106) = 0x20;
  *(undefined2 *)(puVar6 + 0x42) = 0xffe0;
  *(undefined *)(puVar6 + 0x44) = 1;
  FUN_8001eaa8(puVar6,DAT_800a59e4,PTR_LAB_800a59e8);
  *(undefined2 *)(puVar6 + 0x47) = 0x31;
  *(undefined *)((int)puVar6 + 0x111) = 0;
  puVar6[6] = &DAT_800105ac;
  *(undefined *)((int)puVar6 + 0x11b) = 0xc;
  *(ushort *)(puVar6 + 0x45) = (ushort)bVar1;
  *(ushort *)((int)puVar6 + 0x116) = (ushort)bVar1;
  *(undefined2 *)(puVar6 + 0x46) = 0;
  *puVar6 = 0xffff0000;
  puVar6[1] = &LAB_80027414;
  FUN_800275e0(puVar6);
  *(undefined *)((int)puVar6 + 0x11a) = 10;
  puVar4 = PTR_DAT_800a59b0;
  param_1[10] = puVar6;
  puVar6 = (undefined4 *)FUN_800143ec(puVar4,0x114,1,0);
  FUN_8001c71c(puVar6,0xa9240484,10000,0x118,0xffffffe0,1);
  puVar6[6] = &DAT_800105cc;
  puVar6[2] = 0xffff0000;
  puVar6[3] = &LAB_80020284;
  *puVar6 = 0xffff0000;
  puVar6[1] = &LAB_80026f30;
  puVar6[9] = 0xffff0000;
  puVar6[10] = &LAB_8001a2c8;
  puVar6[0xb] = 0xffff0000;
  puVar6[0xc] = &LAB_8001a2e4;
  *(undefined *)(puVar6 + 5) = 0;
  *(undefined *)((int)puVar6 + 0x10e) = 0;
  *(undefined2 *)(puVar6 + 0x43) = 0;
  *(undefined2 *)((int)puVar6 + 0x106) = 0xf;
  *(undefined2 *)(puVar6 + 0x42) = 0xffe0;
  *(undefined *)(puVar6 + 0x44) = 1;
  FUN_8001eaa8(puVar6,DAT_800a59e4,PTR_LAB_800a59e8);
  *(undefined *)((int)puVar6 + 0x111) = 0;
  puVar4 = PTR_DAT_800a59b0;
  param_1[0xb] = puVar6;
  puVar6 = (undefined4 *)FUN_800143ec(puVar4,0x120,1,0);
  bVar1 = PTR_DAT_800a59d8[0x11];
  FUN_8001c71c(puVar6,0xe2f188,10000,0xff,0xffffffe0,1);
  puVar6[6] = &DAT_800105cc;
  puVar6[2] = 0xffff0000;
  puVar6[3] = &LAB_80020284;
  *puVar6 = 0xffff0000;
  puVar6[1] = &LAB_80026f30;
  puVar6[9] = 0xffff0000;
  puVar6[10] = &LAB_8001a2c8;
  puVar6[0xb] = 0xffff0000;
  puVar6[0xc] = &LAB_8001a2e4;
  *(undefined *)(puVar6 + 5) = 0;
  *(undefined *)((int)puVar6 + 0x10e) = 0;
  *(undefined2 *)(puVar6 + 0x43) = 0;
  *(undefined2 *)((int)puVar6 + 0x106) = 0x20;
  *(undefined2 *)(puVar6 + 0x42) = 0xffe0;
  *(undefined *)(puVar6 + 0x44) = 1;
  FUN_8001eaa8(puVar6,DAT_800a59e4,PTR_LAB_800a59e8);
  puVar6[6] = &DAT_800105ac;
  *(undefined *)((int)puVar6 + 0x111) = 0;
  *(undefined2 *)(puVar6 + 0x47) = 0xff;
  *(undefined *)((int)puVar6 + 0x11b) = 0;
  *(ushort *)(puVar6 + 0x45) = (ushort)bVar1;
  *(ushort *)((int)puVar6 + 0x116) = (ushort)bVar1;
  *(undefined2 *)(puVar6 + 0x46) = 10;
  *puVar6 = 0xffff0000;
  puVar6[1] = &LAB_80027414;
  FUN_800275e0(puVar6);
  *(undefined *)((int)puVar6 + 0x11a) = 10;
  puVar4 = PTR_DAT_800a59b0;
  param_1[0xc] = puVar6;
  puVar6 = (undefined4 *)FUN_800143ec(puVar4,0x120,1,0);
  bVar1 = PTR_DAT_800a59d8[0x11];
  FUN_8001c71c(puVar6,0xe2f188,10000,0x10b,0xffffffe0,1);
  puVar6[6] = &DAT_800105cc;
  puVar6[2] = 0xffff0000;
  puVar6[3] = &LAB_80020284;
  *puVar6 = 0xffff0000;
  puVar6[1] = &LAB_80026f30;
  puVar6[9] = 0xffff0000;
  puVar6[10] = &LAB_8001a2c8;
  puVar6[0xb] = 0xffff0000;
  puVar6[0xc] = &LAB_8001a2e4;
  *(undefined *)(puVar6 + 5) = 0;
  *(undefined *)((int)puVar6 + 0x10e) = 0;
  *(undefined2 *)(puVar6 + 0x43) = 0;
  *(undefined2 *)((int)puVar6 + 0x106) = 0x20;
  *(undefined2 *)(puVar6 + 0x42) = 0xffe0;
  *(undefined *)(puVar6 + 0x44) = 1;
  FUN_8001eaa8(puVar6,DAT_800a59e4,PTR_LAB_800a59e8);
  *(undefined *)((int)puVar6 + 0x111) = 0;
  puVar6[6] = &DAT_800105ac;
  *(undefined2 *)(puVar6 + 0x47) = 0x10b;
  *(undefined *)((int)puVar6 + 0x11b) = 0;
  *(ushort *)(puVar6 + 0x45) = (ushort)bVar1;
  *(ushort *)((int)puVar6 + 0x116) = (ushort)bVar1;
  *(undefined2 *)(puVar6 + 0x46) = 0;
  *puVar6 = 0xffff0000;
  puVar6[1] = &LAB_80027414;
  FUN_800275e0(puVar6);
  *(undefined *)((int)puVar6 + 0x11a) = 10;
  param_1[0xd] = puVar6;
  *(undefined *)(param_1[0xb] + 0xf6) = 0;
  *(undefined *)(*(int *)(param_1[0xb] + 0x34) + 0x37) = 0;
  puVar6 = (undefined4 *)FUN_800143ec(PTR_DAT_800a59b0,0x114,1,0);
  FUN_8001c71c(puVar6,0xe8628689,10000,0x98,0xffffffe0,1);
  puVar6[6] = &DAT_800105cc;
  puVar6[2] = 0xffff0000;
  puVar6[3] = &LAB_80020284;
  *puVar6 = 0xffff0000;
  puVar6[1] = &LAB_80026f30;
  puVar6[9] = 0xffff0000;
  puVar6[10] = &LAB_8001a2c8;
  puVar6[0xb] = 0xffff0000;
  puVar6[0xc] = &LAB_8001a2e4;
  *(undefined *)(puVar6 + 5) = 0;
  *(undefined *)((int)puVar6 + 0x10e) = 0;
  *(undefined2 *)(puVar6 + 0x43) = 0;
  *(undefined2 *)((int)puVar6 + 0x106) = 0x16;
  *(undefined2 *)(puVar6 + 0x42) = 0xffe0;
  *(undefined *)(puVar6 + 0x44) = 1;
  FUN_8001eaa8(puVar6,DAT_800a59e4,PTR_LAB_800a59e8);
  *(undefined *)((int)puVar6 + 0x111) = 0;
  param_1[0xe] = puVar6;
  iVar8 = puVar6[0xd];
  uVar5 = GetTPage((uint)*(byte *)(iVar8 + 0x32),1,(int)*(short *)(iVar8 + 0x10) & 0xffffffc0,
                   (int)*(short *)(iVar8 + 0x12) & 0xffffff00);
  puVar4 = PTR_DAT_800a59b0;
  *(u_short *)(iVar8 + 0x24) = uVar5;
  puVar6 = (undefined4 *)FUN_800143ec(puVar4,0x120,1,0);
  bVar1 = PTR_DAT_800a59d8[0x13];
  FUN_8001c71c(puVar6,0xe2f188,10000,0x92,0xffffffe0,1);
  puVar6[6] = &DAT_800105cc;
  puVar6[2] = 0xffff0000;
  puVar6[3] = &LAB_80020284;
  *puVar6 = 0xffff0000;
  puVar6[1] = &LAB_80026f30;
  puVar6[9] = 0xffff0000;
  puVar6[10] = &LAB_8001a2c8;
  puVar6[0xb] = 0xffff0000;
  puVar6[0xc] = &LAB_8001a2e4;
  *(undefined *)(puVar6 + 5) = 0;
  *(undefined *)((int)puVar6 + 0x10e) = 0;
  *(undefined2 *)(puVar6 + 0x43) = 0;
  *(undefined2 *)((int)puVar6 + 0x106) = 0x28;
  *(undefined2 *)(puVar6 + 0x42) = 0xffe0;
  *(undefined *)(puVar6 + 0x44) = 1;
  FUN_8001eaa8(puVar6,DAT_800a59e4,PTR_LAB_800a59e8);
  puVar6[6] = &DAT_800105ac;
  *(undefined *)((int)puVar6 + 0x111) = 0;
  *(undefined2 *)(puVar6 + 0x47) = 0x92;
  *(undefined *)((int)puVar6 + 0x11b) = 0;
  *(ushort *)(puVar6 + 0x45) = (ushort)bVar1;
  *(ushort *)((int)puVar6 + 0x116) = (ushort)bVar1;
  *(undefined2 *)(puVar6 + 0x46) = 10;
  *puVar6 = 0xffff0000;
  puVar6[1] = &LAB_80027414;
  FUN_800275e0(puVar6);
  *(undefined *)((int)puVar6 + 0x11a) = 10;
  puVar4 = PTR_DAT_800a59b0;
  param_1[0xf] = puVar6;
  puVar6 = (undefined4 *)FUN_800143ec(puVar4,0x120,1,0);
  bVar1 = PTR_DAT_800a59d8[0x13];
  FUN_8001c71c(puVar6,0xe2f188,10000,0x9e,0xffffffe0,1);
  puVar6[6] = &DAT_800105cc;
  puVar6[2] = 0xffff0000;
  puVar6[3] = &LAB_80020284;
  *puVar6 = 0xffff0000;
  puVar6[1] = &LAB_80026f30;
  puVar6[9] = 0xffff0000;
  puVar6[10] = &LAB_8001a2c8;
  puVar6[0xb] = 0xffff0000;
  puVar6[0xc] = &LAB_8001a2e4;
  *(undefined *)(puVar6 + 5) = 0;
  *(undefined *)((int)puVar6 + 0x10e) = 0;
  *(undefined2 *)(puVar6 + 0x43) = 0;
  *(undefined2 *)((int)puVar6 + 0x106) = 0x28;
  *(undefined2 *)(puVar6 + 0x42) = 0xffe0;
  *(undefined *)(puVar6 + 0x44) = 1;
  FUN_8001eaa8(puVar6,DAT_800a59e4,PTR_LAB_800a59e8);
  *(undefined2 *)(puVar6 + 0x47) = 0x9e;
  *(undefined *)((int)puVar6 + 0x111) = 0;
  puVar6[6] = &DAT_800105ac;
  *(undefined *)((int)puVar6 + 0x11b) = 6;
  *(ushort *)(puVar6 + 0x45) = (ushort)bVar1;
  *(ushort *)((int)puVar6 + 0x116) = (ushort)bVar1;
  *(undefined2 *)(puVar6 + 0x46) = 0;
  *puVar6 = 0xffff0000;
  puVar6[1] = &LAB_80027414;
  FUN_800275e0(puVar6);
  *(undefined *)((int)puVar6 + 0x11a) = 10;
  param_1[0x10] = puVar6;
  while( true ) {
    uVar10 = (uint)local_268;
    if (2 < uVar10) break;
    puVar6 = (undefined4 *)FUN_800143ec(PTR_DAT_800a59b0,0x118,1,0);
    uVar2 = PTR_DAT_800a59d8[0x19];
    FUN_8001c71c(puVar6,0x88a28194,10000,0x60,0xffffffe0,1);
    puVar6[6] = &DAT_800105cc;
    puVar6[2] = 0xffff0000;
    puVar6[3] = &LAB_80020284;
    *puVar6 = 0xffff0000;
    puVar6[1] = &LAB_80026f30;
    puVar6[9] = 0xffff0000;
    puVar6[10] = &LAB_8001a2c8;
    puVar6[0xb] = 0xffff0000;
    puVar6[0xc] = &LAB_8001a2e4;
    *(undefined2 *)(puVar6 + 0x42) = 0xffe0;
    *(undefined *)(puVar6 + 5) = 0;
    *(undefined *)((int)puVar6 + 0x10e) = 0;
    *(undefined2 *)(puVar6 + 0x43) = 0;
    *(ushort *)((int)puVar6 + 0x106) = (ushort)local_268 * 0x10 + 0x16;
    *(undefined *)(puVar6 + 0x44) = 1;
    FUN_8001eaa8(puVar6,DAT_800a59e4,PTR_LAB_800a59e8);
    *(undefined *)((int)puVar6 + 0x111) = 0;
    puVar6[6] = &DAT_8001058c;
    *(undefined *)(puVar6 + 0x45) = uVar2;
    *(undefined *)((int)puVar6 + 0x115) = uVar2;
    *(byte *)((int)puVar6 + 0x116) = local_268;
    *puVar6 = 0xffff0000;
    puVar6[1] = &LAB_8002785c;
    FUN_800279c4(puVar6);
    *(undefined *)((int)puVar6 + 0x117) = 10;
    *(undefined *)((int)puVar6 + 0xf6) = 0;
    *(undefined *)(puVar6[0xd] + 0x37) = 1;
    puVar4 = PTR_DAT_800a59b0;
    param_1[uVar10 + 0x11] = puVar6;
    puVar6 = (undefined4 *)FUN_800143ec(puVar4,0x118,1,0);
    uVar2 = PTR_DAT_800a59d8[0x1a];
    FUN_8001c71c(puVar6,0x80e85ea0,10000,0xd0,0xffffffe0,1);
    puVar6[6] = &DAT_800105cc;
    puVar6[2] = 0xffff0000;
    puVar6[3] = &LAB_80020284;
    *puVar6 = 0xffff0000;
    puVar6[1] = &LAB_80026f30;
    puVar6[9] = 0xffff0000;
    puVar6[10] = &LAB_8001a2c8;
    puVar6[0xb] = 0xffff0000;
    puVar6[0xc] = &LAB_8001a2e4;
    *(undefined *)(puVar6 + 5) = 0;
    *(undefined *)((int)puVar6 + 0x10e) = 0;
    *(undefined2 *)(puVar6 + 0x43) = 0;
    *(ushort *)((int)puVar6 + 0x106) = (ushort)local_268 * 0x14 + 0x1c;
    *(undefined2 *)(puVar6 + 0x42) = 0xffe0;
    *(undefined *)(puVar6 + 0x44) = 1;
    FUN_8001eaa8(puVar6,DAT_800a59e4,PTR_LAB_800a59e8);
    *(undefined *)((int)puVar6 + 0x111) = 0;
    puVar6[6] = &DAT_8001058c;
    *(undefined *)(puVar6 + 0x45) = uVar2;
    *(undefined *)((int)puVar6 + 0x115) = uVar2;
    *(byte *)((int)puVar6 + 0x116) = local_268;
    *puVar6 = 0xffff0000;
    puVar6[1] = &LAB_8002785c;
    FUN_800279c4(puVar6);
    local_268 = local_268 + 1;
    *(undefined *)((int)puVar6 + 0x117) = 10;
    *(undefined *)((int)puVar6 + 0xf6) = 0;
    *(undefined *)(puVar6[0xd] + 0x37) = 1;
    param_1[uVar10 + 0x14] = puVar6;
  }
  puVar6 = (undefined4 *)FUN_800143ec(PTR_DAT_800a59b0,0x114,1,0);
  sVar3 = *(short *)(PTR_DAT_800a59b0 + 2);
  FUN_8001c71c(puVar6,0x9158a0f6,10000,0x18,(int)(short)(sVar3 + 0x20),1);
  puVar6[6] = &DAT_800105cc;
  puVar6[2] = 0xffff0000;
  puVar6[3] = &LAB_80020284;
  *puVar6 = 0xffff0000;
  puVar6[1] = &LAB_80026f30;
  puVar6[9] = 0xffff0000;
  puVar6[10] = &LAB_8001a2c8;
  puVar6[0xb] = 0xffff0000;
  puVar6[0xc] = &LAB_8001a2e4;
  *(undefined *)(puVar6 + 5) = 0;
  *(undefined *)((int)puVar6 + 0x10e) = 0;
  *(undefined2 *)(puVar6 + 0x43) = 0;
  *(undefined2 *)((int)puVar6 + 0x106) = 200;
  *(short *)(puVar6 + 0x42) = sVar3 + 0x20;
  *(undefined *)(puVar6 + 0x44) = 1;
  FUN_8001eaa8(puVar6,DAT_800a59e4,PTR_LAB_800a59e8);
  *(undefined *)((int)puVar6 + 0x111) = 0;
  puVar4 = PTR_DAT_800a59b0;
  param_1[0x17] = puVar6;
  puVar6[0x14] = 0x8000;
  puVar6[0x15] = 0x8000;
  puVar6 = (undefined4 *)FUN_800143ec(puVar4,0x120,1,0);
  sVar3 = *(short *)(PTR_DAT_800a59b0 + 2);
  bVar1 = PTR_DAT_800a59d8[0x14];
  FUN_8001c71c(puVar6,0xe2f188,10000,0x25,(int)(short)(sVar3 + 0x20),1);
  puVar6[6] = &DAT_800105cc;
  puVar6[2] = 0xffff0000;
  puVar6[3] = &LAB_80020284;
  *puVar6 = 0xffff0000;
  puVar6[1] = &LAB_80026f30;
  puVar6[9] = 0xffff0000;
  puVar6[10] = &LAB_8001a2c8;
  puVar6[0xb] = 0xffff0000;
  puVar6[0xc] = &LAB_8001a2e4;
  *(undefined *)(puVar6 + 5) = 0;
  *(undefined *)((int)puVar6 + 0x10e) = 0;
  *(undefined2 *)(puVar6 + 0x43) = 0;
  *(undefined2 *)((int)puVar6 + 0x106) = 0xd2;
  *(short *)(puVar6 + 0x42) = sVar3 + 0x20;
  *(undefined *)(puVar6 + 0x44) = 1;
  FUN_8001eaa8(puVar6,DAT_800a59e4,PTR_LAB_800a59e8);
  puVar6[6] = &DAT_800105ac;
  *(undefined *)((int)puVar6 + 0x111) = 0;
  *(undefined2 *)(puVar6 + 0x47) = 0x25;
  *(undefined *)((int)puVar6 + 0x11b) = 0;
  *(ushort *)(puVar6 + 0x45) = (ushort)bVar1;
  *(ushort *)((int)puVar6 + 0x116) = (ushort)bVar1;
  *(undefined2 *)(puVar6 + 0x46) = 10;
  *puVar6 = 0xffff0000;
  puVar6[1] = &LAB_80027414;
  FUN_800275e0(puVar6);
  *(undefined *)((int)puVar6 + 0x11a) = 10;
  puVar4 = PTR_DAT_800a59b0;
  param_1[0x18] = puVar6;
  puVar6 = (undefined4 *)FUN_800143ec(puVar4,0x120,1,0);
  sVar3 = *(short *)(PTR_DAT_800a59b0 + 2);
  bVar1 = PTR_DAT_800a59d8[0x14];
  FUN_8001c71c(puVar6,0xe2f188,10000,0x31,(int)(short)(sVar3 + 0x20),1);
  puVar6[6] = &DAT_800105cc;
  puVar6[2] = 0xffff0000;
  puVar6[3] = &LAB_80020284;
  *puVar6 = 0xffff0000;
  puVar6[1] = &LAB_80026f30;
  puVar6[9] = 0xffff0000;
  puVar6[10] = &LAB_8001a2c8;
  puVar6[0xb] = 0xffff0000;
  puVar6[0xc] = &LAB_8001a2e4;
  *(undefined *)(puVar6 + 5) = 0;
  *(undefined *)((int)puVar6 + 0x10e) = 0;
  *(undefined2 *)(puVar6 + 0x43) = 0;
  *(undefined2 *)((int)puVar6 + 0x106) = 0xd2;
  *(short *)(puVar6 + 0x42) = sVar3 + 0x20;
  *(undefined *)(puVar6 + 0x44) = 1;
  FUN_8001eaa8(puVar6,DAT_800a59e4,PTR_LAB_800a59e8);
  puVar6[6] = &DAT_800105ac;
  *(undefined2 *)(puVar6 + 0x47) = 0x31;
  *(undefined *)((int)puVar6 + 0x111) = 0;
  *(undefined *)((int)puVar6 + 0x11b) = 0xc;
  *(ushort *)(puVar6 + 0x45) = (ushort)bVar1;
  *(ushort *)((int)puVar6 + 0x116) = (ushort)bVar1;
  *(undefined2 *)(puVar6 + 0x46) = 0;
  *puVar6 = 0xffff0000;
  puVar6[1] = &LAB_80027414;
  FUN_800275e0(puVar6);
  *(undefined *)((int)puVar6 + 0x11a) = 10;
  puVar4 = PTR_DAT_800a59b0;
  param_1[0x19] = puVar6;
  uVar7 = FUN_800143ec(puVar4,0x114,1,0);
  uVar7 = FUN_800279fc(uVar7);
  puVar4 = PTR_DAT_800a59b0;
  param_1[0x1b] = uVar7;
  puVar6 = (undefined4 *)FUN_800143ec(puVar4,0x114,1,0);
  sVar3 = *(short *)(PTR_DAT_800a59b0 + 2);
  FUN_8001c71c(puVar6,0xa9240484,10000,0xe,(int)(short)(sVar3 + 0x20),1);
  puVar6[6] = &DAT_800105cc;
  puVar6[2] = 0xffff0000;
  puVar6[3] = &LAB_80020284;
  *puVar6 = 0xffff0000;
  puVar6[1] = &LAB_80026f30;
  puVar6[9] = 0xffff0000;
  puVar6[10] = &LAB_8001a2c8;
  puVar6[0xb] = 0xffff0000;
  puVar6[0xc] = &LAB_8001a2e4;
  *(undefined *)(puVar6 + 5) = 0;
  *(undefined *)((int)puVar6 + 0x10e) = 0;
  *(undefined2 *)(puVar6 + 0x43) = 0;
  *(undefined2 *)((int)puVar6 + 0x106) = 0x88;
  *(short *)(puVar6 + 0x42) = sVar3 + 0x20;
  *(undefined *)(puVar6 + 0x44) = 1;
  FUN_8001eaa8(puVar6,DAT_800a59e4,PTR_LAB_800a59e8);
  *(undefined *)((int)puVar6 + 0x111) = 0;
  param_1[0x1a] = puVar6;
  *(undefined *)((int)puVar6 + 0xf6) = 0;
  iVar8 = *(int *)(param_1[0x1a] + 0x34);
  *(undefined *)(iVar8 + 0x34) = 0x20;
  *(undefined *)(iVar8 + 0x35) = 0x60;
  *(undefined *)(iVar8 + 0x37) = 0;
  *(undefined *)(iVar8 + 0x36) = 0x30;
  puVar4 = PTR_DAT_800a59b0;
  *(undefined2 *)(iVar8 + 8) = 0x271a;
  puVar6 = (undefined4 *)FUN_800143ec(puVar4,0x120,1,0);
  sVar3 = *(short *)(PTR_DAT_800a59b0 + 2);
  bVar1 = PTR_DAT_800a59d8[0x15];
  FUN_8001c71c(puVar6,0xe2f188,10000,0x25,(int)(short)(sVar3 + 0x20),1);
  puVar6[6] = &DAT_800105cc;
  puVar6[2] = 0xffff0000;
  puVar6[3] = &LAB_80020284;
  *puVar6 = 0xffff0000;
  puVar6[1] = &LAB_80026f30;
  puVar6[9] = 0xffff0000;
  puVar6[10] = &LAB_8001a2c8;
  puVar6[0xb] = 0xffff0000;
  puVar6[0xc] = &LAB_8001a2e4;
  *(undefined *)(puVar6 + 5) = 0;
  *(undefined *)((int)puVar6 + 0x10e) = 0;
  *(undefined2 *)(puVar6 + 0x43) = 0;
  *(undefined2 *)((int)puVar6 + 0x106) = 0xa2;
  *(short *)(puVar6 + 0x42) = sVar3 + 0x20;
  *(undefined *)(puVar6 + 0x44) = 1;
  FUN_8001eaa8(puVar6,DAT_800a59e4,PTR_LAB_800a59e8);
  puVar6[6] = &DAT_800105ac;
  *(undefined *)((int)puVar6 + 0x111) = 0;
  *(undefined2 *)(puVar6 + 0x47) = 0x25;
  *(undefined *)((int)puVar6 + 0x11b) = 0;
  *(ushort *)(puVar6 + 0x45) = (ushort)bVar1;
  *(ushort *)((int)puVar6 + 0x116) = (ushort)bVar1;
  *(undefined2 *)(puVar6 + 0x46) = 10;
  *puVar6 = 0xffff0000;
  puVar6[1] = &LAB_80027414;
  FUN_800275e0(puVar6);
  *(undefined *)((int)puVar6 + 0x11a) = 10;
  puVar4 = PTR_DAT_800a59b0;
  param_1[0x1c] = puVar6;
  puVar6 = (undefined4 *)FUN_800143ec(puVar4,0x120,1,0);
  sVar3 = *(short *)(PTR_DAT_800a59b0 + 2);
  bVar1 = PTR_DAT_800a59d8[0x15];
  FUN_8001c71c(puVar6,0xe2f188,10000,0x31,(int)(short)(sVar3 + 0x20),1);
  puVar6[6] = &DAT_800105cc;
  puVar6[2] = 0xffff0000;
  puVar6[3] = &LAB_80020284;
  *puVar6 = 0xffff0000;
  puVar6[1] = &LAB_80026f30;
  puVar6[9] = 0xffff0000;
  puVar6[10] = &LAB_8001a2c8;
  puVar6[0xb] = 0xffff0000;
  puVar6[0xc] = &LAB_8001a2e4;
  *(undefined *)(puVar6 + 5) = 0;
  *(undefined *)((int)puVar6 + 0x10e) = 0;
  *(undefined2 *)(puVar6 + 0x43) = 0;
  *(undefined2 *)((int)puVar6 + 0x106) = 0xa2;
  *(short *)(puVar6 + 0x42) = sVar3 + 0x20;
  *(undefined *)(puVar6 + 0x44) = 1;
  FUN_8001eaa8(puVar6,DAT_800a59e4,PTR_LAB_800a59e8);
  puVar6[6] = &DAT_800105ac;
  *(undefined2 *)(puVar6 + 0x47) = 0x31;
  *(undefined *)((int)puVar6 + 0x111) = 0;
  *(undefined *)((int)puVar6 + 0x11b) = 0xc;
  *(ushort *)(puVar6 + 0x45) = (ushort)bVar1;
  *(ushort *)((int)puVar6 + 0x116) = (ushort)bVar1;
  *(undefined2 *)(puVar6 + 0x46) = 0;
  *puVar6 = 0xffff0000;
  puVar6[1] = &LAB_80027414;
  FUN_800275e0(puVar6);
  *(undefined *)((int)puVar6 + 0x11a) = 10;
  puVar4 = PTR_DAT_800a59b0;
  param_1[0x1d] = puVar6;
  uVar7 = FUN_800143ec(puVar4,0x114,1,0);
  uVar7 = FUN_80027cf0(uVar7);
  puVar4 = PTR_DAT_800a59b0;
  param_1[0x1e] = uVar7;
  puVar6 = (undefined4 *)FUN_800143ec(puVar4,0x120,1,0);
  sVar3 = *(short *)(PTR_DAT_800a59b0 + 2);
  bVar1 = PTR_DAT_800a59d8[0x16];
  FUN_8001c71c(puVar6,0xe2f188,10000,0xff,(int)(short)(sVar3 + 0x20),1);
  puVar6[6] = &DAT_800105cc;
  puVar6[2] = 0xffff0000;
  puVar6[3] = &LAB_80020284;
  *puVar6 = 0xffff0000;
  puVar6[1] = &LAB_80026f30;
  puVar6[9] = 0xffff0000;
  puVar6[10] = &LAB_8001a2c8;
  puVar6[0xb] = 0xffff0000;
  puVar6[0xc] = &LAB_8001a2e4;
  *(undefined *)(puVar6 + 5) = 0;
  *(undefined *)((int)puVar6 + 0x10e) = 0;
  *(undefined2 *)(puVar6 + 0x43) = 0;
  *(undefined2 *)((int)puVar6 + 0x106) = 0xd2;
  *(short *)(puVar6 + 0x42) = sVar3 + 0x20;
  *(undefined *)(puVar6 + 0x44) = 1;
  FUN_8001eaa8(puVar6,DAT_800a59e4,PTR_LAB_800a59e8);
  puVar6[6] = &DAT_800105ac;
  *(undefined *)((int)puVar6 + 0x111) = 0;
  *(undefined2 *)(puVar6 + 0x47) = 0xff;
  *(undefined *)((int)puVar6 + 0x11b) = 0;
  *(ushort *)(puVar6 + 0x45) = (ushort)bVar1;
  *(ushort *)((int)puVar6 + 0x116) = (ushort)bVar1;
  *(undefined2 *)(puVar6 + 0x46) = 10;
  *puVar6 = 0xffff0000;
  puVar6[1] = &LAB_80027414;
  FUN_800275e0(puVar6);
  *(undefined *)((int)puVar6 + 0x11a) = 10;
  puVar4 = PTR_DAT_800a59b0;
  param_1[0x1f] = puVar6;
  puVar6 = (undefined4 *)FUN_800143ec(puVar4,0x120,1,0);
  sVar3 = *(short *)(PTR_DAT_800a59b0 + 2);
  bVar1 = PTR_DAT_800a59d8[0x16];
  FUN_8001c71c(puVar6,0xe2f188,10000,0x10b,(int)(short)(sVar3 + 0x20),1);
  puVar6[6] = &DAT_800105cc;
  puVar6[2] = 0xffff0000;
  puVar6[3] = &LAB_80020284;
  *puVar6 = 0xffff0000;
  puVar6[1] = &LAB_80026f30;
  puVar6[9] = 0xffff0000;
  puVar6[10] = &LAB_8001a2c8;
  puVar6[0xb] = 0xffff0000;
  puVar6[0xc] = &LAB_8001a2e4;
  *(undefined *)(puVar6 + 5) = 0;
  *(undefined *)((int)puVar6 + 0x10e) = 0;
  *(undefined2 *)(puVar6 + 0x43) = 0;
  *(undefined2 *)((int)puVar6 + 0x106) = 0xd2;
  *(short *)(puVar6 + 0x42) = sVar3 + 0x20;
  *(undefined *)(puVar6 + 0x44) = 1;
  FUN_8001eaa8(puVar6,DAT_800a59e4,PTR_LAB_800a59e8);
  puVar6[6] = &DAT_800105ac;
  *(undefined *)((int)puVar6 + 0x111) = 0;
  *(undefined2 *)(puVar6 + 0x47) = 0x10b;
  *(undefined *)((int)puVar6 + 0x11b) = 0;
  *(ushort *)(puVar6 + 0x45) = (ushort)bVar1;
  *(ushort *)((int)puVar6 + 0x116) = (ushort)bVar1;
  *(undefined2 *)(puVar6 + 0x46) = 0;
  *puVar6 = 0xffff0000;
  puVar6[1] = &LAB_80027414;
  FUN_800275e0(puVar6);
  *(undefined *)((int)puVar6 + 0x11a) = 10;
  puVar4 = PTR_DAT_800a59b0;
  param_1[0x20] = puVar6;
  puVar6 = (undefined4 *)FUN_800143ec(puVar4,0x114,1,0);
  sVar3 = *(short *)(PTR_DAT_800a59b0 + 2);
  FUN_8001c71c(puVar6,0x902c0002,10000,0x118,(int)(short)(sVar3 + 0x20),1);
  puVar6[6] = &DAT_800105cc;
  puVar6[2] = 0xffff0000;
  puVar6[3] = &LAB_80020284;
  *puVar6 = 0xffff0000;
  puVar6[1] = &LAB_80026f30;
  puVar6[9] = 0xffff0000;
  puVar6[10] = &LAB_8001a2c8;
  puVar6[0xb] = 0xffff0000;
  puVar6[0xc] = &LAB_8001a2e4;
  *(undefined *)(puVar6 + 5) = 0;
  *(undefined *)((int)puVar6 + 0x10e) = 0;
  *(undefined2 *)(puVar6 + 0x43) = 0;
  *(undefined2 *)((int)puVar6 + 0x106) = 0x88;
  *(short *)(puVar6 + 0x42) = sVar3 + 0x20;
  *(undefined *)(puVar6 + 0x44) = 1;
  FUN_8001eaa8(puVar6,DAT_800a59e4,PTR_LAB_800a59e8);
  *(undefined *)((int)puVar6 + 0x111) = 0;
  puVar4 = PTR_DAT_800a59b0;
  param_1[0x21] = puVar6;
  puVar6 = (undefined4 *)FUN_800143ec(puVar4,0x120,1,0);
  sVar3 = *(short *)(PTR_DAT_800a59b0 + 2);
  bVar1 = PTR_DAT_800a59d8[0x1c];
  FUN_8001c71c(puVar6,0xe2f188,10000,0xff,(int)(short)(sVar3 + 0x20),1);
  puVar6[6] = &DAT_800105cc;
  puVar6[2] = 0xffff0000;
  puVar6[3] = &LAB_80020284;
  *puVar6 = 0xffff0000;
  puVar6[1] = &LAB_80026f30;
  puVar6[9] = 0xffff0000;
  puVar6[10] = &LAB_8001a2c8;
  puVar6[0xb] = 0xffff0000;
  puVar6[0xc] = &LAB_8001a2e4;
  *(undefined *)(puVar6 + 5) = 0;
  *(undefined *)((int)puVar6 + 0x10e) = 0;
  *(undefined2 *)(puVar6 + 0x43) = 0;
  *(undefined2 *)((int)puVar6 + 0x106) = 0xa2;
  *(short *)(puVar6 + 0x42) = sVar3 + 0x20;
  *(undefined *)(puVar6 + 0x44) = 1;
  FUN_8001eaa8(puVar6,DAT_800a59e4,PTR_LAB_800a59e8);
  puVar6[6] = &DAT_800105ac;
  *(undefined *)((int)puVar6 + 0x111) = 0;
  *(undefined2 *)(puVar6 + 0x47) = 0xff;
  *(undefined *)((int)puVar6 + 0x11b) = 0;
  *(ushort *)(puVar6 + 0x45) = (ushort)bVar1;
  *(ushort *)((int)puVar6 + 0x116) = (ushort)bVar1;
  *(undefined2 *)(puVar6 + 0x46) = 10;
  *puVar6 = 0xffff0000;
  puVar6[1] = &LAB_80027414;
  FUN_800275e0(puVar6);
  *(undefined *)((int)puVar6 + 0x11a) = 10;
  puVar4 = PTR_DAT_800a59b0;
  param_1[0x22] = puVar6;
  puVar6 = (undefined4 *)FUN_800143ec(puVar4,0x120,1,0);
  sVar3 = *(short *)(PTR_DAT_800a59b0 + 2);
  bVar1 = PTR_DAT_800a59d8[0x1c];
  FUN_8001c71c(puVar6,0xe2f188,10000,0x10b,(int)(short)(sVar3 + 0x20),1);
  puVar6[6] = &DAT_800105cc;
  puVar6[2] = 0xffff0000;
  puVar6[3] = &LAB_80020284;
  *puVar6 = 0xffff0000;
  puVar6[1] = &LAB_80026f30;
  puVar6[9] = 0xffff0000;
  puVar6[10] = &LAB_8001a2c8;
  puVar6[0xb] = 0xffff0000;
  puVar6[0xc] = &LAB_8001a2e4;
  *(undefined *)(puVar6 + 5) = 0;
  *(undefined *)((int)puVar6 + 0x10e) = 0;
  *(undefined2 *)(puVar6 + 0x43) = 0;
  *(undefined2 *)((int)puVar6 + 0x106) = 0xa2;
  *(short *)(puVar6 + 0x42) = sVar3 + 0x20;
  *(undefined *)(puVar6 + 0x44) = 1;
  FUN_8001eaa8(puVar6,DAT_800a59e4,PTR_LAB_800a59e8);
  puVar6[6] = &DAT_800105ac;
  *(undefined *)((int)puVar6 + 0x111) = 0;
  *(undefined2 *)(puVar6 + 0x47) = 0x10b;
  *(undefined *)((int)puVar6 + 0x11b) = 0;
  *(ushort *)(puVar6 + 0x45) = (ushort)bVar1;
  *(ushort *)((int)puVar6 + 0x116) = (ushort)bVar1;
  *(undefined2 *)(puVar6 + 0x46) = 0;
  *puVar6 = 0xffff0000;
  puVar6[1] = &LAB_80027414;
  FUN_800275e0(puVar6);
  *(undefined *)((int)puVar6 + 0x11a) = 10;
  puVar4 = PTR_DAT_800a59b0;
  param_1[0x23] = puVar6;
  iVar8 = FUN_800143ec(puVar4,0x104,1,0);
  FUN_8001c864(iVar8,&DAT_8009b1d0,0x271a,0xa0,0x78);
  *(undefined **)(iVar8 + 0x18) = &DAT_800105ec;
  *(undefined4 *)(iVar8 + 0x24) = 0xffff0000;
  *(undefined **)(iVar8 + 0x28) = &LAB_8001a2c8;
  *(undefined4 *)(iVar8 + 0x2c) = 0xffff0000;
  *(undefined **)(iVar8 + 0x30) = &LAB_8001a2e4;
  iVar9 = *(int *)(iVar8 + 0x34);
  *(undefined *)(iVar8 + 0x14) = 0;
  uVar5 = GetTPage((uint)*(byte *)(iVar9 + 0x32),1,(int)*(short *)(iVar9 + 0x10) & 0xffffffc0,
                   (int)*(short *)(iVar9 + 0x12) & 0xffffff00);
  *(u_short *)(iVar9 + 0x24) = uVar5;
  *(undefined *)(iVar8 + 0x101) = 1;
  puVar4 = PTR_DAT_800a59b0;
  param_1[0x25] = iVar8;
  iVar8 = FUN_800143ec(puVar4,0x104,1,0);
  FUN_8001c864(iVar8,&DAT_8009b1dc,0x271a,0xa0,0x78);
  *(undefined **)(iVar8 + 0x18) = &DAT_800105ec;
  *(undefined4 *)(iVar8 + 0x24) = 0xffff0000;
  *(undefined **)(iVar8 + 0x28) = &LAB_8001a2c8;
  *(undefined4 *)(iVar8 + 0x2c) = 0xffff0000;
  *(undefined **)(iVar8 + 0x30) = &LAB_8001a2e4;
  iVar9 = *(int *)(iVar8 + 0x34);
  *(undefined *)(iVar8 + 0x14) = 0;
  uVar5 = GetTPage((uint)*(byte *)(iVar9 + 0x32),1,(int)*(short *)(iVar9 + 0x10) & 0xffffffc0,
                   (int)*(short *)(iVar9 + 0x12) & 0xffffff00);
  *(u_short *)(iVar9 + 0x24) = uVar5;
  *(undefined *)(iVar8 + 0x101) = 1;
  puVar4 = PTR_DAT_800a59b0;
  param_1[0x26] = iVar8;
  iVar8 = FUN_800143ec(puVar4,0x104,1,0);
  FUN_8001c864(iVar8,&DAT_8009b1e8,0x271a,0xa0,0x78);
  *(undefined **)(iVar8 + 0x18) = &DAT_800105ec;
  *(undefined4 *)(iVar8 + 0x24) = 0xffff0000;
  *(undefined **)(iVar8 + 0x28) = &LAB_8001a2c8;
  *(undefined4 *)(iVar8 + 0x2c) = 0xffff0000;
  *(undefined **)(iVar8 + 0x30) = &LAB_8001a2e4;
  iVar9 = *(int *)(iVar8 + 0x34);
  *(undefined *)(iVar8 + 0x14) = 0;
  uVar5 = GetTPage((uint)*(byte *)(iVar9 + 0x32),1,(int)*(short *)(iVar9 + 0x10) & 0xffffffc0,
                   (int)*(short *)(iVar9 + 0x12) & 0xffffff00);
  *(u_short *)(iVar9 + 0x24) = uVar5;
  *(undefined *)(iVar8 + 0x101) = 1;
  param_1[0x27] = iVar8;
  *(undefined *)((int)param_1 + 0xa3) = 0;
  *(undefined *)(param_1 + 0x29) = 0;
  *(undefined *)((int)param_1 + 0xa5) = 0;
  *(undefined *)((int)param_1 + 0xa6) = 0;
  *(undefined *)((int)param_1 + 0xa7) = 0;
  *(undefined *)(param_1 + 0x2a) = 0;
  *(undefined *)((int)param_1 + 0xa9) = 0;
  *(undefined *)((int)param_1 + 0xaa) = 0;
  *(undefined *)((int)param_1 + 0xab) = 0;
  *(undefined *)((int)param_1 + 0xa2) = 0;
  *(undefined *)(param_1 + 0x2b) = 0;
  return;
}



void FUN_8002a394(int param_1)

{
  bool bVar1;
  undefined *puVar2;
  uint uVar3;
  int iVar4;
  uint uVar5;
  
  if ((*(char *)(param_1 + 0xa2) != '\0') && (*(char *)(*(int *)(param_1 + 0x94) + 0x101) != '\0'))
  {
    FUN_80021dbc(BUF_PTR,*(undefined4 *)(*(int *)(param_1 + 0x94) + 0x34));
    FUN_80021d2c(BUF_PTR,*(undefined4 *)(param_1 + 0x94));
    FUN_80021dbc(BUF_PTR,*(undefined4 *)(*(int *)(param_1 + 0x98) + 0x34));
    FUN_80021d2c(BUF_PTR,*(undefined4 *)(param_1 + 0x98));
    FUN_80021dbc(BUF_PTR,*(undefined4 *)(*(int *)(param_1 + 0x9c) + 0x34));
    FUN_80021d2c(BUF_PTR,*(undefined4 *)(param_1 + 0x9c));
    *(undefined *)(param_1 + 0xa2) = 0;
  }
  puVar2 = PTR_DAT_800a59d8;
  if (*(char *)(param_1 + 0xa3) != '\0') {
    if (*(char *)(*(int *)(param_1 + 0x20) + 0x110) == '\0') {
      *(ushort *)(*(int *)(param_1 + 0x24) + 0x116) = (ushort)(byte)PTR_DAT_800a59d8[0x12];
      *(ushort *)(*(int *)(param_1 + 0x28) + 0x116) = (ushort)(byte)puVar2[0x12];
    }
    else {
      FUN_80021dbc(BUF_PTR,*(undefined4 *)(*(int *)(param_1 + 0x20) + 0x34));
      FUN_80021dbc(BUF_PTR,*(undefined4 *)(*(int *)(param_1 + 0x24) + 0x34));
      FUN_80021dbc(BUF_PTR,*(undefined4 *)(*(int *)(param_1 + 0x28) + 0x34));
      FUN_80021d2c(BUF_PTR,*(undefined4 *)(param_1 + 0x20));
      FUN_80021d2c(BUF_PTR,*(undefined4 *)(param_1 + 0x24));
      FUN_80021d2c(BUF_PTR,*(undefined4 *)(param_1 + 0x28));
      *(undefined *)(param_1 + 0xa3) = 0;
    }
  }
  puVar2 = PTR_DAT_800a59d8;
  if (*(char *)(param_1 + 0xa4) != '\0') {
    if (*(char *)(*(int *)(param_1 + 0x2c) + 0x110) == '\0') {
      *(ushort *)(*(int *)(param_1 + 0x30) + 0x116) = (ushort)(byte)PTR_DAT_800a59d8[0x11];
      *(ushort *)(*(int *)(param_1 + 0x34) + 0x116) = (ushort)(byte)puVar2[0x11];
    }
    else {
      FUN_80021dbc(BUF_PTR,*(undefined4 *)(*(int *)(param_1 + 0x2c) + 0x34));
      FUN_80021dbc(BUF_PTR,*(undefined4 *)(*(int *)(param_1 + 0x30) + 0x34));
      FUN_80021dbc(BUF_PTR,*(undefined4 *)(*(int *)(param_1 + 0x34) + 0x34));
      FUN_80021d2c(BUF_PTR,*(undefined4 *)(param_1 + 0x2c));
      FUN_80021d2c(BUF_PTR,*(undefined4 *)(param_1 + 0x30));
      FUN_80021d2c(BUF_PTR,*(undefined4 *)(param_1 + 0x34));
      *(undefined *)(param_1 + 0xa4) = 0;
    }
  }
  puVar2 = PTR_DAT_800a59d8;
  if (*(char *)(param_1 + 0xa5) != '\0') {
    if (*(char *)(*(int *)(param_1 + 0x38) + 0x110) == '\0') {
      *(ushort *)(*(int *)(param_1 + 0x3c) + 0x116) = (ushort)(byte)PTR_DAT_800a59d8[0x13];
      *(ushort *)(*(int *)(param_1 + 0x40) + 0x116) = (ushort)(byte)puVar2[0x13];
    }
    else {
      FUN_80021dbc(BUF_PTR,*(undefined4 *)(*(int *)(param_1 + 0x38) + 0x34));
      FUN_80021dbc(BUF_PTR,*(undefined4 *)(*(int *)(param_1 + 0x3c) + 0x34));
      FUN_80021dbc(BUF_PTR,*(undefined4 *)(*(int *)(param_1 + 0x40) + 0x34));
      FUN_80021d2c(BUF_PTR,*(undefined4 *)(param_1 + 0x38));
      FUN_80021d2c(BUF_PTR,*(undefined4 *)(param_1 + 0x3c));
      FUN_80021d2c(BUF_PTR,*(undefined4 *)(param_1 + 0x40));
      *(undefined *)(param_1 + 0xa5) = 0;
    }
  }
  if (*(char *)(param_1 + 0xa6) != '\0') {
    uVar5 = 0;
    if (*(char *)(*(int *)(param_1 + 0x44) + 0x110) == '\0') {
      for (uVar5 = 0; (uVar5 & 0xff) < 3; uVar5 = uVar5 + 1) {
        *(undefined *)(*(int *)((uVar5 & 0xff) * 4 + param_1 + 0x44) + 0x115) =
             PTR_DAT_800a59d8[0x19];
      }
    }
    else {
      uVar3 = 0;
      bVar1 = true;
      while (bVar1) {
        iVar4 = uVar3 * 4 + param_1;
        uVar5 = uVar5 + 1;
        FUN_80021dbc(BUF_PTR,*(undefined4 *)(*(int *)(iVar4 + 0x44) + 0x34));
        uVar3 = uVar5 & 0xff;
        FUN_80021d2c(BUF_PTR,*(undefined4 *)(iVar4 + 0x44));
        bVar1 = uVar3 < 3;
      }
      *(undefined *)(param_1 + 0xa6) = 0;
    }
  }
  if (*(char *)(param_1 + 0xa7) != '\0') {
    uVar5 = 0;
    if (*(char *)(*(int *)(param_1 + 0x50) + 0x110) == '\0') {
      for (uVar5 = 0; (uVar5 & 0xff) < 3; uVar5 = uVar5 + 1) {
        *(undefined *)(*(int *)((uVar5 & 0xff) * 4 + param_1 + 0x50) + 0x115) =
             PTR_DAT_800a59d8[0x1a];
      }
    }
    else {
      uVar3 = 0;
      bVar1 = true;
      while (bVar1) {
        iVar4 = uVar3 * 4 + param_1;
        uVar5 = uVar5 + 1;
        FUN_80021dbc(BUF_PTR,*(undefined4 *)(*(int *)(iVar4 + 0x50) + 0x34));
        uVar3 = uVar5 & 0xff;
        FUN_80021d2c(BUF_PTR,*(undefined4 *)(iVar4 + 0x50));
        bVar1 = uVar3 < 3;
      }
      *(undefined *)(param_1 + 0xa7) = 0;
    }
  }
  puVar2 = PTR_DAT_800a59d8;
  if (*(char *)(param_1 + 0xa8) != '\0') {
    if (*(char *)(*(int *)(param_1 + 0x5c) + 0x110) == '\0') {
      *(ushort *)(*(int *)(param_1 + 0x60) + 0x116) = (ushort)(byte)PTR_DAT_800a59d8[0x14];
      *(ushort *)(*(int *)(param_1 + 100) + 0x116) = (ushort)(byte)puVar2[0x14];
    }
    else {
      FUN_80021dbc(BUF_PTR,*(undefined4 *)(*(int *)(param_1 + 0x5c) + 0x34));
      FUN_80021dbc(BUF_PTR,*(undefined4 *)(*(int *)(param_1 + 0x60) + 0x34));
      FUN_80021dbc(BUF_PTR,*(undefined4 *)(*(int *)(param_1 + 100) + 0x34));
      FUN_80021d2c(BUF_PTR,*(undefined4 *)(param_1 + 0x5c));
      FUN_80021d2c(BUF_PTR,*(undefined4 *)(param_1 + 0x60));
      FUN_80021d2c(BUF_PTR,*(undefined4 *)(param_1 + 100));
      *(undefined *)(param_1 + 0xa8) = 0;
    }
  }
  puVar2 = PTR_DAT_800a59d8;
  if (*(char *)(param_1 + 0xa9) != '\0') {
    if (*(char *)(*(int *)(param_1 + 0x68) + 0x110) == '\0') {
      *(ushort *)(*(int *)(param_1 + 0x70) + 0x116) = (ushort)(byte)PTR_DAT_800a59d8[0x15];
      *(ushort *)(*(int *)(param_1 + 0x74) + 0x116) = (ushort)(byte)puVar2[0x15];
    }
    else {
      FUN_80021dbc(BUF_PTR,*(undefined4 *)(*(int *)(param_1 + 0x68) + 0x34));
      FUN_80021dbc(BUF_PTR,*(undefined4 *)(*(int *)(param_1 + 0x6c) + 0x34));
      FUN_80021dbc(BUF_PTR,*(undefined4 *)(*(int *)(param_1 + 0x70) + 0x34));
      FUN_80021dbc(BUF_PTR,*(undefined4 *)(*(int *)(param_1 + 0x74) + 0x34));
      FUN_80021d2c(BUF_PTR,*(undefined4 *)(param_1 + 0x68));
      FUN_80021d2c(BUF_PTR,*(undefined4 *)(param_1 + 0x6c));
      FUN_80021d2c(BUF_PTR,*(undefined4 *)(param_1 + 0x70));
      FUN_80021d2c(BUF_PTR,*(undefined4 *)(param_1 + 0x74));
      *(undefined *)(param_1 + 0xa9) = 0;
    }
  }
  puVar2 = PTR_DAT_800a59d8;
  if (*(char *)(param_1 + 0xaa) != '\0') {
    if (*(char *)(*(int *)(param_1 + 0x78) + 0x110) == '\0') {
      *(ushort *)(*(int *)(param_1 + 0x7c) + 0x116) = (ushort)(byte)PTR_DAT_800a59d8[0x16];
      *(ushort *)(*(int *)(param_1 + 0x80) + 0x116) = (ushort)(byte)puVar2[0x16];
    }
    else {
      FUN_80021dbc(BUF_PTR,*(undefined4 *)(*(int *)(param_1 + 0x78) + 0x34));
      FUN_80021dbc(BUF_PTR,*(undefined4 *)(*(int *)(param_1 + 0x7c) + 0x34));
      FUN_80021dbc(BUF_PTR,*(undefined4 *)(*(int *)(param_1 + 0x80) + 0x34));
      FUN_80021d2c(BUF_PTR,*(undefined4 *)(param_1 + 0x78));
      FUN_80021d2c(BUF_PTR,*(undefined4 *)(param_1 + 0x7c));
      FUN_80021d2c(BUF_PTR,*(undefined4 *)(param_1 + 0x80));
      *(undefined *)(param_1 + 0xaa) = 0;
    }
  }
  puVar2 = PTR_DAT_800a59d8;
  if (*(char *)(param_1 + 0xab) != '\0') {
    if (*(char *)(*(int *)(param_1 + 0x84) + 0x110) == '\0') {
      *(ushort *)(*(int *)(param_1 + 0x88) + 0x116) = (ushort)(byte)PTR_DAT_800a59d8[0x1c];
      *(ushort *)(*(int *)(param_1 + 0x8c) + 0x116) = (ushort)(byte)puVar2[0x1c];
    }
    else {
      FUN_80021dbc(BUF_PTR,*(undefined4 *)(*(int *)(param_1 + 0x84) + 0x34));
      FUN_80021dbc(BUF_PTR,*(undefined4 *)(*(int *)(param_1 + 0x88) + 0x34));
      FUN_80021dbc(BUF_PTR,*(undefined4 *)(*(int *)(param_1 + 0x8c) + 0x34));
      FUN_80021d2c(BUF_PTR,*(undefined4 *)(param_1 + 0x84));
      FUN_80021d2c(BUF_PTR,*(undefined4 *)(param_1 + 0x88));
      FUN_80021d2c(BUF_PTR,*(undefined4 *)(param_1 + 0x8c));
      *(undefined *)(param_1 + 0xab) = 0;
    }
  }
  return;
}



void FUN_8002b228(int param_1)

{
  undefined *puVar1;
  undefined4 *puVar2;
  undefined4 uVar3;
  undefined4 uVar4;
  int iVar5;
  byte bVar6;
  uint uVar7;
  
  FUN_800213a4(BUF_PTR,*(undefined4 *)(param_1 + 0x94));
  FUN_800213a4(BUF_PTR,*(undefined4 *)(param_1 + 0x98));
  FUN_800213a4(BUF_PTR,*(undefined4 *)(param_1 + 0x9c));
  *(undefined *)(param_1 + 0xa0) = 0;
  *(undefined *)(param_1 + 0xa1) = 0;
  iVar5 = *(int *)(*(int *)(param_1 + 0x98) + 0x34);
  *(undefined *)(iVar5 + 0x34) = 0x80;
  *(undefined *)(iVar5 + 0x35) = 0x80;
  *(undefined *)(iVar5 + 0x36) = 0x80;
  iVar5 = *(int *)(*(int *)(param_1 + 0x9c) + 0x34);
  *(undefined *)(iVar5 + 0x34) = 0x40;
  *(undefined *)(iVar5 + 0x35) = 0x40;
  *(undefined *)(iVar5 + 0x36) = 0x40;
  puVar2 = *(undefined4 **)(param_1 + 0x94);
  *puVar2 = 0xffff0000;
  puVar2[1] = &LAB_80026c4c;
  puVar2[0x14] = 0;
  puVar2[0x15] = 0;
  *(undefined *)(puVar2 + 0x40) = 0x14;
  puVar2 = *(undefined4 **)(param_1 + 0x98);
  *puVar2 = 0xffff0000;
  puVar2[1] = &LAB_80026c4c;
  puVar2[0x14] = 0;
  puVar2[0x15] = 0;
  *(undefined *)(puVar2 + 0x40) = 0x14;
  puVar2 = *(undefined4 **)(param_1 + 0x9c);
  *puVar2 = 0xffff0000;
  puVar2[1] = &LAB_80026c4c;
  puVar2[0x14] = 0;
  puVar2[0x15] = 0;
  *(undefined *)(puVar2 + 0x40) = 0x14;
  *(undefined *)(param_1 + 0xa2) = 1;
  iVar5 = FUN_800143ec(PTR_DAT_800a59b0,0x24,1,0);
  FUN_80019744(iVar5,0x44c);
  puVar1 = PTR_DAT_800a59b0;
  *(undefined **)(iVar5 + 0x18) = &DAT_8001052c;
  uVar3 = FUN_800143ec(puVar1,0x44,1,0);
  uVar4 = FUN_80034890(uVar3,0x20,0x20,0x20,2,9000);
  uVar3 = BUF_PTR;
  *(undefined4 *)(iVar5 + 0x1c) = uVar4;
  FUN_80021078(uVar3);
  *(undefined *)(iVar5 + 0x20) = 0;
  uVar3 = BUF_PTR;
  *(int *)(param_1 + 0x90) = iVar5;
  FUN_80020f64(uVar3);
  if (*(char *)(param_1 + 0xa3) == '\0') {
    FUN_800213a4(BUF_PTR,*(undefined4 *)(param_1 + 0x20));
    FUN_800213a4(BUF_PTR,*(undefined4 *)(param_1 + 0x24));
    FUN_800213a4(BUF_PTR,*(undefined4 *)(param_1 + 0x28));
    puVar1 = PTR_DAT_800a59d8;
    *(ushort *)(*(int *)(param_1 + 0x24) + 0x114) = (ushort)(byte)PTR_DAT_800a59d8[0x12];
    *(ushort *)(*(int *)(param_1 + 0x28) + 0x114) = (ushort)(byte)puVar1[0x12];
    *(undefined *)(param_1 + 0xa3) = 1;
  }
  else {
    FUN_80020f64(BUF_PTR,*(undefined4 *)(param_1 + 0x20));
    FUN_80020f64(BUF_PTR,*(undefined4 *)(param_1 + 0x24));
    FUN_80020f64(BUF_PTR,*(undefined4 *)(param_1 + 0x28));
  }
  if (*(char *)(param_1 + 0xa4) == '\0') {
    FUN_800213a4(BUF_PTR,*(undefined4 *)(param_1 + 0x2c));
    FUN_800213a4(BUF_PTR,*(undefined4 *)(param_1 + 0x30));
    FUN_800213a4(BUF_PTR,*(undefined4 *)(param_1 + 0x34));
    puVar1 = PTR_DAT_800a59d8;
    *(ushort *)(*(int *)(param_1 + 0x30) + 0x114) = (ushort)(byte)PTR_DAT_800a59d8[0x11];
    *(ushort *)(*(int *)(param_1 + 0x34) + 0x114) = (ushort)(byte)puVar1[0x11];
    *(undefined *)(param_1 + 0xa4) = 1;
  }
  else {
    FUN_80020f64(BUF_PTR,*(undefined4 *)(param_1 + 0x2c));
    FUN_80020f64(BUF_PTR,*(undefined4 *)(param_1 + 0x30));
    FUN_80020f64(BUF_PTR,*(undefined4 *)(param_1 + 0x34));
  }
  if (*(char *)(param_1 + 0xa5) == '\0') {
    FUN_800213a4(BUF_PTR,*(undefined4 *)(param_1 + 0x38));
    FUN_800213a4(BUF_PTR,*(undefined4 *)(param_1 + 0x3c));
    FUN_800213a4(BUF_PTR,*(undefined4 *)(param_1 + 0x40));
    puVar1 = PTR_DAT_800a59d8;
    *(ushort *)(*(int *)(param_1 + 0x3c) + 0x114) = (ushort)(byte)PTR_DAT_800a59d8[0x13];
    *(ushort *)(*(int *)(param_1 + 0x40) + 0x114) = (ushort)(byte)puVar1[0x13];
    *(undefined *)(param_1 + 0xa5) = 1;
  }
  else {
    FUN_80020f64(BUF_PTR,*(undefined4 *)(param_1 + 0x38));
    FUN_80020f64(BUF_PTR,*(undefined4 *)(param_1 + 0x3c));
    FUN_80020f64(BUF_PTR,*(undefined4 *)(param_1 + 0x40));
  }
  bVar6 = 0;
  if (*(char *)(param_1 + 0xa6) == '\0') {
    for (uVar7 = 0; (uVar7 & 0xff) < 3; uVar7 = uVar7 + 1) {
      iVar5 = (uVar7 & 0xff) * 4 + param_1;
      FUN_800213a4(BUF_PTR,*(undefined4 *)(iVar5 + 0x44));
      *(undefined *)(*(int *)(iVar5 + 0x44) + 0x114) = PTR_DAT_800a59d8[0x19];
    }
    *(undefined *)(param_1 + 0xa6) = 1;
  }
  else {
    uVar7 = 0;
    do {
      bVar6 = bVar6 + 1;
      FUN_80020f64(BUF_PTR,*(undefined4 *)(uVar7 * 4 + param_1 + 0x44));
      uVar7 = (uint)bVar6;
    } while (bVar6 < 3);
  }
  bVar6 = 0;
  if (*(char *)(param_1 + 0xa7) == '\0') {
    for (uVar7 = 0; (uVar7 & 0xff) < 3; uVar7 = uVar7 + 1) {
      iVar5 = (uVar7 & 0xff) * 4 + param_1;
      FUN_800213a4(BUF_PTR,*(undefined4 *)(iVar5 + 0x50));
      *(undefined *)(*(int *)(iVar5 + 0x50) + 0x114) = PTR_DAT_800a59d8[0x1a];
    }
    *(undefined *)(param_1 + 0xa7) = 1;
  }
  else {
    uVar7 = 0;
    do {
      bVar6 = bVar6 + 1;
      FUN_80020f64(BUF_PTR,*(undefined4 *)(uVar7 * 4 + param_1 + 0x50));
      uVar7 = (uint)bVar6;
    } while (bVar6 < 3);
  }
  if (*(char *)(param_1 + 0xa8) == '\0') {
    FUN_800213a4(BUF_PTR,*(undefined4 *)(param_1 + 0x5c));
    FUN_800213a4(BUF_PTR,*(undefined4 *)(param_1 + 0x60));
    FUN_800213a4(BUF_PTR,*(undefined4 *)(param_1 + 100));
    puVar1 = PTR_DAT_800a59d8;
    *(ushort *)(*(int *)(param_1 + 0x60) + 0x114) = (ushort)(byte)PTR_DAT_800a59d8[0x14];
    *(ushort *)(*(int *)(param_1 + 100) + 0x114) = (ushort)(byte)puVar1[0x14];
    *(undefined *)(param_1 + 0xa8) = 1;
  }
  else {
    FUN_80020f64(BUF_PTR,*(undefined4 *)(param_1 + 0x5c));
    FUN_80020f64(BUF_PTR,*(undefined4 *)(param_1 + 0x60));
    FUN_80020f64(BUF_PTR,*(undefined4 *)(param_1 + 100));
  }
  if (*(char *)(param_1 + 0xa9) == '\0') {
    FUN_800213a4(BUF_PTR,*(undefined4 *)(param_1 + 0x68));
    FUN_800213a4(BUF_PTR,*(undefined4 *)(param_1 + 0x6c));
    FUN_800213a4(BUF_PTR,*(undefined4 *)(param_1 + 0x70));
    FUN_800213a4(BUF_PTR,*(undefined4 *)(param_1 + 0x74));
    puVar1 = PTR_DAT_800a59d8;
    *(ushort *)(*(int *)(param_1 + 0x70) + 0x114) = (ushort)(byte)PTR_DAT_800a59d8[0x15];
    *(ushort *)(*(int *)(param_1 + 0x74) + 0x114) = (ushort)(byte)puVar1[0x15];
    *(undefined *)(param_1 + 0xa9) = 1;
  }
  else {
    FUN_80020f64(BUF_PTR,*(undefined4 *)(param_1 + 0x68));
    FUN_80020f64(BUF_PTR,*(undefined4 *)(param_1 + 0x6c));
    FUN_80020f64(BUF_PTR,*(undefined4 *)(param_1 + 0x70));
    FUN_80020f64(BUF_PTR,*(undefined4 *)(param_1 + 0x74));
  }
  if (*(char *)(param_1 + 0xaa) == '\0') {
    FUN_800213a4(BUF_PTR,*(undefined4 *)(param_1 + 0x78));
    FUN_800213a4(BUF_PTR,*(undefined4 *)(param_1 + 0x7c));
    FUN_800213a4(BUF_PTR,*(undefined4 *)(param_1 + 0x80));
    puVar1 = PTR_DAT_800a59d8;
    *(ushort *)(*(int *)(param_1 + 0x7c) + 0x114) = (ushort)(byte)PTR_DAT_800a59d8[0x16];
    *(ushort *)(*(int *)(param_1 + 0x80) + 0x114) = (ushort)(byte)puVar1[0x16];
    *(undefined *)(param_1 + 0xaa) = 1;
  }
  else {
    FUN_80020f64(BUF_PTR,*(undefined4 *)(param_1 + 0x78));
    FUN_80020f64(BUF_PTR,*(undefined4 *)(param_1 + 0x7c));
    FUN_80020f64(BUF_PTR,*(undefined4 *)(param_1 + 0x80));
  }
  if (*(char *)(param_1 + 0xab) == '\0') {
    FUN_800213a4(BUF_PTR,*(undefined4 *)(param_1 + 0x84));
    FUN_800213a4(BUF_PTR,*(undefined4 *)(param_1 + 0x88));
    FUN_800213a4(BUF_PTR,*(undefined4 *)(param_1 + 0x8c));
    puVar1 = PTR_DAT_800a59d8;
    *(ushort *)(*(int *)(param_1 + 0x88) + 0x114) = (ushort)(byte)PTR_DAT_800a59d8[0x1c];
    *(ushort *)(*(int *)(param_1 + 0x8c) + 0x114) = (ushort)(byte)puVar1[0x1c];
    *(undefined *)(param_1 + 0xab) = 1;
  }
  else {
    FUN_80020f64(BUF_PTR,*(undefined4 *)(param_1 + 0x84));
    FUN_80020f64(BUF_PTR,*(undefined4 *)(param_1 + 0x88));
    FUN_80020f64(BUF_PTR,*(undefined4 *)(param_1 + 0x8c));
  }
  *(undefined *)(*(int *)(param_1 + 0x20) + 0x111) = 1;
  *(undefined *)(*(int *)(param_1 + 0x24) + 0x111) = 1;
  *(undefined *)(*(int *)(param_1 + 0x28) + 0x111) = 1;
  *(undefined *)(*(int *)(param_1 + 0x2c) + 0x111) = 1;
  *(undefined *)(*(int *)(param_1 + 0x30) + 0x111) = 1;
  *(undefined *)(*(int *)(param_1 + 0x34) + 0x111) = 1;
  *(undefined *)(*(int *)(param_1 + 0x38) + 0x111) = 1;
  *(undefined *)(*(int *)(param_1 + 0x3c) + 0x111) = 1;
  *(undefined *)(*(int *)(param_1 + 0x40) + 0x111) = 1;
  for (uVar7 = 0; (uVar7 & 0xff) < 3; uVar7 = uVar7 + 1) {
    iVar5 = (uVar7 & 0xff) * 4 + param_1;
    *(undefined *)(*(int *)(iVar5 + 0x44) + 0x111) = 1;
    *(undefined *)(*(int *)(iVar5 + 0x50) + 0x111) = 1;
  }
  *(undefined *)(*(int *)(param_1 + 0x5c) + 0x111) = 1;
  *(undefined *)(*(int *)(param_1 + 0x60) + 0x111) = 1;
  *(undefined *)(*(int *)(param_1 + 100) + 0x111) = 1;
  *(undefined *)(*(int *)(param_1 + 0x68) + 0x111) = 1;
  *(undefined *)(*(int *)(param_1 + 0x6c) + 0x111) = 1;
  *(undefined *)(*(int *)(param_1 + 0x70) + 0x111) = 1;
  *(undefined *)(*(int *)(param_1 + 0x74) + 0x111) = 1;
  *(undefined *)(*(int *)(param_1 + 0x78) + 0x111) = 1;
  *(undefined *)(*(int *)(param_1 + 0x7c) + 0x111) = 1;
  *(undefined *)(*(int *)(param_1 + 0x80) + 0x111) = 1;
  *(undefined *)(*(int *)(param_1 + 0x84) + 0x111) = 1;
  *(undefined *)(*(int *)(param_1 + 0x88) + 0x111) = 1;
  *(undefined *)(*(int *)(param_1 + 0x8c) + 0x111) = 1;
  *(undefined *)(param_1 + 0xac) = 1;
  return;
}



void FUN_8002bb90(int param_1)

{
  undefined4 *puVar1;
  int iVar2;
  int iVar3;
  uint uVar4;
  
  iVar2 = *(int *)(param_1 + 0x90);
  *(undefined *)(iVar2 + 0x20) = 1;
  *(undefined *)(*(int *)(iVar2 + 0x1c) + 10) = 0;
  puVar1 = *(undefined4 **)(param_1 + 0x94);
  *puVar1 = 0xffff0000;
  puVar1[1] = &LAB_80026cd4;
  puVar1[0x14] = 0x10000;
  puVar1[0x15] = 0x10000;
  *(undefined *)(puVar1 + 0x40) = 0x14;
  puVar1 = *(undefined4 **)(param_1 + 0x98);
  *puVar1 = 0xffff0000;
  puVar1[1] = &LAB_80026cd4;
  puVar1[0x14] = 0x10000;
  puVar1[0x15] = 0x10000;
  *(undefined *)(puVar1 + 0x40) = 0x14;
  puVar1 = *(undefined4 **)(param_1 + 0x9c);
  *puVar1 = 0xffff0000;
  puVar1[1] = &LAB_80026cd4;
  puVar1[0x14] = 0x10000;
  puVar1[0x15] = 0x10000;
  *(undefined *)(puVar1 + 0x40) = 0x14;
  iVar2 = *(int *)(param_1 + 0x20);
  *(undefined *)(iVar2 + 0x111) = 0;
  *(undefined2 *)(iVar2 + 0x10c) = 0;
  iVar2 = *(int *)(param_1 + 0x24);
  *(undefined *)(iVar2 + 0x111) = 0;
  *(undefined2 *)(iVar2 + 0x10c) = 0;
  iVar2 = *(int *)(param_1 + 0x28);
  *(undefined *)(iVar2 + 0x111) = 0;
  *(undefined2 *)(iVar2 + 0x10c) = 0;
  iVar2 = *(int *)(param_1 + 0x2c);
  *(undefined *)(iVar2 + 0x111) = 0;
  *(undefined2 *)(iVar2 + 0x10c) = 0;
  iVar2 = *(int *)(param_1 + 0x30);
  *(undefined *)(iVar2 + 0x111) = 0;
  *(undefined2 *)(iVar2 + 0x10c) = 0;
  iVar2 = *(int *)(param_1 + 0x34);
  *(undefined *)(iVar2 + 0x111) = 0;
  *(undefined2 *)(iVar2 + 0x10c) = 0;
  iVar2 = *(int *)(param_1 + 0x38);
  *(undefined *)(iVar2 + 0x111) = 0;
  *(undefined2 *)(iVar2 + 0x10c) = 0;
  iVar2 = *(int *)(param_1 + 0x3c);
  *(undefined *)(iVar2 + 0x111) = 0;
  *(undefined2 *)(iVar2 + 0x10c) = 0;
  iVar2 = *(int *)(param_1 + 0x40);
  uVar4 = 0;
  while( true ) {
    *(undefined *)(iVar2 + 0x111) = 0;
    *(undefined2 *)(iVar2 + 0x10c) = 0;
    if (2 < (uVar4 & 0xff)) break;
    iVar2 = (uVar4 & 0xff) * 4 + param_1;
    iVar3 = *(int *)(iVar2 + 0x44);
    *(undefined *)(iVar3 + 0x111) = 0;
    *(undefined2 *)(iVar3 + 0x10c) = 0;
    iVar2 = *(int *)(iVar2 + 0x50);
    uVar4 = uVar4 + 1;
  }
  iVar2 = *(int *)(param_1 + 0x5c);
  *(undefined *)(iVar2 + 0x111) = 0;
  *(undefined2 *)(iVar2 + 0x10c) = 0;
  iVar2 = *(int *)(param_1 + 0x60);
  *(undefined *)(iVar2 + 0x111) = 0;
  *(undefined2 *)(iVar2 + 0x10c) = 0;
  iVar2 = *(int *)(param_1 + 100);
  *(undefined *)(iVar2 + 0x111) = 0;
  *(undefined2 *)(iVar2 + 0x10c) = 0;
  iVar2 = *(int *)(param_1 + 0x68);
  *(undefined *)(iVar2 + 0x111) = 0;
  *(undefined2 *)(iVar2 + 0x10c) = 0;
  iVar2 = *(int *)(param_1 + 0x6c);
  *(undefined *)(iVar2 + 0x111) = 0;
  *(undefined2 *)(iVar2 + 0x10c) = 0;
  iVar2 = *(int *)(param_1 + 0x70);
  *(undefined *)(iVar2 + 0x111) = 0;
  *(undefined2 *)(iVar2 + 0x10c) = 0;
  iVar2 = *(int *)(param_1 + 0x74);
  *(undefined *)(iVar2 + 0x111) = 0;
  *(undefined2 *)(iVar2 + 0x10c) = 0;
  iVar2 = *(int *)(param_1 + 0x78);
  *(undefined *)(iVar2 + 0x111) = 0;
  *(undefined2 *)(iVar2 + 0x10c) = 0;
  iVar2 = *(int *)(param_1 + 0x7c);
  *(undefined *)(iVar2 + 0x111) = 0;
  *(undefined2 *)(iVar2 + 0x10c) = 0;
  iVar2 = *(int *)(param_1 + 0x80);
  *(undefined *)(iVar2 + 0x111) = 0;
  *(undefined2 *)(iVar2 + 0x10c) = 0;
  iVar2 = *(int *)(param_1 + 0x84);
  *(undefined *)(iVar2 + 0x111) = 0;
  *(undefined2 *)(iVar2 + 0x10c) = 0;
  iVar2 = *(int *)(param_1 + 0x88);
  *(undefined *)(iVar2 + 0x111) = 0;
  *(undefined2 *)(iVar2 + 0x10c) = 0;
  iVar2 = *(int *)(param_1 + 0x8c);
  *(undefined *)(iVar2 + 0x111) = 0;
  *(undefined2 *)(iVar2 + 0x10c) = 0;
  *(undefined *)(param_1 + 0xac) = 0;
  return;
}



void FUN_8002bde4(int param_1)

{
  uint uVar1;
  int iVar2;
  
  FUN_8007c348(0x646c2cc0,0xa0,1);
  uVar1 = *(byte *)(param_1 + 0xa0) + 1 & 1;
  *(char *)(param_1 + 0xa0) = (char)uVar1;
  iVar2 = *(int *)(*(int *)(uVar1 * 4 + param_1 + 0x98) + 0x34);
  *(undefined *)(iVar2 + 0x34) = 0x80;
  *(undefined *)(iVar2 + 0x35) = 0x80;
  *(undefined *)(iVar2 + 0x36) = 0x80;
  iVar2 = *(int *)(*(int *)((*(byte *)(param_1 + 0xa0) + 1 & 1) * 4 + param_1 + 0x98) + 0x34);
  *(undefined *)(iVar2 + 0x34) = 0x40;
  *(undefined *)(iVar2 + 0x35) = 0x40;
  *(undefined *)(iVar2 + 0x36) = 0x40;
  return;
}



undefined4 FUN_8002be88(int param_1)

{
  undefined uVar1;
  int iVar2;
  
  FUN_8007c348(0x90810000,0xa0,1);
  if (*(char *)(param_1 + 0xa1) == '\0') {
    if (*(char *)(param_1 + 0xa0) == '\0') {
      return 1;
    }
    *(undefined *)(param_1 + 0xa1) = 1;
    *(undefined *)(param_1 + 0xa0) = 1;
    FUN_8001d07c(*(undefined4 *)(param_1 + 0x94),0x69c8f473,1);
    FUN_8001d07c(*(undefined4 *)(param_1 + 0x98),0x2ad0f011,1);
    FUN_8001d07c(*(undefined4 *)(param_1 + 0x9c),0x29c0e211,1);
    iVar2 = *(int *)(*(int *)(param_1 + 0x98) + 0x34);
    *(undefined *)(iVar2 + 0x34) = 0x40;
    *(undefined *)(iVar2 + 0x35) = 0x40;
    *(undefined *)(iVar2 + 0x36) = 0x40;
    iVar2 = *(int *)(*(int *)(param_1 + 0x9c) + 0x34);
    uVar1 = 0x80;
  }
  else {
    if (*(char *)(param_1 + 0xa0) == '\0') {
      return 2;
    }
    *(undefined *)(param_1 + 0xa1) = 0;
    *(undefined *)(param_1 + 0xa0) = 0;
    FUN_8001d07c(*(undefined4 *)(param_1 + 0x94),0xad0f813,1);
    FUN_8001d07c(*(undefined4 *)(param_1 + 0x98),0x69c04050,1);
    FUN_8001d07c(*(undefined4 *)(param_1 + 0x9c),0x68c0f413,1);
    iVar2 = *(int *)(*(int *)(param_1 + 0x98) + 0x34);
    *(undefined *)(iVar2 + 0x34) = 0x80;
    *(undefined *)(iVar2 + 0x35) = 0x80;
    *(undefined *)(iVar2 + 0x36) = 0x80;
    iVar2 = *(int *)(*(int *)(param_1 + 0x9c) + 0x34);
    uVar1 = 0x40;
  }
  *(undefined *)(iVar2 + 0x34) = uVar1;
  *(undefined *)(iVar2 + 0x35) = uVar1;
  *(undefined *)(iVar2 + 0x36) = uVar1;
  return 0;
}



void FUN_80030d08(undefined4 *param_1,undefined4 param_2,undefined4 param_3,undefined param_4,
                 int param_5,short param_6,undefined param_7)

{
  short local_res8;
  short sStackX_a;
  
  local_res8 = (short)param_3;
  sStackX_a = (short)((uint)param_3 >> 0x10);
  FUN_8001c71c(param_1,param_2,(int)param_6,(int)local_res8,(int)sStackX_a,param_7);
  param_1[6] = &DAT_80010ba8;
  *(undefined2 *)(param_1 + 4) = 0x4b0;
  *param_1 = 0xffff0000;
  param_1[1] = FUN_80030e50;
  param_1[2] = 0xffff0000;
  param_1[3] = &LAB_80030fdc;
  FUN_8001d23c(param_1,0);
  *(undefined *)(param_1 + 0x1d) = param_4;
  if (param_5 != 0x10000) {
    param_1[0x16] = param_5;
    param_1[0x17] = param_5;
    param_1[0x14] = param_5;
    param_1[0x15] = param_5;
    param_1[9] = 0xffff0000;
    param_1[10] = &LAB_8001a268;
    param_1[0xb] = 0xffff0000;
    param_1[0xc] = &LAB_8001a298;
  }
  *(undefined *)((int)param_1 + 0x102) = 0;
  *(undefined2 *)(param_1 + 0x40) = 0;
  param_1[0x41] = 0;
  return;
}



void FUN_80030e50(int param_1)

{
  short sVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  short unaff_s2;
  code *pcVar5;
  short unaff_s4;
  
  FUN_8001cb84();
  sVar1 = *(short *)(param_1 + 0x100);
  if ((sVar1 != 0) && (*(short *)(param_1 + 0x100) = sVar1 + -1, sVar1 == 1)) {
    *(undefined *)(param_1 + 0x102) = 1;
  }
  if (*(char *)(param_1 + 0x102) != '\0') {
    iVar2 = *(int *)(param_1 + 0x104);
    if ((iVar2 != 0) && (iVar4 = (int)*(short *)(iVar2 + 10), iVar4 != 0)) {
      if (iVar4 < 1) {
        pcVar5 = *(code **)(iVar2 + 0xc);
      }
      else {
        iVar3 = iVar4 * 8 + *(int *)(iVar2 + *(short *)(iVar2 + 0xc));
        unaff_s2 = (short)*(undefined4 *)(iVar3 + -8);
        pcVar5 = *(code **)(iVar3 + -4);
      }
      iVar3 = (int)*(short *)(iVar2 + 8);
      if (0 < iVar4 << 0x10) {
        iVar3 = unaff_s2 + iVar3;
      }
      (*pcVar5)(iVar2 + iVar3,0x1009,0,param_1);
    }
    iVar2 = (int)*(short *)(BUF_PTR + 10);
    if (iVar2 != 0) {
      if (iVar2 < 1) {
        pcVar5 = *(code **)(BUF_PTR + 0xc);
      }
      else {
        iVar4 = iVar2 * 8 + *(int *)(BUF_PTR + *(short *)(BUF_PTR + 0xc));
        unaff_s4 = (short)*(undefined4 *)(iVar4 + -8);
        pcVar5 = *(code **)(iVar4 + -4);
      }
      iVar4 = (int)*(short *)(BUF_PTR + 8);
      if (0 < iVar2 << 0x10) {
        iVar4 = unaff_s4 + iVar4;
      }
      (*pcVar5)(BUF_PTR + iVar4,3,0,param_1);
    }
  }
  return;
}



void FUN_800313c8(undefined4 *param_1)

{
  undefined2 uVar1;
  undefined2 uVar2;
  undefined *puVar3;
  undefined2 *puVar4;
  
  FUN_80019744(param_1,0);
  puVar3 = PTR_DAT_800a59b0;
  param_1[6] = &DAT_80010b78;
  puVar4 = (undefined2 *)FUN_800143ec(puVar3,0x1c,1,0);
  FUN_80015438(puVar4,0xffff8ad0);
  puVar3 = PTR_DAT_800a59b0;
  *(undefined **)(puVar4 + 6) = &DAT_80010b98;
  uVar1 = *(undefined2 *)puVar3;
  uVar2 = *(undefined2 *)(puVar3 + 2);
  *(undefined *)((int)puVar4 + 0x11) = 1;
  *(undefined *)((int)puVar4 + 0x13) = 100;
  *(undefined *)(puVar4 + 8) = 0x14;
  *(undefined *)(puVar4 + 9) = 0x14;
  puVar4[10] = 0x15;
  *(undefined *)((int)puVar4 + 0x17) = 0xf;
  *(undefined *)(puVar4 + 0xc) = 0xde;
  *(undefined *)((int)puVar4 + 0x19) = 0xde;
  *puVar4 = 0;
  puVar4[1] = 0;
  *(undefined *)(puVar4 + 0xb) = 10;
  puVar4[2] = uVar1;
  puVar4[3] = uVar2;
  param_1[7] = puVar4;
  *param_1 = 0xffff0000;
  param_1[1] = &LAB_80031584;
  *(undefined *)(param_1 + 8) = 10;
  *(undefined *)((int)param_1 + 0x21) = 10;
  *(undefined *)(param_1 + 9) = 0;
  *(undefined *)((int)param_1 + 0x25) = 0;
  *(undefined2 *)((int)param_1 + 0x26) = 0;
  *(undefined *)((int)param_1 + 0x22) = *(undefined *)(param_1 + 8);
  *(undefined *)((int)param_1 + 0x23) = *(undefined *)((int)param_1 + 0x21);
  *(undefined2 *)(param_1 + 10) = 0;
  *(undefined2 *)((int)param_1 + 0x2a) = 0xde;
  *(undefined2 *)(param_1 + 0xb) = 0xf;
  return;
}



int FUN_80032868(int param_1,char param_2)

{
  int iVar1;
  undefined4 uVar2;
  
  FUN_80015438(param_1,999);
  *(undefined *)(param_1 + 0x1e0) = 2;
  iVar1 = BUF_PTR;
  *(undefined **)(param_1 + 0xc) = &DAT_80010b18;
  uVar2 = *(undefined4 *)(iVar1 + 0x10c);
  *(undefined *)(param_1 + 0x1e7) = 0;
  *(char *)(param_1 + 0x1e6) = (char)uVar2;
  if (param_2 == '\0') {
    *(undefined *)(param_1 + 0x1e1) = 0x20;
    *(undefined *)(param_1 + 0x1e3) = 8;
    *(undefined *)(param_1 + 0x1e2) = 0x10;
    *(undefined *)(param_1 + 0x1e4) = 4;
    *(undefined *)(param_1 + 0x1e5) = 5;
  }
  else {
    *(undefined *)(param_1 + 0x1e1) = 0x10;
    *(undefined *)(param_1 + 0x1e3) = 4;
    *(undefined *)(param_1 + 0x1e2) = 0x10;
    *(undefined *)(param_1 + 0x1e4) = 4;
    *(undefined *)(param_1 + 0x1e5) = 0;
  }
  return param_1;
}



void FUN_80033d38(undefined4 *param_1,undefined4 param_2)

{
  undefined uVar1;
  undefined uVar2;
  undefined4 uVar3;
  int iVar4;
  
  FUN_8001c6c4(param_1,0x44c);
  param_1[6] = &DAT_80010ab8;
  param_1[0x41] = 0;
  param_1[0x40] = param_2;
  *param_1 = 0xffff0000;
  param_1[1] = &LAB_80034338;
  FUN_80033ef0(param_1);
  *(undefined2 *)(param_1 + 0x1a) = *(undefined2 *)(param_1[0x40] + 0x10);
  *(undefined2 *)((int)param_1 + 0x6a) = *(undefined2 *)(param_1[0x40] + 0x12);
  FUN_8001d07c(param_1,*(undefined4 *)(&DAT_8009b1a0 + *(int *)param_1[0x40] * 4),1);
  iVar4 = param_1[0xd];
  if (iVar4 != 0) {
    uVar1 = *(undefined *)(BUF_PTR + 0x125);
    uVar2 = *(undefined *)(BUF_PTR + 0x126);
    *(undefined *)(iVar4 + 0x34) = *(undefined *)(BUF_PTR + 0x124);
    *(undefined *)(iVar4 + 0x35) = uVar1;
    *(undefined *)(iVar4 + 0x36) = uVar2;
    *(undefined *)(param_1[0xd] + 0x33) = 1;
  }
  param_1[0x18] = *(undefined4 *)(param_1[0x40] + 0x14);
  uVar3 = *(undefined4 *)(param_1[0x40] + 0x18);
  *(undefined *)((int)param_1 + 0x109) = 0;
  param_1[0x19] = uVar3;
  return;
}



void FUN_80033ef0(int param_1)

{
  undefined *puVar1;
  ushort uVar2;
  uint uVar3;
  undefined *puVar4;
  int iVar5;
  int iVar6;
  undefined4 uVar7;
  int iVar8;
  uint uVar9;
  ushort uVar10;
  int iVar11;
  uint uVar12;
  uint uVar13;
  int *local_48 [3];
  uint uStack_3c;
  undefined local_30 [8];
  
  FUN_8007bbac(local_48,*(undefined4 *)(&DAT_8009b1a0 + **(int **)(param_1 + 0x100) * 4));
  puVar1 = local_30 + 3;
  uVar3 = (uint)puVar1 & 3;
  *(uint *)(puVar1 + -uVar3) =
       *(uint *)(puVar1 + -uVar3) & -1 << (uVar3 + 1) * 8 | uStack_3c >> (3 - uVar3) * 8;
  local_30._0_4_ = uStack_3c;
  uVar3 = local_30._0_4_;
  local_30._0_2_ = (undefined2)uStack_3c;
  uVar10 = local_30._0_2_ + 3 & 0xfffc;
  local_30._0_4_ = uVar3;
  if ((*local_48[0] == 0x180104) || (*local_48[0] == 0x1498810c)) {
    iVar5 = FUN_800143ec(PTR_DAT_800a59b0,0x60,1,0);
    iVar11 = (int)(short)uVar10;
    iVar6 = *(int *)(param_1 + 0x100);
    uVar2 = *(ushort *)(iVar6 + 0x1c);
    uVar9 = *(uint *)(iVar6 + 0x38);
    puVar1 = local_30 + 3;
    uVar3 = (uint)puVar1 & 3;
    *(uint *)(puVar1 + -uVar3) =
         *(uint *)(puVar1 + -uVar3) & -1 << (uVar3 + 1) * 8 | uStack_3c >> (3 - uVar3) * 8;
    local_30._0_4_ = uStack_3c;
    uVar3 = local_30._0_4_;
    uVar12 = *(uint *)(iVar6 + 4);
    uVar13 = *(uint *)(iVar6 + 0x20);
    local_30._2_2_ = (undefined2)(uStack_3c >> 0x10);
    iVar8 = (int)(short)local_30._2_2_;
    local_30._0_4_ = uVar3;
    FUN_80015468(iVar5,(int)((*(ushort *)(iVar6 + 0x1c) + 1) * 0x10000) >> 0x10,iVar11,iVar8,1);
    *(bool *)(iVar5 + 0x5b) = uVar9 < uVar2;
    uVar7 = BUF_PTR;
    *(undefined **)(iVar5 + 0xc) = &DAT_80010b00;
    FUN_800255c4(uVar7,uVar12 & 0xffff,iVar5 + 0x54,iVar5 + 0x58);
    FUN_800255c4(BUF_PTR,uVar13 & 0xffff,iVar5 + 0x4c,iVar5 + 0x50);
    iVar6 = *(short *)(iVar5 + 0x58) + -1;
    if (iVar6 == 0) {
      trap(0x1c00);
    }
    if ((iVar6 == -1) && (iVar11 == -0x80000000)) {
      trap(0x1800);
    }
    *(char *)(iVar5 + 0x5a) = (char)(iVar11 / iVar6);
    uVar7 = FUN_800143ec(PTR_DAT_800a59b0,0x34,*(short *)(iVar5 + 0x58) + -1,0);
    puVar1 = PTR_DAT_800a59b0;
    *(undefined4 *)(iVar5 + 0x3c) = uVar7;
    uVar7 = FUN_800143ec(puVar1,0x34,*(short *)(iVar5 + 0x58) + -1,0);
    puVar1 = PTR_DAT_800a59b0;
    *(undefined4 *)(iVar5 + 0x40) = uVar7;
    uVar7 = FUN_800143ec(puVar1,2,*(short *)(iVar5 + 0x58) + -1,0);
    *(undefined4 *)(iVar5 + 0x48) = uVar7;
    *(undefined *)(iVar5 + 0x5c) = 1;
    *(undefined *)(iVar5 + 0x5d) = 0;
    *(int *)(param_1 + 0x34) = iVar5;
    *(bool *)(iVar5 + 0x5d) = *local_48[0] == 0x1498810c;
    iVar5 = FUN_800143ec(PTR_DAT_800a59b0,0x10,1,0);
    FUN_80015438(iVar5,(int)((*(ushort *)(*(int *)(param_1 + 0x100) + 0x1c) - 1) * 0x10000) >> 0x10)
    ;
    uVar7 = BUF_PTR;
    *(undefined **)(iVar5 + 0xc) = &DAT_80010ad8;
    *(int *)(param_1 + 0x104) = iVar5;
    FUN_80021078(uVar7);
    *(undefined *)(param_1 + 0x108) = 1;
  }
  else {
    iVar5 = FUN_800143ec(PTR_DAT_800a59b0,0x5c,1,0);
    iVar11 = (int)(short)uVar10;
    iVar6 = *(int *)(param_1 + 0x100);
    uVar2 = *(ushort *)(iVar6 + 0x1c);
    uVar9 = *(uint *)(iVar6 + 0x38);
    puVar1 = local_30 + 3;
    uVar3 = (uint)puVar1 & 3;
    *(uint *)(puVar1 + -uVar3) =
         *(uint *)(puVar1 + -uVar3) & -1 << (uVar3 + 1) * 8 | uStack_3c >> (3 - uVar3) * 8;
    local_30._0_4_ = uStack_3c;
    uVar3 = local_30._0_4_;
    uVar12 = *(uint *)(iVar6 + 4);
    uVar13 = *(uint *)(iVar6 + 0x20);
    local_30._2_2_ = (undefined2)(uStack_3c >> 0x10);
    iVar8 = (int)(short)local_30._2_2_;
    local_30._0_4_ = uVar3;
    FUN_80015468(iVar5,(int)((*(ushort *)(iVar6 + 0x1c) + 2) * 0x10000) >> 0x10,iVar11,iVar8,1);
    *(bool *)(iVar5 + 0x57) = uVar9 < uVar2;
    uVar7 = BUF_PTR;
    *(undefined **)(iVar5 + 0xc) = &DAT_80010ae8;
    FUN_800255c4(uVar7,uVar12 & 0xffff,iVar5 + 0x50,iVar5 + 0x54);
    FUN_800255c4(BUF_PTR,uVar13 & 0xffff,iVar5 + 0x48,iVar5 + 0x4c);
    iVar6 = *(short *)(iVar5 + 0x54) + -1;
    if (iVar6 == 0) {
      trap(0x1c00);
    }
    if ((iVar6 == -1) && (iVar11 == -0x80000000)) {
      trap(0x1800);
    }
    *(char *)(iVar5 + 0x56) = (char)(iVar11 / iVar6);
    uVar7 = FUN_800143ec(PTR_DAT_800a59b0,0x34,*(short *)(iVar5 + 0x54) + -1,0);
    puVar1 = PTR_DAT_800a59b0;
    *(undefined4 *)(iVar5 + 0x3c) = uVar7;
    uVar7 = FUN_800143ec(puVar1,0x34,*(short *)(iVar5 + 0x54) + -1,0);
    *(undefined4 *)(iVar5 + 0x40) = uVar7;
    *(undefined *)(iVar5 + 0x58) = 0;
    *(int *)(param_1 + 0x34) = iVar5;
    *(bool *)(iVar5 + 0x58) = *local_48[0] == 0x8148080;
    *(undefined *)(param_1 + 0x108) = 0;
    *(undefined4 *)(param_1 + 0x104) = 0;
  }
  puVar4 = PTR_DAT_800a59b0;
  puVar1 = local_30 + 3;
  uVar3 = (uint)puVar1 & 3;
  *(uint *)(puVar1 + -uVar3) =
       *(uint *)(puVar1 + -uVar3) & -1 << (uVar3 + 1) * 8 | uStack_3c >> (3 - uVar3) * 8;
  local_30._0_4_ = uStack_3c;
  uVar3 = local_30._0_4_;
  local_30._2_2_ = (undefined2)(uStack_3c >> 0x10);
  iVar5 = (int)(short)local_30._2_2_;
  *(int *)(param_1 + 0xd4) = (short)uVar10 * iVar5;
  local_30._0_4_ = uVar3;
  uVar7 = FUN_800143ec(puVar4,1,(short)uVar10 * iVar5,0);
  *(undefined4 *)(param_1 + 0xb0) = uVar7;
  return;
}



undefined4 FUN_800346f0(int param_1)

{
  int iVar1;
  short sVar2;
  undefined4 uVar3;
  short sVar4;
  
  sVar2 = *(short *)(BUF_PTR + 0x44);
  if (*(int *)(param_1 + 0x60) != 0x10000) {
    sVar2 = (short)((uint)((int)sVar2 * *(int *)(param_1 + 0x60)) >> 0x10);
  }
  sVar4 = *(short *)(BUF_PTR + 0x46);
  if (*(int *)(param_1 + 100) != 0x10000) {
    sVar4 = (short)((uint)((int)sVar4 * *(int *)(param_1 + 100)) >> 0x10);
  }
  iVar1 = *(int *)(param_1 + 0x100);
  uVar3 = 0;
  if (((((int)*(short *)(iVar1 + 0xc) < sVar2 + -0x10) ||
       ((int)sVar2 + (int)*(short *)PTR_DAT_800a59b0 + 0x10 < (int)*(short *)(iVar1 + 8))) ||
      ((int)*(short *)(iVar1 + 0xe) < sVar4 + -0x10)) ||
     ((int)sVar4 + (int)*(short *)(PTR_DAT_800a59b0 + 2) + 0x10 < (int)*(short *)(iVar1 + 10))) {
    uVar3 = 1;
  }
  return uVar3;
}



void FUN_80034890(int param_1,undefined param_2,undefined param_3,undefined param_4,
                 undefined param_5,short param_6)

{
  FUN_80015438(param_1,(int)param_6);
  *(undefined **)(param_1 + 0xc) = &DAT_80010aa8;
  *(undefined *)(param_1 + 0x40) = param_2;
  *(undefined *)(param_1 + 0x41) = param_3;
  *(undefined *)(param_1 + 0x42) = param_4;
  *(undefined *)(param_1 + 0x43) = param_5;
  return;
}



void FUN_80034a50(int param_1,undefined4 param_2,undefined4 param_3,short param_4,undefined param_5)

{
  short local_res8;
  short sStackX_a;
  
  sStackX_a = (short)((uint)param_3 >> 0x10);
  local_res8 = (short)param_3;
  FUN_8001f940(param_1,param_2,(int)param_4,(int)local_res8,(int)sStackX_a,param_5);
  *(undefined **)(param_1 + 0x18) = &DAT_80010a88;
  *(undefined2 *)(param_1 + 0x10) = 0x44c;
  *(undefined4 *)(param_1 + 8) = 0xffff0000;
  *(undefined **)(param_1 + 0xc) = &LAB_80034ae0;
  *(undefined *)(param_1 + 0x34) = 0;
  return;
}



void FUN_80034bb4(undefined4 *param_1,undefined4 param_2,short param_3,short param_4,
                 undefined4 param_5,undefined4 param_6)

{
  int iVar1;
  
  FUN_8001c71c(param_1,0x168254b5,0x3bf,(int)param_3,(int)param_4,1);
  param_1[6] = &DAT_80010a68;
  param_1[0x41] = param_5;
  param_1[0x42] = param_6;
  *param_1 = 0xffff0000;
  param_1[1] = &LAB_80034ca4;
  iVar1 = rand();
  *(ushort *)(param_1 + 0x40) = ((ushort)iVar1 & 0x3f) + 0x40;
  param_1[0x44] = param_2;
  *(short *)(param_1 + 0x43) = param_3;
  *(short *)((int)param_1 + 0x10e) = param_4;
  return;
}



void FUN_80034ec4(undefined4 *param_1,undefined4 param_2,short param_3,short param_4,int param_5,
                 undefined4 param_6,undefined4 param_7,undefined4 param_8)

{
  uint uVar1;
  int iVar2;
  
  FUN_8001c71c(param_1,param_2,3000,(int)param_3,(int)param_4,0);
  param_1[6] = &DAT_80010a48;
  param_1[0x40] = param_6;
  *(undefined2 *)(param_1 + 4) = 0x44c;
  param_1[0x41] = param_7;
  param_1[0x42] = param_8;
  if (param_1[0x40] == 0x7fffffff) {
    uVar1 = rand();
    param_1[0x40] = (uVar1 & 0x7fff) * 0x20 + -0x60000;
  }
  if (param_1[0x41] == 0x7fffffff) {
    uVar1 = rand();
    param_1[0x41] = -((uVar1 & 0x7fff) * 0x10 + 0x20000);
  }
  if (param_1[0x42] == 0x7fffffff) {
    uVar1 = rand();
    param_1[0x42] = (uVar1 & 0x1fff) - 0x400;
  }
  iVar2 = rand();
  FUN_8001d0bc(param_1,(iVar2 % 5) * 0x10000 >> 0x10);
  *(undefined2 *)(param_1 + 0x1b) = 0;
  *(undefined2 *)((int)param_1 + 0x6e) = 0;
  *param_1 = 0xffff0000;
  param_1[1] = &LAB_800350e8;
  param_1[7] = 0xffff0000;
  param_1[8] = &LAB_800351b8;
  param_1[0x14] = param_5;
  param_1[0x15] = param_5;
  param_1[0x16] = param_5;
  param_1[0x17] = param_5;
  param_1[9] = 0xffff0000;
  param_1[10] = &LAB_8001a268;
  param_1[0xb] = 0xffff0000;
  param_1[0xc] = &LAB_8001a298;
  param_1[0x42] = param_1[0x42] * param_5 >> 0x10;
  return;
}



void FUN_800362a0(undefined4 *param_1,undefined4 param_2)

{
  undefined *puVar1;
  undefined2 uVar2;
  uint uVar3;
  uint *puVar4;
  int iVar5;
  undefined4 uVar6;
  undefined4 *puVar7;
  uint uVar8;
  int iVar9;
  undefined auStack_30 [4];
  undefined local_2c [4];
  undefined *local_28;
  
  puVar7 = param_1;
  FUN_8001a0c4(param_1,0x4b0);
  param_1[6] = &DAT_800109f0;
  param_1[0x1e] = param_2;
  local_2c = (undefined  [4])0xffff0000;
  local_28 = &LAB_8003646c;
  *param_1 = 0xffff0000;
  param_1[1] = &LAB_8003646c;
  iVar5 = param_1[0x1e];
  uVar3 = iVar5 + 0x3bU & 3;
  uVar8 = iVar5 + 0x38U & 3;
  auStack_30 = (undefined  [4])
               ((*(int *)((iVar5 + 0x3bU) - uVar3) << (3 - uVar3) * 8 |
                0xffffffffU >> (uVar3 + 1) * 8 & 0x8003646c) & -1 << (4 - uVar8) * 8 |
               *(uint *)((iVar5 + 0x38U) - uVar8) >> uVar8 * 8);
  uVar3 = iVar5 + 0x3fU & 3;
  uVar8 = iVar5 + 0x3cU & 3;
  uVar8 = (*(int *)((iVar5 + 0x3fU) - uVar3) << (3 - uVar3) * 8 |
          (uint)puVar7 & 0xffffffffU >> (uVar3 + 1) * 8) & -1 << (4 - uVar8) * 8 |
          *(uint *)((iVar5 + 0x3cU) - uVar8) >> uVar8 * 8;
  puVar1 = auStack_30 + 3;
  uVar3 = (uint)puVar1 & 3;
  *(uint *)(puVar1 + -uVar3) =
       *(uint *)(puVar1 + -uVar3) & -1 << (uVar3 + 1) * 8 | (uint)auStack_30 >> (3 - uVar3) * 8;
  puVar1 = local_2c + 3;
  uVar3 = (uint)puVar1 & 3;
  *(uint *)(puVar1 + -uVar3) =
       *(uint *)(puVar1 + -uVar3) & -1 << (uVar3 + 1) * 8 | uVar8 >> (3 - uVar3) * 8;
  local_2c._0_2_ = (undefined2)uVar8;
  iVar5 = (int)(short)local_2c._0_2_;
  local_2c._2_2_ = (undefined2)(uVar8 >> 0x10);
  iVar9 = (int)(short)local_2c._2_2_;
  local_2c = (undefined  [4])uVar8;
  FUN_8001a3a8(param_1,(*(short *)(*(int *)(param_1[0x1e] + 0x34) + 8) + -1) * 0x10000 >> 0x10,iVar5
               ,iVar9,1);
  uVar3 = (int)param_1 + 0x3bU & 3;
  puVar4 = (uint *)(((int)param_1 + 0x3bU) - uVar3);
  *puVar4 = *puVar4 & -1 << (uVar3 + 1) * 8 | (uint)auStack_30 >> (3 - uVar3) * 8;
  uVar3 = (uint)(param_1 + 0xe) & 3;
  puVar4 = (uint *)((int)(param_1 + 0xe) - uVar3);
  *puVar4 = *puVar4 & 0xffffffffU >> (4 - uVar3) * 8 | (int)auStack_30 << uVar3 * 8;
  uVar3 = (int)param_1 + 0x3fU & 3;
  puVar4 = (uint *)(((int)param_1 + 0x3fU) - uVar3);
  *puVar4 = *puVar4 & -1 << (uVar3 + 1) * 8 | (uint)local_2c >> (3 - uVar3) * 8;
  uVar3 = (uint)(param_1 + 0xf) & 3;
  puVar4 = (uint *)((int)(param_1 + 0xf) - uVar3);
  *puVar4 = *puVar4 & 0xffffffffU >> (4 - uVar3) * 8 | (int)local_2c << uVar3 * 8;
  *(undefined *)((int)param_1 + 0x81) = 1;
  *(undefined2 *)(param_1 + 0x1a) = *(undefined2 *)(param_1[0x1e] + 0x68);
  *(undefined2 *)((int)param_1 + 0x6a) = *(undefined2 *)(param_1[0x1e] + 0x6a);
  uVar6 = *(undefined4 *)(param_1[0x1e] + 0x50);
  param_1[0x14] = uVar6;
  param_1[0x15] = uVar6;
  uVar6 = *(undefined4 *)(param_1[0x1e] + 0x58);
  param_1[0x16] = uVar6;
  param_1[0x17] = uVar6;
  if (param_1[0x16] != 0x10000) {
    param_1[9] = 0xffff0000;
    param_1[10] = &LAB_8001a268;
    param_1[0xb] = 0xffff0000;
    param_1[0xc] = &LAB_8001a298;
  }
  *(undefined *)(param_1 + 0x1d) = *(undefined *)(param_1[0x1e] + 0x74);
  *(undefined *)((int)param_1 + 0x75) = *(undefined *)(param_1[0x1e] + 0x75);
  param_1[0x1f] = *(undefined4 *)(param_1[0x1e] + 0xcc);
  uVar2 = *(undefined2 *)(param_1[0x1e] + 0xda);
  *(undefined *)(param_1 + 0x20) = 0x18;
  *(undefined *)((int)param_1 + 0x76) = 1;
  *(char *)((int)param_1 + 0x82) = (char)uVar2;
  return;
}



undefined4 * FUN_80036694(undefined4 *param_1)

{
  u_short uVar1;
  int iVar2;
  
  FUN_800362a0();
  param_1[6] = &DAT_800109d0;
  *(undefined *)(param_1 + 0x21) = 0x40;
  *param_1 = 0xffff0000;
  param_1[1] = &LAB_80036730;
  iVar2 = param_1[0xd];
  uVar1 = GetTPage((uint)*(byte *)(iVar2 + 0x32),1,(int)*(short *)(iVar2 + 0x10) & 0xffffffc0,
                   (int)*(short *)(iVar2 + 0x12) & 0xffffff00);
  *(u_short *)(iVar2 + 0x24) = uVar1;
  return param_1;
}



void FUN_8003780c(undefined4 *param_1,undefined2 param_2,undefined2 param_3,undefined2 param_4,
                 undefined2 param_5,undefined2 param_6)

{
  undefined *puVar1;
  undefined4 uVar2;
  int iVar3;
  
  FUN_80019744(param_1,0x44c);
  puVar1 = PTR_DAT_800a59b0;
  param_1[6] = &DAT_80010950;
  iVar3 = FUN_800143ec(puVar1,0x94,1,0);
  FUN_80015438(iVar3,3000);
  uVar2 = BUF_PTR;
  *(undefined **)(iVar3 + 0xc) = &DAT_80010970;
  param_1[8] = iVar3;
  FUN_80021078(uVar2);
  *(undefined2 *)((int)param_1 + 0x2a) = param_6;
  *(undefined2 *)(param_1 + 9) = param_2;
  *(undefined2 *)((int)param_1 + 0x26) = param_3;
  *(undefined2 *)(param_1 + 10) = param_4;
  *(undefined2 *)(param_1 + 7) = param_5;
  *param_1 = 0xffff0000;
  param_1[1] = &LAB_800379ac;
  *(undefined *)((int)param_1 + 0x1e) = 0;
  *(undefined2 *)((int)param_1 + 0x12) = 0x40;
  return;
}



undefined4 * FUN_80037adc(undefined4 *param_1,uint param_2,int param_3,char param_4)

{
  undefined *puVar1;
  uint uVar2;
  int iVar3;
  int iVar4;
  undefined local_50 [28];
  undefined4 local_34;
  undefined *local_30;
  
  puVar1 = local_50 + 3;
  uVar2 = (uint)puVar1 & 3;
  *(uint *)(puVar1 + -uVar2) =
       *(uint *)(puVar1 + -uVar2) & -1 << (uVar2 + 1) * 8 | param_2 >> (3 - uVar2) * 8;
  local_50._0_2_ = (undefined2)param_2;
  iVar4 = (int)(short)local_50._0_2_;
  local_50._2_2_ = (undefined2)(param_2 >> 0x10);
  iVar3 = (int)(short)local_50._2_2_;
  local_50._0_4_ = param_2;
  FUN_8001c71c(param_1,0x6a351094,2000,iVar4,iVar3,0);
  param_1[6] = &DAT_80010ba8;
  *(undefined2 *)(param_1 + 4) = 0x4b0;
  *param_1 = 0xffff0000;
  param_1[1] = FUN_80030e50;
  local_34 = 0xffff0000;
  local_30 = &LAB_80030fdc;
  param_1[2] = 0xffff0000;
  param_1[3] = &LAB_80030fdc;
  FUN_8001d23c(param_1,0);
  *(undefined *)(param_1 + 0x1d) = 0;
  if (param_3 != 0x10000) {
    param_1[0x16] = param_3;
    param_1[0x17] = param_3;
    param_1[0x14] = param_3;
    param_1[0x15] = param_3;
    param_1[9] = 0xffff0000;
    param_1[10] = &LAB_8001a268;
    param_1[0xb] = 0xffff0000;
    param_1[0xc] = &LAB_8001a298;
  }
  param_1[6] = &DAT_80010930;
  *(undefined *)((int)param_1 + 0x102) = 0;
  *(undefined2 *)(param_1 + 0x40) = 0;
  param_1[0x41] = 0;
  param_1[0x43] = param_3;
  *(char *)(param_1 + 0x42) = param_4;
  if (param_4 == '\0') {
    param_1[0x43] = (int)param_1[0x43] >> 1;
  }
  *param_1 = 0xffff0000;
  param_1[1] = &LAB_80037c90;
  return param_1;
}



void FUN_80037d30(undefined4 *param_1)

{
  undefined uVar1;
  undefined *puVar2;
  undefined4 uVar3;
  int iVar4;
  
  FUN_80019744(param_1,0x44c);
  param_1[6] = &DAT_80010910;
  puVar2 = PTR_DAT_800a59b0;
  *(undefined2 *)((int)param_1 + 0x22) = 0xff;
  iVar4 = FUN_800143ec(puVar2,0x44,1,0);
  uVar1 = *(undefined *)((int)param_1 + 0x22);
  FUN_80015438(iVar4,9000);
  *(undefined *)(iVar4 + 0x43) = 1;
  *(undefined *)(iVar4 + 0x40) = uVar1;
  *(undefined *)(iVar4 + 0x41) = uVar1;
  *(undefined *)(iVar4 + 0x42) = uVar1;
  uVar3 = BUF_PTR;
  *(undefined **)(iVar4 + 0xc) = &DAT_80010aa8;
  param_1[7] = iVar4;
  FUN_80021078(uVar3);
  *(undefined2 *)(param_1 + 8) = 0x50;
  *param_1 = 0xffff0000;
  param_1[1] = &LAB_80037ed4;
  param_1[2] = 0xffff0000;
  param_1[3] = &LAB_80038008;
  *(undefined *)(param_1 + 9) = 0;
  *(undefined2 *)((int)param_1 + 0x12) = 0x40;
  return;
}



void FUN_80038028(undefined4 *param_1,uint param_2,int param_3)

{
  undefined *puVar1;
  uint uVar2;
  u_short uVar3;
  int iVar4;
  int iVar5;
  undefined local_48 [28];
  undefined4 local_2c;
  undefined *local_28;
  
  puVar1 = local_48 + 3;
  uVar2 = (uint)puVar1 & 3;
  *(uint *)(puVar1 + -uVar2) =
       *(uint *)(puVar1 + -uVar2) & -1 << (uVar2 + 1) * 8 | param_2 >> (3 - uVar2) * 8;
  local_48._0_2_ = (undefined2)param_2;
  iVar5 = (int)(short)local_48._0_2_;
  local_48._2_2_ = (undefined2)(param_2 >> 0x10);
  iVar4 = (int)(short)local_48._2_2_;
  local_48._0_4_ = param_2;
  FUN_8001c71c(param_1,0xa921e2c,2000,iVar5,iVar4,0);
  param_1[6] = &DAT_80010ba8;
  *(undefined2 *)(param_1 + 4) = 0x4b0;
  *param_1 = 0xffff0000;
  param_1[1] = FUN_80030e50;
  local_2c = 0xffff0000;
  local_28 = &LAB_80030fdc;
  param_1[2] = 0xffff0000;
  param_1[3] = &LAB_80030fdc;
  FUN_8001d23c(param_1,0);
  *(undefined *)(param_1 + 0x1d) = 0;
  if (param_3 != 0x10000) {
    param_1[0x16] = param_3;
    param_1[0x17] = param_3;
    param_1[0x14] = param_3;
    param_1[0x15] = param_3;
    param_1[9] = 0xffff0000;
    param_1[10] = &LAB_8001a268;
    local_2c = 0xffff0000;
    local_28 = &LAB_8001a298;
    param_1[0xb] = 0xffff0000;
    param_1[0xc] = &LAB_8001a298;
  }
  iVar4 = param_1[0xd];
  *(undefined *)((int)param_1 + 0x102) = 0;
  *(undefined2 *)(param_1 + 0x40) = 0;
  param_1[0x41] = 0;
  param_1[6] = &DAT_800108f0;
  uVar3 = GetTPage((uint)*(byte *)(iVar4 + 0x32),1,(int)*(short *)(iVar4 + 0x10) & 0xffffffc0,
                   (int)*(short *)(iVar4 + 0x12) & 0xffffff00);
  *(u_short *)(iVar4 + 0x24) = uVar3;
  param_1[0x14] = 0x40000;
  param_1[0x15] = 0x40000;
  param_1[2] = 0xffff0000;
  param_1[3] = &LAB_8003826c;
  *param_1 = 0xffff0000;
  param_1[1] = &LAB_8003820c;
  *(undefined *)(param_1 + 0x42) = 0;
  return;
}



undefined4 * FUN_800382fc(undefined4 *param_1)

{
  undefined uVar1;
  undefined *puVar2;
  undefined4 uVar3;
  int iVar4;
  
  FUN_80019744(param_1,0x44c);
  puVar2 = PTR_DAT_800a59b0;
  param_1[6] = &DAT_800108d0;
  *(undefined2 *)((int)param_1 + 0x22) = 0;
  iVar4 = FUN_800143ec(puVar2,0x44,1,0);
  uVar1 = *(undefined *)((int)param_1 + 0x22);
  FUN_80015438(iVar4,20000);
  *(undefined *)(iVar4 + 0x43) = 2;
  *(undefined *)(iVar4 + 0x40) = uVar1;
  *(undefined *)(iVar4 + 0x41) = uVar1;
  *(undefined *)(iVar4 + 0x42) = uVar1;
  uVar3 = BUF_PTR;
  *(undefined **)(iVar4 + 0xc) = &DAT_80010aa8;
  param_1[7] = iVar4;
  FUN_80021078(uVar3);
  *param_1 = 0xffff0000;
  param_1[1] = &LAB_80038464;
  return param_1;
}



undefined4 load_files_from_cd(void)

{
  CdlFILE *files;
  undefined4 uVar1;
  CdlFILE *music2;
  CdlFILE *music3;
  CdlFILE *music4;
  CdlFILE *music5;
  
  CdInit();
  files = CdSearchFile((CdlFILE *)&GAME_BLB,"\\GAME.BLB;1");
  uVar1 = 0;
  if (files != (CdlFILE *)0x0) {
    GAMEBLB = CdPosToInt((CdlLOC *)&GAME_BLB);
    files = CdSearchFile((CdlFILE *)&CD_FS,"\\MUSIC1.XA;1");
    if (files != (CdlFILE *)0x0) {
      MUSIC1 = CdPosToInt((CdlLOC *)&CD_FS);
    }
    music2 = CdSearchFile((CdlFILE *)&CD_FS,"\\MUSIC2.XA;1");
    if (music2 != (CdlFILE *)0x0) {
      MUSIC2 = CdPosToInt((CdlLOC *)&CD_FS);
    }
    music3 = CdSearchFile((CdlFILE *)&CD_FS,"\\MUSIC3.XA;1");
    if (music3 != (CdlFILE *)0x0) {
      MUSIC3 = CdPosToInt((CdlLOC *)&CD_FS);
    }
    music4 = CdSearchFile((CdlFILE *)&CD_FS,"\\MUSIC4.XA;1");
    if (music4 != (CdlFILE *)0x0) {
      MUSIC4 = CdPosToInt((CdlLOC *)&CD_FS);
    }
    music5 = CdSearchFile((CdlFILE *)&CD_FS,"\\MUSIC5.XA;1");
    if (music5 != (CdlFILE *)0x0) {
      MUSIC5 = CdPosToInt((CdlLOC *)&CD_FS);
    }
    if ((((files != (CdlFILE *)0x0) && (music2 != (CdlFILE *)0x0)) && (music3 != (CdlFILE *)0x0)) &&
       ((music4 != (CdlFILE *)0x0 && (music5 != (CdlFILE *)0x0)))) {
      GAME_FILES_OK = true;
    }
    uVar1 = 1;
  }
  return uVar1;
}



int load_game_blb_asset(uint offset,int sector_count,u_long *buffer_pointer)

{
  CdlLOC cdloc [2];
  
  CdIntToPos(GAMEBLB + (offset & 0xffff),cdloc);
                    // \x02 means set pos
                    // 
  CdControl('\x02',&cdloc[0].minute,(u_char *)0x0);
  CdRead(sector_count & 0xffff,buffer_pointer,128);
  CdReadSync(0,(u_char *)0);
  return 1;
}



int FUN_80038ca8(byte param_1,byte param_2)

{
  int iVar1;
  uint uVar2;
  int iVar3;
  
  if (GAME_FILES_OK) {
    uVar2 = *(ushort *)(&DAT_8009b448 + ((uint)param_1 * 8 + (uint)param_2) * 2) - 2;
    if (param_2 == 0) {
      uVar2 = *(ushort *)(&DAT_8009b448 + ((uint)param_1 * 8 + (uint)param_2) * 2) - 3;
    }
    cd_param = 0xc0;
    DAT_800a5a54 = (&MUSIC1)[param_1] + (uVar2 & 0xffff) * 8;
    iVar3 = 8;
    DAT_800a5a48 = param_1;
    CdControl('\x0e',&cd_param,(u_char *)0x0);
    do {
      DAT_800a5a50 = (&MUSIC1)[DAT_800a5a48];
      iVar1 = CdControl('\x1b',&CD_FS + (uint)DAT_800a5a48 * 0x18,(u_char *)0x0);
      iVar3 = iVar3 + -1;
      if (iVar1 == 1) {
        cd_param = 0xc8;
        CdControl(0xe,&cd_param,(u_char *)0x0);
        DAT_800a5a68 = 1;
        DAT_800a5a69 = param_2;
                    // choose apcdm play sector
                    // 
        iVar3 = CdControlB(0xd,&DAT_800a5a68,&DAT_800a5a58);
        CD_PLAYING = true;
        return iVar3;
      }
    } while (iVar3 != 0);
  }
  return 0;
}



void stop_cd(void)

{
  if (GAME_FILES_OK) {
    CdControl('\b',(u_char *)0x0,(u_char *)0x0);
    CdFlush();
    CD_PLAYING = false;
  }
  return;
}



undefined4 FUN_80038e4c(void)

{
  undefined4 uVar1;
  
  if (GAME_FILES_OK) {
    uVar1 = 1;
    if (DAT_800a5a46 == '\0') {
      CdControl('\t',(u_char *)0x0,(u_char *)0x0);
      uVar1 = 1;
      DAT_800a5a46 = '\x01';
    }
  }
  else {
    uVar1 = 0;
  }
  return uVar1;
}



int FUN_80038e9c(void)

{
  int iVar1;
  
  if (GAME_FILES_OK) {
    if (DAT_800a5a46 == '\0') {
      iVar1 = 1;
    }
    else {
      iVar1 = CdControl('\x1b',(u_char *)0x0,(u_char *)0x0);
      DAT_800a5a46 = '\0';
    }
  }
  else {
    iVar1 = 0;
  }
  return iVar1;
}



uint handle_music(void)

{
  int iVar1;
  uint uVar2;
  int unaff_s1;
  u_char auStack_18 [8];
  bool is_valid_track;
  
  if (DAT_800a5a46 == '\0') {
    if (!CD_PLAYING) {
      return 1;
    }
    if (GAME_FILES_OK) {
      iVar1 = CdSync(1,auStack_18);
      if (iVar1 == 2) {
        if (DAT_800a5a50 <= DAT_800a5a54) {
          is_valid_track = false;
          iVar1 = CdLastCom();
          if (iVar1 == 0x11) {
            unaff_s1 = CdPosToInt((CdlLOC *)(auStack_18 + 5));
            is_valid_track = 0 < unaff_s1;
          }
          if (is_valid_track) {
            DAT_800a5a50 = unaff_s1;
          }
          uVar2 = CdControlF('\x11',(u_char *)0x0);
          return uVar2;
        }
        DAT_800a5a50 = (&MUSIC1)[DAT_800a5a48];
        uVar2 = CdControl('\x1b',&CD_FS + (uint)DAT_800a5a48 * 0x18,(u_char *)0x0);
        DAT_800a5a47 = 0;
        return uVar2;
      }
      if (iVar1 < 3 != 0) {
        return (uint)(iVar1 < 3);
      }
      if (iVar1 != 5) {
        return 5;
      }
      DAT_800a5a47 = DAT_800a5a47 + 1;
      if (DAT_800a5a47 < 6) {
        return 0;
      }
      DAT_800a5a50 = (&MUSIC1)[DAT_800a5a48];
      CdControl('\x1b',&CD_FS + (uint)DAT_800a5a48 * 0x18,(u_char *)0x0);
      DAT_800a5a47 = 0;
      return 0;
    }
  }
  else {
    CdControl('\t',(u_char *)0x0,(u_char *)0x0);
  }
  return 1;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

bool load_str(char *param_1,int param_2,short param_3,u_short *param_4)

{
  undefined *puVar1;
  bool bVar2;
  u_long uVar5;
  CdlFILE *pCVar6;
  int iVar7;
  bool bVar8;
  DISPENV display_env;
  CdlFILE CStack72;
  RECT local_30;
  undefined auStack40 [8];
  uint uVar3;
  undefined uVar4;
  
  bVar8 = true;
  uVar5 = PadRead(1);
  bVar2 = (uVar5 & 0xffff) != 0;
  FUN_80039c18(0);
  DAT_800a5a74 = param_3 - 1;
  VLC_BUFFER = (astruct_12 *)param_4;
  if (param_2 == 0) {
    pCVar6 = CdSearchFile(&CStack72,param_1);
    if (pCVar6 == (CdlFILE *)0x0) {
      return true;
    }
  }
  else {
    CdIntToPos(param_2,&CStack72.pos);
  }
  uVar4 = DAT_800a60dc;
  FUN_8007cc28(4);
  prepare_image_struct(0xf0,true,0);
  FUN_80039da4(&CStack72,&LAB_80039e24);
  DecDCTvlcBuild(&VLC_BUFFER->vlc_table);
  while (iVar7 = FUN_80039f6c(), iVar7 == -1) {
    puVar1 = auStack40 + 3;
    uVar3 = (uint)puVar1 & 3;
    *(uint *)(puVar1 + -uVar3) =
         *(uint *)(puVar1 + -uVar3) & -1 << (uVar3 + 1) * 8 | (uint)CStack72.pos >> (3 - uVar3) * 8;
    auStack40._0_4_ = CStack72.pos;
    FUN_8003a22c(auStack40);
  }
  DAT_800a5a76 = '\0';
LAB_80039250:
  do {
    DecDCTin((u_long *)(&DCT_LOAD_BUF)[output_run_level_],3);
    DecDCTout((u_long *)(&IMAGE_BUFFER_START)[IMAGE_SIZE_OFFSET],((int)bit_depth * (int)height) / 2)
    ;
    while (iVar7 = FUN_80039f6c(), iVar7 == -1) {
      iVar7 = StGetBackloc((CdlLOC *)auStack40);
      if (((int)(uint)DAT_800a5a74 < iVar7) || (iVar7 < 1)) {
        puVar1 = auStack40 + 3;
        uVar3 = (uint)puVar1 & 3;
        *(uint *)(puVar1 + -uVar3) =
             *(uint *)(puVar1 + -uVar3) & -1 << (uVar3 + 1) * 8 |
             (uint)CStack72.pos >> (3 - uVar3) * 8;
        auStack40._0_4_ = CStack72.pos;
      }
      FUN_8003a22c(auStack40);
    }
    FUN_8003a194();
    VSync(0);
    SetDefDispEnv(&display_env,0,-(uint)(_buffer_counter_ == 0) & 0xf0,0x1e0,0x100);
    display_env.screen.x = 0;
    display_env.screen.y = 0;
    display_env.screen.w = 0;
    display_env.screen.h = 0xf0;
    display_env.isrgb24 = '\x01';
    display_env.disp.w =
         (short)((ulonglong)((longlong)((int)display_env.disp.w << 1) * 0x55555556) >> 0x20) -
         (short)(((int)display_env.disp.w << 1) >> 0x1f);
    PutDispEnv(&display_env);
    SetDispMask(1);
    if (DAT_800a5a76 != '\0') goto LAB_800393fc;
    if (bVar2) {
      uVar5 = PadRead(1);
      if ((uVar5 & 0xffff) == 0) {
        bVar2 = false;
      }
      if (bVar2) goto LAB_80039250;
    }
    uVar5 = PadRead(1);
    if ((uVar5 & 0xfff) != 0) {
      bVar8 = (uVar5 & 0x800) == 0;
      CdControlB('\t',(u_char *)0x0,(u_char *)0x0);
LAB_800393fc:
      local_30.x = 0;
      local_30.w = 480;
      local_30.h = 256;
      local_30.y = -(ushort)(_buffer_counter_ == 0) & 0xf0;
      ClearImage(&local_30,'\0','\0','\0');
      VSync(0);
      SetDefDispEnv(&display_env,0,-(uint)(_buffer_counter_ == 0) & 0xf0,0x140,0x100);
      display_env.isrgb24 = '\0';
      display_env.screen.x = 0;
      display_env.screen.y = 0;
      display_env.screen.w = 0;
      display_env.screen.h = 240;
      PutDispEnv(&display_env);
      local_30.x = 0;
      local_30.w = 480;
      local_30.h = 256;
      _buffer_counter_ = (uint)(_buffer_counter_ == 0);
      local_30.y = -(ushort)(_buffer_counter_ == 0) & 0xf0;
      ClearImage(&local_30,'\0','\0','\0');
      VSync(0);
      SetDefDispEnv(&display_env,0,-(uint)(_buffer_counter_ == 0) & 0xf0,0x140,0x100);
      display_env.isrgb24 = '\0';
      display_env.screen.x = 0;
      display_env.screen.y = 0;
      display_env.screen.w = 0;
      display_env.screen.h = 240;
      PutDispEnv(&display_env);
      DecDCToutCallback((func *)0x0);
      FUN_800866e8();
      CdControlB('\t',(u_char *)0x0,(u_char *)0x0);
      FUN_8007cc28(uVar4);
      return bVar8;
    }
  } while( true );
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address
// potentially a menu?
// 

undefined4 load_screen(uint offset,uint sector_count,u_short *buffer_location)

{
  bool bVar2;
  char cVar3;
  u_long button_status;
  uint load_asset_status;
  undefined4 uVar4;
  int iVar5;
  int iVar6;
  undefined4 uVar7;
  DISPENV display_env;
  RECT RECT;
  bool bVar1;
  undefined uVar2;
  
  bVar1 = true;
  uVar7 = 1;
  button_status = PadRead(1);
  bVar2 = (button_status & 0xffff) != 0;
  VLC_BUFFER = (astruct_12 *)buffer_location;
  load_asset_status =
       load_game_blb_asset(offset & 0xffff,sector_count & 0xffff,buffer_location + 0x33800);
  uVar2 = DAT_800a60dc;
  uVar4 = 1;
  if ((load_asset_status & 0xff) != 0) {
    FUN_8007cc28(4);
    FUN_8007ca5c(5,6);
    prepare_image_struct(0x100,true,1);
    DecDCTReset(0);
    DecDCToutCallback((func *)&LAB_80039e24);
    DecDCTvlcBuild(&VLC_BUFFER->vlc_table);
    FUN_8003a104(0);
    DAT_800a5a76 = '\0';
    iVar5 = 1;
LAB_80039638:
    uVar4 = uVar7;
    if (DAT_800a5a76 == '\0') {
      DecDCTin((u_long *)(&DCT_LOAD_BUF)[output_run_level_],3);
      DecDCTout((u_long *)(&IMAGE_BUFFER_START)[IMAGE_SIZE_OFFSET],
                ((int)bit_depth * (int)height) / 2);
      iVar6 = iVar5 + 1;
      cVar3 = FUN_8003a104(iVar5);
      if (cVar3 == '\0') {
        DAT_800a5a76 = '\x01';
      }
      FUN_8003a194();
      iVar5 = 0;
      if (bVar1) {
        bVar1 = false;
      }
      else {
        do {
          FUN_8007cc78();
          if (bVar2) {
            button_status = PadRead(1);
            if ((button_status & 0xffff) == 0) {
              bVar2 = false;
            }
            if (!bVar2) goto LAB_8003970c;
          }
          else {
LAB_8003970c:
            button_status = PadRead(1);
            if ((button_status & 0xffff) != 0) {
              if ((button_status & 0x800) != 0) {
                uVar7 = 0;
              }
              DAT_800a5a76 = '\x01';
              break;
            }
          }
          VSync(0);
          iVar5 = iVar5 + 1;
        } while (iVar5 < 0x150);
      }
      VSync(0);
      uVar4 = uVar7;
      if (DAT_800a5a76 == '\0') {
        SetDefDispEnv(&display_env,0,(uint)(_buffer_counter_ == 0) << 8,0x1e0,0x100);
        display_env.screen.x = 0;
        display_env.screen.y = 0;
        display_env.screen.w = 0;
        display_env.isrgb24 = '\x01';
        display_env.screen.h = 0xf0;
        display_env.disp.w =
             (short)((ulonglong)((longlong)((int)display_env.disp.w << 1) * 0x55555556) >> 0x20) -
             (short)(((int)display_env.disp.w << 1) >> 0x1f);
        PutDispEnv(&display_env);
        SetDispMask(1);
        iVar5 = iVar6;
        if (bVar2) goto code_r0x800397ec;
        goto LAB_80039810;
      }
    }
    RECT.x = 0;
    RECT.w = 0x1e0;
    RECT.h = 0x100;
    RECT.y = (ushort)(_buffer_counter_ == 0) << 8;
    ClearImage(&RECT,'\0','\0','\0');
    VSync(0);
    SetDefDispEnv(&display_env,0,(uint)(_buffer_counter_ == 0) << 8,0x140,0x100);
    display_env.isrgb24 = '\0';
    display_env.screen.x = 0;
    display_env.screen.y = 0;
    display_env.screen.w = 0;
    display_env.screen.h = 0xf0;
    PutDispEnv(&display_env);
    RECT.x = 0;
    RECT.w = 0x1e0;
    RECT.h = 0x100;
    _buffer_counter_ = (uint)(_buffer_counter_ == 0);
    RECT.y = (ushort)(_buffer_counter_ == 0) << 8;
    ClearImage(&RECT,'\0','\0','\0');
    VSync(0);
    SetDefDispEnv(&display_env,0,(uint)(_buffer_counter_ == 0) << 8,0x140,0x100);
    display_env.isrgb24 = '\0';
    display_env.screen.x = 0;
    display_env.screen.y = 0;
    display_env.screen.w = 0;
    display_env.screen.h = 0xf0;
    PutDispEnv(&display_env);
    DecDCToutCallback((func *)0x0);
    stop_cd_wrapper();
    FUN_8007cc28(uVar2);
  }
  return uVar4;
code_r0x800397ec:
  button_status = PadRead(1);
  if ((button_status & 0xfff) == 0) {
    bVar2 = false;
  }
  if (!bVar2) {
LAB_80039810:
    button_status = PadRead(1);
    if (((button_status & 0xffff) != 0) && ((button_status & 0x800) != 0)) {
      uVar7 = 0;
    }
  }
  goto LAB_80039638;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 FUN_800395ac(void)

{
  bool bVar1;
  undefined uVar2;
  char cVar3;
  int in_v0;
  uint uVar4;
  undefined4 uVar5;
  u_long uVar6;
  astruct_12 *unaff_s0;
  int iVar7;
  uint unaff_s1;
  int iVar8;
  uint unaff_s2;
  char unaff_s4;
  undefined4 unaff_s5;
  short param_8;
  short param_9;
  short sStack00000022;
  short param_10;
  short sStack00000026;
  undefined4 param_11;
  short param_13;
  short sStack00000032;
  short param_14;
  short sStack00000036;
  
  bVar1 = in_v0 != 0;
  VLC_BUFFER = unaff_s0;
  uVar4 = load_game_blb_asset(unaff_s1 & 0xffff,unaff_s2 & 0xffff,unaff_s0 + 0x19c);
  uVar2 = DAT_800a60dc;
                    // if the asset isn't loaded
  uVar5 = 1;
  if ((uVar4 & 0xff) != 0) {
    FUN_8007cc28(4);
    FUN_8007ca5c(5,6);
    prepare_image_struct(256,true,1);
    DecDCTReset(0);
    DecDCToutCallback((func *)&LAB_80039e24);
    DecDCTvlcBuild(&VLC_BUFFER->vlc_table);
    FUN_8003a104(0);
    DAT_800a5a76 = '\0';
    iVar7 = 1;
LAB_80039638:
    uVar5 = unaff_s5;
    if (DAT_800a5a76 == '\0') {
      DecDCTin((u_long *)(&DCT_LOAD_BUF)[output_run_level_],3);
                    // The last param is the size of the data being recieved 
      DecDCTout((u_long *)(&IMAGE_BUFFER_START)[IMAGE_SIZE_OFFSET],
                ((int)bit_depth * (int)height) / 2);
      iVar8 = iVar7 + 1;
      cVar3 = FUN_8003a104(iVar7);
      if (cVar3 == '\0') {
        DAT_800a5a76 = '\x01';
      }
      FUN_8003a194();
      iVar7 = 0;
      if (unaff_s4 == '\0') {
        do {
          FUN_8007cc78();
          if (bVar1) {
            uVar6 = PadRead(1);
            if ((uVar6 & 0xffff) == 0) {
              bVar1 = false;
            }
            if (!bVar1) goto LAB_8003970c;
          }
          else {
LAB_8003970c:
            uVar6 = PadRead(1);
            if ((uVar6 & 0xffff) != 0) {
              if ((uVar6 & 0x800) != 0) {
                unaff_s5 = 0;
              }
              DAT_800a5a76 = '\x01';
              break;
            }
          }
          VSync(0);
          iVar7 = iVar7 + 1;
        } while (iVar7 < 0x150);
      }
      else {
        unaff_s4 = '\0';
      }
      VSync(0);
      uVar5 = unaff_s5;
      if (DAT_800a5a76 == '\0') {
        SetDefDispEnv((DISPENV *)&stack0x00000018,0,(uint)(_buffer_counter_ == 0) << 8,480,256);
        param_9 = 0;
        sStack00000022 = 0;
        param_10 = 0;
        param_11._1_1_ = 1;
        sStack00000026 = 240;
        param_8 = (short)((ulonglong)((longlong)((int)param_8 << 1) * 0x55555556) >> 0x20) -
                  (short)(((int)param_8 << 1) >> 0x1f);
        PutDispEnv((DISPENV *)&stack0x00000018);
        SetDispMask(1);
        iVar7 = iVar8;
        if (bVar1) goto code_r0x800397ec;
        goto LAB_80039810;
      }
    }
    param_13 = 0;
    param_14 = 480;
    sStack00000036 = 256;
    sStack00000032 = (ushort)(_buffer_counter_ == 0) << 8;
    ClearImage((RECT *)&stack0x00000030,0,0,0);
    VSync(0);
    SetDefDispEnv((DISPENV *)&stack0x00000018,0,(uint)(_buffer_counter_ == 0) << 8,320,256);
    param_11._1_1_ = '\0';
    param_9 = 0;
    sStack00000022 = 0;
    param_10 = 0;
    sStack00000026 = 240;
    PutDispEnv((DISPENV *)&stack0x00000018);
    param_13 = 0;
    param_14 = 480;
    sStack00000036 = 256;
    _buffer_counter_ = (uint)(_buffer_counter_ == 0);
    sStack00000032 = (ushort)(_buffer_counter_ == 0) << 8;
    ClearImage((RECT *)&stack0x00000030,'\0','\0','\0');
    VSync(0);
    SetDefDispEnv((DISPENV *)&stack0x00000018,0,(uint)(_buffer_counter_ == 0) << 8,0x140,256);
    param_11._1_1_ = '\0';
    param_9 = 0;
    sStack00000022 = 0;
    param_10 = 0;
    sStack00000026 = 240;
    PutDispEnv((DISPENV *)&stack0x00000018);
    DecDCToutCallback((func *)0x0);
    stop_cd_wrapper();
    FUN_8007cc28(uVar2);
  }
  return uVar5;
code_r0x800397ec:
  uVar6 = PadRead(1);
  if ((uVar6 & 0xfff) == 0) {
    bVar1 = false;
  }
  if (!bVar1) {
LAB_80039810:
    uVar6 = PadRead(1);
    if (((uVar6 & 0xffff) != 0) && ((uVar6 & 0x800) != 0)) {
      unaff_s5 = 0;
    }
  }
  goto LAB_80039638;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address
// param 4 is 5 on bootup
// param 5 is 10

undefined4
draw_load_screen(uint offset,uint sector_count,astruct_12 *buf,short param_4,short param_5)

{
  bool bVar1;
  uint uVar2;
  u_long uVar3;
  short sVar4;
  DISPENV DStack_40;
  
  VLC_BUFFER = buf;
                    // initially the BLB header is loaded
                    // afterwards it loads the blob at 0x6000
  uVar2 = load_game_blb_asset(offset & 0xffff,sector_count & 0xffff,buf + 0x19c);
  if ((uVar2 & 0xff) != 0) {
    prepare_image_struct(256,false,0);
    VSync(0);
    SetDefDispEnv(&DStack_40,0,0x100,0x140,0x100);
    DStack_40.screen.x = 0;
    DStack_40.screen.y = 0;
    DStack_40.screen.w = 0;
    DStack_40.screen.h = 240;
    DStack_40.isrgb24 = '\0';
    PutDispEnv(&DStack_40);
    SetDispMask(1);
                    // initialise image subsystems
    DecDCTReset(0);
                    // call back at end of MDEC transmission
    DecDCToutCallback((func *)&LAB_80039e24);
    DecDCTvlcBuild(&VLC_BUFFER->vlc_table);
    output_run_level_ = (uint)(output_run_level_ == 0);
    DecDCTvlc2((u_long *)(VLC_BUFFER + 0x19c),(u_long *)(&DCT_LOAD_BUF)[output_run_level_],
               &VLC_BUFFER->vlc_table);
    DecDCTin((u_long *)(&DCT_LOAD_BUF)[output_run_level_],2);
    DecDCTout((u_long *)(&IMAGE_BUFFER_START)[IMAGE_SIZE_OFFSET],((int)bit_depth * (int)height) / 2)
    ;
    FUN_8003a194();
    VSync(0);
    SetDefDispEnv(&DStack_40,0,(uint)(_buffer_counter_ == 0) << 8,320,256);
    DStack_40.screen.x = 0;
    DStack_40.screen.y = 0;
    DStack_40.screen.w = 0;
    DStack_40.screen.h = 240;
    DStack_40.isrgb24 = '\0';
    PutDispEnv(&DStack_40);
    SetDispMask(1);
    DecDCToutCallback((func *)0x0);
    param_4 = param_4 * 60;
    sVar4 = param_5 * 60;
    if (sVar4 == 0) {
      return 1;
    }
    while (bVar1 = param_4 != 0, param_4 = param_4 + -1, bVar1) {
      sVar4 = sVar4 + -1;
      VSync(0);
    }
    while (sVar4 != 0) {
                    // perhaps to skip movie?
      uVar3 = PadRead(1);
      if (param_5 == 99) {
        if ((uVar3 & 0x10) != 0) {
          return 0;
        }
        if ((uVar3 & 0x800) != 0) {
          return 1;
        }
      }
      else {
        if ((uVar3 & 0xffff) != 0) {
          return 1;
        }
        sVar4 = sVar4 + -1;
      }
      VSync(0);
    }
  }
  return 1;
}



void FUN_80039c18(int param_1)

{
  DISPENV DStack_20;
  
  FUN_8003a2a0();
  SetDefDispEnv(&DStack_20,0,(uint)(param_1 == 0) << 8,0x1e0,0x100);
  DStack_20.screen.x = 0;
  DStack_20.screen.y = 0;
  DStack_20.screen.w = 0;
  DStack_20.screen.h = 0xf0;
  DStack_20.isrgb24 = '\x01';
  DStack_20.disp.w =
       (short)((ulonglong)((longlong)((int)DStack_20.disp.w << 1) * 0x55555556) >> 0x20) -
       (short)(((int)DStack_20.disp.w << 1) >> 0x1f);
  PutDispEnv(&DStack_20);
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void prepare_image_struct(undefined2 image_size,bool full_colour_mode,uint param_3)

{
  output_run_level_ = 0;
  IMAGE_SIZE_OFFSET = 0;
  DAT_8009b528 = 0;
  DAT_8009b52a = 0;
  DAT_800a5a84 = VLC_BUFFER + 400;
  DCT_LOAD_BUF = VLC_BUFFER + 0x44;
  DAT_800a5a90 = VLC_BUFFER + 0xe4;
  IMAGE_BUFFER_START = VLC_BUFFER + 0x184;
  DAT_8009b52c = uVar1;
  if (!full_colour_mode) {
    DAT_8009b52c = 320;
  }
  DAT_8009b52e = image_size;
  DAT_8009b530 = 0;
  DAT_8009b532 = image_size;
  DAT_8009b534 = uVar3;
  if (!full_colour_mode) {
    DAT_8009b534 = 320;
  }
  DAT_8009b536 = image_size;
  _buffer_counter_ = param_3 & 0xff;
  DAT_800a5a98 = 0;
  IMAGE_SIZE_OR_HEIGHT_ = image_size;
  if ((param_3 & 0xff) == 0) {
    IMAGE_SIZE_OR_HEIGHT_ = 0;
  }
  bit_depth = uVar5;
  if (!full_colour_mode) {
    bit_depth = 16;
  }
  height = image_size;
  DAT_800a5a77 = 0;
  return;
}



void FUN_80039da4(undefined4 param_1,func *param_2)

{
  DecDCTReset(0);
  DecDCToutCallback(param_2);
  StSetRing((u_long *)(VLC_BUFFER + 0x19c),0x100);
  StSetStream(1,1,0xffffffff,(func1 *)0x0,(func2 *)&LAB_80039f64);
  FUN_8003a22c(param_1);
  return;
}



undefined4 FUN_80039f6c(void)

{
  u_long *bs;
  int iVar1;
  
  iVar1 = 2000;
  do {
    bs = (u_long *)setup_movie_headers();
    iVar1 = iVar1 + -1;
    if (bs != (u_long *)0x0) {
      output_run_level_ = (uint)(output_run_level_ == 0);
      DecDCTvlc2(bs,(u_long *)(&DCT_LOAD_BUF)[output_run_level_],&VLC_BUFFER->vlc_table);
      StFreeRing(bs);
      return 0;
    }
  } while (iVar1 != 0);
  return 0xffffffff;
}



undefined4 setup_movie_headers(void)

{
  u_long uVar1;
  int iVar2;
  u_long *local_18;
  u_long *local_14;
  RECT local_10;
  
  iVar2 = 2000;
  do {
    uVar1 = StGetNext(&local_18,&local_14);
    iVar2 = iVar2 + -1;
    if (uVar1 == 0) {
      if ((uint)DAT_800a5a74 <= local_14[2]) {
        DAT_800a5a76 = 1;
      }
      if ((DAT_800a5a6c != *(ushort *)(local_14 + 4)) ||
         (DAT_800a5a70 != *(ushort *)((int)local_14 + 0x12))) {
        local_10.w = 0x1e0;
        local_10.x = 0;
        local_10.y = 0;
        local_10.h = 0x200;
        ClearImage(&local_10,'\0','\0','\0');
        DAT_800a5a6c = (uint)*(ushort *)(local_14 + 4);
        DAT_800a5a70 = (uint)*(ushort *)((int)local_14 + 0x12);
      }
      height = (undefined2)DAT_800a5a70;
      DAT_8009b52c = (undefined2)(DAT_800a5a6c * 3 - ((int)(DAT_800a5a6c * 3) >> 0x1f) >> 1);
      DAT_8009b52e = (undefined2)DAT_800a5a70;
      DAT_8009b534 = DAT_8009b52c;
      DAT_8009b536 = (undefined2)DAT_800a5a70;
      return local_18;
    }
  } while (iVar2 != 0);
  return 0;
}



bool FUN_8003a104(uint param_1)

{
  bool bVar1;
  
  bVar1 = param_1 < *(byte *)&VLC_BUFFER[0x19c].vlc_table;
  if (bVar1) {
    output_run_level_ = (uint)(output_run_level_ == 0);
    DecDCTvlc2((u_long *)
               ((int)&VLC_BUFFER[0x19c].vlc_table +
               *(int *)(&VLC_BUFFER[0x19c].field_0xc + param_1 * 0xc)),
               (u_long *)(&DCT_LOAD_BUF)[output_run_level_],&VLC_BUFFER->vlc_table);
  }
  return bVar1;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void FUN_8003a194(void)

{
  int local_8;
  
  local_8 = 0x800000;
  if (DAT_800a5a77 == '\0') {
    do {
      local_8 = local_8 + -1;
      if (local_8 == 0) {
        _buffer_counter_ = (uint)(_buffer_counter_ == 0);
        DAT_800a5a98 = (&DAT_8009b528)[_buffer_counter_ * 4];
        IMAGE_SIZE_OR_HEIGHT_ = (&DAT_8009b52a)[_buffer_counter_ * 4];
        DAT_800a5a77 = '\x01';
      }
    } while (DAT_800a5a77 == '\0');
  }
  DAT_800a5a77 = 0;
  return;
}



void FUN_8003a22c(u_char *param_1)

{
  int iVar1;
  u_char local_10 [8];
  
  local_10[0] = 0x80;
  do {
    do {
      iVar1 = CdControl('\x02',param_1,(u_char *)0x0);
    } while (iVar1 == 0);
    do {
      iVar1 = CdControl('\x0e',local_10,(u_char *)0x0);
    } while (iVar1 == 0);
    VSync(3);
    iVar1 = CdRead2(0x1e0);
  } while (iVar1 == 0);
  return;
}



void FUN_8003a2a0(void)

{
  DISPENV DStack_30;
  RECT local_18;
  
  VSync(0);
  SetDefDispEnv(&DStack_30,0,0,0x140,0x100);
  DStack_30.isrgb24 = '\0';
  DStack_30.screen.x = 0;
  DStack_30.screen.y = 0;
  DStack_30.screen.w = 0;
  DStack_30.screen.h = 0xf0;
  PutDispEnv(&DStack_30);
  local_18.x = 0;
  local_18.y = 0;
  local_18.w = 0x1e0;
  local_18.h = 0x100;
  ClearImage(&local_18,'\0','\0','\0');
  local_18.y = 0x100;
  ClearImage(&local_18,'\0','\0','\0');
  return;
}



int FUN_8003a794(int param_1,undefined param_2,short param_3,uint param_4)

{
  int iVar1;
  uint uVar2;
  int iVar3;
  short in_t0;
  code *pcVar4;
  short unaff_s2;
  
  iVar3 = (int)*(short *)(param_1 + 0x2e);
  if (iVar3 != 0) {
    if (iVar3 < 1) {
      pcVar4 = *(code **)(param_1 + 0x30);
    }
    else {
      iVar1 = iVar3 * 8 + *(int *)(param_1 + *(short *)(param_1 + 0x30));
      in_t0 = (short)*(undefined4 *)(iVar1 + -8);
      pcVar4 = *(code **)(iVar1 + -4);
    }
    iVar1 = (int)*(short *)(param_1 + 0x2c);
    if (0 < iVar3 << 0x10) {
      iVar1 = in_t0 + iVar1;
    }
    param_4 = (*pcVar4)(param_1 + iVar1,(int)(short)param_4);
  }
  iVar3 = (int)*(short *)(param_1 + 0x26);
  if (iVar3 != 0) {
    if (iVar3 < 1) {
      pcVar4 = *(code **)(param_1 + 0x28);
    }
    else {
      iVar1 = iVar3 * 8 + *(int *)(param_1 + *(short *)(param_1 + 0x28));
      unaff_s2 = (short)*(undefined4 *)(iVar1 + -8);
      pcVar4 = *(code **)(iVar1 + -4);
    }
    iVar1 = (int)*(short *)(param_1 + 0x24);
    if (0 < iVar3 << 0x10) {
      iVar1 = unaff_s2 + iVar1;
    }
    param_3 = (*pcVar4)(param_1 + iVar1,(int)param_3);
  }
  uVar2 = FUN_80081c68(BUF_PTR,param_2,(int)param_3);
  iVar3 = *(int *)(param_1 + 0x5c);
  iVar1 = ((param_4 | 0xf) - (uVar2 & 0xff)) * 0x10000;
  uVar2 = iVar1 / iVar3;
  if (iVar3 == 0) {
    trap(0x1c00);
  }
  if ((iVar3 == -1) && (iVar1 == -0x80000000)) {
    trap(0x1800);
  }
  iVar3 = uVar2 << 0x10;
  if ((*(int *)(param_1 + 0x58) == 0xc000) && (iVar3 = uVar2 << 0x10, (uVar2 & 3) - 1 < 2)) {
    iVar3 = (uVar2 + 1) * 0x10000;
  }
  return iVar3 >> 0x10;
}



void FUN_8003a974(int param_1,undefined4 param_2,short param_3)

{
  char cVar1;
  short sVar2;
  short sVar3;
  int iVar4;
  int iVar5;
  code *pcVar6;
  short unaff_s2;
  undefined local_38 [4];
  undefined auStack_34 [4];
  undefined local_30;
  undefined local_2f;
  undefined local_2e [22];
  
  iVar5 = (int)*(short *)(param_1 + 0x26);
  sVar2 = *(short *)(param_1 + 0x68);
  if (iVar5 != 0) {
    if (iVar5 < 1) {
      pcVar6 = *(code **)(param_1 + 0x28);
    }
    else {
      iVar4 = iVar5 * 8 + *(int *)(param_1 + *(short *)(param_1 + 0x28));
      param_3 = (short)*(undefined4 *)(iVar4 + -8);
      pcVar6 = *(code **)(iVar4 + -4);
    }
    iVar4 = (int)*(short *)(param_1 + 0x24);
    if (0 < iVar5 << 0x10) {
      iVar4 = param_3 + iVar4;
    }
    sVar2 = (*pcVar6)(param_1 + iVar4,(int)sVar2);
  }
  iVar5 = (int)*(short *)(param_1 + 0x2e);
  sVar3 = *(short *)(param_1 + 0x6a);
  if (iVar5 != 0) {
    if (iVar5 < 1) {
      pcVar6 = *(code **)(param_1 + 0x30);
    }
    else {
      iVar4 = iVar5 * 8 + *(int *)(param_1 + *(short *)(param_1 + 0x30));
      unaff_s2 = (short)*(undefined4 *)(iVar4 + -8);
      pcVar6 = *(code **)(iVar4 + -4);
    }
    iVar4 = (int)*(short *)(param_1 + 0x2c);
    if (0 < iVar5 << 0x10) {
      iVar4 = unaff_s2 + iVar4;
    }
    sVar3 = (*pcVar6)(param_1 + iVar4,(int)sVar3);
  }
  cVar1 = FUN_800245b8(BUF_PTR,(int)sVar2,(int)sVar3,local_38,auStack_34);
  if ((cVar1 != '\0') &&
     (cVar1 = FUN_8007eec8(BUF_PTR,local_38[0],&local_30,&local_2f,local_2e), cVar1 != '\0')) {
    iVar5 = *(int *)(param_1 + 0x34);
    *(undefined *)(iVar5 + 0x34) = local_30;
    *(undefined *)(iVar5 + 0x35) = local_2f;
    *(undefined *)(iVar5 + 0x36) = local_2e[0];
  }
  return;
}



undefined4 * FUN_80044f3c(undefined4 *param_1,short param_2,short param_3,int param_4)

{
  bool bVar1;
  bool bVar2;
  char cVar3;
  short sVar4;
  short sVar5;
  int iVar6;
  int iVar7;
  int iVar8;
  short unaff_s2;
  code *pcVar9;
  short unaff_s4;
  int local_38;
  undefined auStack_34 [20];
  
  FUN_8001c864(param_1,&DAT_8009b70c,0x3ca,(int)param_2,(int)param_3);
  param_1[6] = &DAT_80011088;
  *(undefined2 *)(param_1 + 4) = 900;
  *param_1 = 0xffff0000;
  param_1[1] = &LAB_800452d4;
  if (param_4 == 0) {
    FUN_8001c360(param_1);
  }
  else if (param_4 != 0x10000) {
    param_1[0x14] = param_4;
    param_1[0x15] = param_4;
    param_1[0x16] = param_4;
    param_1[0x17] = param_4;
    param_1[9] = 0xffff0000;
    param_1[10] = &LAB_8001a268;
    param_1[0xb] = 0xffff0000;
    param_1[0xc] = &LAB_8001a298;
    iVar6 = param_1[0x16];
    if (iVar6 == 0) {
      trap(0x1c00);
    }
    if ((iVar6 == -1) && ((int)*(short *)(param_1 + 0x1a) << 0x10 == -0x80000000)) {
      trap(0x1800);
    }
    iVar8 = param_1[0x17];
    iVar7 = (int)*(short *)((int)param_1 + 0x6a) << 0x10;
    if (iVar8 == 0) {
      trap(0x1c00);
    }
    if ((iVar8 == -1) && (iVar7 == -0x80000000)) {
      trap(0x1800);
    }
    *(short *)(param_1 + 0x1a) = (short)(((int)*(short *)(param_1 + 0x1a) << 0x10) / iVar6);
    *(short *)((int)param_1 + 0x6a) = (short)(iVar7 / iVar8);
  }
  bVar2 = false;
  iVar6 = (int)*(short *)((int)param_1 + 0x26);
  sVar4 = *(short *)(param_1 + 0x1a);
  bVar1 = false;
  param_1[0x41] = param_1[0x14];
  if (iVar6 != 0) {
    if (iVar6 < 1) {
      pcVar9 = (code *)param_1[10];
    }
    else {
      iVar7 = iVar6 * 8 + *(int *)((int)param_1 + (int)*(short *)(param_1 + 10));
      unaff_s2 = (short)*(undefined4 *)(iVar7 + -8);
      pcVar9 = *(code **)(iVar7 + -4);
    }
    iVar7 = (int)*(short *)(param_1 + 9);
    if (0 < iVar6 << 0x10) {
      iVar7 = unaff_s2 + iVar7;
    }
    sVar4 = (*pcVar9)((int)param_1 + iVar7,(int)sVar4);
  }
  iVar6 = (int)*(short *)((int)param_1 + 0x2e);
  sVar5 = *(short *)((int)param_1 + 0x6a);
  if (iVar6 != 0) {
    if (iVar6 < 1) {
      pcVar9 = (code *)param_1[0xc];
    }
    else {
      iVar7 = iVar6 * 8 + *(int *)((int)param_1 + (int)*(short *)(param_1 + 0xc));
      unaff_s4 = (short)*(undefined4 *)(iVar7 + -8);
      pcVar9 = *(code **)(iVar7 + -4);
    }
    iVar7 = (int)*(short *)(param_1 + 0xb);
    if (0 < iVar6 << 0x10) {
      iVar7 = unaff_s4 + iVar7;
    }
    sVar5 = (*pcVar9)((int)param_1 + iVar7,(int)sVar5);
  }
  cVar3 = FUN_800245b8(BUF_PTR,(int)sVar4,(int)sVar5,&local_38,auStack_34);
  if (cVar3 != '\0') {
    if (local_38 == 0x2c) {
      bVar2 = true;
    }
    else if (local_38 == 0x2e) {
      bVar1 = true;
    }
  }
  if (*(char *)(BUF_PTR + 0x19c) != '\0') {
    bVar2 = true;
  }
  param_1[0x42] = 0;
  if (bVar1) {
    iVar6 = param_1[0xd];
    *(undefined *)(iVar6 + 0x34) = 0x74;
    *(undefined *)(iVar6 + 0x35) = 0x24;
    *(undefined *)(iVar6 + 0x36) = 0x38;
  }
  else if (bVar2) {
    iVar6 = param_1[0xd];
    *(undefined *)(iVar6 + 0x34) = 0x38;
    *(undefined *)(iVar6 + 0x35) = 0x38;
    *(undefined *)(iVar6 + 0x36) = 0x60;
  }
  *(undefined *)(param_1 + 0x40) = 0x5a;
  return param_1;
}



undefined4 *
FUN_8004f4e0(undefined4 *param_1,short param_2,short param_3,undefined param_4,int param_5,
            undefined4 param_6)

{
  u_short uVar1;
  int iVar2;
  int iVar3;
  short unaff_s4;
  code *pcVar4;
  
  FUN_8001c71c(param_1,param_6,0x406,(int)param_2,(int)param_3,0);
  param_1[6] = &DAT_800115c8;
  *(undefined2 *)(param_1 + 4) = 100;
  param_1[7] = 0xffff0000;
  param_1[8] = &LAB_8004f86c;
  *param_1 = 0xffff0000;
  param_1[1] = &LAB_8004f6c4;
  FUN_8001aab0(param_1,param_4);
  if (param_5 != 0x10000) {
    param_1[0x14] = param_5;
    param_1[0x15] = param_5;
    param_1[0x16] = param_5;
    param_1[0x17] = param_5;
    param_1[9] = 0xffff0000;
    param_1[10] = &LAB_8001a268;
    param_1[0xb] = 0xffff0000;
    param_1[0xc] = &LAB_8001a298;
  }
  iVar3 = param_1[0xd];
  uVar1 = GetTPage((uint)*(byte *)(iVar3 + 0x32),1,(int)*(short *)(iVar3 + 0x10) & 0xffffffc0,
                   (int)*(short *)(iVar3 + 0x12) & 0xffffff00);
  *(u_short *)(iVar3 + 0x24) = uVar1;
  iVar3 = (int)*(short *)((int)param_1 + 2);
  if (iVar3 != 0) {
    if (iVar3 < 1) {
      pcVar4 = (code *)param_1[1];
    }
    else {
      iVar2 = iVar3 * 8 + *(int *)((int)param_1 + (int)*(short *)(param_1 + 1));
      unaff_s4 = (short)*(undefined4 *)(iVar2 + -8);
      pcVar4 = *(code **)(iVar2 + -4);
    }
    iVar2 = (int)*(short *)param_1;
    if (0 < iVar3 << 0x10) {
      iVar2 = unaff_s4 + iVar2;
    }
    (*pcVar4)((int)param_1 + iVar2);
  }
  return param_1;
}



undefined4 * FUN_8004f89c(undefined4 *param_1,short param_2,short param_3,char param_4,int param_5)

{
  undefined4 uVar1;
  undefined *puVar2;
  undefined uVar3;
  int iVar4;
  int iVar5;
  short unaff_s2;
  code *pcVar6;
  
  FUN_8001c864(param_1,&DAT_8009bc3c,0x4b0,(int)param_2,(int)param_3);
  param_1[6] = &DAT_800115a8;
  *(undefined2 *)(param_1 + 4) = 300;
  *(char *)(param_1 + 0x1d) = param_4;
  param_1[7] = 0xffff0000;
  param_1[8] = &LAB_8004fd78;
  *param_1 = 0xffff0000;
  param_1[1] = &LAB_8004fb18;
  param_1[2] = 0xffff0000;
  param_1[3] = &LAB_8004fcfc;
  if (param_5 != 0x10000) {
    param_1[0x14] = param_5;
    param_1[0x15] = param_5;
    param_1[0x16] = param_5;
    param_1[0x17] = param_5;
    param_1[9] = 0xffff0000;
    param_1[10] = &LAB_8001a268;
    param_1[0xb] = 0xffff0000;
    param_1[0xc] = &LAB_8001a298;
  }
  param_1[0x42] = 0;
  *(undefined2 *)(param_1 + 0x1b) = 0;
  *(undefined2 *)((int)param_1 + 0x6e) = 0;
  if (param_4 == '\0') {
    uVar3 = 0x20;
  }
  else {
    uVar3 = 0x60;
  }
  *(undefined *)((int)param_1 + 0x102) = uVar3;
  *(undefined2 *)(param_1 + 0x41) = 4;
  puVar2 = PTR_LAB_800a5cd8;
  uVar1 = DAT_800a5cd4;
  *(undefined *)(param_1 + 0x40) = 2;
  *(undefined *)((int)param_1 + 0x101) = 10;
  FUN_8001eaa8(param_1,uVar1,puVar2);
  iVar5 = (int)*(short *)((int)param_1 + 2);
  if (iVar5 != 0) {
    if (iVar5 < 1) {
      pcVar6 = (code *)param_1[1];
    }
    else {
      iVar4 = iVar5 * 8 + *(int *)((int)param_1 + (int)*(short *)(param_1 + 1));
      unaff_s2 = (short)*(undefined4 *)(iVar4 + -8);
      pcVar6 = *(code **)(iVar4 + -4);
    }
    iVar4 = (int)*(short *)param_1;
    if (0 < iVar5 << 0x10) {
      iVar4 = unaff_s2 + iVar4;
    }
    (*pcVar6)((int)param_1 + iVar4);
  }
  return param_1;
}



void FUN_8005028c(int param_1)

{
  int iVar1;
  int *piVar2;
  int iVar3;
  int iVar4;
  short unaff_s4;
  code *pcVar5;
  int iVar6;
  int iVar7;
  short local_30;
  short local_2e;
  short local_2c;
  short local_2a;
  
  iVar3 = BUF_PTR;
  iVar4 = 10000;
  *(undefined4 *)(param_1 + 0x108) = 0;
  for (piVar2 = *(int **)(iVar3 + 0x24); piVar2 != (int *)0x0; piVar2 = (int *)*piVar2) {
    iVar3 = piVar2[1];
    if ((*(ushort *)(iVar3 + 0x12) & 4) != 0) {
      FUN_8001a444(iVar3,&local_30);
      iVar1 = *(int *)(param_1 + 0x58);
      iVar6 = ((int)local_30 << 0x10) / iVar1;
      if (iVar1 == 0) {
        trap(0x1c00);
      }
      if ((iVar1 == -1) && ((int)local_30 << 0x10 == -0x80000000)) {
        trap(0x1800);
      }
      local_30 = (short)iVar6;
      iVar1 = *(int *)(param_1 + 0x58);
      if (iVar1 == 0) {
        trap(0x1c00);
      }
      if ((iVar1 == -1) && ((int)local_2c << 0x10 == -0x80000000)) {
        trap(0x1800);
      }
      local_2c = (short)(((int)local_2c << 0x10) / iVar1);
      iVar1 = *(int *)(param_1 + 0x5c);
      iVar7 = ((int)local_2e << 0x10) / iVar1;
      if (iVar1 == 0) {
        trap(0x1c00);
      }
      if ((iVar1 == -1) && ((int)local_2e << 0x10 == -0x80000000)) {
        trap(0x1800);
      }
      local_2e = (short)iVar7;
      iVar1 = *(int *)(param_1 + 0x5c);
      if (iVar1 == 0) {
        trap(0x1c00);
      }
      if ((iVar1 == -1) && ((int)local_2a << 0x10 == -0x80000000)) {
        trap(0x1800);
      }
      local_2a = (short)(((int)local_2a << 0x10) / iVar1);
      iVar1 = (int)(((iVar6 + ((int)local_2c - (int)local_30 >> 1)) -
                    (uint)*(ushort *)(param_1 + 0x68)) * 0x10000) >> 0x10;
      iVar6 = (int)(((iVar7 + ((int)local_2a - (int)local_2e >> 1)) -
                    (uint)*(ushort *)(param_1 + 0x6a)) * 0x10000) >> 0x10;
      iVar1 = csqrt((iVar1 * iVar1 + iVar6 * iVar6) * 0x1000);
      iVar1 = (iVar1 << 4) >> 0x10;
      if ((*(int *)(param_1 + 0x108) == 0) || (iVar1 < (short)iVar4)) {
        *(int *)(param_1 + 0x108) = iVar3;
        iVar4 = iVar1;
      }
    }
  }
  iVar3 = *(int *)(param_1 + 0x108);
  if (iVar3 != 0) {
    iVar4 = (int)*(short *)(iVar3 + 10);
    if (iVar4 == 0) {
      iVar3 = 0;
    }
    else {
      if (iVar4 < 1) {
        pcVar5 = *(code **)(iVar3 + 0xc);
      }
      else {
        iVar1 = iVar4 * 8 + *(int *)(iVar3 + *(short *)(iVar3 + 0xc));
        unaff_s4 = (short)*(undefined4 *)(iVar1 + -8);
        pcVar5 = *(code **)(iVar1 + -4);
      }
      iVar1 = (int)*(short *)(iVar3 + 8);
      if (0 < iVar4 << 0x10) {
        iVar1 = unaff_s4 + iVar1;
      }
      iVar3 = (*pcVar5)(iVar3 + iVar1,0x1008,0,param_1);
    }
    if (iVar3 == 0) {
      *(undefined4 *)(param_1 + 0x108) = 0;
    }
  }
  return;
}



void FUN_80053228(undefined4 *param_1,short param_2,short param_3,undefined param_4)

{
  FUN_8001c71c(param_1,0xb01c25f0,9000,(int)param_2,(int)param_3,0);
  param_1[6] = &DAT_800114a8;
  FUN_8001aab0(param_1,param_4);
  param_1[7] = 0xffff0000;
  param_1[8] = &LAB_80053624;
  *param_1 = 0xffff0000;
  param_1[1] = &LAB_8005330c;
  *(undefined2 *)((int)param_1 + 0x106) = 0;
  *(undefined *)(param_1 + 0x41) = 0;
  *(undefined *)((int)param_1 + 0xf6) = 0;
  *(undefined2 *)(param_1 + 0x40) = *(undefined2 *)(param_1 + 0x1a);
  *(undefined2 *)((int)param_1 + 0x102) = *(undefined2 *)((int)param_1 + 0x6a);
  *(undefined *)(param_1[0xd] + 0x37) = 0;
  return;
}



undefined4 * FUN_800549b0(undefined4 *param_1,short param_2,short param_3)

{
  FUN_8001c71c(param_1,0xc34aa22,0x3cc,(int)param_2,(int)param_3,0);
  param_1[6] = &DAT_800113e8;
  *(undefined2 *)(param_1 + 4) = 0x44c;
  param_1[0x40] = 0xfff80000;
  param_1[7] = 0xffff0000;
  param_1[8] = &LAB_80054c00;
  *param_1 = 0xffff0000;
  param_1[1] = &LAB_80054a68;
  return param_1;
}



void FUN_80059664(undefined4 *param_1,undefined4 param_2,short param_3,short param_4,char param_5)

{
  undefined uVar1;
  undefined4 uVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  short sVar6;
  undefined *puVar7;
  uint uVar8;
  
  FUN_8001c864(param_1,&DAT_8009c1d0,1000,(int)param_3,(int)param_4);
  param_1[6] = &DAT_80011804;
  *(undefined2 *)(param_1 + 4) = 1000;
  param_1[0x40] = param_2;
  param_1[0x5d] = 0xffffffff;
  param_1[7] = 0xffff0000;
  param_1[8] = &LAB_80061140;
  *param_1 = 0xffff0000;
  param_1[1] = FUN_8005b3d4;
  param_1[9] = 0xffff0000;
  param_1[10] = &LAB_8001a268;
  param_1[0xb] = 0xffff0000;
  param_1[0xc] = &LAB_8001a298;
  uVar2 = 0x8000;
  if (PTR_DAT_800a59d8[0x18] == '\0') {
    uVar2 = *(undefined4 *)(BUF_PTR + 0x11c);
  }
  param_1[0x16] = uVar2;
  iVar3 = param_1[0x16];
  if (iVar3 == 0) {
    trap(0x1c00);
  }
  if ((iVar3 == -1) && ((int)*(short *)(param_1 + 0x1a) << 0x10 == -0x80000000)) {
    trap(0x1800);
  }
  param_1[0x17] = param_1[0x16];
  iVar5 = param_1[0x17];
  iVar4 = (int)*(short *)((int)param_1 + 0x6a) << 0x10;
  uVar8 = iVar4 / iVar5;
  if (iVar5 == 0) {
    trap(0x1c00);
  }
  if ((iVar5 == -1) && (iVar4 == -0x80000000)) {
    trap(0x1800);
  }
  param_1[0x15] = param_1[0x16];
  param_1[0x14] = param_1[0x16];
  *(short *)(param_1 + 0x1a) = (short)(((int)*(short *)(param_1 + 0x1a) << 0x10) / iVar3);
  sVar6 = (short)uVar8;
  *(short *)((int)param_1 + 0x6a) = sVar6;
  if ((param_1[0x16] == 0xc000) && ((uVar8 & 3) - 1 < 2)) {
    *(short *)((int)param_1 + 0x6a) = sVar6 + 1;
  }
  FUN_80059a30(param_1);
  *(undefined *)((int)param_1 + 0x1b3) = 0xff;
  *(undefined *)((int)param_1 + 0x1ae) = 0;
  *(undefined *)((int)param_1 + 0x1af) = 0;
  *(undefined *)(param_1 + 0x6c) = 0;
  *(undefined *)((int)param_1 + 0x1b1) = 0;
  *(undefined *)(param_1 + 0x5e) = 0;
  *(undefined *)((int)param_1 + 0x1b2) = 0;
  *(undefined *)(param_1 + 0x4a) = 0;
  *(undefined *)(param_1 + 0x4f) = 0;
  *(undefined *)(param_1 + 0x4d) = 0;
  *(undefined *)((int)param_1 + 0x135) = 0;
  iVar3 = BUF_PTR;
  *(undefined2 *)((int)param_1 + 0x1a6) = 0;
  *(undefined2 *)(param_1 + 0x6a) = 0;
  param_1[0x43] = 0;
  param_1[0x44] = 0;
  param_1[0x45] = 0;
  param_1[0x46] = 0;
  *(undefined2 *)(param_1 + 0x58) = 0;
  *(undefined2 *)((int)param_1 + 0x162) = 0;
  param_1[0x4b] = 0;
  *(undefined2 *)((int)param_1 + 0x136) = 0;
  param_1[0x2d] = 0;
  param_1[0x2e] = 0;
  *(undefined *)((int)param_1 + 0x15d) = *(undefined *)(iVar3 + 0x124);
  *(undefined *)((int)param_1 + 0x15e) = *(undefined *)(BUF_PTR + 0x125);
  uVar1 = *(undefined *)(BUF_PTR + 0x126);
  *(undefined *)((int)param_1 + 0x17d) = 0;
  *(undefined *)((int)param_1 + 0x15f) = uVar1;
  param_1[0x50] = 0;
  *(undefined *)((int)param_1 + 0x159) = 0;
  *(undefined *)(param_1 + 0x59) = 0;
  iVar3 = BUF_PTR;
  *(undefined2 *)(param_1 + 0x51) = 0;
  param_1[0x53] = 0;
  *(undefined2 *)((int)param_1 + 0x156) = 0;
  if (*(char *)(iVar3 + 0x161) == '\0') {
    uVar2 = DAT_800a5d8c;
    puVar7 = PTR_LAB_800a5d90;
    if (param_5 != '\0') {
      uVar2 = DAT_800a5d84;
      puVar7 = PTR_LAB_800a5d88;
    }
  }
  else {
    uVar1 = *(undefined *)(iVar3 + 0x198);
    *(undefined *)((int)param_1 + 0x1b3) = uVar1;
    FUN_8007c32c(uVar1);
    puVar7 = PTR_LAB_800a5d80;
    uVar2 = DAT_800a5d7c;
    iVar3 = BUF_PTR;
    *(undefined *)((int)param_1 + 0x15d) = *(undefined *)(BUF_PTR + 0x199);
    *(undefined *)((int)param_1 + 0x15e) = *(undefined *)(iVar3 + 0x19a);
    *(undefined *)((int)param_1 + 0x15f) = *(undefined *)(iVar3 + 0x19b);
  }
  FUN_8001eaa8(param_1,uVar2,puVar7);
  puVar7 = PTR_DAT_800a59d8;
  param_1[0x5a] = 0;
  if ((puVar7[0x17] & 1) != 0) {
    uVar2 = FUN_800143ec(PTR_DAT_800a59b0,0x30,1,0);
    uVar2 = FUN_8006de58(uVar2,param_1);
    iVar3 = BUF_PTR;
    param_1[0x5a] = uVar2;
    FUN_80020f64(iVar3);
    FUN_80021078(BUF_PTR,*(undefined4 *)(param_1[0x5a] + 0x24));
  }
  param_1[0x5b] = 0;
  *(undefined *)(param_1 + 0x5c) = 0;
  param_1[0x68] = 0;
  return;
}



void FUN_80059a30(int param_1)

{
  undefined *puVar1;
  bool bVar2;
  uint uVar3;
  uint uVar4;
  undefined4 *puVar5;
  short sVar6;
  undefined auStack_38 [12];
  uint uStack_2c;
  undefined local_20 [8];
  undefined auStack_18 [8];
  
  puVar5 = &DAT_8009c404;
  *(undefined *)(param_1 + 0x19d) = 0xff;
  *(undefined *)(param_1 + 0x19c) = 0;
  for (sVar6 = 0; sVar6 < 7; sVar6 = sVar6 + 1) {
    FUN_8007bbac(auStack_38,*puVar5);
    puVar1 = local_20 + 3;
    uVar3 = (uint)puVar1 & 3;
    *(uint *)(puVar1 + -uVar3) =
         *(uint *)(puVar1 + -uVar3) & -1 << (uVar3 + 1) * 8 | uStack_2c >> (3 - uVar3) * 8;
    local_20._0_4_ = uStack_2c;
    uVar3 = local_20._0_4_;
    local_20._0_2_ = (undefined2)uStack_2c;
    bVar2 = false;
    if (local_20._0_2_ != 0) {
      puVar1 = auStack_18 + 3;
      uVar4 = (uint)puVar1 & 3;
      *(uint *)(puVar1 + -uVar4) =
           *(uint *)(puVar1 + -uVar4) & -1 << (uVar4 + 1) * 8 | uStack_2c >> (3 - uVar4) * 8;
      auStack_18._0_4_ = uStack_2c;
      auStack_18._2_2_ = (undefined2)(uStack_2c >> 0x10);
      bVar2 = auStack_18._2_2_ != 0;
      auStack_18._0_4_ = uVar3;
    }
    if (bVar2) {
      *(undefined4 *)((uint)*(byte *)(param_1 + 0x19c) * 4 + param_1 + 0x180) = *puVar5;
      *(char *)(param_1 + 0x19c) = *(char *)(param_1 + 0x19c) + '\x01';
    }
    puVar5 = puVar5 + 1;
    local_20._0_4_ = uVar3;
  }
  return;
}



bool FUN_80059b88(int param_1,char param_2)

{
  bool bVar1;
  int iVar2;
  char local_18;
  char local_17;
  char local_16;
  char local_15 [5];
  
  iVar2 = 2;
  if (param_2 != '\0') {
    iVar2 = -2;
  }
  local_18 = FUN_8001fea4(param_1,(int)(((uint)*(ushort *)(param_1 + 0x68) + iVar2) * 0x10000) >>
                                  0x10,(int)((*(ushort *)(param_1 + 0x6a) - 0xf) * 0x10000) >> 0x10)
  ;
  local_17 = FUN_8001fea4(param_1,(int)(((uint)*(ushort *)(param_1 + 0x68) + iVar2) * 0x10000) >>
                                  0x10,(int)((*(ushort *)(param_1 + 0x6a) - 0x10) * 0x10000) >> 0x10
                         );
  local_16 = FUN_8001fea4(param_1,(int)(((uint)*(ushort *)(param_1 + 0x68) + iVar2) * 0x10000) >>
                                  0x10,(int)((*(ushort *)(param_1 + 0x6a) - 0x20) * 0x10000) >> 0x10
                         );
  local_15[0] = FUN_8001fea4(param_1,(int)(((uint)*(ushort *)(param_1 + 0x68) + iVar2) * 0x10000) >>
                                     0x10,
                             (int)((*(ushort *)(param_1 + 0x6a) - 0x30) * 0x10000) >> 0x10);
  FUN_8005a584(param_1,&local_18);
  FUN_8005a584(param_1,&local_17);
  FUN_8005a584(param_1,&local_16);
  FUN_8005a584(param_1,local_15);
  bVar1 = false;
  if (((local_18 != 'e') && (bVar1 = false, local_17 != 'e')) && (bVar1 = false, local_16 != 'e')) {
    bVar1 = local_15[0] != 'e';
  }
  return bVar1;
}



int FUN_80059dfc(int param_1,ushort param_2,short param_3)

{
  int iVar1;
  int iVar2;
  code *pcVar3;
  uint uVar4;
  
  iVar2 = (int)*(short *)(param_1 + 0x2e);
  if (iVar2 != 0) {
    if (iVar2 < 1) {
      pcVar3 = *(code **)(param_1 + 0x30);
    }
    else {
      iVar1 = iVar2 * 8 + *(int *)(param_1 + *(short *)(param_1 + 0x30));
      param_3 = (short)*(undefined4 *)(iVar1 + -8);
      pcVar3 = *(code **)(iVar1 + -4);
    }
    iVar1 = (int)*(short *)(param_1 + 0x2c);
    if (0 < iVar2 << 0x10) {
      iVar1 = param_3 + iVar1;
    }
    param_2 = (*pcVar3)(param_1 + iVar1,(int)(short)param_2);
  }
  iVar2 = *(int *)(param_1 + 0x5c);
  uVar4 = (int)((uint)(param_2 & 0xfff0) << 0x10) / iVar2;
  if (iVar2 == 0) {
    trap(0x1c00);
  }
  if ((iVar2 == -1) && ((param_2 & 0xfff0) == 0x8000)) {
    trap(0x1800);
  }
  iVar2 = uVar4 << 0x10;
  if ((*(int *)(param_1 + 0x58) == 0xc000) && (iVar2 = uVar4 << 0x10, (uVar4 & 3) - 1 < 2)) {
    iVar2 = (uVar4 + 1) * 0x10000;
  }
  return iVar2 >> 0x10;
}



int FUN_80059fe8(int param_1,uint param_2,short param_3)

{
  int iVar1;
  int iVar2;
  code *pcVar3;
  uint uVar4;
  
  iVar2 = (int)*(short *)(param_1 + 0x26);
  if (iVar2 != 0) {
    if (iVar2 < 1) {
      pcVar3 = *(code **)(param_1 + 0x28);
    }
    else {
      iVar1 = iVar2 * 8 + *(int *)(param_1 + *(short *)(param_1 + 0x28));
      param_3 = (short)*(undefined4 *)(iVar1 + -8);
      pcVar3 = *(code **)(iVar1 + -4);
    }
    iVar1 = (int)*(short *)(param_1 + 0x24);
    if (0 < iVar2 << 0x10) {
      iVar1 = param_3 + iVar1;
    }
    param_2 = (*pcVar3)(param_1 + iVar1,(int)(short)param_2);
  }
  iVar1 = *(int *)(param_1 + 0x58);
  iVar2 = ((param_2 & 0xfffffff0) + 0x10) * 0x10000;
  uVar4 = iVar2 / iVar1;
  if (iVar1 == 0) {
    trap(0x1c00);
  }
  if ((iVar1 == -1) && (iVar2 == -0x80000000)) {
    trap(0x1800);
  }
  iVar2 = uVar4 << 0x10;
  if ((iVar1 == 0xc000) && (iVar2 = uVar4 << 0x10, (uVar4 & 3) - 1 < 2)) {
    iVar2 = (uVar4 + 1) * 0x10000;
  }
  return iVar2 >> 0x10;
}



int FUN_8005a1d8(int param_1,undefined param_2,short param_3,uint param_4)

{
  int iVar1;
  uint uVar2;
  int iVar3;
  short in_t0;
  code *pcVar4;
  short unaff_s2;
  
  iVar3 = (int)*(short *)(param_1 + 0x2e);
  if (iVar3 != 0) {
    if (iVar3 < 1) {
      pcVar4 = *(code **)(param_1 + 0x30);
    }
    else {
      iVar1 = iVar3 * 8 + *(int *)(param_1 + *(short *)(param_1 + 0x30));
      in_t0 = (short)*(undefined4 *)(iVar1 + -8);
      pcVar4 = *(code **)(iVar1 + -4);
    }
    iVar1 = (int)*(short *)(param_1 + 0x2c);
    if (0 < iVar3 << 0x10) {
      iVar1 = in_t0 + iVar1;
    }
    param_4 = (*pcVar4)(param_1 + iVar1,(int)(short)param_4);
  }
  iVar3 = (int)*(short *)(param_1 + 0x26);
  if (iVar3 != 0) {
    if (iVar3 < 1) {
      pcVar4 = *(code **)(param_1 + 0x28);
    }
    else {
      iVar1 = iVar3 * 8 + *(int *)(param_1 + *(short *)(param_1 + 0x28));
      unaff_s2 = (short)*(undefined4 *)(iVar1 + -8);
      pcVar4 = *(code **)(iVar1 + -4);
    }
    iVar1 = (int)*(short *)(param_1 + 0x24);
    if (0 < iVar3 << 0x10) {
      iVar1 = unaff_s2 + iVar1;
    }
    param_3 = (*pcVar4)(param_1 + iVar1,(int)param_3);
  }
  uVar2 = FUN_80081c68(BUF_PTR,param_2,(int)param_3);
  iVar3 = *(int *)(param_1 + 0x5c);
  iVar1 = ((param_4 | 0xf) - (uVar2 & 0xff)) * 0x10000;
  uVar2 = iVar1 / iVar3;
  if (iVar3 == 0) {
    trap(0x1c00);
  }
  if ((iVar3 == -1) && (iVar1 == -0x80000000)) {
    trap(0x1800);
  }
  iVar3 = uVar2 << 0x10;
  if ((*(int *)(param_1 + 0x58) == 0xc000) && (iVar3 = uVar2 << 0x10, (uVar2 & 3) - 1 < 2)) {
    iVar3 = (uVar2 + 1) * 0x10000;
  }
  return iVar3 >> 0x10;
}



bool FUN_8005a3b8(int param_1,undefined param_2,short param_3,uint param_4,ushort param_5)

{
  int iVar1;
  uint uVar2;
  int iVar3;
  short in_t0;
  code *pcVar4;
  short unaff_s2;
  
  iVar3 = (int)*(short *)(param_1 + 0x2e);
  if (iVar3 != 0) {
    if (iVar3 < 1) {
      pcVar4 = *(code **)(param_1 + 0x30);
    }
    else {
      iVar1 = iVar3 * 8 + *(int *)(param_1 + *(short *)(param_1 + 0x30));
      in_t0 = (short)*(undefined4 *)(iVar1 + -8);
      pcVar4 = *(code **)(iVar1 + -4);
    }
    iVar1 = (int)*(short *)(param_1 + 0x2c);
    if (0 < iVar3 << 0x10) {
      iVar1 = in_t0 + iVar1;
    }
    param_4 = (*pcVar4)(param_1 + iVar1,(int)(short)param_4);
  }
  iVar3 = (int)*(short *)(param_1 + 0x26);
  if (iVar3 != 0) {
    if (iVar3 < 1) {
      pcVar4 = *(code **)(param_1 + 0x28);
    }
    else {
      iVar1 = iVar3 * 8 + *(int *)(param_1 + *(short *)(param_1 + 0x28));
      unaff_s2 = (short)*(undefined4 *)(iVar1 + -8);
      pcVar4 = *(code **)(iVar1 + -4);
    }
    iVar1 = (int)*(short *)(param_1 + 0x24);
    if (0 < iVar3 << 0x10) {
      iVar1 = unaff_s2 + iVar1;
    }
    param_3 = (*pcVar4)(param_1 + iVar1,(int)param_3);
  }
  uVar2 = FUN_80081c68(BUF_PTR,param_2,(int)param_3);
  iVar3 = *(int *)(param_1 + 0x5c);
  iVar1 = ((param_4 | 0xf) - (uVar2 & 0xff)) * 0x10000;
  if (iVar3 == 0) {
    trap(0x1c00);
  }
  if ((iVar3 == -1) && (iVar1 == -0x80000000)) {
    trap(0x1800);
  }
  return ((uint)param_5 - iVar1 / iVar3 & 0xffff) < 10;
}



undefined4 FUN_8005a584(int param_1,char *param_2)

{
  char cVar1;
  undefined4 uVar2;
  
  cVar1 = *param_2;
  if (((((byte)(cVar1 + 0x4bU) < 3) || (cVar1 == -0x37)) || (cVar1 == -0x35)) ||
     (uVar2 = 0, (byte)(cVar1 + 0x23U) < 3)) {
    if (*(char *)(param_1 + 0x128) == '\0') {
      uVar2 = 1;
    }
    else {
      *param_2 = 'e';
      uVar2 = 0;
    }
  }
  return uVar2;
}



void FUN_8005a5f0(int param_1,char param_2)

{
  uint uVar1;
  undefined4 uVar2;
  undefined4 uVar3;
  undefined *puVar4;
  
  if ((param_2 == -0x22) && (uVar1 = FUN_8007b43c(BUF_PTR + 0x84), (uVar1 & 0xffff) >> 0xf != 0)) {
    uVar3 = *(undefined4 *)(param_1 + 0x68);
    uVar2 = FUN_800143ec(PTR_DAT_800a59b0,0x108,1,0);
    uVar3 = FUN_80030d08(uVar2,0x2e2414,uVar3,*(undefined *)(param_1 + 0x74),
                         *(undefined4 *)(param_1 + 0x58),0x3e9,0);
    FUN_800213a4(BUF_PTR,uVar3);
  }
  if ((PTR_DAT_800a59d8[0x17] & 1) == 0) {
    uVar3 = DAT_800a5ddc;
    puVar4 = PTR_LAB_800a5de0;
    if (*(short *)(param_1 + 0x144) != 0) {
      uVar3 = DAT_800a5dd4;
      puVar4 = PTR_LAB_800a5dd8;
    }
  }
  else {
    switch(param_2) {
    case -0x4b:
      uVar3 = DAT_800a5d94;
      puVar4 = PTR_LAB_800a5d98;
      break;
    case -0x4a:
      uVar3 = DAT_800a5d9c;
      puVar4 = PTR_LAB_800a5da0;
      break;
    case -0x49:
      uVar3 = DAT_800a5da4;
      puVar4 = PTR_LAB_800a5da8;
      break;
    default:
      goto switchD_8005a6e4_caseD_b8;
    case -0x37:
      uVar3 = DAT_800a5dac;
      puVar4 = PTR_LAB_800a5db0;
      break;
    case -0x35:
      uVar3 = DAT_800a5db4;
      puVar4 = PTR_LAB_800a5db8;
      break;
    case -0x23:
      uVar3 = DAT_800a5dbc;
      puVar4 = PTR_LAB_800a5dc0;
      break;
    case -0x22:
      uVar3 = DAT_800a5dc4;
      puVar4 = PTR_LAB_800a5dc8;
      break;
    case -0x21:
      uVar3 = DAT_800a5dcc;
      puVar4 = PTR_LAB_800a5dd0;
    }
  }
  FUN_8001eaa8(param_1,uVar3,puVar4);
switchD_8005a6e4_caseD_b8:
  return;
}



void FUN_8005a8d4(int param_1,undefined4 param_2,short param_3)

{
  bool bVar1;
  char cVar2;
  short sVar3;
  short sVar4;
  undefined2 uVar5;
  int iVar6;
  undefined4 uVar7;
  uint uVar8;
  int iVar9;
  code *pcVar10;
  short unaff_s2;
  uint local_30;
  undefined local_2c [20];
  
  bVar1 = false;
  if (*(short *)(param_1 + 0xa2) == -1) {
    bVar1 = *(undefined **)(param_1 + 0xa4) == &LAB_80069eb4;
  }
  if (bVar1) {
    return;
  }
  iVar9 = (int)*(short *)(param_1 + 0x26);
  sVar3 = *(short *)(param_1 + 0x68);
  if (iVar9 != 0) {
    if (iVar9 < 1) {
      pcVar10 = *(code **)(param_1 + 0x28);
    }
    else {
      iVar6 = iVar9 * 8 + *(int *)(param_1 + *(short *)(param_1 + 0x28));
      param_3 = (short)*(undefined4 *)(iVar6 + -8);
      pcVar10 = *(code **)(iVar6 + -4);
    }
    iVar6 = (int)*(short *)(param_1 + 0x24);
    if (0 < iVar9 << 0x10) {
      iVar6 = param_3 + iVar6;
    }
    sVar3 = (*pcVar10)(param_1 + iVar6,(int)sVar3);
  }
  iVar9 = (int)*(short *)(param_1 + 0x2e);
  sVar4 = *(short *)(param_1 + 0x6a);
  if (iVar9 != 0) {
    if (iVar9 < 1) {
      pcVar10 = *(code **)(param_1 + 0x30);
    }
    else {
      iVar6 = iVar9 * 8 + *(int *)(param_1 + *(short *)(param_1 + 0x30));
      unaff_s2 = (short)*(undefined4 *)(iVar6 + -8);
      pcVar10 = *(code **)(iVar6 + -4);
    }
    iVar6 = (int)*(short *)(param_1 + 0x2c);
    if (0 < iVar9 << 0x10) {
      iVar6 = unaff_s2 + iVar6;
    }
    sVar4 = (*pcVar10)(param_1 + iVar6,(int)sVar4);
  }
  cVar2 = FUN_800245b8(BUF_PTR,(int)sVar3,(int)sVar4,&local_30,local_2c);
  if (cVar2 == '\0') {
    return;
  }
  switch(local_30) {
  case 0:
    *(undefined *)(BUF_PTR + 0x148) = local_2c[0];
    break;
  default:
    uVar8 = local_30 - 0x32 & 0xff;
    if (local_30 - 0x32 < 10) {
      if (PTR_DAT_800a59d8[uVar8 + 6] == '\0') {
        PTR_DAT_800a59d8[uVar8 + 6] = 1;
        FUN_8001c4a0(param_1,0x7003474c);
      }
    }
    else if (*(char *)(param_1 + 0x1ae) == '\0') {
      FUN_8007eec8(BUF_PTR,local_30 & 0xff,param_1 + 0x15d,param_1 + 0x15e,param_1 + 0x15f);
    }
    break;
  case 2:
  case 3:
  case 4:
  case 5:
  case 6:
  case 7:
    if ((local_30 - 2 & 0xff) != (uint)*(byte *)(param_1 + 0x1b3)) {
      FUN_8007c32c();
      *(char *)(param_1 + 0x1b3) = (char)(local_30 - 2);
      if ((((-1 < *(int *)(param_1 + 0x174)) && (*(short *)(param_1 + 0xa2) == -1)) &&
          (*(undefined **)(param_1 + 0xa4) == &LAB_80067de8)) &&
         (*(int *)(param_1 + 0xcc) == 0x92b8480)) {
        uVar7 = FUN_8007c348(0x248e52,0xa0,0);
        FUN_8007c778(*(undefined4 *)(param_1 + 0x174));
        *(undefined4 *)(param_1 + 0x174) = uVar7;
      }
    }
    break;
  case 0x2a:
    bVar1 = false;
    if (((*(short *)(param_1 + 0xa2) == -1) && (*(undefined **)(param_1 + 0xa4) == &LAB_80067894))
       || ((*(short *)(param_1 + 0xa2) == -1 && (*(undefined **)(param_1 + 0xa4) == &LAB_80067de8)))
       ) {
      bVar1 = true;
    }
    if (bVar1) {
      FUN_8001eaa8(param_1,DAT_800a5de4,PTR_LAB_800a5de8);
    }
    break;
  case 0x3d:
    *(undefined2 *)(param_1 + 0x160) = 0xffff;
    break;
  case 0x3e:
    *(undefined2 *)(param_1 + 0x160) = 1;
    break;
  case 0x3f:
    cVar2 = *(char *)(param_1 + 0x170);
    uVar5 = 0xfffe;
    goto LAB_8005ab28;
  case 0x40:
    cVar2 = *(char *)(param_1 + 0x170);
    uVar5 = 2;
LAB_8005ab28:
    *(undefined2 *)(param_1 + 0x160) = uVar5;
    if (cVar2 != '\0') {
      *(undefined2 *)(param_1 + 0x162) = 0xffff;
    }
    break;
  case 0x41:
    *(undefined2 *)(param_1 + 0x162) = 0xfffc;
    break;
  case 0x51:
    FUN_80025660(BUF_PTR,1);
    *(undefined2 *)(param_1 + 0x1a6) = 1;
    break;
  case 0x52:
    FUN_800256b4(BUF_PTR,1);
    *(undefined2 *)(param_1 + 0x1a8) = 1;
    break;
  case 0x65:
    FUN_80025660(BUF_PTR,0);
    *(undefined2 *)(param_1 + 0x1a6) = 0;
    break;
  case 0x66:
    FUN_800256b4(BUF_PTR,0);
    *(undefined2 *)(param_1 + 0x1a8) = 0;
    break;
  case 0x79:
    FUN_80025660(BUF_PTR,2);
    *(undefined2 *)(param_1 + 0x1a6) = 2;
    break;
  case 0x7a:
    FUN_800256b4(BUF_PTR,2);
    *(undefined2 *)(param_1 + 0x1a8) = 2;
  }
  return;
}



void FUN_8005ad14(int param_1)

{
  short sVar1;
  short sVar2;
  undefined4 uVar3;
  undefined4 uVar4;
  short local_10;
  
  local_10 = *(short *)(param_1 + 0x68) + 0x14;
  if (*(char *)(param_1 + 0x74) != '\0') {
    local_10 = *(short *)(param_1 + 0x68) + -0x14;
  }
  sVar1 = *(short *)(param_1 + 0x6a);
  sVar2 = *(short *)(param_1 + 0x136);
  if (*(char *)(param_1 + 0x1b1) == '\0') {
    uVar3 = FUN_800143ec(PTR_DAT_800a59b0,0x100,1,0);
    uVar4 = 0xca1b20cb;
  }
  else {
    uVar3 = FUN_800143ec(PTR_DAT_800a59b0,0x100,1,0);
    uVar4 = 0x3d348056;
  }
  uVar3 = FUN_8004f4e0(uVar3,(int)local_10,(int)(short)(sVar1 + sVar2),
                       *(undefined *)(param_1 + 0x74),*(undefined4 *)(param_1 + 0x58),uVar4);
  FUN_800213a4(BUF_PTR,uVar3);
  PTR_DAT_800a59d8[0x13] = PTR_DAT_800a59d8[0x13] + -1;
  return;
}



void FUN_8005af8c(int param_1,int param_2,int param_3)

{
  short sVar1;
  int iVar2;
  undefined4 uVar3;
  undefined *puVar4;
  short local_20;
  short local_1e;
  short local_1c;
  undefined auStack_18 [6];
  short local_12;
  
  FUN_8001a444(param_2,&local_20);
  FUN_8001a444(param_1,auStack_18);
  iVar2 = param_3 >> 0x10;
  if (*(int *)(param_1 + 0x58) == 0x8000) {
    iVar2 = (param_3 << 1) >> 0x10;
  }
  if (((((int)local_1e - (iVar2 + -0xd) < (int)local_12) &&
       (sVar1 = *(short *)(param_1 + 0x68), local_20 <= sVar1)) && (sVar1 <= local_1c)) &&
     (*(char *)(param_1 + 0x128) == '\0')) {
    if ((PTR_DAT_800a59d8[0x17] & 1) == 0) {
      uVar3 = DAT_800a5ddc;
      puVar4 = PTR_LAB_800a5de0;
      if (*(short *)(param_1 + 0x144) != 0) {
        uVar3 = DAT_800a5dd4;
        puVar4 = PTR_LAB_800a5dd8;
      }
    }
    else {
      uVar3 = DAT_800a5dac;
      puVar4 = PTR_LAB_800a5db0;
      if (sVar1 < *(short *)(param_2 + 0x68)) {
        uVar3 = DAT_800a5db4;
        puVar4 = PTR_LAB_800a5db8;
      }
    }
    FUN_8001eaa8(param_1,uVar3,puVar4);
  }
  return;
}



void FUN_8005b184(int param_1,undefined4 param_2)

{
  undefined uVar1;
  undefined uVar2;
  undefined4 uVar3;
  int iVar4;
  undefined4 local_20;
  
  local_20 = CONCAT22(*(short *)(param_1 + 0x6a) + (ushort)*(byte *)(param_1 + 0x1a4),
                      *(undefined2 *)(param_1 + 0x68));
  uVar3 = FUN_800143ec(PTR_DAT_800a59b0,0x108,1,0);
  iVar4 = FUN_80030d08(uVar3,param_2,local_20,*(undefined *)(param_1 + 0x74),
                       *(undefined4 *)(param_1 + 0x58),0x3e9,0);
  *(int *)(param_1 + 0x1a0) = iVar4;
  *(int *)(iVar4 + 0x104) = param_1;
  uVar1 = *(undefined *)(param_1 + 0x15b);
  uVar2 = *(undefined *)(param_1 + 0x15c);
  iVar4 = *(int *)(*(int *)(param_1 + 0x1a0) + 0x34);
  *(undefined *)(iVar4 + 0x34) = *(undefined *)(param_1 + 0x15a);
  *(undefined *)(iVar4 + 0x35) = uVar1;
  *(undefined *)(iVar4 + 0x36) = uVar2;
  if (*(short *)(param_1 + 0x144) == 0) {
    *(undefined *)(*(int *)(*(int *)(param_1 + 0x1a0) + 0x34) + 0x38) = 0;
  }
  else {
    *(undefined *)(*(int *)(*(int *)(param_1 + 0x1a0) + 0x34) + 0x38) = 1;
  }
  FUN_800213a4(BUF_PTR,*(undefined4 *)(param_1 + 0x1a0));
  return;
}



void FUN_8005b294(int param_1,char param_2)

{
  undefined4 uVar1;
  int iVar2;
  u_short uVar3;
  uint uVar4;
  undefined4 uVar5;
  int iVar6;
  int iVar7;
  
  if (param_2 != '\0') {
    FUN_8001c4a0(param_1,0x5860c640);
  }
  uVar4 = FUN_8007b43c(BUF_PTR + 0x84);
  if ((uVar4 >> 0xe & 1) != 0) {
    uVar1 = *(undefined4 *)(param_1 + 0x68);
    uVar5 = FUN_800143ec(PTR_DAT_800a59b0,0x108,1,0);
    iVar6 = FUN_80030d08(uVar5,0x422a0225,uVar1,*(undefined *)(param_1 + 0x74),
                         *(undefined4 *)(param_1 + 0x58),0x3d4,0);
    iVar7 = *(int *)(iVar6 + 0x34);
    uVar3 = GetTPage((uint)*(byte *)(iVar7 + 0x32),1,(int)*(short *)(iVar7 + 0x10) & 0xffffffc0,
                     (int)*(short *)(iVar7 + 0x12) & 0xffffff00);
    iVar2 = BUF_PTR;
    *(u_short *)(iVar7 + 0x24) = uVar3;
    FUN_800213a4(iVar2,iVar6);
  }
  return;
}



void FUN_8005b390(int param_1)

{
  int iVar1;
  
  iVar1 = rand();
  *(char *)(param_1 + 0x15d) = (char)iVar1;
  iVar1 = rand();
  *(char *)(param_1 + 0x15e) = (char)iVar1;
  iVar1 = rand();
  *(char *)(param_1 + 0x15f) = (char)iVar1;
  *(undefined *)(param_1 + 0x1ae) = 1;
  return;
}



void FUN_8005b3d4(int param_1)

{
  short sVar1;
  undefined *puVar2;
  int iVar3;
  undefined4 uVar4;
  undefined uVar5;
  undefined uVar6;
  int iVar7;
  undefined uVar8;
  int iVar9;
  int iVar10;
  short unaff_s2;
  code *pcVar11;
  
  if (((DAT_800a59b4 & 1) != 0) && (*(int *)(param_1 + 0xcc) != 0x1e28e0d4)) {
    FUN_8001eaa8(param_1,DAT_800a5dec,PTR_LAB_800a5df0);
  }
  iVar7 = (int)*(short *)(param_1 + 0x106);
  if (iVar7 != 0) {
    if (iVar7 < 1) {
      pcVar11 = *(code **)(param_1 + 0x108);
    }
    else {
      iVar3 = iVar7 * 8 + *(int *)(param_1 + *(short *)(param_1 + 0x108));
      unaff_s2 = (short)*(undefined4 *)(iVar3 + -8);
      pcVar11 = *(code **)(iVar3 + -4);
    }
    iVar3 = (int)*(short *)(param_1 + 0x104);
    if (0 < iVar7 << 0x10) {
      iVar3 = unaff_s2 + iVar3;
    }
    (*pcVar11)(param_1 + iVar3);
  }
  FUN_8001cb84(param_1);
  if (*(char *)(param_1 + 0x1b0) != '\0') {
    *(undefined2 *)(param_1 + 0x40) = 0xfffb;
    *(undefined2 *)(param_1 + 0x42) = 0xfff6;
    *(undefined2 *)(param_1 + 0x44) = 10;
    *(undefined2 *)(param_1 + 0x46) = 10;
  }
  iVar7 = BUF_PTR;
  *(undefined2 *)(param_1 + 0x160) = 0;
  *(undefined2 *)(param_1 + 0x162) = 0;
  if (*(char *)(iVar7 + 0x14a) == '\0') {
    FUN_8005a8d4(param_1);
    if (*(char *)(param_1 + 0x128) != '\0') {
      *(char *)(param_1 + 0x128) = *(char *)(param_1 + 0x128) + -1;
    }
    sVar1 = *(short *)(param_1 + 0x144);
    if ((sVar1 != 0) && (*(short *)(param_1 + 0x144) = sVar1 + -1, sVar1 == 1)) {
      FUN_8001c4a0(param_1,0x40e28045);
      *(undefined *)(*(int *)(param_1 + 0x34) + 0x37) = 0;
      *(undefined *)(*(int *)(param_1 + 0x34) + 0x38) = 0;
      *(undefined *)(param_1 + 0x15b) = *(undefined *)(param_1 + 0x15e);
      iVar7 = *(int *)(param_1 + 0x34);
      *(undefined *)(param_1 + 0x15a) = *(undefined *)(param_1 + 0x15d);
      uVar6 = *(undefined *)(param_1 + 0x15a);
      uVar8 = *(undefined *)(param_1 + 0x15b);
      *(undefined *)(param_1 + 0xf8) = 1;
      *(undefined *)(param_1 + 0x15c) = *(undefined *)(param_1 + 0x15f);
      *(undefined *)(iVar7 + 0x36) = *(undefined *)(param_1 + 0x15f);
      *(undefined *)(iVar7 + 0x34) = uVar6;
      *(undefined *)(iVar7 + 0x35) = uVar8;
      if (*(int *)(param_1 + 0x14c) != 0) {
        *(undefined *)(*(int *)(*(int *)(param_1 + 0x14c) + 0x34) + 10) = 0;
        FUN_80022070(BUF_PTR,*(undefined4 *)(param_1 + 0x14c));
        *(undefined4 *)(param_1 + 0x14c) = 0;
      }
    }
    puVar2 = PTR_LAB_800a5df8;
    uVar4 = DAT_800a5df4;
    if (*(char *)(param_1 + 0x159) != '\0') {
      *(undefined *)(param_1 + 0x159) = 0;
      FUN_8001eaa8(param_1,uVar4,puVar2);
    }
    if (*(int *)(param_1 + 0x168) == 0) {
      if ((PTR_DAT_800a59d8[0x17] & 1) != 0) {
        uVar4 = FUN_800143ec(PTR_DAT_800a59b0,0x30,1,0);
        uVar4 = FUN_8006de58(uVar4,param_1);
        *(undefined4 *)(param_1 + 0x168) = uVar4;
        FUN_8001c4a0(param_1,0xe0880448);
        *(undefined *)(*(int *)(*(int *)(param_1 + 0x168) + 0x24) + 0x1e0) = 0x20;
        FUN_80020f64(BUF_PTR,*(undefined4 *)(param_1 + 0x168));
        FUN_80021078(BUF_PTR,*(undefined4 *)(*(int *)(param_1 + 0x168) + 0x24));
      }
    }
    else if ((PTR_DAT_800a59d8[0x17] & 1) == 0) {
      *(undefined *)(*(int *)(param_1 + 0x168) + 0x2c) = 1;
      *(undefined4 *)(param_1 + 0x168) = 0;
    }
    if (*(int *)(param_1 + 0x16c) == 0) {
      if ((PTR_DAT_800a59d8[0x17] & 2) != 0) {
        uVar4 = FUN_800143ec(PTR_DAT_800a59b0,0x110,1,0);
        uVar4 = FUN_8006e198(uVar4,param_1);
        iVar7 = BUF_PTR;
        *(undefined4 *)(param_1 + 0x16c) = uVar4;
        FUN_80020f64(iVar7);
        FUN_80021078(BUF_PTR,*(undefined4 *)(*(int *)(param_1 + 0x16c) + 0x34));
      }
    }
    else if ((PTR_DAT_800a59d8[0x17] & 2) == 0) {
      FUN_80021d2c(BUF_PTR);
      FUN_80021dbc(BUF_PTR,*(undefined4 *)(*(int *)(param_1 + 0x16c) + 0x34));
      iVar7 = *(int *)(param_1 + 0x16c);
      if (iVar7 != 0) {
        (**(code **)(*(int *)(iVar7 + 0x18) + 0xc))
                  (iVar7 + *(short *)(*(int *)(iVar7 + 0x18) + 8),3);
      }
      *(undefined4 *)(param_1 + 0x16c) = 0;
    }
  }
  if (*(char *)(param_1 + 0x178) == '\0') {
    if (*(char *)(param_1 + 0x1b0) == '\0') {
      if (PTR_DAT_800a59d8[0x18] == '\0') {
        if ((*(int *)(BUF_PTR + 0x11c) == 0x10000) &&
           (iVar7 = *(int *)(param_1 + 0x50) + 0x1000, *(int *)(param_1 + 0x50) < 0x10000)) {
          *(int *)(param_1 + 0x50) = iVar7;
          goto LAB_8005b840;
        }
      }
      else {
        iVar7 = *(int *)(param_1 + 0x50) + -0x1000;
        if (0x8000 < *(int *)(param_1 + 0x50)) {
          *(int *)(param_1 + 0x50) = iVar7;
LAB_8005b840:
          *(int *)(param_1 + 0x54) = iVar7;
        }
      }
    }
    else {
      iVar7 = *(int *)(param_1 + 0x50) + -0x1000;
      if (0x4000 < *(int *)(param_1 + 0x50)) {
        *(int *)(param_1 + 0x50) = iVar7;
        goto LAB_8005b840;
      }
    }
  }
  if (*(char *)(param_1 + 0x17d) == '\0') {
    if (*(char *)(param_1 + 0x128) == '\0') {
      if (*(short *)(param_1 + 0x144) == 0) {
        *(undefined *)(*(int *)(param_1 + 0x34) + 0x38) = 0;
        *(undefined *)(param_1 + 0x15b) = *(undefined *)(param_1 + 0x15e);
        *(undefined *)(param_1 + 0x15a) = *(undefined *)(param_1 + 0x15d);
        iVar7 = *(int *)(param_1 + 0x34);
        uVar6 = *(undefined *)(param_1 + 0x15a);
        uVar8 = *(undefined *)(param_1 + 0x15b);
        *(undefined *)(param_1 + 0x15c) = *(undefined *)(param_1 + 0x15f);
        *(undefined *)(iVar7 + 0x36) = *(undefined *)(param_1 + 0x15f);
        *(undefined *)(iVar7 + 0x34) = uVar6;
        *(undefined *)(iVar7 + 0x35) = uVar8;
        goto LAB_8005b9fc;
      }
      *(undefined *)(*(int *)(param_1 + 0x34) + 0x38) = 1;
      *(undefined *)(param_1 + 0x15a) = 0x20;
      *(undefined *)(param_1 + 0x15b) = 0x60;
      iVar7 = *(int *)(param_1 + 0x34);
      uVar6 = *(undefined *)(param_1 + 0x15a);
      uVar8 = *(undefined *)(param_1 + 0x15b);
      uVar5 = 0x30;
    }
    else {
      iVar3 = (*(uint *)(BUF_PTR + 0x10c) & 3) * 0x20;
      iVar9 = iVar3 + -0x30;
      if (*(short *)(param_1 + 0x144) == 0) {
        *(undefined *)(*(int *)(param_1 + 0x34) + 0x38) = 0;
        iVar10 = (uint)*(byte *)(param_1 + 0x15d) + iVar9;
        iVar3 = (uint)*(byte *)(param_1 + 0x15f) + iVar9;
        iVar9 = (uint)*(byte *)(param_1 + 0x15e) + iVar9;
      }
      else {
        iVar10 = iVar3 + -0x10;
        iVar9 = iVar3 + 0x30;
        *(undefined *)(*(int *)(param_1 + 0x34) + 0x38) = 1;
      }
      if ((short)iVar10 < 0x100) {
        if ((short)iVar10 < 0) {
          iVar10 = 0;
        }
      }
      else {
        iVar10 = 0xff;
      }
      if ((short)iVar9 < 0x100) {
        if ((short)iVar9 < 0) {
          iVar9 = 0;
        }
      }
      else {
        iVar9 = 0xff;
      }
      if ((short)iVar3 < 0x100) {
        if ((short)iVar3 < 0) {
          iVar3 = 0;
        }
      }
      else {
        iVar3 = 0xff;
      }
      iVar7 = *(int *)(param_1 + 0x34);
      *(char *)(param_1 + 0x15a) = (char)iVar10;
      *(char *)(param_1 + 0x15b) = (char)iVar9;
      uVar6 = *(undefined *)(param_1 + 0x15a);
      uVar8 = *(undefined *)(param_1 + 0x15b);
      uVar5 = (undefined)iVar3;
    }
    *(undefined *)(param_1 + 0x15c) = uVar5;
    *(undefined *)(iVar7 + 0x34) = uVar6;
    *(undefined *)(iVar7 + 0x35) = uVar8;
    *(undefined *)(iVar7 + 0x36) = uVar5;
  }
  else {
    *(char *)(param_1 + 0x17d) = *(char *)(param_1 + 0x17d) + -1;
  }
LAB_8005b9fc:
  if ((*(char *)(param_1 + 0x1af) != '\0') && ((*(uint *)(BUF_PTR + 0x10c) & 7) == 0)) {
    uVar4 = FUN_800143ec(PTR_DAT_800a59b0,0x84,1,0);
    iVar7 = FUN_800362a0(uVar4,param_1);
    FUN_80020f64(BUF_PTR,iVar7);
    FUN_80021078(BUF_PTR,*(undefined4 *)(iVar7 + 0x34));
  }
  return;
}



bool FUN_8005c184(int param_1,ushort param_2,int param_3,int param_4)

{
  undefined4 uVar1;
  undefined *puVar2;
  bool bVar3;
  
  bVar3 = false;
  switch(param_2) {
  case 0x100c:
    FUN_8006cc74(param_1);
    break;
  case 0x100d:
    FUN_8006ce40(param_1);
    break;
  case 0x100f:
    *(undefined2 *)(param_1 + 0x68) = *(undefined2 *)(param_4 + 0x68);
    *(short *)(param_1 + 0x6a) = *(short *)(param_4 + 0x6a) + 0x20;
    uVar1 = DAT_800a5e1c;
    puVar2 = PTR_LAB_800a5e20;
    goto LAB_8005c254;
  case 0x1010:
    if ((*(char *)(param_1 + 0x178) != '\0') ||
       (uVar1 = DAT_800a5e14, puVar2 = PTR_LAB_800a5e18, *(char *)(param_1 + 0x1b2) != '\0')) break;
LAB_8005c254:
    FUN_8001eaa8(param_1,uVar1,puVar2);
    break;
  case 0x1017:
    bVar3 = false;
    if (*(char *)(param_1 + 0x178) == '\0') {
      bVar3 = *(char *)(param_1 + 0x1b2) == '\0';
    }
  }
  puVar2 = PTR_LAB_800a5d90;
  uVar1 = DAT_800a5d8c;
  if (param_2 == 0x1006) {
    *(int *)(param_1 + 0x110) = *(int *)(param_1 + 0x110) + param_3;
    FUN_8001eaa8(param_1,uVar1,puVar2);
  }
  else if (param_2 < 0x1007) {
    if (((param_2 == 0x1000) && (param_3 != 2)) &&
       (bVar3 = false, *(char *)(param_1 + 0x128) == '\0')) {
      if ((PTR_DAT_800a59d8[0x17] & 1) == 0) {
        uVar1 = DAT_800a5ddc;
        puVar2 = PTR_LAB_800a5de0;
        if (*(short *)(param_1 + 0x144) != 0) {
          uVar1 = DAT_800a5dd4;
          puVar2 = PTR_LAB_800a5dd8;
        }
      }
      else {
        uVar1 = DAT_800a5dac;
        puVar2 = PTR_LAB_800a5db0;
        if (*(short *)(param_1 + 0x68) < *(short *)(param_4 + 0x68)) {
          uVar1 = DAT_800a5db4;
          puVar2 = PTR_LAB_800a5db8;
        }
      }
      FUN_8001eaa8(param_1,uVar1,puVar2);
      bVar3 = true;
    }
  }
  else if (param_2 == 0x1007) {
    FUN_8005af8c(param_1,param_4,param_3);
  }
  return bVar3;
}



bool FUN_8005c3c0(int param_1,ushort param_2,int param_3,int param_4)

{
  undefined uVar1;
  undefined uVar2;
  int iVar3;
  int iVar4;
  undefined4 uVar5;
  uint uVar6;
  undefined *puVar7;
  code *pcVar8;
  bool bVar9;
  short unaff_s6;
  undefined auStack_60 [6];
  short local_5a;
  undefined auStack_58 [6];
  short local_52;
  undefined4 local_48;
  code *local_44;
  undefined4 local_30;
  code *local_2c;
  
  bVar9 = false;
  switch(param_2) {
  case 0x100c:
    FUN_8006cc74(param_1);
    break;
  case 0x100d:
    FUN_8006ce40(param_1);
    break;
  case 0x100f:
    *(undefined2 *)(param_1 + 0x68) = *(undefined2 *)(param_4 + 0x68);
    *(short *)(param_1 + 0x6a) = *(short *)(param_4 + 0x6a) + 0x20;
    uVar5 = DAT_800a5e1c;
    puVar7 = PTR_LAB_800a5e20;
    goto LAB_8005c49c;
  case 0x1010:
    if ((*(char *)(param_1 + 0x178) != '\0') ||
       (uVar5 = DAT_800a5e14, puVar7 = PTR_LAB_800a5e18, *(char *)(param_1 + 0x1b2) != '\0')) break;
LAB_8005c49c:
    FUN_8001eaa8(param_1,uVar5,puVar7);
    break;
  case 0x1017:
    bVar9 = false;
    if (*(char *)(param_1 + 0x178) == '\0') {
      bVar9 = *(char *)(param_1 + 0x1b2) == '\0';
    }
  }
  if (param_2 == 0x1007) {
    FUN_8005af8c(param_1,param_4,param_3);
  }
  else if (param_2 < 0x1008) {
    if (param_2 == 0x1000) {
      FUN_8001a444(param_4,auStack_60);
      FUN_8001a444(param_1,auStack_58);
      if ((param_3 == 2) || ((param_3 != 1 && (1 < (int)local_5a - (int)local_52)))) {
        if (0 < *(int *)(param_1 + 0x110)) {
          *(undefined *)(BUF_PTR + 0x11a) = 0x14;
        }
        if ((param_3 != 2) || (0 < *(int *)(param_1 + 0x110))) {
          iVar4 = (int)*(short *)(param_4 + 10);
          if (iVar4 != 0) {
            if (iVar4 < 1) {
              pcVar8 = *(code **)(param_4 + 0xc);
            }
            else {
              iVar3 = iVar4 * 8 + *(int *)(param_4 + *(short *)(param_4 + 0xc));
              local_48 = *(undefined4 *)(iVar3 + -8);
              pcVar8 = *(code **)(iVar3 + -4);
              local_44 = pcVar8;
            }
            iVar3 = (int)*(short *)(param_4 + 8);
            if (0 < iVar4 << 0x10) {
              iVar3 = (short)local_48 + iVar3;
            }
            (*pcVar8)(param_4 + iVar3,0x1001,0,param_1);
          }
          if ((*(short *)(param_1 + 0xa2) == -1) &&
             ((*(undefined **)(param_1 + 0xa4) == &LAB_800691c0 ||
              (*(undefined **)(param_1 + 0xa4) == &LAB_8006946c)))) {
            *(char *)(param_1 + 0x164) = *(char *)(param_1 + 0x164) + '\x01';
          }
          else {
            *(undefined *)(param_1 + 0x164) = 0;
          }
          FUN_8001eaa8(param_1,DAT_800a5e24,PTR_LAB_800a5e28);
        }
      }
      else {
        bVar9 = false;
        if (*(char *)(param_1 + 0x128) == '\0') {
          if ((PTR_DAT_800a59d8[0x17] & 1) == 0) {
            uVar5 = DAT_800a5ddc;
            puVar7 = PTR_LAB_800a5de0;
            if (*(short *)(param_1 + 0x144) != 0) {
              uVar5 = DAT_800a5dd4;
              puVar7 = PTR_LAB_800a5dd8;
            }
          }
          else {
            uVar5 = DAT_800a5dac;
            puVar7 = PTR_LAB_800a5db0;
            if (*(short *)(param_1 + 0x68) < *(short *)(param_4 + 0x68)) {
              uVar5 = DAT_800a5db4;
              puVar7 = PTR_LAB_800a5db8;
            }
          }
          FUN_8001eaa8(param_1,uVar5,puVar7);
          bVar9 = true;
        }
      }
    }
  }
  else if ((param_2 == 0x100a) && (0 < *(int *)(param_1 + 0x110))) {
    if ((*(short *)(param_1 + 0xa2) == -1) &&
       ((*(undefined **)(param_1 + 0xa4) == &LAB_800691c0 ||
        (*(undefined **)(param_1 + 0xa4) == &LAB_8006946c)))) {
      *(char *)(param_1 + 0x164) = *(char *)(param_1 + 0x164) + '\x01';
    }
    else {
      *(undefined *)(param_1 + 0x164) = 0;
    }
    FUN_8001eaa8(param_1,DAT_800a5e24,PTR_LAB_800a5e28);
    if (*(short *)(param_1 + 0x144) != 0) {
      iVar4 = (int)*(short *)(param_4 + 0x26);
      uVar6 = (uint)*(ushort *)(param_4 + 0x68);
      if (iVar4 != 0) {
        if (iVar4 < 1) {
          pcVar8 = *(code **)(param_4 + 0x28);
        }
        else {
          iVar3 = iVar4 * 8 + *(int *)(param_4 + *(short *)(param_4 + 0x28));
          unaff_s6 = (short)*(undefined4 *)(iVar3 + -8);
          pcVar8 = *(code **)(iVar3 + -4);
        }
        iVar3 = (int)*(short *)(param_4 + 0x24);
        if (0 < iVar4 << 0x10) {
          iVar3 = unaff_s6 + iVar3;
        }
        uVar6 = (*pcVar8)(param_4 + iVar3,(int)(short)*(ushort *)(param_4 + 0x68));
      }
      iVar4 = *(int *)(param_1 + 0x58);
      if (iVar4 == 0) {
        trap(0x1c00);
      }
      if ((iVar4 == -1) && (uVar6 << 0x10 == -0x80000000)) {
        trap(0x1800);
      }
      *(short *)(param_1 + 0x146) = (short)((int)(uVar6 << 0x10) / iVar4);
      iVar4 = (int)*(short *)(param_4 + 0x2e);
      uVar6 = (uint)*(ushort *)(param_4 + 0x6a);
      if (iVar4 != 0) {
        if (iVar4 < 1) {
          pcVar8 = *(code **)(param_4 + 0x30);
        }
        else {
          iVar3 = iVar4 * 8 + *(int *)(param_4 + *(short *)(param_4 + 0x30));
          local_30 = *(undefined4 *)(iVar3 + -8);
          pcVar8 = *(code **)(iVar3 + -4);
          local_2c = pcVar8;
        }
        iVar3 = (int)*(short *)(param_4 + 0x2c);
        if (0 < iVar4 << 0x10) {
          iVar3 = (short)local_30 + iVar3;
        }
        uVar6 = (*pcVar8)(param_4 + iVar3,(int)(short)*(ushort *)(param_4 + 0x6a));
      }
      iVar4 = *(int *)(param_1 + 0x5c);
      if (iVar4 == 0) {
        trap(0x1c00);
      }
      if ((iVar4 == -1) && (uVar6 << 0x10 == -0x80000000)) {
        trap(0x1800);
      }
      *(undefined *)(param_1 + 0x151) = *(undefined *)(param_1 + 0x15e);
      *(undefined *)(param_1 + 0x152) = *(undefined *)(param_1 + 0x15f);
      *(undefined *)(param_1 + 0x153) = *(undefined *)(param_1 + 0x1b3);
      *(undefined *)(param_1 + 0x150) = *(undefined *)(param_1 + 0x15d);
      puVar7 = PTR_DAT_800a59d8;
      *(undefined2 *)(param_1 + 0x1ac) = *(undefined2 *)(param_1 + 0x1a8);
      *(undefined2 *)(param_1 + 0x1aa) = *(undefined2 *)(param_1 + 0x1a6);
      *(short *)(param_1 + 0x148) = (short)((int)(uVar6 << 0x10) / iVar4);
      *(undefined *)(param_1 + 0x154) = puVar7[0x18];
    }
    *(undefined *)(BUF_PTR + 0x14b) = PTR_DAT_800a59d8[0x18];
    *(undefined *)(BUF_PTR + 0x198) = *(undefined *)(param_1 + 0x1b3);
    iVar4 = BUF_PTR;
    uVar1 = *(undefined *)(param_1 + 0x15e);
    uVar2 = *(undefined *)(param_1 + 0x15f);
    bVar9 = true;
    *(undefined *)(BUF_PTR + 0x199) = *(undefined *)(param_1 + 0x15d);
    *(undefined *)(iVar4 + 0x19a) = uVar1;
    *(undefined *)(iVar4 + 0x19b) = uVar2;
  }
  return bVar9;
}



bool FUN_8005ca20(int param_1,short param_2,int param_3,int param_4)

{
  undefined4 uVar1;
  undefined *puVar2;
  bool bVar3;
  
  bVar3 = false;
  switch(param_2) {
  case 0x100c:
    FUN_8006cc74(param_1);
    break;
  case 0x100d:
    FUN_8006ce40(param_1);
    break;
  case 0x100f:
    *(undefined2 *)(param_1 + 0x68) = *(undefined2 *)(param_4 + 0x68);
    *(short *)(param_1 + 0x6a) = *(short *)(param_4 + 0x6a) + 0x20;
    uVar1 = DAT_800a5e1c;
    puVar2 = PTR_LAB_800a5e20;
    goto LAB_8005caf0;
  case 0x1010:
    if ((*(char *)(param_1 + 0x178) != '\0') ||
       (uVar1 = DAT_800a5e14, puVar2 = PTR_LAB_800a5e18, *(char *)(param_1 + 0x1b2) != '\0')) break;
LAB_8005caf0:
    FUN_8001eaa8(param_1,uVar1,puVar2);
    break;
  case 0x1017:
    bVar3 = false;
    if (*(char *)(param_1 + 0x178) == '\0') {
      bVar3 = *(char *)(param_1 + 0x1b2) == '\0';
    }
  }
  if (((param_2 == 0x1000) && (param_3 != 2)) && (*(char *)(param_1 + 0x128) == '\0')) {
    *(undefined *)(BUF_PTR + 0x62) = 0;
    if (*(int *)(param_1 + 0x140) != 0) {
      FUN_80022070(BUF_PTR);
      *(undefined4 *)(param_1 + 0x140) = 0;
    }
    bVar3 = false;
    if (*(char *)(param_1 + 0x128) == '\0') {
      if ((PTR_DAT_800a59d8[0x17] & 1) == 0) {
        uVar1 = DAT_800a5ddc;
        puVar2 = PTR_LAB_800a5de0;
        if (*(short *)(param_1 + 0x144) != 0) {
          uVar1 = DAT_800a5dd4;
          puVar2 = PTR_LAB_800a5dd8;
        }
      }
      else {
        uVar1 = DAT_800a5dac;
        puVar2 = PTR_LAB_800a5db0;
        if (*(short *)(param_1 + 0x68) < *(short *)(param_4 + 0x68)) {
          uVar1 = DAT_800a5db4;
          puVar2 = PTR_LAB_800a5db8;
        }
      }
      FUN_8001eaa8(param_1,uVar1,puVar2);
      bVar3 = true;
    }
  }
  return bVar3;
}



undefined4 FUN_8005cee4(int param_1,short param_2,int param_3)

{
  undefined4 uVar1;
  int iVar2;
  int iVar3;
  short sVar4;
  int iVar5;
  short unaff_s4;
  code *pcVar6;
  
  uVar1 = FUN_8005c3c0(param_1,param_2);
  if (param_2 == 2) {
    FUN_8001e924(param_1);
  }
  if ((param_2 == 1) && (param_3 == 0x1a800898)) {
    *(undefined *)(param_1 + 0x11c) = 5;
    *(undefined4 *)(param_1 + 0x118) = 0xffffee00;
    *(undefined *)(param_1 + 0x11e) = 0;
    *(undefined *)(param_1 + 0x11f) = 0;
    *(undefined4 *)(param_1 + 0x120) = 0;
    iVar2 = *(int *)(param_1 + 0x110) + -0x60000;
    *(int *)(param_1 + 0x110) = iVar2;
    if (iVar2 < -0x90000) {
      *(undefined4 *)(param_1 + 0x110) = 0xfff70000;
    }
    *(undefined4 *)(param_1 + 0x1c) = 0xffff0000;
    *(undefined **)(param_1 + 0x20) = &LAB_80065084;
    iVar2 = *(int *)(param_1 + 300);
    if (iVar2 != 0) {
      sVar4 = (short)*(undefined4 *)(param_1 + 0x110);
      if (*(int *)(param_1 + 0x58) == 0x8000) {
        sVar4 = sVar4 >> 1;
      }
      iVar5 = (int)*(short *)(iVar2 + 10);
      if (iVar5 != 0) {
        if (iVar5 < 1) {
          pcVar6 = *(code **)(iVar2 + 0xc);
        }
        else {
          iVar3 = iVar5 * 8 + *(int *)(iVar2 + *(short *)(iVar2 + 0xc));
          unaff_s4 = (short)*(undefined4 *)(iVar3 + -8);
          pcVar6 = *(code **)(iVar3 + -4);
        }
        iVar3 = (int)*(short *)(iVar2 + 8);
        if (0 < iVar5 << 0x10) {
          iVar3 = unaff_s4 + iVar3;
        }
        (*pcVar6)(iVar2 + iVar3,0x1005,(int)sVar4,param_1);
      }
      *(undefined4 *)(param_1 + 300) = 0;
    }
  }
  return uVar1;
}



void FUN_8005f25c(int param_1)

{
  short sVar1;
  u_short uVar2;
  undefined4 uVar3;
  int iVar4;
  int iVar5;
  undefined4 local_20;
  
  sVar1 = *(short *)(&DAT_8009c33c + (uint)*(byte *)(param_1 + 0x179) * 4);
  if (*(char *)(param_1 + 0x74) != '\0') {
    sVar1 = -*(short *)(&DAT_8009c33c + (uint)*(byte *)(param_1 + 0x179) * 4);
  }
  local_20 = CONCAT22(*(short *)(param_1 + 0x6a) +
                      *(short *)(&DAT_8009c33e + (uint)*(byte *)(param_1 + 0x179) * 4),
                      sVar1 + *(short *)(param_1 + 0x68));
  uVar3 = FUN_800143ec(PTR_DAT_800a59b0,0x108,1,0);
  iVar4 = FUN_80030d08(uVar3,0x2841e65,local_20,*(undefined *)(param_1 + 0x74),
                       *(undefined4 *)(param_1 + 0x58),0x3d4,0);
  iVar5 = *(int *)(iVar4 + 0x34);
  uVar2 = GetTPage((uint)*(byte *)(iVar5 + 0x32),1,(int)*(short *)(iVar5 + 0x10) & 0xffffffc0,
                   (int)*(short *)(iVar5 + 0x12) & 0xffffff00);
  uVar3 = BUF_PTR;
  *(u_short *)(iVar5 + 0x24) = uVar2;
  FUN_800213a4(uVar3,iVar4);
  *(char *)(param_1 + 0x179) = *(char *)(param_1 + 0x179) + '\x01';
  return;
}



undefined4 FUN_8005f654(int param_1)

{
  char cVar1;
  ushort uVar2;
  bool bVar3;
  undefined4 uVar4;
  undefined *puVar5;
  
  uVar2 = *(ushort *)(*(int *)(param_1 + 0x100) + 2);
  if ((uVar2 & 4) == 0) {
    if ((uVar2 & 1) == 0) {
      if ((uVar2 & 8) == 0) {
        bVar3 = false;
        if ((uVar2 & 2) == 0) goto LAB_8005f764;
        cVar1 = PTR_DAT_800a59d8[0x1c];
        uVar4 = DAT_800a5e4c;
        puVar5 = PTR_LAB_800a5e50;
      }
      else {
        cVar1 = PTR_DAT_800a59d8[0x16];
        uVar4 = DAT_800a5e44;
        puVar5 = PTR_LAB_800a5e48;
      }
      goto joined_r0x8005f708;
    }
    if (*(int *)(param_1 + 300) == 0) {
      cVar1 = PTR_DAT_800a59d8[0x15];
      uVar4 = DAT_800a5e3c;
      puVar5 = PTR_LAB_800a5e40;
      goto joined_r0x8005f708;
    }
  }
  else {
    cVar1 = PTR_DAT_800a59d8[0x14];
    uVar4 = DAT_800a5e34;
    puVar5 = PTR_LAB_800a5e38;
joined_r0x8005f708:
    if (cVar1 != '\0') {
      FUN_8001eaa8(param_1,uVar4,puVar5);
      return 1;
    }
  }
  bVar3 = true;
LAB_8005f764:
  if (bVar3) {
    FUN_8001c4a0(param_1,0x64221e61);
  }
  return 0;
}



void FUN_8006af30(undefined4 *param_1)

{
  int iVar1;
  short sVar2;
  int iVar3;
  int iVar4;
  short in_t2;
  code *pcVar5;
  
  *(undefined *)(param_1 + 0x4a) = 0x78;
  iVar4 = BUF_PTR;
  param_1[0x43] = 0;
  *(undefined *)(iVar4 + 0x60) = 1;
  iVar4 = param_1[0x4b];
  param_1[0x49] = 0x28000;
  param_1[0x45] = 0;
  param_1[0x46] = 0;
  *(undefined *)(param_1 + 0x4f) = 0;
  if (iVar4 != 0) {
    sVar2 = (short)param_1[0x44];
    if (param_1[0x16] == 0x8000) {
      sVar2 = sVar2 >> 1;
    }
    iVar3 = (int)*(short *)(iVar4 + 10);
    if (iVar3 != 0) {
      if (iVar3 < 1) {
        pcVar5 = *(code **)(iVar4 + 0xc);
      }
      else {
        iVar1 = iVar3 * 8 + *(int *)(iVar4 + *(short *)(iVar4 + 0xc));
        in_t2 = (short)*(undefined4 *)(iVar1 + -8);
        pcVar5 = *(code **)(iVar1 + -4);
      }
      iVar1 = (int)*(short *)(iVar4 + 8);
      if (0 < iVar3 << 0x10) {
        iVar1 = in_t2 + iVar1;
      }
      (*pcVar5)(iVar4 + iVar1,0x1005,(int)sVar2,param_1);
    }
    param_1[0x4b] = 0;
  }
  if ((PTR_DAT_800a59d8[0x17] & 1) == 0) {
    *(undefined *)(param_1 + 0x5e) = 1;
    *param_1 = 0xffff0000;
    param_1[1] = &LAB_8005bb6c;
    param_1[2] = 0xffff0000;
    param_1[3] = &LAB_8005c060;
    param_1[0x41] = 0;
    param_1[0x42] = 0;
    param_1[7] = 0xffff0000;
    param_1[8] = &LAB_80065084;
    FUN_8001d07c(param_1,0x393c80c2,1);
    FUN_8001ec14(param_1,DAT_800a5f80,PTR_LAB_800a5f84);
    param_1[0x26] = 0xffff0000;
    param_1[0x27] = &LAB_80069e64;
  }
  else {
    PTR_DAT_800a59d8[0x17] = PTR_DAT_800a59d8[0x17] & 0xfe;
    *param_1 = 0xffff0000;
    param_1[1] = &LAB_8005bb6c;
    param_1[2] = 0xffff0000;
    param_1[3] = &LAB_8005ce88;
    param_1[0x41] = 0xffff0000;
    param_1[0x42] = &LAB_800602a0;
    param_1[7] = 0xffff0000;
    param_1[8] = &LAB_80065084;
    FUN_8001d07c(param_1,0x393c80c2,1);
    param_1[0x26] = 0xffff0000;
    param_1[0x27] = &LAB_800695c0;
    FUN_8001ec14(param_1,DAT_800a5f70,PTR_LAB_800a5f74);
  }
  return;
}



void FUN_8006cc74(int param_1,undefined4 param_2,short param_3)

{
  undefined *puVar1;
  short sVar2;
  short sVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  int iVar7;
  code *pcVar8;
  short unaff_s2;
  
  iVar7 = (int)*(short *)(param_1 + 0x26);
  sVar2 = *(short *)(param_1 + 0x68);
  if (iVar7 != 0) {
    if (iVar7 < 1) {
      pcVar8 = *(code **)(param_1 + 0x28);
    }
    else {
      iVar4 = iVar7 * 8 + *(int *)(param_1 + *(short *)(param_1 + 0x28));
      param_3 = (short)*(undefined4 *)(iVar4 + -8);
      pcVar8 = *(code **)(iVar4 + -4);
    }
    iVar4 = (int)*(short *)(param_1 + 0x24);
    if (0 < iVar7 << 0x10) {
      iVar4 = param_3 + iVar4;
    }
    sVar2 = (*pcVar8)(param_1 + iVar4,(int)sVar2);
  }
  iVar7 = (int)*(short *)(param_1 + 0x2e);
  sVar3 = *(short *)(param_1 + 0x6a);
  *(short *)(param_1 + 0x68) = sVar2;
  if (iVar7 != 0) {
    if (iVar7 < 1) {
      pcVar8 = *(code **)(param_1 + 0x30);
    }
    else {
      iVar4 = iVar7 * 8 + *(int *)(param_1 + *(short *)(param_1 + 0x30));
      unaff_s2 = (short)*(undefined4 *)(iVar4 + -8);
      pcVar8 = *(code **)(iVar4 + -4);
    }
    iVar4 = (int)*(short *)(param_1 + 0x2c);
    if (0 < iVar7 << 0x10) {
      iVar4 = unaff_s2 + iVar4;
    }
    sVar3 = (*pcVar8)(param_1 + iVar4,(int)sVar3);
  }
  *(undefined4 *)(param_1 + 0x58) = 0x8000;
  iVar7 = *(int *)(param_1 + 0x58);
  iVar4 = (int)*(short *)(param_1 + 0x68) << 0x10;
  if (iVar7 == 0) {
    trap(0x1c00);
  }
  if ((iVar7 == -1) && (iVar4 == -0x80000000)) {
    trap(0x1800);
  }
  *(short *)(param_1 + 0x6a) = sVar3;
  *(undefined4 *)(param_1 + 0x5c) = 0x8000;
  puVar1 = PTR_DAT_800a59d8;
  iVar6 = *(int *)(param_1 + 0x5c);
  iVar5 = (int)*(short *)(param_1 + 0x6a) << 0x10;
  if (iVar6 == 0) {
    trap(0x1c00);
  }
  if ((iVar6 == -1) && (iVar5 == -0x80000000)) {
    trap(0x1800);
  }
  *(short *)(param_1 + 0x68) = (short)(iVar4 / iVar7);
  *(short *)(param_1 + 0x6a) = (short)(iVar5 / iVar6);
  puVar1[0x18] = 1;
  return;
}



void FUN_8006ce40(int param_1,undefined4 param_2,short param_3)

{
  undefined *puVar1;
  short sVar2;
  short sVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  int iVar7;
  code *pcVar8;
  short unaff_s2;
  
  iVar7 = (int)*(short *)(param_1 + 0x26);
  sVar2 = *(short *)(param_1 + 0x68);
  if (iVar7 != 0) {
    if (iVar7 < 1) {
      pcVar8 = *(code **)(param_1 + 0x28);
    }
    else {
      iVar4 = iVar7 * 8 + *(int *)(param_1 + *(short *)(param_1 + 0x28));
      param_3 = (short)*(undefined4 *)(iVar4 + -8);
      pcVar8 = *(code **)(iVar4 + -4);
    }
    iVar4 = (int)*(short *)(param_1 + 0x24);
    if (0 < iVar7 << 0x10) {
      iVar4 = param_3 + iVar4;
    }
    sVar2 = (*pcVar8)(param_1 + iVar4,(int)sVar2);
  }
  iVar7 = (int)*(short *)(param_1 + 0x2e);
  sVar3 = *(short *)(param_1 + 0x6a);
  *(short *)(param_1 + 0x68) = sVar2;
  if (iVar7 != 0) {
    if (iVar7 < 1) {
      pcVar8 = *(code **)(param_1 + 0x30);
    }
    else {
      iVar4 = iVar7 * 8 + *(int *)(param_1 + *(short *)(param_1 + 0x30));
      unaff_s2 = (short)*(undefined4 *)(iVar4 + -8);
      pcVar8 = *(code **)(iVar4 + -4);
    }
    iVar4 = (int)*(short *)(param_1 + 0x2c);
    if (0 < iVar7 << 0x10) {
      iVar4 = unaff_s2 + iVar4;
    }
    sVar3 = (*pcVar8)(param_1 + iVar4,(int)sVar3);
  }
  *(undefined4 *)(param_1 + 0x58) = 0x10000;
  iVar7 = *(int *)(param_1 + 0x58);
  iVar4 = (int)*(short *)(param_1 + 0x68) << 0x10;
  if (iVar7 == 0) {
    trap(0x1c00);
  }
  if ((iVar7 == -1) && (iVar4 == -0x80000000)) {
    trap(0x1800);
  }
  *(short *)(param_1 + 0x6a) = sVar3;
  *(undefined4 *)(param_1 + 0x5c) = 0x10000;
  puVar1 = PTR_DAT_800a59d8;
  iVar6 = *(int *)(param_1 + 0x5c);
  iVar5 = (int)*(short *)(param_1 + 0x6a) << 0x10;
  if (iVar6 == 0) {
    trap(0x1c00);
  }
  if ((iVar6 == -1) && (iVar5 == -0x80000000)) {
    trap(0x1800);
  }
  *(short *)(param_1 + 0x68) = (short)(iVar4 / iVar7);
  *(short *)(param_1 + 0x6a) = (short)(iVar5 / iVar6);
  puVar1[0x18] = 0;
  return;
}



undefined4 * FUN_8006daa8(undefined4 *param_1,undefined4 param_2)

{
  FUN_8001c864(param_1,&DAT_8009c2b0,0x424,0,0);
  param_1[6] = &DAT_800117e4;
  param_1[0x40] = param_2;
  *(undefined2 *)(param_1 + 4) = 0x3e9;
  *param_1 = 0xffff0000;
  param_1[1] = &LAB_8006db7c;
  param_1[9] = 0xffff0000;
  param_1[10] = &LAB_8001a268;
  param_1[0xb] = 0xffff0000;
  param_1[0xc] = &LAB_8001a298;
  return param_1;
}



int FUN_8006dd58(int param_1,short param_2,short param_3,undefined param_4,int param_5)

{
  FUN_8001c71c(param_1,0x1e1000b3,999,(int)param_2,(int)param_3,0);
  *(undefined **)(param_1 + 0x18) = &DAT_800117c4;
  *(undefined2 *)(param_1 + 0x10) = 0x3e9;
  *(undefined *)(param_1 + 0x74) = param_4;
  if (param_5 != 0x10000) {
    *(int *)(param_1 + 0x50) = param_5;
    *(int *)(param_1 + 0x54) = param_5;
    *(int *)(param_1 + 0x58) = param_5;
    *(int *)(param_1 + 0x5c) = param_5;
    *(undefined4 *)(param_1 + 0x24) = 0xffff0000;
    *(undefined **)(param_1 + 0x28) = &LAB_8001a268;
    *(undefined4 *)(param_1 + 0x2c) = 0xffff0000;
    *(undefined **)(param_1 + 0x30) = &LAB_8001a298;
  }
  FUN_8001d0ec(param_1,0x182d840c);
  FUN_8001d23c(param_1,0);
  return param_1;
}



void FUN_8006de58(undefined4 *param_1,undefined4 param_2)

{
  undefined *puVar1;
  short sVar2;
  ushort uVar3;
  uint uVar4;
  uint uVar5;
  uint uVar6;
  uint uVar7;
  uint uVar8;
  int iVar9;
  uint uVar10;
  int iVar11;
  undefined local_1e [2];
  undefined local_1c [4];
  undefined *local_18;
  
  FUN_80019744(param_1,0x3e9);
  param_1[6] = &DAT_800117a4;
  param_1[7] = param_2;
  local_1c = (undefined  [4])0xffff0000;
  local_18 = &LAB_8006dfc8;
  *param_1 = 0xffff0000;
  param_1[1] = &LAB_8006dfc8;
  uVar8 = FUN_800143ec(PTR_DAT_800a59b0,0x1e8,1,0);
  iVar9 = FUN_80032868(uVar8,0);
  param_1[9] = iVar9;
  *(undefined *)(iVar9 + 0x1e7) = 1;
  iVar11 = param_1[7];
  uVar3 = *(ushort *)(param_1[7] + 0x68);
  *(ushort *)(param_1 + 8) = uVar3;
  uVar4 = iVar11 + 0x3bU & 3;
  uVar5 = iVar11 + 0x38U & 3;
  uVar10 = (*(int *)((iVar11 + 0x3bU) - uVar4) << (3 - uVar4) * 8 |
           (uint)uVar3 & 0xffffffffU >> (uVar4 + 1) * 8) & -1 << (4 - uVar5) * 8 |
           *(uint *)((iVar11 + 0x38U) - uVar5) >> uVar5 * 8;
  uVar4 = iVar11 + 0x3fU & 3;
  iVar9 = *(int *)((iVar11 + 0x3fU) - uVar4);
  uVar5 = iVar11 + 0x3cU & 3;
  uVar6 = *(uint *)((iVar11 + 0x3cU) - uVar5);
  puVar1 = local_1e + 1;
  uVar7 = (uint)puVar1 & 3;
  *(uint *)(puVar1 + -uVar7) =
       *(uint *)(puVar1 + -uVar7) & -1 << (uVar7 + 1) * 8 | uVar10 >> (3 - uVar7) * 8;
  puVar1 = local_1c + 3;
  uVar7 = (uint)puVar1 & 3;
  *(uint *)(puVar1 + -uVar7) =
       *(uint *)(puVar1 + -uVar7) & -1 << (uVar7 + 1) * 8 |
       ((iVar9 << (3 - uVar4) * 8 | uVar8 & 0xffffffffU >> (uVar4 + 1) * 8) & -1 << (4 - uVar5) * 8
       | uVar6 >> uVar5 * 8) >> (3 - uVar7) * 8;
  local_1e = SUB42(uVar10 >> 0x10,0);
  sVar2 = *(short *)(param_1[7] + 0x6a);
  *(undefined *)(param_1 + 0xb) = 0;
  *(short *)((int)param_1 + 0x22) = sVar2 + (short)local_1e;
  return;
}



undefined4 * FUN_8006e198(undefined4 *param_1,undefined4 param_2)

{
  undefined *puVar1;
  uint uVar2;
  undefined *puVar3;
  undefined4 uVar4;
  uint uVar5;
  int iVar6;
  uint uVar7;
  uint uVar8;
  undefined auStack_20 [4];
  undefined local_1c [4];
  undefined *local_18;
  
  FUN_8001c864(param_1,&DAT_8009c420,999,0,0);
  param_1[6] = &DAT_80011784;
  *(undefined *)((int)param_1 + 0x10d) = 1;
  *(undefined *)((int)param_1 + 0x10e) = 1;
  param_1[0x40] = param_2;
  *(undefined2 *)(param_1 + 4) = 0x3e9;
  *param_1 = 0xffff0000;
  param_1[1] = &LAB_8006e73c;
  param_1[9] = 0xffff0000;
  param_1[10] = &LAB_8001a268;
  local_1c = (undefined  [4])0xffff0000;
  local_18 = &LAB_8001a298;
  param_1[0xb] = 0xffff0000;
  param_1[0xc] = &LAB_8001a298;
  uVar4 = 0x8000;
  if (PTR_DAT_800a59d8[0x18] == '\0') {
    uVar4 = *(undefined4 *)(BUF_PTR + 0x11c);
  }
  param_1[0x16] = uVar4;
  param_1[0x41] = 0;
  param_1[0x42] = 0;
  *(undefined2 *)(param_1 + 0x1b) = 0;
  *(undefined2 *)((int)param_1 + 0x6e) = 0;
  *(undefined *)(param_1 + 0x43) = 0;
  param_1[0x17] = param_1[0x16];
  param_1[0x14] = param_1[0x16];
  param_1[0x15] = param_1[0x16];
  uVar7 = 0xffffffec;
  if (*(char *)(param_1[0x40] + 0x74) != '\0') {
    uVar7 = 0x14;
  }
  iVar6 = param_1[0x40];
  uVar5 = (int)*(short *)(param_1[0x40] + 0x68) + uVar7;
  *(short *)(param_1 + 0x1a) = (short)uVar5;
  puVar3 = PTR_LAB_800a5fc4;
  uVar4 = DAT_800a5fc0;
  uVar8 = iVar6 + 0x3bU & 3;
  uVar2 = iVar6 + 0x38U & 3;
  uVar5 = (*(int *)((iVar6 + 0x3bU) - uVar8) << (3 - uVar8) * 8 |
          uVar5 & 0xffffffffU >> (uVar8 + 1) * 8) & -1 << (4 - uVar2) * 8 |
          *(uint *)((iVar6 + 0x38U) - uVar2) >> uVar2 * 8;
  uVar8 = iVar6 + 0x3fU & 3;
  uVar2 = iVar6 + 0x3cU & 3;
  uVar8 = (*(int *)((iVar6 + 0x3fU) - uVar8) << (3 - uVar8) * 8 |
          uVar7 & 0xffffffffU >> (uVar8 + 1) * 8) & -1 << (4 - uVar2) * 8 |
          *(uint *)((iVar6 + 0x3cU) - uVar2) >> uVar2 * 8;
  puVar1 = auStack_20 + 3;
  uVar7 = (uint)puVar1 & 3;
  *(uint *)(puVar1 + -uVar7) =
       *(uint *)(puVar1 + -uVar7) & -1 << (uVar7 + 1) * 8 | uVar5 >> (3 - uVar7) * 8;
  puVar1 = local_1c + 3;
  uVar7 = (uint)puVar1 & 3;
  *(uint *)(puVar1 + -uVar7) =
       *(uint *)(puVar1 + -uVar7) & -1 << (uVar7 + 1) * 8 | uVar8 >> (3 - uVar7) * 8;
  auStack_20._2_2_ = (undefined2)(uVar5 >> 0x10);
  *(short *)((int)param_1 + 0x6a) = *(short *)(param_1[0x40] + 0x6a) + auStack_20._2_2_ + -10;
  auStack_20 = (undefined  [4])uVar5;
  local_1c = (undefined  [4])uVar8;
  FUN_8001eaa8(param_1,uVar4,puVar3);
  return param_1;
}



void FUN_8006e89c(int param_1)

{
  *(undefined *)(param_1 + 0x10d) = 0;
  return;
}



void FUN_8006e8a4(int param_1,undefined param_2)

{
  *(undefined *)(param_1 + 0x10f) = param_2;
  *(undefined *)(param_1 + 0x10d) = 1;
  return;
}



void FUN_8006ed78(undefined4 *param_1,undefined4 param_2,short param_3,short param_4)

{
  undefined4 uVar1;
  undefined *puVar2;
  
  FUN_8001c864(param_1,&DAT_8009ca90,1000,(int)param_3,(int)param_4);
  param_1[6] = &DAT_80011cf4;
  param_1[0x45] = 0xffffffff;
  *(undefined2 *)(param_1 + 4) = 1000;
  param_1[0x40] = param_2;
  *param_1 = 0xffff0000;
  param_1[1] = &LAB_8006ef88;
  param_1[2] = 0xffff0000;
  param_1[3] = &LAB_8006f150;
  puVar2 = PTR_LAB_800a5fe4;
  uVar1 = DAT_800a5fe0;
  param_1[0x41] = 0x20000;
  *(undefined2 *)(param_1 + 0x43) = 0x400;
  param_1[0x42] = 0;
  *(undefined2 *)(param_1 + 0x1b) = 0;
  *(undefined2 *)((int)param_1 + 0x6e) = 0;
  *(undefined *)((int)param_1 + 0x10e) = 0;
  *(undefined *)((int)param_1 + 0x10f) = 0;
  *(undefined *)(param_1 + 0x44) = 0;
  *(undefined *)((int)param_1 + 0x111) = 0;
  *(undefined *)((int)param_1 + 0x112) = 0x14;
  FUN_8001eaa8(param_1,uVar1,puVar2);
  *(undefined *)((int)param_1 + 0x113) = 0;
  *(undefined *)((int)param_1 + 0x119) = 0;
  return;
}



void FUN_8006f210(int param_1)

{
  ushort uVar1;
  ushort uVar2;
  bool bVar3;
  bool bVar4;
  char cVar5;
  short sVar6;
  short sVar7;
  int iVar8;
  undefined4 uVar9;
  int iVar10;
  uint uVar11;
  uint uVar12;
  byte local_18 [8];
  
  uVar9 = 0x20000;
  if ((0x20000 < *(int *)(param_1 + 0x104)) ||
     (uVar9 = 0xfffe0000, *(int *)(param_1 + 0x104) < -0x20000)) {
    *(undefined4 *)(param_1 + 0x104) = uVar9;
  }
  uVar9 = 0x20000;
  if ((0x20000 < *(int *)(param_1 + 0x108)) ||
     (uVar9 = 0xfffe0000, *(int *)(param_1 + 0x108) < -0x20000)) {
    *(undefined4 *)(param_1 + 0x108) = uVar9;
  }
  iVar8 = *(int *)(param_1 + 0x104);
  if (iVar8 < 0) {
    *(int *)(param_1 + 0x104) = iVar8 + 0xc00;
    if (0 < iVar8 + 0xc00) {
      *(undefined4 *)(param_1 + 0x104) = 0;
    }
  }
  else if ((0 < iVar8) && (*(int *)(param_1 + 0x104) = iVar8 + -0xc00, iVar8 + -0xc00 < 0)) {
    *(undefined4 *)(param_1 + 0x104) = 0;
  }
  iVar8 = *(int *)(param_1 + 0x108);
  if (iVar8 < 0) {
    *(int *)(param_1 + 0x108) = iVar8 + 0xc00;
    if (0 < iVar8 + 0xc00) {
      *(undefined4 *)(param_1 + 0x108) = 0;
    }
  }
  else if ((0 < iVar8) && (*(int *)(param_1 + 0x108) = iVar8 + -0xc00, iVar8 + -0xc00 < 0)) {
    *(undefined4 *)(param_1 + 0x108) = 0;
  }
  local_18[0] = FUN_8001fea4(param_1,(int)*(short *)(param_1 + 0x68),(int)*(short *)(param_1 + 0x6a)
                            );
  uVar1 = *(ushort *)(param_1 + 0x68);
  uVar2 = *(ushort *)(param_1 + 0x6a);
  uVar12 = uVar1 & 0xf;
  uVar11 = uVar2 & 0xf;
  bVar3 = false;
  if (local_18[0] == 0) goto LAB_8006faf8;
  bVar4 = true;
  sVar6 = (short)uVar12;
  sVar7 = (short)uVar11;
  bVar3 = bVar4;
  if (local_18[0] == 0xba) {
    if (0xe < uVar11 + uVar12) {
      sVar6 = uVar1 - sVar6;
      goto LAB_8006f49c;
    }
    sVar7 = uVar2 - (sVar7 + 1);
    goto LAB_8006f4b4;
  }
  if (local_18[0] < 0xbb) {
    if (local_18[0] == 0x65) {
      if (uVar12 + uVar11 < 0x10) {
        if ((int)((uVar12 + 0xf) - uVar11) < 0x10) {
          sVar6 = uVar1 - (sVar6 + 1);
          goto LAB_8006f4a0;
        }
        sVar7 = uVar2 - (sVar7 + 1);
        goto LAB_8006f4b4;
      }
      sVar7 = uVar2 - sVar7;
      if (0xf < (int)((uVar12 + 0xf) - uVar11)) {
        sVar6 = uVar1 - sVar6;
        goto LAB_8006f49c;
      }
LAB_8006f4b0:
      sVar7 = sVar7 + 0x10;
    }
    else {
      if (local_18[0] < 0x66) {
        if (local_18[0] == 0x52) {
          FUN_8001eaa8(param_1,DAT_800a5fe8,PTR_LAB_800a5fec);
          bVar3 = true;
          goto LAB_8006faf8;
        }
LAB_8006f4d8:
        cVar5 = FUN_80070098(param_1,local_18);
        if (cVar5 != '\0') {
          if ((local_18[0] == 0xb5) &&
             ((byte)((*(byte *)(param_1 + 0x68) & 0xf) + (*(byte *)(param_1 + 0x6a) & 0xf)) < 0x10))
          {
            iVar8 = *(int *)(param_1 + 0x108);
            if (*(int *)(param_1 + 0x104) < iVar8) {
              if (iVar8 < 0) {
                *(int *)(param_1 + 0x108) = -(iVar8 >> 1);
                if (*(int *)(param_1 + 0x104) < 0) {
                  *(int *)(param_1 + 0x104) = -(*(int *)(param_1 + 0x104) >> 1);
                }
              }
              while ((bVar3 = true, local_18[0] == 0xb5 &&
                     (bVar3 = bVar4,
                     (*(byte *)(param_1 + 0x68) & 0xf) + (*(ushort *)(param_1 + 0x6a) & 0xf) < 0x10)
                     )) {
                iVar8 = *(ushort *)(param_1 + 0x6a) + 1;
                *(short *)(param_1 + 0x6a) = (short)iVar8;
                local_18[0] = FUN_8001fea4(param_1,(int)*(short *)(param_1 + 0x68),
                                           iVar8 * 0x10000 >> 0x10);
              }
            }
            else {
              if (*(int *)(param_1 + 0x104) < 0) {
                *(int *)(param_1 + 0x104) = -(*(int *)(param_1 + 0x104) >> 1);
                if (*(int *)(param_1 + 0x108) < 0) {
                  *(int *)(param_1 + 0x108) = -(*(int *)(param_1 + 0x108) >> 1);
                }
              }
              while ((bVar3 = true, local_18[0] == 0xb5 &&
                     (bVar3 = bVar4,
                     (*(ushort *)(param_1 + 0x68) & 0xf) + (*(byte *)(param_1 + 0x6a) & 0xf) < 0x10)
                     )) {
                iVar8 = *(ushort *)(param_1 + 0x68) + 1;
                *(short *)(param_1 + 0x68) = (short)iVar8;
                local_18[0] = FUN_8001fea4(param_1,iVar8 * 0x10000 >> 0x10,
                                           (int)*(short *)(param_1 + 0x6a));
              }
            }
          }
          else if ((local_18[0] == 0xb7) &&
                  (0xe < (int)(((*(byte *)(param_1 + 0x68) & 0xf) + 0xf) -
                              (*(byte *)(param_1 + 0x6a) & 0xf)))) {
            iVar8 = *(int *)(param_1 + 0x108);
            if (-*(int *)(param_1 + 0x104) < iVar8) {
              if (iVar8 < 0) {
                *(int *)(param_1 + 0x108) = -(iVar8 >> 1);
                if (0 < *(int *)(param_1 + 0x104)) {
                  *(int *)(param_1 + 0x104) = -(*(int *)(param_1 + 0x104) >> 1);
                }
              }
              while ((bVar3 = true, local_18[0] == 0xb7 &&
                     (bVar3 = bVar4,
                     0xe < (int)(((*(byte *)(param_1 + 0x68) & 0xf) + 0xf) -
                                (*(ushort *)(param_1 + 0x6a) & 0xf))))) {
                iVar8 = *(ushort *)(param_1 + 0x6a) + 1;
                *(short *)(param_1 + 0x6a) = (short)iVar8;
                local_18[0] = FUN_8001fea4(param_1,(int)*(short *)(param_1 + 0x68),
                                           iVar8 * 0x10000 >> 0x10);
              }
            }
            else {
              if (0 < *(int *)(param_1 + 0x104)) {
                *(int *)(param_1 + 0x104) = -(*(int *)(param_1 + 0x104) >> 1);
                if (*(int *)(param_1 + 0x108) < 0) {
                  *(int *)(param_1 + 0x108) = -(*(int *)(param_1 + 0x108) >> 1);
                }
              }
              while ((bVar3 = true, local_18[0] == 0xb7 &&
                     (bVar3 = bVar4,
                     0xe < (int)(((*(ushort *)(param_1 + 0x68) & 0xf) + 0xf) -
                                (*(byte *)(param_1 + 0x6a) & 0xf))))) {
                iVar8 = *(ushort *)(param_1 + 0x68) - 1;
                *(short *)(param_1 + 0x68) = (short)iVar8;
                local_18[0] = FUN_8001fea4(param_1,iVar8 * 0x10000 >> 0x10,
                                           (int)*(short *)(param_1 + 0x6a));
              }
            }
          }
          else if ((local_18[0] == 0xdd) &&
                  ((int)(((*(byte *)(param_1 + 0x68) & 0xf) + 0xf) -
                        (*(byte *)(param_1 + 0x6a) & 0xf)) < 0x10)) {
            iVar8 = *(int *)(param_1 + 0x108);
            if (*(int *)(param_1 + 0x104) < -iVar8) {
              if (0 < iVar8) {
                *(int *)(param_1 + 0x108) = -(iVar8 >> 1);
                if (*(int *)(param_1 + 0x104) < 0) {
                  *(int *)(param_1 + 0x104) = -(*(int *)(param_1 + 0x104) >> 1);
                }
              }
              while ((bVar3 = true, local_18[0] == 0xdd &&
                     (bVar3 = bVar4,
                     (int)(((*(byte *)(param_1 + 0x68) & 0xf) + 0xf) -
                          (*(ushort *)(param_1 + 0x6a) & 0xf)) < 0x10))) {
                iVar8 = *(ushort *)(param_1 + 0x6a) - 1;
                *(short *)(param_1 + 0x6a) = (short)iVar8;
                local_18[0] = FUN_8001fea4(param_1,(int)*(short *)(param_1 + 0x68),
                                           iVar8 * 0x10000 >> 0x10);
              }
            }
            else {
              if (*(int *)(param_1 + 0x104) < 0) {
                *(int *)(param_1 + 0x104) = -(*(int *)(param_1 + 0x104) >> 1);
                if (0 < *(int *)(param_1 + 0x108)) {
                  *(int *)(param_1 + 0x108) = -(*(int *)(param_1 + 0x108) >> 1);
                }
              }
              while ((bVar3 = true, local_18[0] == 0xdd &&
                     (bVar3 = bVar4,
                     (int)(((*(ushort *)(param_1 + 0x68) & 0xf) + 0xf) -
                          (*(byte *)(param_1 + 0x6a) & 0xf)) < 0x10))) {
                iVar8 = *(ushort *)(param_1 + 0x68) + 1;
                *(short *)(param_1 + 0x68) = (short)iVar8;
                local_18[0] = FUN_8001fea4(param_1,iVar8 * 0x10000 >> 0x10,
                                           (int)*(short *)(param_1 + 0x6a));
              }
            }
          }
          else if ((local_18[0] == 0xdf) &&
                  (0xe < (byte)((*(byte *)(param_1 + 0x68) & 0xf) +
                               (*(byte *)(param_1 + 0x6a) & 0xf)))) {
            iVar8 = *(int *)(param_1 + 0x108);
            if (-*(int *)(param_1 + 0x104) < -iVar8) {
              if (0 < iVar8) {
                *(int *)(param_1 + 0x108) = -(iVar8 >> 1);
                if (0 < *(int *)(param_1 + 0x104)) {
                  *(int *)(param_1 + 0x104) = -(*(int *)(param_1 + 0x104) >> 1);
                }
              }
              while ((bVar3 = true, local_18[0] == 0xdf &&
                     (bVar3 = bVar4,
                     0xe < (*(byte *)(param_1 + 0x68) & 0xf) + (*(ushort *)(param_1 + 0x6a) & 0xf)))
                    ) {
                iVar8 = *(ushort *)(param_1 + 0x6a) - 1;
                *(short *)(param_1 + 0x6a) = (short)iVar8;
                local_18[0] = FUN_8001fea4(param_1,(int)*(short *)(param_1 + 0x68),
                                           iVar8 * 0x10000 >> 0x10);
              }
            }
            else {
              if (0 < *(int *)(param_1 + 0x104)) {
                *(int *)(param_1 + 0x104) = -(*(int *)(param_1 + 0x104) >> 1);
                if (0 < *(int *)(param_1 + 0x108)) {
                  *(int *)(param_1 + 0x108) = -(*(int *)(param_1 + 0x108) >> 1);
                }
              }
              while ((bVar3 = true, local_18[0] == 0xdf &&
                     (bVar3 = bVar4,
                     0xe < (*(ushort *)(param_1 + 0x68) & 0xf) + (*(byte *)(param_1 + 0x6a) & 0xf)))
                    ) {
                iVar8 = *(ushort *)(param_1 + 0x68) - 1;
                *(short *)(param_1 + 0x68) = (short)iVar8;
                local_18[0] = FUN_8001fea4(param_1,iVar8 * 0x10000 >> 0x10,
                                           (int)*(short *)(param_1 + 0x6a));
              }
            }
          }
          else if (local_18[0] == 0xb6) {
            if (*(int *)(param_1 + 0x108) < 0) {
              *(int *)(param_1 + 0x108) = -(*(int *)(param_1 + 0x108) >> 1);
            }
            *(ushort *)(param_1 + 0x6a) =
                 (*(ushort *)(param_1 + 0x6a) - (*(ushort *)(param_1 + 0x6a) & 0xf)) + 0x10;
          }
          else if (local_18[0] == 0xde) {
            if (0 < *(int *)(param_1 + 0x108)) {
              *(int *)(param_1 + 0x108) = -(*(int *)(param_1 + 0x108) >> 1);
            }
            *(ushort *)(param_1 + 0x6a) =
                 *(ushort *)(param_1 + 0x6a) - ((*(ushort *)(param_1 + 0x6a) & 0xf) + 1);
          }
          else if (local_18[0] == 0xc9) {
            if (*(int *)(param_1 + 0x104) < 0) {
              *(int *)(param_1 + 0x104) = -(*(int *)(param_1 + 0x104) >> 1);
            }
            *(ushort *)(param_1 + 0x68) =
                 (*(ushort *)(param_1 + 0x68) - (*(ushort *)(param_1 + 0x68) & 0xf)) + 0x10;
          }
          else {
            bVar3 = true;
            if (local_18[0] == 0xcb) {
              if (0 < *(int *)(param_1 + 0x104)) {
                *(int *)(param_1 + 0x104) = -(*(int *)(param_1 + 0x104) >> 1);
              }
              *(ushort *)(param_1 + 0x68) =
                   *(ushort *)(param_1 + 0x68) - ((*(ushort *)(param_1 + 0x68) & 0xf) + 1);
              bVar3 = bVar4;
            }
          }
        }
        goto LAB_8006faf8;
      }
      if (local_18[0] == 0xb8) {
        if ((int)((uVar12 + 0xf) - uVar11) < 0x10) {
          sVar6 = uVar1 - (sVar6 + 1);
          goto LAB_8006f4a0;
        }
        sVar7 = uVar2 - (sVar7 + 1);
      }
      else {
        if (local_18[0] != 0xb9) goto LAB_8006f4d8;
        sVar7 = uVar2 - (sVar7 + 1);
      }
    }
LAB_8006f4b4:
    *(short *)(param_1 + 0x6a) = sVar7;
    *(undefined4 *)(param_1 + 0x108) = 0;
  }
  else {
    if (local_18[0] == 0xe0) {
      if (0xf < uVar11 + uVar12) goto LAB_8006f4ac;
      sVar6 = uVar1 - (sVar6 + 1);
    }
    else {
      if (0xe0 < local_18[0]) {
        if (local_18[0] != 0xe1) {
          if (local_18[0] == 0xe2) {
            sVar6 = uVar1 - sVar6;
            if ((int)((uVar12 + 0xf) - uVar11) < 0xf) {
              sVar7 = uVar2 - sVar7;
              goto LAB_8006f4b0;
            }
            goto LAB_8006f49c;
          }
          goto LAB_8006f4d8;
        }
LAB_8006f4ac:
        sVar7 = uVar2 - sVar7;
        goto LAB_8006f4b0;
      }
      if (local_18[0] == 0xcc) {
        sVar6 = uVar1 - (sVar6 + 1);
      }
      else {
        sVar6 = uVar1 - sVar6;
        if (local_18[0] != 0xce) goto LAB_8006f4d8;
LAB_8006f49c:
        sVar6 = sVar6 + 0x10;
      }
    }
LAB_8006f4a0:
    *(short *)(param_1 + 0x68) = sVar6;
    *(undefined4 *)(param_1 + 0x104) = 0;
  }
LAB_8006faf8:
  if (bVar3) {
    if (*(char *)(param_1 + 0x113) == '\0') {
      FUN_8001c4a0(param_1,0x6ae1a244);
    }
    *(undefined *)(param_1 + 0x113) = 1;
  }
  else {
    *(undefined *)(param_1 + 0x113) = 0;
  }
  iVar8 = *(short *)(param_1 + 0x6a) * 0x10000 + (uint)*(ushort *)(param_1 + 0x6e) +
          *(int *)(param_1 + 0x108);
  *(short *)(param_1 + 0x6e) = (short)iVar8;
  iVar10 = *(short *)(param_1 + 0x68) * 0x10000 + (uint)*(ushort *)(param_1 + 0x6c) +
           *(int *)(param_1 + 0x104);
  *(short *)(param_1 + 0x68) = (short)((uint)iVar10 >> 0x10);
  *(short *)(param_1 + 0x6a) = (short)((uint)iVar8 >> 0x10);
  *(short *)(param_1 + 0x6c) = (short)iVar10;
  return;
}



void FUN_8006fb90(int param_1)

{
  char cVar1;
  int iVar2;
  short sVar3;
  
  if ((**(ushort **)(param_1 + 0x100) & 0x2000) == 0) {
    if ((**(ushort **)(param_1 + 0x100) & 0x8000) == 0) {
      iVar2 = (int)*(char *)(param_1 + 0x10f);
      if (iVar2 < 1) {
        if ((iVar2 < 0) &&
           (*(char *)(param_1 + 0x10f) = (char)(iVar2 + 8), 0 < (iVar2 + 8) * 0x1000000)) {
          *(undefined *)(param_1 + 0x10f) = 0;
        }
      }
      else {
        *(char *)(param_1 + 0x10f) = (char)(iVar2 + -8);
        if ((iVar2 + -8) * 0x1000000 < 0) {
          *(undefined *)(param_1 + 0x10f) = 0;
        }
      }
    }
    else {
      *(undefined *)(param_1 + 0x111) = 1;
      cVar1 = *(char *)(param_1 + 0x10f) + -0x10;
      *(char *)(param_1 + 0x10f) = cVar1;
      if (cVar1 < -0x40) {
        *(undefined *)(param_1 + 0x10f) = 0xc0;
      }
    }
  }
  else {
    *(undefined *)(param_1 + 0x111) = 1;
    cVar1 = *(char *)(param_1 + 0x10f) + '\x10';
    *(char *)(param_1 + 0x10f) = cVar1;
    if ('@' < cVar1) {
      *(undefined *)(param_1 + 0x10f) = 0x40;
    }
  }
  sVar3 = *(short *)(param_1 + 0x10c) + (short)*(char *)(param_1 + 0x10f);
  *(short *)(param_1 + 0x10c) = sVar3;
  if ((DAT_800a59c8 & **(ushort **)(param_1 + 0x100)) != 0) {
    iVar2 = csin(0x400 - sVar3);
    *(int *)(param_1 + 0x108) = *(int *)(param_1 + 0x108) - ((iVar2 << 0xd) >> 0xc);
    iVar2 = ccos(0x400 - *(short *)(param_1 + 0x10c));
    *(undefined *)(param_1 + 0x110) = 1;
    *(int *)(param_1 + 0x104) = *(int *)(param_1 + 0x104) + ((iVar2 << 0xd) >> 0xc);
  }
  return;
}



void FUN_8006fd08(int param_1)

{
  undefined2 uVar1;
  uint uVar2;
  
  uVar2 = *(short *)(param_1 + 0x10c) + 0x80 >> 8 & 0xf;
  *(short *)(param_1 + 0x72) = (short)(char)*(short *)(param_1 + 0x10c);
  if ((*(char *)(param_1 + 0x110) != '\0') && (*(short *)(param_1 + 0xec) == 4)) {
    *(undefined2 *)(param_1 + 0xec) = 2;
  }
  if (uVar2 != *(byte *)(param_1 + 0x10e)) {
    *(char *)(param_1 + 0x10e) = (char)uVar2;
    uVar1 = *(undefined2 *)(param_1 + 0xec);
    *(undefined4 *)(param_1 + 0xcc) = *(undefined4 *)(&DAT_8009cad8 + uVar2 * 4);
    FUN_8007bbfc(param_1 + 0x78);
    FUN_8001d744(param_1);
    *(undefined2 *)(param_1 + 0xec) = uVar1;
    *(undefined *)(param_1 + 0x76) = 1;
  }
  return;
}



undefined4 FUN_80070098(undefined4 param_1,char *param_2)

{
  char cVar1;
  undefined4 uVar2;
  
  cVar1 = *param_2;
  uVar2 = 1;
  if ((2 < (byte)(cVar1 + 0x4bU)) &&
     (((cVar1 == -0x37 || (cVar1 == -0x35)) || (uVar2 = 0, (byte)(cVar1 + 0x23U) < 3)))) {
    uVar2 = 1;
  }
  return uVar2;
}



void FUN_800700e8(int param_1,undefined4 param_2,short param_3)

{
  char cVar1;
  short sVar2;
  short sVar3;
  int iVar4;
  int iVar5;
  code *pcVar6;
  short unaff_s2;
  uint local_38;
  undefined local_34 [4];
  undefined local_30;
  undefined local_2f;
  undefined local_2e [22];
  
  iVar5 = (int)*(short *)(param_1 + 0x26);
  sVar2 = *(short *)(param_1 + 0x68);
  if (iVar5 != 0) {
    if (iVar5 < 1) {
      pcVar6 = *(code **)(param_1 + 0x28);
    }
    else {
      iVar4 = iVar5 * 8 + *(int *)(param_1 + *(short *)(param_1 + 0x28));
      param_3 = (short)*(undefined4 *)(iVar4 + -8);
      pcVar6 = *(code **)(iVar4 + -4);
    }
    iVar4 = (int)*(short *)(param_1 + 0x24);
    if (0 < iVar5 << 0x10) {
      iVar4 = param_3 + iVar4;
    }
    sVar2 = (*pcVar6)(param_1 + iVar4,(int)sVar2);
  }
  iVar5 = (int)*(short *)(param_1 + 0x2e);
  sVar3 = *(short *)(param_1 + 0x6a);
  if (iVar5 != 0) {
    if (iVar5 < 1) {
      pcVar6 = *(code **)(param_1 + 0x30);
    }
    else {
      iVar4 = iVar5 * 8 + *(int *)(param_1 + *(short *)(param_1 + 0x30));
      unaff_s2 = (short)*(undefined4 *)(iVar4 + -8);
      pcVar6 = *(code **)(iVar4 + -4);
    }
    iVar4 = (int)*(short *)(param_1 + 0x2c);
    if (0 < iVar5 << 0x10) {
      iVar4 = unaff_s2 + iVar4;
    }
    sVar3 = (*pcVar6)(param_1 + iVar4,(int)sVar3);
  }
  cVar1 = FUN_800245b8(BUF_PTR,(int)sVar2,(int)sVar3,&local_38,local_34);
  if (cVar1 != '\0') {
    if (local_38 == 0x65) {
      FUN_80025660(BUF_PTR,0);
    }
    else {
      if (local_38 < 0x66) {
        if (local_38 == 0x51) {
          FUN_80025660(BUF_PTR,1);
          return;
        }
        if (local_38 < 0x52) {
          if (local_38 == 0) {
            FUN_8001eaa8(param_1,DAT_800a5ff0,PTR_LAB_800a5ff4);
            *(undefined *)(param_1 + 0x119) = local_34[0];
            return;
          }
        }
        else if (local_38 == 0x52) {
          FUN_800256b4(BUF_PTR,1,&local_30);
          return;
        }
      }
      else {
        if (local_38 == 0x79) {
          FUN_80025660(BUF_PTR,2);
          return;
        }
        if (local_38 < 0x7a) {
          if (local_38 == 0x66) {
            FUN_800256b4(BUF_PTR,0,&local_30);
            return;
          }
        }
        else if (local_38 == 0x7a) {
          FUN_800256b4(BUF_PTR,2,&local_30);
          return;
        }
      }
      cVar1 = FUN_8007eec8(BUF_PTR,local_38 & 0xff,&local_30,&local_2f,local_2e);
      if (cVar1 != '\0') {
        iVar5 = *(int *)(param_1 + 0x34);
        *(undefined *)(iVar5 + 0x34) = local_30;
        *(undefined *)(iVar5 + 0x35) = local_2f;
        *(undefined *)(iVar5 + 0x36) = local_2e[0];
      }
    }
  }
  return;
}



void FUN_800703d4(int param_1,uint param_2,int param_3)

{
  int iVar1;
  undefined4 uVar2;
  int a;
  int iVar3;
  
  a = 0xc00 - (param_2 & 0xffff);
  iVar1 = csin(a);
  iVar3 = iVar1 * param_3 >> 0xc;
  iVar1 = ccos(a);
  iVar1 = iVar1 * param_3 >> 0xc;
  uVar2 = FUN_800143ec(PTR_DAT_800a59b0,0x114,1,0);
  uVar2 = FUN_80034bb4(uVar2,*(undefined4 *)(param_1 + 0x60),
                       (int)(((uint)*(ushort *)(param_1 + 0x68) + iVar1) * 0x10000) >> 0x10,
                       (int)(((uint)*(ushort *)(param_1 + 0x6a) - iVar3) * 0x10000) >> 0x10,
                       (iVar1 << 0x10) >> 6,iVar3 * -0x10000 >> 6);
  FUN_800213a4(BUF_PTR,uVar2);
  return;
}



undefined4 * FUN_80070d28(undefined4 *param_1,undefined4 param_2,short param_3,short param_4)

{
  undefined uVar1;
  undefined uVar2;
  undefined *puVar3;
  undefined4 *puVar4;
  undefined4 uVar5;
  int iVar6;
  int iVar7;
  undefined4 local_28;
  
  FUN_8001c864(param_1,&DAT_8009cb18,1000,(int)param_3,(int)param_4);
  param_1[6] = &DAT_80011d34;
  *(undefined2 *)(param_1 + 4) = 1000;
  param_1[0x40] = param_2;
  *(undefined *)(param_1 + 0x46) = 0;
  *(undefined *)((int)param_1 + 0x119) = 0;
  *(undefined *)((int)param_1 + 0x11a) = 0;
  *(undefined2 *)((int)param_1 + 0x11e) = 0;
  *(undefined *)((int)param_1 + 0x11b) = 0;
  *(undefined *)(param_1 + 0x47) = 0;
  *(undefined2 *)(param_1 + 0x48) = 0;
  *(undefined *)((int)param_1 + 0x122) = 0x40;
  *(undefined *)((int)param_1 + 0x123) = 0x40;
  *(undefined *)(param_1 + 0x49) = 0x40;
  *(undefined *)((int)param_1 + 0x11d) = 0;
  *param_1 = 0xffff0000;
  param_1[1] = &LAB_800713b4;
  param_1[2] = 0xffff0000;
  param_1[3] = FUN_80071520;
  puVar4 = (undefined4 *)FUN_800143ec(PTR_DAT_800a59b0,0x104,1,0);
  FUN_8001c71c(puVar4,0xca1b20cb,2000,(int)*(short *)(param_1 + 0x1a),
               (int)((*(ushort *)((int)param_1 + 0x6a) + 0x80) * 0x10000) >> 0x10,0);
  puVar4[6] = &DAT_80011d74;
  FUN_8001d1bc(puVar4,(int)*(short *)((int)puVar4 + 0xda));
  FUN_8001d23c(puVar4,0);
  *puVar4 = 0xffff0000;
  puVar4[1] = &LAB_800705dc;
  *(undefined *)(puVar4 + 0x40) = 0xaa;
  FUN_80020f64(BUF_PTR,puVar4);
  local_28 = CONCAT22(*(short *)((int)param_1 + 0x6a) + 0x80,*(undefined2 *)(param_1 + 0x1a));
  FUN_800722ac(param_1);
  uVar5 = FUN_800143ec(PTR_DAT_800a59b0,0x108,1,0);
  iVar6 = FUN_80030d08(uVar5,0x4835000,local_28,0,0x10000,0x3d4,0);
  *(undefined2 *)(iVar6 + 0x100) = 0x6f;
  FUN_8001d23c(iVar6,1);
  iVar7 = *(int *)(iVar6 + 0x34);
  uVar1 = *(undefined *)((int)param_1 + 0x123);
  uVar2 = *(undefined *)(param_1 + 0x49);
  *(undefined *)(iVar7 + 0x34) = *(undefined *)((int)param_1 + 0x122);
  *(undefined *)(iVar7 + 0x35) = uVar1;
  *(undefined *)(iVar7 + 0x36) = uVar2;
  FUN_800213a4(BUF_PTR,iVar6);
  puVar3 = PTR_LAB_800a6004;
  uVar5 = DAT_800a6000;
  param_1[0x41] = 0;
  param_1[0x43] = 0xffffffff;
  FUN_8001eaa8(param_1,uVar5,puVar3);
  return param_1;
}



int FUN_80071008(int param_1,undefined param_2,short param_3,uint param_4)

{
  int iVar1;
  uint uVar2;
  int iVar3;
  short in_t0;
  code *pcVar4;
  short unaff_s2;
  
  iVar3 = (int)*(short *)(param_1 + 0x2e);
  if (iVar3 != 0) {
    if (iVar3 < 1) {
      pcVar4 = *(code **)(param_1 + 0x30);
    }
    else {
      iVar1 = iVar3 * 8 + *(int *)(param_1 + *(short *)(param_1 + 0x30));
      in_t0 = (short)*(undefined4 *)(iVar1 + -8);
      pcVar4 = *(code **)(iVar1 + -4);
    }
    iVar1 = (int)*(short *)(param_1 + 0x2c);
    if (0 < iVar3 << 0x10) {
      iVar1 = in_t0 + iVar1;
    }
    param_4 = (*pcVar4)(param_1 + iVar1,(int)(short)param_4);
  }
  iVar3 = (int)*(short *)(param_1 + 0x26);
  if (iVar3 != 0) {
    if (iVar3 < 1) {
      pcVar4 = *(code **)(param_1 + 0x28);
    }
    else {
      iVar1 = iVar3 * 8 + *(int *)(param_1 + *(short *)(param_1 + 0x28));
      unaff_s2 = (short)*(undefined4 *)(iVar1 + -8);
      pcVar4 = *(code **)(iVar1 + -4);
    }
    iVar1 = (int)*(short *)(param_1 + 0x24);
    if (0 < iVar3 << 0x10) {
      iVar1 = unaff_s2 + iVar1;
    }
    param_3 = (*pcVar4)(param_1 + iVar1,(int)param_3);
  }
  uVar2 = FUN_80081c68(BUF_PTR,param_2,(int)param_3);
  iVar3 = *(int *)(param_1 + 0x5c);
  iVar1 = ((param_4 | 0xf) - (uVar2 & 0xff)) * 0x10000;
  uVar2 = iVar1 / iVar3;
  if (iVar3 == 0) {
    trap(0x1c00);
  }
  if ((iVar3 == -1) && (iVar1 == -0x80000000)) {
    trap(0x1800);
  }
  iVar3 = uVar2 << 0x10;
  if ((*(int *)(param_1 + 0x58) == 0xc000) && (iVar3 = uVar2 << 0x10, (uVar2 & 3) - 1 < 2)) {
    iVar3 = (uVar2 + 1) * 0x10000;
  }
  return iVar3 >> 0x10;
}



bool FUN_800711e8(int param_1,undefined param_2,short param_3,uint param_4,ushort param_5)

{
  int iVar1;
  uint uVar2;
  int iVar3;
  short in_t0;
  code *pcVar4;
  short unaff_s2;
  
  iVar3 = (int)*(short *)(param_1 + 0x2e);
  if (iVar3 != 0) {
    if (iVar3 < 1) {
      pcVar4 = *(code **)(param_1 + 0x30);
    }
    else {
      iVar1 = iVar3 * 8 + *(int *)(param_1 + *(short *)(param_1 + 0x30));
      in_t0 = (short)*(undefined4 *)(iVar1 + -8);
      pcVar4 = *(code **)(iVar1 + -4);
    }
    iVar1 = (int)*(short *)(param_1 + 0x2c);
    if (0 < iVar3 << 0x10) {
      iVar1 = in_t0 + iVar1;
    }
    param_4 = (*pcVar4)(param_1 + iVar1,(int)(short)param_4);
  }
  iVar3 = (int)*(short *)(param_1 + 0x26);
  if (iVar3 != 0) {
    if (iVar3 < 1) {
      pcVar4 = *(code **)(param_1 + 0x28);
    }
    else {
      iVar1 = iVar3 * 8 + *(int *)(param_1 + *(short *)(param_1 + 0x28));
      unaff_s2 = (short)*(undefined4 *)(iVar1 + -8);
      pcVar4 = *(code **)(iVar1 + -4);
    }
    iVar1 = (int)*(short *)(param_1 + 0x24);
    if (0 < iVar3 << 0x10) {
      iVar1 = unaff_s2 + iVar1;
    }
    param_3 = (*pcVar4)(param_1 + iVar1,(int)param_3);
  }
  uVar2 = FUN_80081c68(BUF_PTR,param_2,(int)param_3);
  iVar3 = *(int *)(param_1 + 0x5c);
  iVar1 = ((param_4 | 0xf) - (uVar2 & 0xff)) * 0x10000;
  if (iVar3 == 0) {
    trap(0x1c00);
  }
  if ((iVar3 == -1) && (iVar1 == -0x80000000)) {
    trap(0x1800);
  }
  return ((uint)param_5 - iVar1 / iVar3 & 0xffff) < 10;
}



undefined4 FUN_80071520(int param_1,short param_2,undefined4 param_3,int param_4)

{
  undefined2 uVar1;
  short sVar2;
  int iVar3;
  int iVar4;
  undefined4 uVar5;
  undefined *puVar6;
  short in_t0;
  code *pcVar7;
  short unaff_s2;
  
  uVar5 = DAT_800a6018;
  puVar6 = PTR_LAB_800a601c;
  if (param_2 != 0x1000) {
    if (param_2 != 0x100f) {
      return 0;
    }
    iVar4 = (int)*(short *)(param_4 + 0x26);
    if (iVar4 == 0) {
      *(short *)(param_1 + 0x68) = *(short *)(param_4 + 0x68);
    }
    else {
      if (iVar4 < 1) {
        pcVar7 = *(code **)(param_4 + 0x28);
      }
      else {
        iVar3 = iVar4 * 8 + *(int *)(param_4 + *(short *)(param_4 + 0x28));
        in_t0 = (short)*(undefined4 *)(iVar3 + -8);
        pcVar7 = *(code **)(iVar3 + -4);
      }
      iVar3 = (int)*(short *)(param_4 + 0x24);
      if (0 < iVar4 << 0x10) {
        iVar3 = in_t0 + iVar3;
      }
      uVar1 = (*pcVar7)(param_4 + iVar3,(int)*(short *)(param_4 + 0x68));
      *(undefined2 *)(param_1 + 0x68) = uVar1;
    }
    iVar4 = (int)*(short *)(param_4 + 0x2e);
    sVar2 = *(short *)(param_4 + 0x6a);
    if (iVar4 != 0) {
      if (iVar4 < 1) {
        pcVar7 = *(code **)(param_4 + 0x30);
      }
      else {
        iVar3 = iVar4 * 8 + *(int *)(param_4 + *(short *)(param_4 + 0x30));
        unaff_s2 = (short)*(undefined4 *)(iVar3 + -8);
        pcVar7 = *(code **)(iVar3 + -4);
      }
      iVar3 = (int)*(short *)(param_4 + 0x2c);
      if (0 < iVar4 << 0x10) {
        iVar3 = unaff_s2 + iVar3;
      }
      sVar2 = (*pcVar7)(param_4 + iVar3,(int)sVar2);
    }
    puVar6 = PTR_LAB_800a6014;
    uVar5 = DAT_800a6010;
    *(short *)(param_1 + 0x6a) = sVar2 + 0x20;
  }
  FUN_8001eaa8(param_1,uVar5,puVar6);
  return 0;
}



void FUN_80071760(int param_1)

{
  char cVar1;
  char cVar2;
  char cVar3;
  char cVar4;
  char cVar5;
  byte bVar6;
  undefined2 uVar7;
  int iVar8;
  undefined4 uVar9;
  undefined *puVar10;
  short sVar11;
  
  iVar8 = *(short *)(param_1 + 0x68) * 0x10000 + (uint)*(ushort *)(param_1 + 0x6c) +
          *(int *)(param_1 + 0x104);
  *(short *)(param_1 + 0x68) = (short)((uint)iVar8 >> 0x10);
  *(short *)(param_1 + 0x6c) = (short)iVar8;
  cVar1 = FUN_8001fea4(param_1,(int)((*(ushort *)(param_1 + 0x68) + 2) * 0x10000) >> 0x10,
                       (int)((*(ushort *)(param_1 + 0x6a) - 0xf) * 0x10000) >> 0x10);
  cVar2 = FUN_8001fea4(param_1,(int)((*(ushort *)(param_1 + 0x68) + 2) * 0x10000) >> 0x10,
                       (int)((*(ushort *)(param_1 + 0x6a) - 0x10) * 0x10000) >> 0x10);
  cVar3 = FUN_8001fea4(param_1,(int)((*(ushort *)(param_1 + 0x68) + 2) * 0x10000) >> 0x10,
                       (int)((*(ushort *)(param_1 + 0x6a) - 0x20) * 0x10000) >> 0x10);
  cVar4 = FUN_8001fea4(param_1,(int)((*(ushort *)(param_1 + 0x68) + 2) * 0x10000) >> 0x10,
                       (int)((*(ushort *)(param_1 + 0x6a) - 0x30) * 0x10000) >> 0x10);
  cVar5 = FUN_8001fea4(param_1,(int)((*(ushort *)(param_1 + 0x68) + 2) * 0x10000) >> 0x10,
                       (int)((*(ushort *)(param_1 + 0x6a) - 0x40) * 0x10000) >> 0x10);
  uVar9 = DAT_800a6018;
  puVar10 = PTR_LAB_800a601c;
  if ((((cVar1 == -0x4b) || (cVar2 == -0x4b)) || (cVar3 == -0x4b)) ||
     ((cVar4 == -0x4b || (cVar5 == -0x4b)))) {
LAB_800719c0:
    FUN_8001eaa8(param_1,uVar9,puVar10);
  }
  else {
    bVar6 = FUN_8001fea4(param_1,(int)*(short *)(param_1 + 0x68),
                         (int)((*(ushort *)(param_1 + 0x6a) - 7) * 0x10000) >> 0x10);
    if (bVar6 == 0 || 0x3b < bVar6) {
      bVar6 = FUN_8001fea4(param_1,(int)*(short *)(param_1 + 0x68),
                           (int)((*(ushort *)(param_1 + 0x6a) + 2) * 0x10000) >> 0x10);
      uVar9 = DAT_800a6018;
      puVar10 = PTR_LAB_800a601c;
      if (bVar6 == 0xb5) goto LAB_800719c0;
      if (bVar6 == 0 || 0x3b < bVar6) {
        if (bVar6 != 0) {
          return;
        }
        bVar6 = FUN_8001fea4(param_1,(int)*(short *)(param_1 + 0x68),
                             (int)((*(ushort *)(param_1 + 0x6a) + 0x10) * 0x10000) >> 0x10);
        uVar9 = DAT_800a6020;
        puVar10 = PTR_LAB_800a6024;
        if (bVar6 == 0 || 0x3b < bVar6) goto LAB_800719c0;
        iVar8 = (int)*(short *)(param_1 + 0x68);
        sVar11 = *(short *)(param_1 + 0x6a) + 0x10;
      }
      else {
        iVar8 = (int)*(short *)(param_1 + 0x68);
        sVar11 = *(short *)(param_1 + 0x6a) + 2;
      }
    }
    else {
      iVar8 = (int)*(short *)(param_1 + 0x68);
      sVar11 = *(short *)(param_1 + 0x6a) + -7;
    }
    uVar7 = FUN_80071008(param_1,bVar6,iVar8,(int)sVar11);
    *(undefined2 *)(param_1 + 0x6a) = uVar7;
  }
  return;
}



void FUN_80072084(int param_1)

{
  bool bVar1;
  int iVar2;
  
  *(undefined4 *)(param_1 + 0x114) = 0;
  bVar1 = false;
  if ((DAT_800a59c8 & *(ushort *)(*(int *)(param_1 + 0x100) + 2)) != 0) {
    if (*(char *)(param_1 + 0x11a) == '\0') {
      FUN_8001eaa8(param_1,DAT_800a6030,PTR_LAB_800a6034);
    }
    else {
      *(undefined *)(param_1 + 0x11b) = 10;
    }
  }
  if ((((**(ushort **)(param_1 + 0x100) & 0x2000) != 0) && (*(short *)(param_1 + 0x110) < 0x100)) &&
     (iVar2 = *(int *)(param_1 + 0x104) + 0x4000, *(int *)(param_1 + 0x104) < 0x80000)) {
    *(int *)(param_1 + 0x104) = iVar2;
    bVar1 = true;
    if (0x80000 < iVar2) {
      *(undefined4 *)(param_1 + 0x104) = 0x80000;
    }
  }
  if ((((**(ushort **)(param_1 + 0x100) & 0x8000) != 0) && (0x40 < *(short *)(param_1 + 0x110))) &&
     (0x20000 < *(int *)(param_1 + 0x104))) {
    if (bVar1) goto LAB_80072210;
    iVar2 = *(int *)(param_1 + 0x104) + -0x8000;
    *(int *)(param_1 + 0x104) = iVar2;
    if (iVar2 < 0x20000) {
      *(undefined4 *)(param_1 + 0x104) = 0x20000;
    }
    bVar1 = true;
  }
  if (!bVar1) {
    iVar2 = *(int *)(param_1 + 0x104);
    if (iVar2 < 0x50000) {
      *(int *)(param_1 + 0x104) = iVar2 + 0x4000;
      if (0x50000 < iVar2 + 0x4000) {
        *(undefined4 *)(param_1 + 0x104) = 0x50000;
      }
    }
    else if ((0x50000 < iVar2) &&
            (*(int *)(param_1 + 0x104) = iVar2 + -0x8000, iVar2 + -0x8000 < 0x50000)) {
      *(undefined4 *)(param_1 + 0x104) = 0x50000;
    }
  }
LAB_80072210:
  if (*(char *)(param_1 + 0x119) == '\0') {
    if (*(char *)(param_1 + 0x118) != '\0') {
      *(char *)(param_1 + 0x118) = *(char *)(param_1 + 0x118) + -1;
      if ((DAT_800a59c8 & **(ushort **)(param_1 + 0x100)) == 0) {
        if (*(int *)(param_1 + 0x108) < -0x48000) {
          *(undefined4 *)(param_1 + 0x108) = 0xfffb8000;
        }
      }
      else {
        *(undefined4 *)(param_1 + 0x114) = 0xffffee00;
      }
    }
  }
  else {
    *(char *)(param_1 + 0x119) = *(char *)(param_1 + 0x119) + -1;
    *(undefined4 *)(param_1 + 0x114) = 0xffffee00;
    *(char *)(param_1 + 0x118) = *(char *)(param_1 + 0x118) + -1;
  }
  return;
}



void FUN_800722ac(int param_1,undefined4 param_2,short param_3)

{
  undefined uVar1;
  char cVar2;
  undefined uVar3;
  short sVar4;
  short sVar5;
  int iVar6;
  int iVar7;
  code *pcVar8;
  short unaff_s2;
  uint local_40;
  undefined local_3c [36];
  
  iVar7 = (int)*(short *)(param_1 + 0x26);
  sVar4 = *(short *)(param_1 + 0x68);
  if (iVar7 != 0) {
    if (iVar7 < 1) {
      pcVar8 = *(code **)(param_1 + 0x28);
    }
    else {
      iVar6 = iVar7 * 8 + *(int *)(param_1 + *(short *)(param_1 + 0x28));
      param_3 = (short)*(undefined4 *)(iVar6 + -8);
      pcVar8 = *(code **)(iVar6 + -4);
    }
    iVar6 = (int)*(short *)(param_1 + 0x24);
    if (0 < iVar7 << 0x10) {
      iVar6 = param_3 + iVar6;
    }
    sVar4 = (*pcVar8)(param_1 + iVar6,(int)sVar4);
  }
  iVar7 = (int)*(short *)(param_1 + 0x2e);
  sVar5 = *(short *)(param_1 + 0x6a);
  if (iVar7 != 0) {
    if (iVar7 < 1) {
      pcVar8 = *(code **)(param_1 + 0x30);
    }
    else {
      iVar6 = iVar7 * 8 + *(int *)(param_1 + *(short *)(param_1 + 0x30));
      unaff_s2 = (short)*(undefined4 *)(iVar6 + -8);
      pcVar8 = *(code **)(iVar6 + -4);
    }
    iVar6 = (int)*(short *)(param_1 + 0x2c);
    if (0 < iVar7 << 0x10) {
      iVar6 = unaff_s2 + iVar6;
    }
    sVar5 = (*pcVar8)(param_1 + iVar6,(int)sVar5);
  }
  cVar2 = FUN_800245b8(BUF_PTR,(int)sVar4,(int)sVar5,&local_40,local_3c);
  if (cVar2 != '\0') {
    if (local_40 == 0x65) {
      FUN_80025660(BUF_PTR,0);
    }
    else {
      if (local_40 < 0x66) {
        if (local_40 == 0x51) {
          FUN_80025660(BUF_PTR,1);
          return;
        }
        if (local_40 < 0x52) {
          if (local_40 == 0) {
            if (*(char *)(param_1 + 0x11d) == '\0') {
              return;
            }
            if ((*(short *)(param_1 + 0xa2) == -1) &&
               (*(undefined **)(param_1 + 0xa4) == &LAB_80072688)) {
              *(undefined4 *)(param_1 + 0x1c) = 0xffff0000;
              *(undefined **)(param_1 + 0x20) = &LAB_800719f0;
            }
            *(undefined *)(param_1 + 0x11d) = 0;
            *(undefined2 *)(param_1 + 0x11e) = 0x5a;
            *(undefined *)(param_1 + 0x11c) = local_3c[0];
            return;
          }
          if (local_40 == 0x2d) {
            if (*(char *)(param_1 + 0x11d) == '\0') {
              return;
            }
            if ((*(short *)(param_1 + 0xa2) == -1) &&
               (*(undefined **)(param_1 + 0xa4) == &LAB_80072688)) {
              *(undefined4 *)(param_1 + 0x1c) = 0xffff0000;
              *(undefined **)(param_1 + 0x20) = &LAB_800719f0;
            }
            uVar3 = 99;
            if (2 < (byte)PTR_DAT_800a59d8[0x1a]) {
              uVar3 = local_3c[0];
            }
            *(undefined *)(param_1 + 0x11c) = uVar3;
            *(undefined *)(param_1 + 0x11d) = 0;
            *(undefined2 *)(param_1 + 0x11e) = 0x5a;
            return;
          }
        }
        else if (local_40 == 0x52) {
          FUN_800256b4(BUF_PTR,1,param_1 + 0x122);
          return;
        }
      }
      else {
        if (local_40 == 0x79) {
          FUN_80025660(BUF_PTR,2);
          return;
        }
        if (local_40 < 0x7a) {
          if (local_40 == 0x66) {
            FUN_800256b4(BUF_PTR,0,param_1 + 0x122);
            return;
          }
        }
        else if (local_40 == 0x7a) {
          FUN_800256b4(BUF_PTR,2,param_1 + 0x122);
          return;
        }
      }
      cVar2 = FUN_8007eec8(BUF_PTR,local_40 & 0xff,param_1 + 0x122,param_1 + 0x123,param_1 + 0x124);
      if (cVar2 != '\0') {
        iVar7 = *(int *)(param_1 + 0x34);
        uVar3 = *(undefined *)(param_1 + 0x123);
        uVar1 = *(undefined *)(param_1 + 0x124);
        *(undefined *)(iVar7 + 0x34) = *(undefined *)(param_1 + 0x122);
        *(undefined *)(iVar7 + 0x35) = uVar3;
        *(undefined *)(iVar7 + 0x36) = uVar1;
      }
    }
  }
  return;
}



int FUN_800732f8(int param_1,short param_2,short param_3)

{
  u_short uVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  
  FUN_8001c71c(param_1,0x1b301085,1000,(int)param_2,(int)param_3,0);
  *(undefined **)(param_1 + 0x18) = &DAT_80011dd4;
  *(undefined4 *)(param_1 + 0x24) = 0xffff0000;
  *(undefined **)(param_1 + 0x28) = &LAB_8001a268;
  *(undefined4 *)(param_1 + 0x2c) = 0xffff0000;
  *(undefined **)(param_1 + 0x30) = &LAB_8001a298;
  *(undefined4 *)(param_1 + 0x58) = 0xc000;
  iVar2 = *(int *)(param_1 + 0x58);
  iVar5 = (int)*(short *)(param_1 + 0x68) << 0x10;
  if (iVar2 == 0) {
    trap(0x1c00);
  }
  if ((iVar2 == -1) && (iVar5 == -0x80000000)) {
    trap(0x1800);
  }
  *(undefined4 *)(param_1 + 0x5c) = 0xc000;
  iVar3 = *(int *)(param_1 + 0x5c);
  iVar4 = (int)*(short *)(param_1 + 0x6a) << 0x10;
  if (iVar3 == 0) {
    trap(0x1c00);
  }
  if ((iVar3 == -1) && (iVar4 == -0x80000000)) {
    trap(0x1800);
  }
  *(undefined4 *)(param_1 + 0x50) = 0xc000;
  *(undefined4 *)(param_1 + 0x54) = 0xc000;
  *(undefined2 *)(param_1 + 0x10) = 0x442;
  *(short *)(param_1 + 0x68) = (short)(iVar5 / iVar2);
  *(short *)(param_1 + 0x6a) = (short)(iVar4 / iVar3);
  *(undefined4 *)(param_1 + 8) = 0xffff0000;
  *(undefined **)(param_1 + 0xc) = &LAB_800734bc;
  FUN_8001d23c(param_1,0);
  *(undefined4 *)(param_1 + 0x1c) = 0xffff0000;
  *(code **)(param_1 + 0x20) = FUN_8001cc68;
  iVar2 = *(int *)(param_1 + 0x34);
  uVar1 = GetTPage((uint)*(byte *)(iVar2 + 0x32),1,(int)*(short *)(iVar2 + 0x10) & 0xffffffc0,
                   (int)*(short *)(iVar2 + 0x12) & 0xffffff00);
  *(u_short *)(iVar2 + 0x24) = uVar1;
  return param_1;
}



undefined4 * FUN_800738f4(undefined4 *param_1,undefined4 param_2,short param_3,short param_4)

{
  FUN_8001c864(param_1,&DAT_8009cb38,1000,(int)param_3,(int)param_4);
  param_1[6] = &DAT_80011db4;
  param_1[0x43] = 0xffffffff;
  *(undefined2 *)(param_1 + 4) = 1000;
  param_1[0x40] = param_2;
  param_1[0x41] = 0;
  *(undefined *)(param_1 + 0x42) = 0;
  *param_1 = 0xffff0000;
  param_1[1] = &LAB_80073a48;
  param_1[7] = 0xffff0000;
  param_1[8] = &LAB_80073b48;
  FUN_8001eaa8(param_1,DAT_800a6058,PTR_LAB_800a605c);
  return param_1;
}



void FUN_80073ca8(int param_1)

{
  int iVar1;
  int iVar2;
  
  FUN_8001fea4(param_1,(int)*(short *)(param_1 + 0x68),(int)*(short *)(param_1 + 0x6a));
  if ((**(ushort **)(param_1 + 0x100) & 0x1000) == 0) {
    iVar2 = 0xc000;
    if ((**(ushort **)(param_1 + 0x100) & 0x4000) == 0) goto LAB_80073d0c;
    iVar1 = *(int *)(param_1 + 0x104);
  }
  else {
    iVar1 = *(int *)(param_1 + 0x104);
    iVar2 = -0xc000;
  }
  *(int *)(param_1 + 0x104) = iVar1 + iVar2;
LAB_80073d0c:
  if ((*(ushort *)(*(int *)(param_1 + 0x100) + 2) & 0xf0) != 0) {
    FUN_8001eaa8(param_1,DAT_800a6068,PTR_LAB_800a606c);
  }
  return;
}



undefined4 * FUN_800740c0(undefined4 *param_1,undefined4 param_2,short param_3,short param_4)

{
  undefined *puVar1;
  undefined4 uVar2;
  int iVar3;
  undefined4 uVar4;
  
  FUN_8001c864(param_1,&DAT_8009cb48,1000,(int)param_3,(int)param_4);
  puVar1 = PTR_DAT_800a59b0;
  param_1[6] = &DAT_80011e14;
  uVar2 = FUN_800143ec(puVar1,0x100,1,0);
  iVar3 = FUN_8001c71c(uVar2,0x3da80d13,0x3e9,(int)param_3,(int)param_4,0);
  param_1[0x41] = iVar3;
  *(undefined *)(*(int *)(iVar3 + 0x34) + 10) = 0;
  FUN_800213a4(BUF_PTR,param_1[0x41]);
  *(undefined2 *)(param_1 + 4) = 1000;
  param_1[0x40] = param_2;
  param_1[0x42] = 0;
  *(undefined *)(param_1 + 0x43) = 0;
  *param_1 = 0xffff0000;
  param_1[1] = &LAB_80074288;
  param_1[7] = 0xffff0000;
  param_1[8] = &LAB_80074a00;
  uVar4 = FUN_8001c4a0(param_1,0xcc6c8070);
  puVar1 = PTR_LAB_800a607c;
  uVar2 = DAT_800a6078;
  param_1[0x44] = uVar4;
  FUN_8001eaa8(param_1,uVar2,puVar1);
  return param_1;
}



void FUN_80074b14(int param_1)

{
  int iVar1;
  int iVar2;
  
  FUN_8001fea4(param_1,(int)*(short *)(param_1 + 0x68),(int)*(short *)(param_1 + 0x6a));
  if ((**(ushort **)(param_1 + 0x100) & 0x8000) == 0) {
    iVar2 = 0x20000;
    if ((**(ushort **)(param_1 + 0x100) & 0x2000) == 0) goto LAB_80074b74;
    iVar1 = *(int *)(param_1 + 0x108);
  }
  else {
    iVar1 = *(int *)(param_1 + 0x108);
    iVar2 = -0x20000;
  }
  *(int *)(param_1 + 0x108) = iVar1 + iVar2;
LAB_80074b74:
  if ((*(ushort *)(*(int *)(param_1 + 0x100) + 2) & 0xf0) != 0) {
    FUN_8001eaa8(param_1,DAT_800a6090,PTR_LAB_800a6094);
  }
  return;
}



void FUN_8007548c(int param_1)

{
  undefined4 uVar1;
  int iVar2;
  
  iVar2 = FUN_800143ec(PTR_DAT_800a59b0,0x100,1,0);
  FUN_8001c864(iVar2,&DAT_8009cc44,2000,
               (int)((*(ushort *)(param_1 + 0x68) + 0x6a) * 0x10000) >> 0x10,
               (int)((*(ushort *)(param_1 + 0x6a) + 0xe) * 0x10000) >> 0x10);
  *(undefined **)(iVar2 + 0x18) = &DAT_8001208c;
  *(undefined4 *)(iVar2 + 0x24) = 0xffff0000;
  *(undefined **)(iVar2 + 0x28) = &LAB_8001a2c8;
  *(undefined4 *)(iVar2 + 0x2c) = 0xffff0000;
  *(undefined **)(iVar2 + 0x30) = &LAB_8001a2e4;
  uVar1 = BUF_PTR;
  *(int *)(param_1 + 0x100) = iVar2;
  FUN_800213a4(uVar1);
  *(undefined *)(param_1 + 0x104) = 0;
  *(undefined4 *)(param_1 + 0x24) = 0xffff0000;
  *(undefined **)(param_1 + 0x28) = &LAB_8001a2c8;
  *(undefined4 *)(param_1 + 0x2c) = 0xffff0000;
  *(undefined **)(param_1 + 0x30) = &LAB_8001a2e4;
  return;
}



int FUN_80075fb4(int param_1,short param_2,short param_3,undefined4 param_4,undefined4 param_5)

{
  undefined *puVar1;
  undefined4 uVar2;
  int iVar3;
  undefined4 uVar4;
  uint uVar5;
  uint uVar6;
  
  FUN_8001c71c(param_1,0x10094096,1000,(int)param_2,(int)param_3,0);
  *(undefined **)(param_1 + 0x18) = &DAT_80012034;
  FUN_8007548c(param_1);
  puVar1 = PTR_DAT_800a59b0;
  *(undefined **)(param_1 + 0x18) = &DAT_80011ed4;
  *(undefined4 *)(param_1 + 0x140) = param_4;
  *(undefined4 *)(param_1 + 0x13c) = param_5;
  uVar2 = FUN_800143ec(puVar1,0x100,1,0);
  uVar5 = (uint)**(byte **)(param_1 + 0x13c) % 0xc;
  iVar3 = FUN_8001c71c(uVar2,0x3099991b,2000,(int)(short)(&DAT_8009cba8)[uVar5 * 2],
                       (int)(short)(&DAT_8009cbaa)[uVar5 * 2],0);
  *(int *)(param_1 + 0x138) = iVar3;
  *(undefined *)(*(int *)(iVar3 + 0x34) + 10) = 0;
  uVar6 = 0;
  FUN_800213a4(BUF_PTR,*(undefined4 *)(param_1 + 0x138));
  uVar5 = 0;
  while (uVar5 < 0xc) {
    uVar2 = FUN_800143ec(PTR_DAT_800a59b0,0x100,1,0);
    uVar4 = FUN_8001c71c(uVar2,0xec95689b,2000,(int)(short)(&DAT_8009cba8)[uVar5 * 2],
                         (int)(short)(&DAT_8009cbaa)[uVar5 * 2],0);
    uVar2 = BUF_PTR;
    iVar3 = uVar5 * 4 + param_1;
    *(undefined4 *)(iVar3 + 0x108) = uVar4;
    FUN_800213a4(uVar2);
    if (uVar5 < **(byte **)(param_1 + 0x13c)) {
      FUN_8001d0bc(*(undefined4 *)(iVar3 + 0x108),*(undefined *)(*(int *)(param_1 + 0x140) + uVar5))
      ;
    }
    else {
      *(undefined *)(*(int *)(*(int *)(iVar3 + 0x108) + 0x34) + 10) = 0;
    }
    uVar5 = uVar6 & 0xff;
    uVar6 = uVar6 + 1;
    FUN_8001d214(*(undefined4 *)(uVar5 * 4 + param_1 + 0x108),0);
    uVar5 = uVar6 & 0xff;
  }
  return param_1;
}



undefined4 *
FUN_800768e8(undefined4 *param_1,undefined4 param_2,undefined4 param_3,undefined param_4)

{
  byte bVar1;
  int iVar2;
  
  FUN_8001c71c(param_1,0xb8700ca1,1000,0,0,1);
  param_1[6] = &DAT_80011e94;
  DAT_800a60a1 = 0;
  *(undefined2 *)((int)param_1 + 0x13a) = 0;
  *(undefined *)(param_1[0xd] + 10) = 0;
  *(undefined *)(param_1 + 0x4b) = 0;
  *(undefined *)((int)param_1 + 0x12d) = 0;
  *(undefined2 *)(param_1 + 4) = 1000;
  param_1[0x40] = param_2;
  param_1[0x4d] = param_3;
  *(undefined *)(param_1 + 0x4e) = param_4;
  *param_1 = 0xffff0000;
  param_1[1] = &LAB_80077900;
  FUN_800778ac(param_1);
  bVar1 = old_debug__return_input(BUF_PTR + 0x84);
  if (4 < bVar1) {
    bVar1 = 1;
  }
  if (bVar1 == 2) {
    FUN_80077028(param_1);
    goto LAB_80076a2c;
  }
  if (2 < bVar1) {
    if (bVar1 == 3) {
      FUN_80077184(param_1);
      goto LAB_80076a2c;
    }
    if (bVar1 == 4) {
      FUN_800773bc(param_1);
      goto LAB_80076a2c;
    }
  }
  FUN_80076b60(param_1);
LAB_80076a2c:
  if (*(char *)(param_1 + 0x4b) != '\0') {
    iVar2 = *(int *)(param_1[*(byte *)((int)param_1 + 0x12d) + 0x41] + 0x18);
    (**(code **)(iVar2 + 0x24))
              (param_1[*(byte *)((int)param_1 + 0x12d) + 0x41] + (int)*(short *)(iVar2 + 0x20));
  }
  return param_1;
}



void FUN_80076b60(int param_1)

{
  undefined *puVar1;
  undefined *puVar2;
  undefined uVar3;
  bool bVar4;
  undefined *puVar5;
  undefined4 uVar6;
  int iVar7;
  int *piVar8;
  uint uVar9;
  uint uVar10;
  undefined local_48 [4];
  undefined4 local_44;
  undefined local_40 [8];
  undefined auStack_38 [12];
  undefined *puStack_2c;
  
  uVar6 = FUN_800143ec(PTR_DAT_800a59b0,0x100,1,0);
  uVar6 = FUN_8001c71c(uVar6,0x68c01218,2000,0xa0,0xa8,0);
  FUN_800213a4(BUF_PTR,uVar6);
  uVar6 = FUN_800143ec(PTR_DAT_800a59b0,0x100,1,0);
  uVar6 = FUN_8001c71c(uVar6,0x3080840d,2000,0xa0,0xa8,0);
  FUN_800213a4(BUF_PTR,uVar6);
  uVar6 = FUN_800143ec(PTR_DAT_800a59b0,0x100,1,0);
  uVar6 = FUN_8001c71c(uVar6,0x3080820d,2000,0xa0,0xa8,0);
  FUN_800213a4(BUF_PTR,uVar6);
  uVar6 = FUN_800143ec(PTR_DAT_800a59b0,0x100,1,0);
  uVar6 = FUN_8001c71c(uVar6,0x30808e0d,2000,0xa0,0xa8,0);
  FUN_800213a4(BUF_PTR,uVar6);
  uVar6 = FUN_800143ec(PTR_DAT_800a59b0,0x100,1,0);
  uVar6 = FUN_8001c71c(uVar6,0x38a0c119,2000,0xa0,0xa8,0);
  FUN_800213a4(BUF_PTR,uVar6);
  iVar7 = FUN_800143ec(PTR_DAT_800a59b0,0x104,1,0);
  FUN_8001c864(iVar7,&DAT_8009cc38,2000,0xa0,0xa8);
  *(undefined **)(iVar7 + 0x18) = &DAT_800120ac;
  *(undefined4 *)(iVar7 + 0x24) = 0xffff0000;
  *(undefined **)(iVar7 + 0x28) = &LAB_8001a2c8;
  local_44 = 0xffff0000;
  local_40._0_4_ = &LAB_8001a2e4;
  *(undefined4 *)(iVar7 + 0x2c) = 0xffff0000;
  *(undefined **)(iVar7 + 0x30) = &LAB_8001a2e4;
  FUN_8001eaa8(iVar7,DAT_800a60ac,PTR_LAB_800a60b0);
  FUN_800213a4(BUF_PTR,iVar7);
  for (uVar10 = 0; uVar9 = uVar10 & 0xff, uVar9 < 4; uVar10 = uVar10 + 1) {
    iVar7 = FUN_800143ec(PTR_DAT_800a59b0,0x10c,1,0);
    uVar3 = (&DAT_8009cb6c)[uVar9 * 6];
    FUN_8001c71c(iVar7,0x10094096,1000,(int)(short)(&DAT_8009cb68)[uVar9 * 3],
                 (int)(short)(&DAT_8009cb6a)[uVar9 * 3],0);
    *(undefined **)(iVar7 + 0x18) = &DAT_80012034;
    FUN_8007548c(iVar7);
    *(undefined **)(iVar7 + 0x18) = &DAT_80011fdc;
    *(undefined *)(iVar7 + 0x109) = 0;
    *(undefined *)(iVar7 + 0x108) = uVar3;
    *(int *)((uint)*(byte *)(param_1 + 300) * 4 + param_1 + 0x104) = iVar7;
    FUN_800213a4(BUF_PTR,*(undefined4 *)((uint)*(byte *)(param_1 + 300) * 4 + param_1 + 0x104));
    *(char *)(param_1 + 300) = *(char *)(param_1 + 300) + '\x01';
  }
  piVar8 = &DAT_8009cc64;
  FUN_8007bbfc(param_1 + 0x78,DAT_8009cc64);
  while( true ) {
    if (*piVar8 == 0) {
      return;
    }
    FUN_8007bbac(auStack_38);
    local_48 = (undefined  [4])puStack_2c;
    puVar1 = local_48 + 3;
    uVar10 = (uint)puVar1 & 3;
    *(uint *)(puVar1 + -uVar10) =
         *(uint *)(puVar1 + -uVar10) & -1 << (uVar10 + 1) * 8 | (uint)puStack_2c >> (3 - uVar10) * 8
    ;
    puVar5 = puStack_2c;
    puVar1 = (undefined *)local_48;
    bVar4 = false;
    if (local_48._0_2_ != 0) {
      puVar2 = local_40 + 3;
      uVar10 = (uint)puVar2 & 3;
      *(uint *)(puVar2 + -uVar10) =
           *(uint *)(puVar2 + -uVar10) & -1 << (uVar10 + 1) * 8 |
           (uint)puStack_2c >> (3 - uVar10) * 8;
      local_40._0_4_ = puVar5;
      local_40._2_2_ = (undefined2)((uint)puVar5 >> 0x10);
      bVar4 = local_40._2_2_ != 0;
      local_40._0_4_ = puVar5;
    }
    local_48 = (undefined  [4])puVar1;
    if (bVar4) break;
    piVar8 = piVar8 + 1;
  }
  if (*piVar8 == 0) {
    return;
  }
  if (*piVar8 == 0x40b18011) {
    iVar7 = FUN_800143ec(PTR_DAT_800a59b0,0x104,1,0);
    FUN_8001c864(iVar7,&DAT_8009cc54,0x44c,0x9f,0xa8);
    *(undefined **)(iVar7 + 0x18) = &DAT_80011eb4;
    local_44 = 0xffff0000;
    local_40._0_4_ = &LAB_800767fc;
    *(undefined4 *)(iVar7 + 8) = 0xffff0000;
    *(undefined **)(iVar7 + 0xc) = &LAB_800767fc;
    *(undefined *)(iVar7 + 0x100) = 0;
  }
  else {
    local_48 = (undefined  [4])0xa8009f;
    uVar6 = FUN_800143ec(PTR_DAT_800a59b0,0x108,1,0);
    iVar7 = FUN_80030d08(uVar6,*piVar8,local_48,0,0x10000,0x3d4,0);
  }
  FUN_800213a4(BUF_PTR,iVar7);
  return;
}



void FUN_80077028(int param_1)

{
  undefined4 uVar1;
  int iVar2;
  
  uVar1 = FUN_800143ec(PTR_DAT_800a59b0,0x144,1,0);
  uVar1 = FUN_80075fb4(uVar1,0x24,0x69,&DAT_8009cb5c,&DAT_800a609d);
  *(undefined4 *)((uint)*(byte *)(param_1 + 300) * 4 + param_1 + 0x104) = uVar1;
  FUN_800213a4(BUF_PTR,*(undefined4 *)((uint)*(byte *)(param_1 + 300) * 4 + param_1 + 0x104));
  *(char *)(param_1 + 300) = *(char *)(param_1 + 300) + '\x01';
  iVar2 = FUN_800143ec(PTR_DAT_800a59b0,0x10c,1,0);
  FUN_8001c71c(iVar2,0x10094096,1000,0x20,0x85,0);
  *(undefined **)(iVar2 + 0x18) = &DAT_80012034;
  FUN_8007548c(iVar2);
  *(undefined **)(iVar2 + 0x18) = &DAT_80011fdc;
  *(undefined *)(iVar2 + 0x109) = 1;
  *(undefined *)(iVar2 + 0x108) = 1;
  *(int *)((uint)*(byte *)(param_1 + 300) * 4 + param_1 + 0x104) = iVar2;
  FUN_800213a4(BUF_PTR,*(undefined4 *)((uint)*(byte *)(param_1 + 300) * 4 + param_1 + 0x104));
  *(undefined *)(param_1 + 0x12d) = 1;
  *(char *)(param_1 + 300) = *(char *)(param_1 + 300) + '\x01';
  return;
}



void FUN_80077184(int param_1)

{
  undefined *puVar1;
  u_short uVar2;
  int iVar3;
  undefined4 uVar4;
  int iVar5;
  
  iVar3 = FUN_800143ec(PTR_DAT_800a59b0,0x110,1,0);
  FUN_8001c71c(iVar3,0x10094096,1000,0x5f,0x9b,0);
  *(undefined **)(iVar3 + 0x18) = &DAT_80012034;
  FUN_8007548c(iVar3);
  puVar1 = PTR_DAT_800a59b0;
  *(undefined **)(iVar3 + 0x18) = &DAT_80011f2c;
  *(undefined1 **)(iVar3 + 0x108) = &DAT_800a609e;
  uVar4 = FUN_800143ec(puVar1,0x100,1,0);
  iVar5 = FUN_8001c71c(uVar4,0x81100030,2000,0xe8,0xac,0);
  *(int *)(iVar3 + 0x10c) = iVar5;
  iVar5 = *(int *)(iVar5 + 0x34);
  uVar2 = GetTPage((uint)*(byte *)(iVar5 + 0x32),2,(int)*(short *)(iVar5 + 0x10) & 0xffffffc0,
                   (int)*(short *)(iVar5 + 0x12) & 0xffffff00);
  uVar4 = BUF_PTR;
  *(u_short *)(iVar5 + 0x24) = uVar2;
  *(undefined2 *)(*(int *)(iVar3 + 0x10c) + 0x10) = 0x4b0;
  FUN_800213a4(uVar4,*(undefined4 *)(iVar3 + 0x10c));
  FUN_8001d214(*(undefined4 *)(iVar3 + 0x10c),0);
  FUN_8001d0bc(*(undefined4 *)(iVar3 + 0x10c),**(undefined **)(iVar3 + 0x108));
  *(int *)((uint)*(byte *)(param_1 + 300) * 4 + param_1 + 0x104) = iVar3;
  FUN_800213a4(BUF_PTR,*(undefined4 *)((uint)*(byte *)(param_1 + 300) * 4 + param_1 + 0x104));
  *(char *)(param_1 + 300) = *(char *)(param_1 + 300) + '\x01';
  iVar3 = FUN_800143ec(PTR_DAT_800a59b0,0x10c,1,0);
  FUN_8001c71c(iVar3,0x10094096,1000,0x59,0xb7,0);
  *(undefined **)(iVar3 + 0x18) = &DAT_80012034;
  FUN_8007548c(iVar3);
  *(undefined **)(iVar3 + 0x18) = &DAT_80011fdc;
  *(undefined *)(iVar3 + 0x109) = 1;
  *(undefined *)(iVar3 + 0x108) = 1;
  *(int *)((uint)*(byte *)(param_1 + 300) * 4 + param_1 + 0x104) = iVar3;
  FUN_800213a4(BUF_PTR,*(undefined4 *)((uint)*(byte *)(param_1 + 300) * 4 + param_1 + 0x104));
  *(undefined *)(param_1 + 0x12d) = 1;
  *(char *)(param_1 + 300) = *(char *)(param_1 + 300) + '\x01';
  return;
}



void FUN_800773bc(int param_1)

{
  undefined *puVar1;
  int iVar2;
  undefined4 uVar3;
  short *psVar4;
  int iVar5;
  
  *(undefined *)(param_1 + 0x12e) = DAT_800a60db;
  *(undefined *)(param_1 + 0x12f) = DAT_800a60dc;
  *(char *)(param_1 + 0x130) = DAT_800a60da + -1;
  iVar2 = FUN_800143ec(PTR_DAT_800a59b0,0x11c,1,0);
  FUN_8001c71c(iVar2,0x10094096,1000,0x29,0x41,0);
  *(undefined **)(iVar2 + 0x18) = &DAT_80012034;
  FUN_8007548c(iVar2);
  *(undefined *)(iVar2 + 0x10c) = 2;
  puVar1 = PTR_DAT_800a59b0;
  *(undefined **)(iVar2 + 0x108) = &DAT_800a60a4;
  *(undefined **)(iVar2 + 0x18) = &DAT_80011f84;
  *(int *)(iVar2 + 0x110) = param_1 + 0x130;
  *(int *)(iVar2 + 0x118) = param_1;
  uVar3 = FUN_800143ec(puVar1,0x100,1,0);
  psVar4 = (short *)((uint)**(byte **)(iVar2 + 0x110) * 4 + *(int *)(iVar2 + 0x108));
  iVar5 = FUN_8001c71c(uVar3,0xe289c059,2000,(int)*psVar4,(int)psVar4[1],0);
  uVar3 = BUF_PTR;
  *(int *)(iVar2 + 0x114) = iVar5;
  *(undefined2 *)(iVar5 + 0x10) = 0x4b0;
  FUN_800213a4(uVar3,*(undefined4 *)(iVar2 + 0x114));
  *(int *)((uint)*(byte *)(param_1 + 300) * 4 + param_1 + 0x104) = iVar2;
  FUN_800213a4(BUF_PTR,*(undefined4 *)((uint)*(byte *)(param_1 + 300) * 4 + param_1 + 0x104));
  *(char *)(param_1 + 300) = *(char *)(param_1 + 300) + '\x01';
  iVar2 = FUN_800143ec(PTR_DAT_800a59b0,0x11c,1,0);
  FUN_8001c71c(iVar2,0x10094096,1000,0x2b,0x5e,0);
  *(undefined **)(iVar2 + 0x18) = &DAT_80012034;
  FUN_8007548c(iVar2);
  *(undefined *)(iVar2 + 0x10c) = 5;
  puVar1 = PTR_DAT_800a59b0;
  *(undefined **)(iVar2 + 0x108) = &DAT_8009cb80;
  *(undefined **)(iVar2 + 0x18) = &DAT_80011f84;
  *(int *)(iVar2 + 0x110) = param_1 + 0x12f;
  *(int *)(iVar2 + 0x118) = param_1;
  uVar3 = FUN_800143ec(puVar1,0x100,1,0);
  psVar4 = (short *)((uint)**(byte **)(iVar2 + 0x110) * 4 + *(int *)(iVar2 + 0x108));
  iVar5 = FUN_8001c71c(uVar3,0xe289c059,2000,(int)*psVar4,(int)psVar4[1],0);
  uVar3 = BUF_PTR;
  *(int *)(iVar2 + 0x114) = iVar5;
  *(undefined2 *)(iVar5 + 0x10) = 0x4b0;
  FUN_800213a4(uVar3,*(undefined4 *)(iVar2 + 0x114));
  *(int *)((uint)*(byte *)(param_1 + 300) * 4 + param_1 + 0x104) = iVar2;
  FUN_800213a4(BUF_PTR,*(undefined4 *)((uint)*(byte *)(param_1 + 300) * 4 + param_1 + 0x104));
  *(char *)(param_1 + 300) = *(char *)(param_1 + 300) + '\x01';
  iVar2 = FUN_800143ec(PTR_DAT_800a59b0,0x11c,1,0);
  FUN_8001c71c(iVar2,0x10094096,1000,0x29,0x7f,0);
  *(undefined **)(iVar2 + 0x18) = &DAT_80012034;
  FUN_8007548c(iVar2);
  *(undefined *)(iVar2 + 0x10c) = 5;
  puVar1 = PTR_DAT_800a59b0;
  *(undefined **)(iVar2 + 0x108) = &DAT_8009cb94;
  *(undefined **)(iVar2 + 0x18) = &DAT_80011f84;
  *(int *)(iVar2 + 0x110) = param_1 + 0x12e;
  *(int *)(iVar2 + 0x118) = param_1;
  uVar3 = FUN_800143ec(puVar1,0x100,1,0);
  psVar4 = (short *)((uint)**(byte **)(iVar2 + 0x110) * 4 + *(int *)(iVar2 + 0x108));
  iVar5 = FUN_8001c71c(uVar3,0xe289c059,2000,(int)*psVar4,(int)psVar4[1],0);
  uVar3 = BUF_PTR;
  *(int *)(iVar2 + 0x114) = iVar5;
  *(undefined2 *)(iVar5 + 0x10) = 0x4b0;
  FUN_800213a4(uVar3,*(undefined4 *)(iVar2 + 0x114));
  *(int *)((uint)*(byte *)(param_1 + 300) * 4 + param_1 + 0x104) = iVar2;
  FUN_800213a4(BUF_PTR,*(undefined4 *)((uint)*(byte *)(param_1 + 300) * 4 + param_1 + 0x104));
  *(char *)(param_1 + 300) = *(char *)(param_1 + 300) + '\x01';
  iVar2 = FUN_800143ec(PTR_DAT_800a59b0,0x10c,1,0);
  FUN_8001c71c(iVar2,0x10094096,1000,0x29,0xa2,0);
  *(undefined **)(iVar2 + 0x18) = &DAT_80012034;
  FUN_8007548c(iVar2);
  *(undefined **)(iVar2 + 0x18) = &DAT_80011fdc;
  *(undefined *)(iVar2 + 0x109) = 1;
  *(undefined *)(iVar2 + 0x108) = 1;
  *(int *)((uint)*(byte *)(param_1 + 300) * 4 + param_1 + 0x104) = iVar2;
  FUN_800213a4(BUF_PTR,*(undefined4 *)((uint)*(byte *)(param_1 + 300) * 4 + param_1 + 0x104));
  *(undefined *)(param_1 + 0x12d) = 3;
  *(char *)(param_1 + 300) = *(char *)(param_1 + 300) + '\x01';
  return;
}



void FUN_800778ac(void)

{
  int iVar1;
  
  iVar1 = (uint)DAT_800a609e * 3;
  DAT_800a59cc = (ushort)(byte)(&DAT_8009cc08)[iVar1];
  DAT_800a59c8 = (ushort)(byte)(&DAT_8009cc09)[iVar1];
  DAT_800a59ca = (ushort)(byte)(&DAT_8009cc0a)[iVar1];
  return;
}



void FUN_80077ab0(int param_1)

{
  ushort uVar1;
  ushort uVar2;
  byte bVar3;
  int iVar4;
  code *pcVar5;
  int iVar6;
  uint *puVar7;
  undefined4 uVar8;
  
  if (*(byte *)(param_1 + 300) == 0) {
    return;
  }
  uVar1 = *(ushort *)(*(int *)(param_1 + 0x100) + 2);
  if ((uVar1 & 0x4000) == 0) {
    if ((uVar1 & 0x1000) != 0) {
      if (*(byte *)(param_1 + 0x12d) == 0) {
        iVar4 = *(int *)(*(int *)(param_1 + 0x104) + 0x18);
        (**(code **)(iVar4 + 0x2c))(*(int *)(param_1 + 0x104) + (int)*(short *)(iVar4 + 0x28));
        bVar3 = *(char *)(param_1 + 300) - 1;
      }
      else {
        iVar6 = *(int *)((uint)*(byte *)(param_1 + 0x12d) * 4 + param_1 + 0x104);
        iVar4 = *(int *)(iVar6 + 0x18);
        (**(code **)(iVar4 + 0x2c))(iVar6 + *(short *)(iVar4 + 0x28));
        bVar3 = *(char *)(param_1 + 0x12d) - 1;
      }
      goto LAB_80077be4;
    }
  }
  else {
    iVar4 = (uint)*(byte *)(param_1 + 0x12d) * 4;
    if ((uint)*(byte *)(param_1 + 0x12d) == *(byte *)(param_1 + 300) - 1) {
      iVar6 = *(int *)(iVar4 + param_1 + 0x104);
      iVar4 = *(int *)(iVar6 + 0x18);
      (**(code **)(iVar4 + 0x2c))(iVar6 + *(short *)(iVar4 + 0x28));
      iVar4 = *(int *)(param_1 + 0x104);
      *(undefined *)(param_1 + 0x12d) = 0;
    }
    else {
      iVar6 = *(int *)(iVar4 + param_1 + 0x104);
      iVar4 = *(int *)(iVar6 + 0x18);
      (**(code **)(iVar4 + 0x2c))(iVar6 + *(short *)(iVar4 + 0x28));
      bVar3 = *(char *)(param_1 + 0x12d) + 1;
LAB_80077be4:
      *(byte *)(param_1 + 0x12d) = bVar3;
      iVar4 = *(int *)((uint)bVar3 * 4 + param_1 + 0x104);
    }
    (**(code **)(*(int *)(iVar4 + 0x18) + 0x24))(iVar4 + *(short *)(*(int *)(iVar4 + 0x18) + 0x20));
    FUN_8007c348(0x646c2cc0,0xa0,0);
  }
  uVar1 = (*(ushort **)(param_1 + 0x100))[1];
  if ((uVar1 & 0x8000) == 0) {
    uVar2 = **(ushort **)(param_1 + 0x100);
    if ((uVar2 & 0x8000) == 0) {
      if (((uVar1 & 0x2000) != 0) ||
         (((uVar2 & 0x2000) != 0 &&
          (bVar3 = *(char *)(param_1 + 0x131) + 1, *(byte *)(param_1 + 0x131) = bVar3, 10 < bVar3)))
         ) {
        iVar4 = *(int *)((uint)*(byte *)(param_1 + 0x12d) * 4 + param_1 + 0x104);
        iVar6 = (int)*(short *)(*(int *)(iVar4 + 0x18) + 0x40);
        pcVar5 = *(code **)(*(int *)(iVar4 + 0x18) + 0x44);
        goto code_r0x80077d38;
      }
    }
    else {
      bVar3 = *(char *)(param_1 + 0x131) + 1;
      *(byte *)(param_1 + 0x131) = bVar3;
      if (10 < bVar3) {
        iVar4 = *(int *)((uint)*(byte *)(param_1 + 0x12d) * 4 + param_1 + 0x104);
        iVar6 = (int)*(short *)(*(int *)(iVar4 + 0x18) + 0x48);
        pcVar5 = *(code **)(*(int *)(iVar4 + 0x18) + 0x4c);
        goto code_r0x80077d38;
      }
    }
  }
  else {
    iVar4 = *(int *)((uint)*(byte *)(param_1 + 0x12d) * 4 + param_1 + 0x104);
    iVar6 = (int)*(short *)(*(int *)(iVar4 + 0x18) + 0x48);
    pcVar5 = *(code **)(*(int *)(iVar4 + 0x18) + 0x4c);
code_r0x80077d38:
    (*pcVar5)(iVar4 + iVar6);
    *(undefined *)(param_1 + 0x131) = 0;
  }
  puVar7 = *(uint **)(param_1 + 0x100);
  if ((*puVar7 & 0x8400000) == 0) {
    if ((*(ushort *)((int)puVar7 + 2) & 0x10) != 0) {
      iVar6 = *(int *)((uint)*(byte *)(param_1 + 0x12d) * 4 + param_1 + 0x104);
      iVar4 = *(int *)(iVar6 + 0x18);
      (**(code **)(iVar4 + 0x3c))(iVar6 + *(short *)(iVar4 + 0x38));
      goto LAB_80077de4;
    }
  }
  else {
    iVar6 = *(int *)((uint)*(byte *)(param_1 + 0x12d) * 4 + param_1 + 0x104);
    iVar4 = *(int *)(iVar6 + 0x18);
    (**(code **)(iVar4 + 0x34))
              (iVar6 + *(short *)(iVar4 + 0x30),*(ushort *)((int)puVar7 + 2) >> 0xb & 1);
LAB_80077de4:
    uVar8 = 2;
    if ((*(ushort *)(*(int *)(param_1 + 0x100) + 2) & 0x10) != 0) {
      iVar6 = *(int *)((uint)*(byte *)(param_1 + 0x12d) * 4 + param_1 + 0x104);
      iVar4 = *(int *)(iVar6 + 0x18);
      goto code_r0x80077f80;
    }
  }
  uVar1 = *(ushort *)(*(int *)(param_1 + 0x100) + 2);
  uVar8 = 1;
  if ((uVar1 & 0x80) == 0) {
    uVar8 = 3;
    if ((uVar1 & 0x20) == 0) {
      uVar8 = 0;
      if ((uVar1 & 0x40) == 0) {
        uVar8 = 4;
        if ((uVar1 & 4) == 0) {
          uVar8 = 5;
          if ((uVar1 & 1) == 0) {
            uVar8 = 6;
            if ((uVar1 & 8) == 0) {
              uVar8 = 7;
              if ((uVar1 & 2) == 0) {
                return;
              }
              iVar6 = *(int *)((uint)*(byte *)(param_1 + 0x12d) * 4 + param_1 + 0x104);
              iVar4 = *(int *)(iVar6 + 0x18);
            }
            else {
              iVar6 = *(int *)((uint)*(byte *)(param_1 + 0x12d) * 4 + param_1 + 0x104);
              iVar4 = *(int *)(iVar6 + 0x18);
            }
          }
          else {
            iVar6 = *(int *)((uint)*(byte *)(param_1 + 0x12d) * 4 + param_1 + 0x104);
            iVar4 = *(int *)(iVar6 + 0x18);
          }
        }
        else {
          iVar6 = *(int *)((uint)*(byte *)(param_1 + 0x12d) * 4 + param_1 + 0x104);
          iVar4 = *(int *)(iVar6 + 0x18);
        }
      }
      else {
        iVar6 = *(int *)((uint)*(byte *)(param_1 + 0x12d) * 4 + param_1 + 0x104);
        iVar4 = *(int *)(iVar6 + 0x18);
      }
    }
    else {
      iVar6 = *(int *)((uint)*(byte *)(param_1 + 0x12d) * 4 + param_1 + 0x104);
      iVar4 = *(int *)(iVar6 + 0x18);
    }
  }
  else {
    iVar6 = *(int *)((uint)*(byte *)(param_1 + 0x12d) * 4 + param_1 + 0x104);
    iVar4 = *(int *)(iVar6 + 0x18);
  }
code_r0x80077f80:
  (**(code **)(iVar4 + 0x54))(iVar6 + *(short *)(iVar4 + 0x50),uVar8);
  return;
}



undefined4 * FUN_800781c0(undefined4 *param_1,undefined4 param_2,undefined param_3)

{
  byte bVar1;
  undefined *puVar2;
  undefined *puVar3;
  u_short uVar4;
  short sVar5;
  undefined4 *puVar6;
  undefined4 uVar7;
  int iVar8;
  uint uVar9;
  undefined4 *puVar10;
  uint uVar11;
  undefined local_1e0 [4];
  undefined4 local_1dc;
  undefined *local_1d8;
  undefined4 local_1cc;
  undefined *local_1c8;
  
  FUN_8001c71c(param_1,0xec95689b,1000,0xa0,0x78,0);
  param_1[6] = &DAT_80011e54;
  *(undefined2 *)(param_1 + 0x55) = 300;
  param_1[0x54] = 0xffffffff;
  *(undefined *)(param_1 + 0x53) = param_3;
  *(undefined *)(param_1[0xd] + 10) = 0;
  *(undefined *)((int)param_1 + 0x149) = 0;
  *(undefined *)((int)param_1 + 0x14a) = 0;
  puVar3 = PTR_DAT_800a59d8;
  puVar2 = PTR_DAT_800a59b0;
  *(undefined2 *)(param_1 + 4) = 1000;
  param_1[0x40] = param_2;
  *(ushort *)((int)param_1 + 0x136) = (ushort)(byte)puVar3[5];
  *(ushort *)(param_1 + 0x4e) = (ushort)(byte)puVar3[5];
  *(ushort *)((int)param_1 + 0x13a) = (ushort)(byte)puVar3[4];
  puVar6 = (undefined4 *)FUN_800143ec(puVar2,0x108,1,0);
  FUN_8001c71c(puVar6,0xe4ac9451,2000,0x96,0x3c,0);
  puVar6[6] = &DAT_80011e74;
  puVar6[9] = 0xffff0000;
  puVar6[10] = &LAB_8001a2c8;
  local_1dc = 0xffff0000;
  local_1d8 = &LAB_8001a2e4;
  puVar6[0xb] = 0xffff0000;
  puVar6[0xc] = &LAB_8001a2e4;
  iVar8 = puVar6[0xd];
  uVar4 = GetTPage((uint)*(byte *)(iVar8 + 0x32),2,(int)*(short *)(iVar8 + 0x10) & 0xffffffc0,
                   (int)*(short *)(iVar8 + 0x12) & 0xffffff00);
  *(u_short *)(iVar8 + 0x24) = uVar4;
  local_1dc = 0xffff0000;
  local_1d8 = &LAB_800780dc;
  *puVar6 = 0xffff0000;
  puVar6[1] = &LAB_800780dc;
  *(undefined *)((int)puVar6 + 0x106) = 0;
  uVar7 = BUF_PTR;
  puVar6[0x40] = (int)param_1 + 0x136;
  *(undefined2 *)(puVar6 + 0x41) = 0;
  FUN_800213a4(uVar7);
  puVar6 = (undefined4 *)FUN_800143ec(PTR_DAT_800a59b0,0x108,1,0);
  FUN_8001c71c(puVar6,0xe4ac9451,2000,0x8c,0x3c,0);
  puVar6[6] = &DAT_80011e74;
  puVar6[9] = 0xffff0000;
  puVar6[10] = &LAB_8001a2c8;
  local_1dc = 0xffff0000;
  local_1d8 = &LAB_8001a2e4;
  puVar6[0xb] = 0xffff0000;
  puVar6[0xc] = &LAB_8001a2e4;
  iVar8 = puVar6[0xd];
  uVar4 = GetTPage((uint)*(byte *)(iVar8 + 0x32),2,(int)*(short *)(iVar8 + 0x10) & 0xffffffc0,
                   (int)*(short *)(iVar8 + 0x12) & 0xffffff00);
  *(u_short *)(iVar8 + 0x24) = uVar4;
  local_1dc = 0xffff0000;
  local_1d8 = &LAB_800780dc;
  *puVar6 = 0xffff0000;
  puVar6[1] = &LAB_800780dc;
  *(undefined *)((int)puVar6 + 0x106) = 0;
  uVar7 = BUF_PTR;
  puVar6[0x40] = (int)param_1 + 0x136;
  *(undefined2 *)(puVar6 + 0x41) = 10;
  FUN_800213a4(uVar7);
  puVar6 = (undefined4 *)FUN_800143ec(PTR_DAT_800a59b0,0x108,1,0);
  FUN_8001c71c(puVar6,0xe4ac9451,2000,0x2a,0x3c,0);
  puVar6[6] = &DAT_80011e74;
  puVar6[9] = 0xffff0000;
  puVar6[10] = &LAB_8001a2c8;
  local_1dc = 0xffff0000;
  local_1d8 = &LAB_8001a2e4;
  puVar6[0xb] = 0xffff0000;
  puVar6[0xc] = &LAB_8001a2e4;
  iVar8 = puVar6[0xd];
  uVar4 = GetTPage((uint)*(byte *)(iVar8 + 0x32),2,(int)*(short *)(iVar8 + 0x10) & 0xffffffc0,
                   (int)*(short *)(iVar8 + 0x12) & 0xffffff00);
  *(u_short *)(iVar8 + 0x24) = uVar4;
  local_1dc = 0xffff0000;
  local_1d8 = &LAB_800780dc;
  *puVar6 = 0xffff0000;
  puVar6[1] = &LAB_800780dc;
  *(undefined *)((int)puVar6 + 0x106) = 1;
  uVar7 = BUF_PTR;
  puVar6[0x40] = param_1 + 0x4e;
  *(undefined2 *)(puVar6 + 0x41) = 0;
  FUN_800213a4(uVar7);
  puVar6 = (undefined4 *)FUN_800143ec(PTR_DAT_800a59b0,0x108,1,0);
  FUN_8001c71c(puVar6,0xe4ac9451,2000,0x22,0x3c,0);
  puVar6[6] = &DAT_80011e74;
  puVar6[9] = 0xffff0000;
  puVar6[10] = &LAB_8001a2c8;
  local_1dc = 0xffff0000;
  local_1d8 = &LAB_8001a2e4;
  puVar6[0xb] = 0xffff0000;
  puVar6[0xc] = &LAB_8001a2e4;
  iVar8 = puVar6[0xd];
  uVar4 = GetTPage((uint)*(byte *)(iVar8 + 0x32),2,(int)*(short *)(iVar8 + 0x10) & 0xffffffc0,
                   (int)*(short *)(iVar8 + 0x12) & 0xffffff00);
  *(u_short *)(iVar8 + 0x24) = uVar4;
  local_1dc = 0xffff0000;
  local_1d8 = &LAB_800780dc;
  *puVar6 = 0xffff0000;
  puVar6[1] = &LAB_800780dc;
  *(undefined *)((int)puVar6 + 0x106) = 0;
  uVar7 = BUF_PTR;
  puVar6[0x40] = param_1 + 0x4e;
  *(undefined2 *)(puVar6 + 0x41) = 10;
  FUN_800213a4(uVar7);
  puVar6 = (undefined4 *)FUN_800143ec(PTR_DAT_800a59b0,0x108,1,0);
  FUN_8001c71c(puVar6,0xe4ac9451,2000,0x4b,0x3c,0);
  puVar6[6] = &DAT_80011e74;
  puVar6[9] = 0xffff0000;
  puVar6[10] = &LAB_8001a2c8;
  local_1dc = 0xffff0000;
  local_1d8 = &LAB_8001a2e4;
  puVar6[0xb] = 0xffff0000;
  puVar6[0xc] = &LAB_8001a2e4;
  iVar8 = puVar6[0xd];
  uVar4 = GetTPage((uint)*(byte *)(iVar8 + 0x32),2,(int)*(short *)(iVar8 + 0x10) & 0xffffffc0,
                   (int)*(short *)(iVar8 + 0x12) & 0xffffff00);
  *(u_short *)(iVar8 + 0x24) = uVar4;
  local_1dc = 0xffff0000;
  local_1d8 = &LAB_800780dc;
  *puVar6 = 0xffff0000;
  puVar6[1] = &LAB_800780dc;
  *(undefined *)((int)puVar6 + 0x106) = 1;
  uVar7 = BUF_PTR;
  puVar6[0x40] = (int)param_1 + 0x13a;
  *(undefined2 *)(puVar6 + 0x41) = 0;
  FUN_800213a4(uVar7);
  puVar6 = (undefined4 *)FUN_800143ec(PTR_DAT_800a59b0,0x108,1,0);
  FUN_8001c71c(puVar6,0xe4ac9451,2000,0x43,0x3c,0);
  puVar6[6] = &DAT_80011e74;
  puVar6[9] = 0xffff0000;
  puVar6[10] = &LAB_8001a2c8;
  local_1dc = 0xffff0000;
  local_1d8 = &LAB_8001a2e4;
  puVar6[0xb] = 0xffff0000;
  puVar6[0xc] = &LAB_8001a2e4;
  iVar8 = puVar6[0xd];
  uVar4 = GetTPage((uint)*(byte *)(iVar8 + 0x32),2,(int)*(short *)(iVar8 + 0x10) & 0xffffffc0,
                   (int)*(short *)(iVar8 + 0x12) & 0xffffff00);
  *(u_short *)(iVar8 + 0x24) = uVar4;
  local_1dc = 0xffff0000;
  local_1d8 = &LAB_800780dc;
  *puVar6 = 0xffff0000;
  puVar6[1] = &LAB_800780dc;
  *(undefined *)((int)puVar6 + 0x106) = 0;
  uVar7 = BUF_PTR;
  puVar6[0x40] = (int)param_1 + 0x13a;
  *(undefined2 *)(puVar6 + 0x41) = 10;
  FUN_800213a4(uVar7);
  puVar3 = PTR_DAT_800a59d8;
  puVar2 = PTR_DAT_800a59b0;
  *(ushort *)((int)param_1 + 0x142) = (ushort)(byte)PTR_DAT_800a59d8[0x10];
  bVar1 = puVar3[0x10];
  *(undefined2 *)((int)param_1 + 0x13e) = 0x11;
  *(ushort *)(param_1 + 0x4f) = (ushort)bVar1;
  puVar6 = (undefined4 *)FUN_800143ec(puVar2,0x108,1,0);
  FUN_8001c71c(puVar6,0xe4ac9451,2000,0x96,0x50,0);
  puVar6[6] = &DAT_80011e74;
  puVar6[9] = 0xffff0000;
  puVar6[10] = &LAB_8001a2c8;
  local_1dc = 0xffff0000;
  local_1d8 = &LAB_8001a2e4;
  puVar6[0xb] = 0xffff0000;
  puVar6[0xc] = &LAB_8001a2e4;
  iVar8 = puVar6[0xd];
  uVar4 = GetTPage((uint)*(byte *)(iVar8 + 0x32),2,(int)*(short *)(iVar8 + 0x10) & 0xffffffc0,
                   (int)*(short *)(iVar8 + 0x12) & 0xffffff00);
  *(u_short *)(iVar8 + 0x24) = uVar4;
  local_1dc = 0xffff0000;
  local_1d8 = &LAB_800780dc;
  *puVar6 = 0xffff0000;
  puVar6[1] = &LAB_800780dc;
  *(undefined *)((int)puVar6 + 0x106) = 0;
  uVar7 = BUF_PTR;
  puVar6[0x40] = (int)param_1 + 0x142;
  *(undefined2 *)(puVar6 + 0x41) = 0;
  FUN_800213a4(uVar7);
  puVar6 = (undefined4 *)FUN_800143ec(PTR_DAT_800a59b0,0x108,1,0);
  FUN_8001c71c(puVar6,0xe4ac9451,2000,0x8c,0x50,0);
  puVar6[6] = &DAT_80011e74;
  puVar6[9] = 0xffff0000;
  puVar6[10] = &LAB_8001a2c8;
  local_1dc = 0xffff0000;
  local_1d8 = &LAB_8001a2e4;
  puVar6[0xb] = 0xffff0000;
  puVar6[0xc] = &LAB_8001a2e4;
  iVar8 = puVar6[0xd];
  uVar4 = GetTPage((uint)*(byte *)(iVar8 + 0x32),2,(int)*(short *)(iVar8 + 0x10) & 0xffffffc0,
                   (int)*(short *)(iVar8 + 0x12) & 0xffffff00);
  *(u_short *)(iVar8 + 0x24) = uVar4;
  local_1dc = 0xffff0000;
  local_1d8 = &LAB_800780dc;
  *puVar6 = 0xffff0000;
  puVar6[1] = &LAB_800780dc;
  *(undefined *)((int)puVar6 + 0x106) = 0;
  uVar7 = BUF_PTR;
  puVar6[0x40] = (int)param_1 + 0x142;
  *(undefined2 *)(puVar6 + 0x41) = 10;
  FUN_800213a4(uVar7);
  puVar6 = (undefined4 *)FUN_800143ec(PTR_DAT_800a59b0,0x108,1,0);
  FUN_8001c71c(puVar6,0xe4ac9451,2000,0x2a,0x50,0);
  puVar6[6] = &DAT_80011e74;
  puVar6[9] = 0xffff0000;
  puVar6[10] = &LAB_8001a2c8;
  local_1dc = 0xffff0000;
  local_1d8 = &LAB_8001a2e4;
  puVar6[0xb] = 0xffff0000;
  puVar6[0xc] = &LAB_8001a2e4;
  iVar8 = puVar6[0xd];
  uVar4 = GetTPage((uint)*(byte *)(iVar8 + 0x32),2,(int)*(short *)(iVar8 + 0x10) & 0xffffffc0,
                   (int)*(short *)(iVar8 + 0x12) & 0xffffff00);
  *(u_short *)(iVar8 + 0x24) = uVar4;
  local_1dc = 0xffff0000;
  local_1d8 = &LAB_800780dc;
  *puVar6 = 0xffff0000;
  puVar6[1] = &LAB_800780dc;
  *(undefined *)((int)puVar6 + 0x106) = 1;
  uVar7 = BUF_PTR;
  puVar6[0x40] = param_1 + 0x4f;
  *(undefined2 *)(puVar6 + 0x41) = 0;
  FUN_800213a4(uVar7);
  puVar6 = (undefined4 *)FUN_800143ec(PTR_DAT_800a59b0,0x108,1,0);
  FUN_8001c71c(puVar6,0xe4ac9451,2000,0x22,0x50,0);
  puVar6[6] = &DAT_80011e74;
  puVar6[9] = 0xffff0000;
  puVar6[10] = &LAB_8001a2c8;
  local_1dc = 0xffff0000;
  local_1d8 = &LAB_8001a2e4;
  puVar6[0xb] = 0xffff0000;
  puVar6[0xc] = &LAB_8001a2e4;
  iVar8 = puVar6[0xd];
  uVar4 = GetTPage((uint)*(byte *)(iVar8 + 0x32),2,(int)*(short *)(iVar8 + 0x10) & 0xffffffc0,
                   (int)*(short *)(iVar8 + 0x12) & 0xffffff00);
  *(u_short *)(iVar8 + 0x24) = uVar4;
  local_1dc = 0xffff0000;
  local_1d8 = &LAB_800780dc;
  *puVar6 = 0xffff0000;
  puVar6[1] = &LAB_800780dc;
  *(undefined *)((int)puVar6 + 0x106) = 0;
  uVar7 = BUF_PTR;
  puVar6[0x40] = param_1 + 0x4f;
  *(undefined2 *)(puVar6 + 0x41) = 10;
  FUN_800213a4(uVar7);
  puVar6 = (undefined4 *)FUN_800143ec(PTR_DAT_800a59b0,0x108,1,0);
  FUN_8001c71c(puVar6,0xe4ac9451,2000,0x4b,0x50,0);
  puVar6[6] = &DAT_80011e74;
  puVar6[9] = 0xffff0000;
  puVar6[10] = &LAB_8001a2c8;
  local_1dc = 0xffff0000;
  local_1d8 = &LAB_8001a2e4;
  puVar6[0xb] = 0xffff0000;
  puVar6[0xc] = &LAB_8001a2e4;
  iVar8 = puVar6[0xd];
  uVar4 = GetTPage((uint)*(byte *)(iVar8 + 0x32),2,(int)*(short *)(iVar8 + 0x10) & 0xffffffc0,
                   (int)*(short *)(iVar8 + 0x12) & 0xffffff00);
  *(u_short *)(iVar8 + 0x24) = uVar4;
  local_1dc = 0xffff0000;
  local_1d8 = &LAB_800780dc;
  *puVar6 = 0xffff0000;
  puVar6[1] = &LAB_800780dc;
  *(undefined *)((int)puVar6 + 0x106) = 0;
  uVar7 = BUF_PTR;
  puVar6[0x40] = (int)param_1 + 0x13e;
  *(undefined2 *)(puVar6 + 0x41) = 0;
  FUN_800213a4(uVar7);
  puVar6 = (undefined4 *)FUN_800143ec(PTR_DAT_800a59b0,0x108,1,0);
  FUN_8001c71c(puVar6,0xe4ac9451,2000,0x43,0x50,0);
  puVar6[6] = &DAT_80011e74;
  puVar6[9] = 0xffff0000;
  puVar6[10] = &LAB_8001a2c8;
  local_1dc = 0xffff0000;
  local_1d8 = &LAB_8001a2e4;
  puVar6[0xb] = 0xffff0000;
  puVar6[0xc] = &LAB_8001a2e4;
  iVar8 = puVar6[0xd];
  uVar4 = GetTPage((uint)*(byte *)(iVar8 + 0x32),2,(int)*(short *)(iVar8 + 0x10) & 0xffffffc0,
                   (int)*(short *)(iVar8 + 0x12) & 0xffffff00);
  *(u_short *)(iVar8 + 0x24) = uVar4;
  local_1dc = 0xffff0000;
  local_1d8 = &LAB_800780dc;
  *puVar6 = 0xffff0000;
  puVar6[1] = &LAB_800780dc;
  *(undefined *)((int)puVar6 + 0x106) = 0;
  uVar7 = BUF_PTR;
  puVar6[0x40] = (int)param_1 + 0x13e;
  *(undefined2 *)(puVar6 + 0x41) = 10;
  FUN_800213a4(uVar7);
  puVar2 = PTR_DAT_800a59b0;
  *(ushort *)(param_1 + 0x50) = (ushort)(byte)PTR_DAT_800a59d8[0x11];
  puVar6 = (undefined4 *)FUN_800143ec(puVar2,0x108,1,0);
  FUN_8001c71c(puVar6,0xe4ac9451,2000,0x96,100,0);
  puVar6[6] = &DAT_80011e74;
  puVar6[9] = 0xffff0000;
  puVar6[10] = &LAB_8001a2c8;
  local_1dc = 0xffff0000;
  local_1d8 = &LAB_8001a2e4;
  puVar6[0xb] = 0xffff0000;
  puVar6[0xc] = &LAB_8001a2e4;
  iVar8 = puVar6[0xd];
  uVar4 = GetTPage((uint)*(byte *)(iVar8 + 0x32),2,(int)*(short *)(iVar8 + 0x10) & 0xffffffc0,
                   (int)*(short *)(iVar8 + 0x12) & 0xffffff00);
  *(u_short *)(iVar8 + 0x24) = uVar4;
  local_1dc = 0xffff0000;
  local_1d8 = &LAB_800780dc;
  *puVar6 = 0xffff0000;
  puVar6[1] = &LAB_800780dc;
  *(undefined *)((int)puVar6 + 0x106) = 0;
  uVar7 = BUF_PTR;
  puVar6[0x40] = param_1 + 0x50;
  *(undefined2 *)(puVar6 + 0x41) = 0;
  FUN_800213a4(uVar7);
  puVar6 = (undefined4 *)FUN_800143ec(PTR_DAT_800a59b0,0x108,1,0);
  FUN_8001c71c(puVar6,0xe4ac9451,2000,0x8c,100,0);
  puVar6[6] = &DAT_80011e74;
  puVar6[9] = 0xffff0000;
  puVar6[10] = &LAB_8001a2c8;
  local_1dc = 0xffff0000;
  local_1d8 = &LAB_8001a2e4;
  puVar6[0xb] = 0xffff0000;
  puVar6[0xc] = &LAB_8001a2e4;
  iVar8 = puVar6[0xd];
  uVar4 = GetTPage((uint)*(byte *)(iVar8 + 0x32),2,(int)*(short *)(iVar8 + 0x10) & 0xffffffc0,
                   (int)*(short *)(iVar8 + 0x12) & 0xffffff00);
  *(u_short *)(iVar8 + 0x24) = uVar4;
  local_1dc = 0xffff0000;
  local_1d8 = &LAB_800780dc;
  *puVar6 = 0xffff0000;
  puVar6[1] = &LAB_800780dc;
  *(undefined *)((int)puVar6 + 0x106) = 0;
  uVar7 = BUF_PTR;
  puVar6[0x40] = param_1 + 0x50;
  *(undefined2 *)(puVar6 + 0x41) = 10;
  FUN_800213a4(uVar7);
  puVar2 = PTR_DAT_800a59d8;
  *(undefined2 *)(param_1 + 0x51) = *(undefined2 *)(PTR_DAT_800a59d8 + 2);
  sVar5 = *(short *)((int)param_1 + 0x142) +
          *(short *)(param_1 + 0x50) + *(short *)(puVar2 + 2) + *(short *)((int)param_1 + 0x136);
  *(short *)((int)param_1 + 0x146) = sVar5;
  if (*(char *)(param_1 + 0x53) == '\0') {
    *(short *)(puVar2 + 2) = sVar5;
  }
  puVar6 = (undefined4 *)FUN_800143ec(PTR_DAT_800a59b0,0x108,1,0);
  FUN_8001c71c(puVar6,0xe4ac9451,2000,0x96,0x78,0);
  puVar6[6] = &DAT_80011e74;
  puVar6[9] = 0xffff0000;
  puVar6[10] = &LAB_8001a2c8;
  local_1dc = 0xffff0000;
  local_1d8 = &LAB_8001a2e4;
  puVar6[0xb] = 0xffff0000;
  puVar6[0xc] = &LAB_8001a2e4;
  iVar8 = puVar6[0xd];
  uVar4 = GetTPage((uint)*(byte *)(iVar8 + 0x32),2,(int)*(short *)(iVar8 + 0x10) & 0xffffffc0,
                   (int)*(short *)(iVar8 + 0x12) & 0xffffff00);
  *(u_short *)(iVar8 + 0x24) = uVar4;
  local_1dc = 0xffff0000;
  local_1d8 = &LAB_800780dc;
  *puVar6 = 0xffff0000;
  puVar6[1] = &LAB_800780dc;
  *(undefined *)((int)puVar6 + 0x106) = 0;
  uVar7 = BUF_PTR;
  puVar10 = param_1 + 0x51;
  puVar6[0x40] = puVar10;
  *(undefined2 *)(puVar6 + 0x41) = 0;
  FUN_800213a4(uVar7);
  puVar6 = (undefined4 *)FUN_800143ec(PTR_DAT_800a59b0,0x108,1,0);
  FUN_8001c71c(puVar6,0xe4ac9451,2000,0x8c,0x78,0);
  puVar6[6] = &DAT_80011e74;
  puVar6[9] = 0xffff0000;
  puVar6[10] = &LAB_8001a2c8;
  local_1dc = 0xffff0000;
  local_1d8 = &LAB_8001a2e4;
  puVar6[0xb] = 0xffff0000;
  puVar6[0xc] = &LAB_8001a2e4;
  iVar8 = puVar6[0xd];
  uVar4 = GetTPage((uint)*(byte *)(iVar8 + 0x32),2,(int)*(short *)(iVar8 + 0x10) & 0xffffffc0,
                   (int)*(short *)(iVar8 + 0x12) & 0xffffff00);
  *(u_short *)(iVar8 + 0x24) = uVar4;
  local_1dc = 0xffff0000;
  local_1d8 = &LAB_800780dc;
  *puVar6 = 0xffff0000;
  puVar6[1] = &LAB_800780dc;
  *(undefined *)((int)puVar6 + 0x106) = 0;
  uVar7 = BUF_PTR;
  puVar6[0x40] = puVar10;
  *(undefined2 *)(puVar6 + 0x41) = 10;
  FUN_800213a4(uVar7);
  puVar6 = (undefined4 *)FUN_800143ec(PTR_DAT_800a59b0,0x108,1,0);
  FUN_8001c71c(puVar6,0xe4ac9451,2000,0x82,0x78,0);
  puVar6[6] = &DAT_80011e74;
  puVar6[9] = 0xffff0000;
  puVar6[10] = &LAB_8001a2c8;
  local_1dc = 0xffff0000;
  local_1d8 = &LAB_8001a2e4;
  puVar6[0xb] = 0xffff0000;
  puVar6[0xc] = &LAB_8001a2e4;
  iVar8 = puVar6[0xd];
  uVar4 = GetTPage((uint)*(byte *)(iVar8 + 0x32),2,(int)*(short *)(iVar8 + 0x10) & 0xffffffc0,
                   (int)*(short *)(iVar8 + 0x12) & 0xffffff00);
  *(u_short *)(iVar8 + 0x24) = uVar4;
  local_1dc = 0xffff0000;
  local_1d8 = &LAB_800780dc;
  *puVar6 = 0xffff0000;
  puVar6[1] = &LAB_800780dc;
  *(undefined *)((int)puVar6 + 0x106) = 0;
  uVar7 = BUF_PTR;
  puVar6[0x40] = puVar10;
  *(undefined2 *)(puVar6 + 0x41) = 100;
  FUN_800213a4(uVar7);
  puVar6 = (undefined4 *)FUN_800143ec(PTR_DAT_800a59b0,0x108,1,0);
  FUN_8001c71c(puVar6,0xe4ac9451,2000,0x78,0x78,0);
  puVar6[6] = &DAT_80011e74;
  puVar6[9] = 0xffff0000;
  puVar6[10] = &LAB_8001a2c8;
  local_1dc = 0xffff0000;
  local_1d8 = &LAB_8001a2e4;
  puVar6[0xb] = 0xffff0000;
  puVar6[0xc] = &LAB_8001a2e4;
  iVar8 = puVar6[0xd];
  uVar4 = GetTPage((uint)*(byte *)(iVar8 + 0x32),2,(int)*(short *)(iVar8 + 0x10) & 0xffffffc0,
                   (int)*(short *)(iVar8 + 0x12) & 0xffffff00);
  *(u_short *)(iVar8 + 0x24) = uVar4;
  local_1dc = 0xffff0000;
  local_1d8 = &LAB_800780dc;
  *puVar6 = 0xffff0000;
  puVar6[1] = &LAB_800780dc;
  *(undefined *)((int)puVar6 + 0x106) = 0;
  uVar7 = BUF_PTR;
  puVar6[0x40] = puVar10;
  *(undefined2 *)(puVar6 + 0x41) = 1000;
  FUN_800213a4(uVar7);
  if (*(char *)(param_1 + 0x53) == '\0') {
    uVar11 = 0;
    FUN_80025c78(PTR_DAT_800a59d8,local_1e0,(int)param_1 + 0x135);
    *(undefined *)(param_1 + 0x4d) = 0;
    uVar9 = 0;
    while (uVar9 < 0xc) {
      uVar7 = FUN_800143ec(PTR_DAT_800a59b0,0x100,1,0);
      iVar8 = FUN_8001c71c(uVar7,0xec95689b,2000,(int)(short)(&DAT_8009cbd8)[uVar9 * 2],
                           (int)(short)(&DAT_8009cbda)[uVar9 * 2],0);
      param_1[uVar9 + 0x41] = iVar8;
      *(undefined4 *)(iVar8 + 0x24) = 0xffff0000;
      *(undefined **)(iVar8 + 0x28) = &LAB_8001a2c8;
      iVar8 = param_1[uVar9 + 0x41];
      local_1cc = 0xffff0000;
      local_1c8 = &LAB_8001a2e4;
      *(undefined4 *)(iVar8 + 0x2c) = 0xffff0000;
      *(undefined **)(iVar8 + 0x30) = &LAB_8001a2e4;
      FUN_800213a4(BUF_PTR,param_1[uVar9 + 0x41]);
      if (uVar9 < *(byte *)((int)param_1 + 0x135)) {
        FUN_8001d0bc(param_1[uVar9 + 0x41],local_1e0[uVar9]);
      }
      *(undefined *)(*(int *)(param_1[uVar9 + 0x41] + 0x34) + 10) = 0;
      uVar11 = uVar11 + 1;
      FUN_8001d214(param_1[uVar9 + 0x41],0);
      uVar9 = uVar11 & 0xff;
    }
    if (*(char *)(param_1 + 0x53) != '\0') goto LAB_800794c8;
  }
  else {
LAB_800794c8:
    if (0x2f < (byte)PTR_DAT_800a59d8[0x1b]) {
      uVar7 = FUN_800143ec(PTR_DAT_800a59b0,0x100,1,0);
      uVar7 = FUN_8001c71c(uVar7,0xaa0da270,1000,0,0,0);
      FUN_800213a4(BUF_PTR,uVar7);
    }
    if (*(char *)(param_1 + 0x53) != '\0') {
      local_1dc = 0xffff0000;
      local_1d8 = &LAB_800799c8;
      *param_1 = 0xffff0000;
      param_1[1] = &LAB_800799c8;
      uVar7 = FUN_8007c348(0x121941c4,0xa0,0);
      param_1[0x54] = uVar7;
      goto LAB_800795a4;
    }
  }
  local_1dc = 0xffff0000;
  local_1d8 = &LAB_80079870;
  *param_1 = 0xffff0000;
  param_1[1] = &LAB_80079870;
LAB_800795a4:
  if (*(char *)(param_1 + 0x53) == '\0') {
    FUN_8002625c(PTR_DAT_800a59d8);
  }
  return param_1;
}



void FUN_800795fc(int param_1)

{
  ushort uVar1;
  bool bVar2;
  bool bVar3;
  
  bVar2 = false;
  bVar3 = false;
  if (*(short *)(param_1 + 0x154) != 0) {
    *(short *)(param_1 + 0x154) = *(short *)(param_1 + 0x154) + -1;
  }
  uVar1 = *(ushort *)(*(int *)(param_1 + 0x100) + 2);
  if ((uVar1 & 0x800) == 0) {
    if ((((uVar1 & 0x10) == 0) || (*(char *)(param_1 + 0x14c) == '\0')) ||
       ((byte)PTR_DAT_800a59d8[0x1b] < 0x30)) goto LAB_800796c0;
    if (*(char *)(param_1 + 0x149) != '\0') {
      bVar2 = false;
      bVar3 = true;
      goto LAB_800796c0;
    }
  }
  else if (*(char *)(param_1 + 0x149) != '\0') {
    bVar2 = true;
    goto LAB_800796c0;
  }
  FUN_80079768(param_1);
LAB_800796c0:
  if (*(short *)(param_1 + 0x154) == 0) {
    if (bVar2) {
      *(undefined *)(BUF_PTR + 0x148) = 99;
      if (*(char *)(param_1 + 0x14c) != '\0') {
        initialise_struct(PTR_DAT_800a59d8);
      }
    }
    else if (bVar3) {
      FUN_8007a480(BUF_PTR + 0x84,&DAT_800a6098);
      *(undefined *)(BUF_PTR + 0x148) = 99;
    }
  }
  FUN_8001cb84(param_1);
  return;
}



void FUN_80079768(undefined4 *param_1)

{
  uint uVar1;
  
  *(undefined *)((int)param_1 + 0x149) = 1;
  if (*(char *)(param_1 + 0x53) == '\0') {
    *param_1 = 0xffff0000;
    param_1[1] = &LAB_80079be4;
    FUN_8007c348(0x2990901,0xa0,0);
    for (uVar1 = 0; (uVar1 & 0xff) < (uint)*(byte *)((int)param_1 + 0x135); uVar1 = uVar1 + 1) {
      *(undefined *)(*(int *)(param_1[(uVar1 & 0xff) + 0x41] + 0x34) + 10) = 1;
    }
  }
  else {
    *param_1 = 0xffff0000;
    param_1[1] = FUN_800795fc;
  }
  *(undefined2 *)((int)param_1 + 0x136) = 0;
  *(undefined2 *)((int)param_1 + 0x142) = 0;
  *(undefined2 *)(param_1 + 0x50) = 0;
  *(undefined2 *)(param_1 + 0x51) = *(undefined2 *)((int)param_1 + 0x146);
  FUN_8007c778(param_1[0x54]);
  param_1[0x54] = 0xffffffff;
  FUN_8007c348(0x40023e30,0xa0,0);
  return;
}



undefined4 FUN_8007a110(undefined4 param_1)

{
  return param_1;
}



void FUN_8007a154(undefined4 param_1,uint param_2)

{
  if ((param_2 & 1) != 0) {
    __builtin_delete();
  }
  return;
}



void initialise_blb_struct(astruct_8 *blb_loading_struct,int buffer,void *load_asset_function)

{
  blb_loading_struct->game_blb_ptr = buffer;
  blb_loading_struct->load_asset_function = load_asset_function;
  blb_loading_struct->level_ = 0xff;
  reset_structs();
  return;
}



void reset_structs(astruct_3 *param_1)

{
  reset_struct(param_1);
  reset_other_struct((astruct_4 *)param_1);
  return;
}



void reset_struct(astruct_3 *param_1)

{
  param_1->field104_0x68 = 0;
  param_1->field105_0x6c = 0;
  param_1->field106_0x70 = 0;
  param_1->field107_0x74 = 0;
  param_1->field108_0x78 = 0;
  param_1->field109_0x7c = 0;
  return;
}



void reset_other_struct(astruct_4 *param_1)

{
  param_1->field0_0x0 = 0;
  param_1->field1_0x4 = 0;
  param_1->field2_0x8 = 0;
  param_1->field8_0x20 = 0;
  param_1->field9_0x24 = 0;
  param_1->field3_0xc = 0;
  param_1->field4_0x10 = 0;
  param_1->field11_0x2c = 0;
  param_1->field5_0x14 = 0;
  param_1->field6_0x18 = 0;
  param_1->field7_0x1c = 0;
  param_1->field10_0x28 = 0;
  param_1->field14_0x38 = 0;
  param_1->field15_0x3c = 0;
  param_1->field13_0x34 = 0;
  param_1->field12_0x30 = 0;
  param_1->field16_0x40 = 0;
  param_1->field17_0x44 = 0;
  param_1->field18_0x48 = 0;
  param_1->field19_0x4c = 0;
  param_1->field20_0x50 = 0;
  param_1->field21_0x54 = 0;
  param_1->field22_0x58 = 0;
  return;
}



// param_1 + 0x60 is the value to add to the address at param_1 + 0x5c

undefined FUN_8007a254(astruct_9 *blb_parse_struct)

{
  undefined uVar1;
  byte blb_level_;
  int byte;
  
  byte = blb_parse_struct->blb_base_ptr + (uint)blb_parse_struct->blb_level_;
  if ((*(char *)(byte + 0xf36) == '\x02') &&
     (byte = strcmp((char *)((uint)*(byte *)(byte + 0xf92) * 0xc + blb_parse_struct->blb_base_ptr +
                            0xf1c),&DAT_800a60b4), byte == 0)) {
    return 0;
  }
                    // gets set to 0x100 (0xff + 1)
  blb_level_ = blb_parse_struct->blb_level_ + 1;
  blb_parse_struct->blb_level_ = blb_level_;
  if ((uint)blb_level_ < (uint)*(byte *)(blb_parse_struct->blb_base_ptr + 0xf30)) {
    uVar1 = *(undefined *)(blb_parse_struct->blb_base_ptr + (uint)blb_level_ + 0xf36);
  }
  else {
    uVar1 = 0;
  }
                    // initial game load will skip to here as iVar3 is \x0
  return uVar1;
}



void FUN_8007a2fc(int param_1,char param_2,char param_3)

{
  uint uVar1;
  int iVar2;
  byte bVar3;
  
  iVar2 = *(int *)(param_1 + 0x5c);
  bVar3 = 1;
  if (1 < *(byte *)(iVar2 + 0xf30)) {
    uVar1 = 1;
    do {
      if (*(char *)(iVar2 + uVar1 + 0xf36) == param_2) {
        if (param_3 == '\0') {
          *(byte *)(param_1 + 0x60) = bVar3 - 1;
          return;
        }
        param_3 = param_3 + -1;
      }
      iVar2 = *(int *)(param_1 + 0x5c);
      bVar3 = bVar3 + 1;
      uVar1 = (uint)bVar3;
    } while (bVar3 < *(byte *)(iVar2 + 0xf30));
  }
  return;
}



void FUN_8007a36c(int param_1,char param_2,char param_3,char param_4)

{
  char cVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  
  iVar4 = *(int *)(param_1 + 0x5c);
  iVar3 = 0;
  if (*(char *)(iVar4 + 0xf30) == '\0') {
    return;
  }
  iVar2 = 0;
  while ((iVar2 = iVar4 + (iVar2 >> 0x10), *(char *)(iVar2 + 0xf36) != '\x03' ||
         (*(char *)(iVar4 + (uint)*(byte *)(iVar2 + 0xf92) * 0x70 + 0xc) != param_2))) {
    iVar3 = iVar3 + 1;
    iVar4 = *(int *)(param_1 + 0x5c);
    iVar2 = iVar3 * 0x10000;
    if ((int)(uint)*(byte *)(iVar4 + 0xf30) <= iVar3 * 0x10000 >> 0x10) {
      return;
    }
  }
  *(char *)(param_1 + 0x60) = (char)iVar3 + -1;
  iVar3 = iVar3 + -1;
  if ((param_4 != '\0') && (-1 < iVar3 * 0x10000)) {
    do {
      cVar1 = *(char *)(*(int *)(param_1 + 0x5c) + (int)(short)iVar3 + 0xf36);
      if (cVar1 == '\x01') {
        *(char *)(param_1 + 0x60) = (char)iVar3 + -1;
        return;
      }
      iVar3 = iVar3 + -1;
    } while ((cVar1 != '\x03') && (-1 < iVar3 * 0x10000));
  }
  if (param_3 != '\0') {
    *(char *)(param_1 + 0x60) = *(char *)(param_1 + 0x60) + -1;
  }
  return;
}



void FUN_8007a480(int param_1,char *param_2)

{
  uint uVar1;
  int iVar2;
  byte bVar3;
  
  iVar2 = *(int *)(param_1 + 0x5c);
  bVar3 = 0;
  if (*(char *)(iVar2 + 0xf30) != '\0') {
    uVar1 = 0;
    do {
      if (*(char *)(iVar2 + uVar1 + 0xf36) == '\x01') {
        iVar2 = strcmp((char *)((uint)*(byte *)(iVar2 + uVar1 + 0xf92) * 0x1c + iVar2 + 0xb64),
                       param_2);
        if (iVar2 == 0) {
          *(byte *)(param_1 + 0x60) = bVar3 - 1;
          return;
        }
      }
      iVar2 = *(int *)(param_1 + 0x5c);
      bVar3 = bVar3 + 1;
      uVar1 = (uint)bVar3;
    } while (bVar3 < *(byte *)(iVar2 + 0xf30));
  }
  return;
}



void FUN_8007a538(int param_1)

{
  *(char *)(param_1 + 0x60) = *(char *)(*(int *)(param_1 + 0x5c) + 0xf30) + -2;
  return;
}



undefined FUN_8007a554(int param_1)

{
  undefined uVar1;
  
  if ((int)(uint)*(byte *)(param_1 + 0x60) < (int)(*(byte *)(*(int *)(param_1 + 0x5c) + 0xf30) - 1))
  {
    uVar1 = *(undefined *)(*(int *)(param_1 + 0x5c) + (uint)*(byte *)(param_1 + 0x60) + 0xf37);
  }
  else {
    uVar1 = 0;
  }
  return uVar1;
}



undefined4 FUN_8007a58c(int param_1)

{
  byte bVar1;
  undefined4 uVar2;
  int iVar3;
  
  iVar3 = *(int *)(param_1 + 0x5c) + (uint)*(byte *)(param_1 + 0x60);
  bVar1 = *(byte *)(iVar3 + 0xf36);
  uVar2 = 0;
  if (2 < bVar1) {
    if (bVar1 == 3) {
      uVar2 = *(undefined4 *)(*(int *)(param_1 + 0x5c) + (uint)*(byte *)(iVar3 + 0xf92) * 0x70 + 4);
    }
    else {
      uVar2 = 0x7d000;
    }
  }
  return uVar2;
}



undefined4 parse_blb_header(astruct_5 *something,int ptr_to_level_data)

{
  char cVar1;
  undefined2 *puVar2;
  undefined4 uVar3;
  uint uVar4;
  uint uVar5;
  undefined2 uVar6;
  undefined2 uVar7;
  int ptr;
  ushort *puVar8;
  int blb_header;
  uint some_count;
  byte blb_id_;
  
  blb_header = something->blb_header_ptr;
  something->field29_0x68 = (ushort *)0x0;
  something->field30_0x6c = (uint *)0x0;
  something->field31_0x70 = 0;
  something->field32_0x74 = 0;
  something->field33_0x78 = 0;
  something->field34_0x7c = 0;
  something->field0_0x0 = 0;
  something->field1_0x4 = 0;
  something->field2_0x8 = 0;
  something->field8_0x20 = 0;
  something->field9_0x24 = 0;
  something->field3_0xc = 0;
  something->field4_0x10 = 0;
  something->field11_0x2c = 0;
  something->field5_0x14 = 0;
  something->field6_0x18 = 0;
  something->field7_0x1c = 0;
  something->field10_0x28 = 0;
  something->field14_0x38 = 0;
  something->field15_0x3c = 0;
  something->field13_0x34 = 0;
  something->field12_0x30 = 0;
  something->field16_0x40 = 0;
  something->field17_0x44 = 0;
  something->field18_0x48 = 0;
  something->field19_0x4c = 0;
  something->field20_0x50 = 0;
  something->field21_0x54 = 0;
  something->field22_0x58 = 0;
  ptr = blb_header + (uint)something->set_to_a_on_start;
  blb_id_ = *(byte *)(ptr + 0xf36);
  if (blb_id_ < 3) {
    uVar3 = 0;
  }
  else {
    uVar6 = 0;
                    // load byte located here into v1 (on boot this is 0x3)
    some_count = (uint)*(byte *)(ptr + 0xf92);
    uVar7 = 0;
    if (blb_id_ == 3) {
      puVar2 = (undefined2 *)(blb_header + some_count * 0x70);
                    // this is the first byte of the blb header
      uVar6 = *puVar2;
                    // and this is the 2nd?
      uVar7 = puVar2[1];
    }
    else if (blb_id_ == 6) {
      blb_header = blb_header + some_count * 4;
      uVar6 = *(undefined2 *)(blb_header + 0xecc);
      uVar7 = *(undefined2 *)(blb_header + 0xece);
    }
    cVar1 = (*(code *)something->field28_0x64)(uVar6,uVar7,ptr_to_level_data);
    uVar3 = 0;
    if (cVar1 != '\0') {
      something->field29_0x68 = (ushort *)ptr_to_level_data;
      if (*(char *)(something->blb_header_ptr + (uint)something->set_to_a_on_start + 0xf36) ==
          '\x03') {
        something->field30_0x6c =
             (uint *)(ptr_to_level_data +
                     *(int *)(something->blb_header_ptr + some_count * 0x70 + 8));
      }
      else {
        something->field30_0x6c = (uint *)0x0;
      }
      puVar8 = something->field29_0x68;
      some_count = 0;
      while (uVar4 = some_count & 0xffff, uVar4 < *puVar8) {
        blb_header = (int)something->field29_0x68 + *(int *)(puVar8 + uVar4 * 6 + 6);
        uVar5 = *(uint *)(puVar8 + uVar4 * 6 + 2);
        uVar3 = *(undefined4 *)(puVar8 + uVar4 * 6 + 4);
        if (uVar5 == 0x259) {
          something->field32_0x74 = blb_header;
          something->field33_0x78 = uVar3;
LAB_8007a7e4:
          some_count = some_count + 1;
        }
        else if (uVar5 < 0x25a) {
          if (uVar5 == 600) {
            something->field31_0x70 = blb_header;
            goto LAB_8007a7e4;
          }
          some_count = some_count + 1;
        }
        else {
          if (uVar5 == 0x25a) {
            something->field34_0x7c = blb_header;
            goto LAB_8007a7e4;
          }
          some_count = some_count + 1;
        }
      }
      if (*(char *)(something->blb_header_ptr + (uint)something->set_to_a_on_start + 0xf36) !=
          '\x03') {
        more_parsing_of_blb((astruct_14 *)something,1,'\x01');
      }
      uVar3 = 1;
    }
  }
  return uVar3;
}



undefined ptr_end_of_blb_header(astruct_10 *buffer)

{
  return *(undefined *)(buffer->blb_header_ptr + 0xf31);
}



undefined FUN_8007a984(int param_1,uint param_2)

{
  return *(undefined *)(*(int *)(param_1 + 0x5c) + (param_2 & 0xff) * 0x70 + 0xc);
}



int level_name(int buffer,uint size)

{
  return *(int *)(buffer + 0x5c) + (size & 0xff) * 0x70 + 0x5b;
}



undefined FUN_8007a9e8(int param_1,uint param_2)

{
  return *(undefined *)(*(int *)(param_1 + 0x5c) + (param_2 & 0xff) * 0x70 + 0xd);
}



undefined FUN_8007aa0c(int param_1)

{
  undefined uVar1;
  int iVar2;
  
  iVar2 = *(int *)(param_1 + 0x5c) + (uint)*(byte *)(param_1 + 0x60);
  uVar1 = 0;
  if (*(char *)(iVar2 + 0xf36) == '\x03') {
    uVar1 = *(undefined *)(*(int *)(param_1 + 0x5c) + (uint)*(byte *)(iVar2 + 0xf92) * 0x70 + 0xc);
  }
  return uVar1;
}



int FUN_8007aa50(int param_1)

{
  int iVar1;
  
  iVar1 = *(int *)(param_1 + 0x5c) + (uint)*(byte *)(param_1 + 0x60);
  if (*(char *)(iVar1 + 0xf36) == '\x03') {
    iVar1 = *(int *)(param_1 + 0x5c) + (uint)*(byte *)(iVar1 + 0xf92) * 0x70 + 0x56;
  }
  else {
    iVar1 = 0;
  }
  return iVar1;
}



undefined FUN_8007ab04(int param_1)

{
  undefined uVar1;
  int iVar2;
  
  iVar2 = *(int *)(param_1 + 0x5c) + (uint)*(byte *)(param_1 + 0x60);
  uVar1 = 0;
  if (*(byte *)(iVar2 + 0xf36) - 4 < 2) {
    uVar1 = *(undefined *)(*(int *)(param_1 + 0x5c) + (uint)*(byte *)(iVar2 + 0xf92) * 0x10 + 0xcd1)
    ;
  }
  return uVar1;
}



undefined FUN_8007ab48(int param_1)

{
  undefined uVar1;
  int iVar2;
  
  iVar2 = *(int *)(param_1 + 0x5c) + (uint)*(byte *)(param_1 + 0x60);
  uVar1 = 0;
  if (*(byte *)(iVar2 + 0xf36) - 4 < 2) {
    uVar1 = *(undefined *)(*(int *)(param_1 + 0x5c) + (uint)*(byte *)(iVar2 + 0xf92) * 0x10 + 0xcd2)
    ;
  }
  return uVar1;
}



byte get_blb_offset(int pointer)

{
  byte bVar1;
  byte bVar2;
  int level_;
  int pointer_to_blb_header;
  
  pointer_to_blb_header = *(int *)(pointer + 0x5c);
  level_ = pointer_to_blb_header + (uint)*(byte *)(pointer + 0x60);
  bVar1 = *(byte *)(level_ + 0xf36);
  if (bVar1 == 2) {
    bVar2 = (byte)*(undefined2 *)
                   (pointer_to_blb_header + (uint)*(byte *)(level_ + 0xf92) * 0xc + 0xf18);
  }
  else {
    bVar2 = 0;
    if (1 < bVar1) {
      if (bVar1 < 6) {
        bVar2 = 0;
        if (3 < bVar1) {
          bVar2 = (byte)*(undefined2 *)
                         (pointer_to_blb_header + (uint)*(byte *)(level_ + 0xf92) * 0x10 + 0xccc);
        }
      }
      else {
        bVar2 = 0;
      }
    }
  }
  return bVar2;
}



undefined2 get_blb_sector_count(int blb_buffer_800ae450)

{
  byte bVar1;
  undefined2 uVar2;
  int iVar3;
  int iVar4;
  
  iVar4 = *(int *)(blb_buffer_800ae450 + 0x5c);
  iVar3 = iVar4 + (uint)*(byte *)(blb_buffer_800ae450 + 0x60);
  bVar1 = *(byte *)(iVar3 + 0xf36);
  if (bVar1 == 2) {
    uVar2 = *(undefined2 *)(iVar4 + (uint)*(byte *)(iVar3 + 0xf92) * 0xc + 0xf1a);
  }
  else {
    uVar2 = 0;
    if (1 < bVar1) {
      if (bVar1 < 6) {
        uVar2 = 0;
        if (3 < bVar1) {
          uVar2 = *(undefined2 *)(iVar4 + (uint)*(byte *)(iVar3 + 0xf92) * 0x10 + 0xcce);
        }
      }
      else {
        uVar2 = 0;
      }
    }
  }
  return uVar2;
}



// something fun to look at
// 

undefined get_movie_count(int blb)

{
  return *(undefined *)(*(int *)(blb + 0x5c) + 0xf32);
}



// look at me !
// 

int movie_file_name(int param_1,uint param_2)

{
  return (param_2 & 0xff) * 0x1c + *(int *)(param_1 + 0x5c) + 0xb64;
}



// this will return the address of the `DREA` `PIRA` `SCI` type  headers in the game blb.

int find_blb_asset_addr(int blb_buffer_struct)

{
  int asset_addr;
  
                    // given the pointer of 0x8009dd20, we load the address at 0x8009dd20 + 0x5c
                    // (which is 0x800ae450). Then we load the byte at 0x8009dd20 + 0x60 and add it
                    // to the address. So we end up with 0x800ae452.
  asset_addr = *(int *)(blb_buffer_struct + 0x5c) + (uint)*(byte *)(blb_buffer_struct + 0x60);
                    // we then compare the byte located at 0x800ae452 + 0xf36 with 0x01. If it
                    // equals 1, we change our return value.
  if (*(char *)(asset_addr + 0xf36) == '\x01') {
                    // on boot, the byte at base_addr + 0xf92 is 0x0, so 0x0 * 0x1c + the gameblb
                    // adddress ( struct + 0x5c) + 0xb64 ends up being 0x800aefb4
    asset_addr = (uint)*(byte *)(asset_addr + 0xf92) * 0x1c + *(int *)(blb_buffer_struct + 0x5c) +
                 0xb64;
  }
  else {
    asset_addr = 0;
  }
  return asset_addr;
}



int load_another_blb_asset_ptr(int pointer)

{
  int asset_ptr;
  
  asset_ptr = *(int *)(pointer + 0x5c) + (uint)*(byte *)(pointer + 0x60);
  if (*(char *)(asset_ptr + 0xf36) == '\x01') {
    asset_ptr = (uint)*(byte *)(asset_ptr + 0xf92) * 0x1c + *(int *)(pointer + 0x5c) + 0xb6c;
  }
  else {
    asset_ptr = 0;
  }
                    // returns the ptr to \MVDWI.STR on boot
  return asset_ptr;
}



undefined2 load_Another_asset_ptr(int pointer)

{
  undefined2 asset_ptr;
  int iVar1;
  
  iVar1 = *(int *)(pointer + 0x5c) + (uint)*(byte *)(pointer + 0x60);
  asset_ptr = 0;
  if (*(char *)(iVar1 + 0xf36) == '\x01') {
    asset_ptr = *(undefined2 *)
                 (*(int *)(pointer + 0x5c) + (uint)*(byte *)(iVar1 + 0xf92) * 0x1c + 0xb60);
  }
  return asset_ptr;
}



undefined2 FUN_8007ae18(int param_1)

{
  undefined2 uVar1;
  int iVar2;
  
  iVar2 = *(int *)(param_1 + 0x5c) + (uint)*(byte *)(param_1 + 0x60);
  uVar1 = 0;
  if (*(char *)(iVar2 + 0xf36) == '\x01') {
    uVar1 = *(undefined2 *)
             (*(int *)(param_1 + 0x5c) + (uint)*(byte *)(iVar2 + 0xf92) * 0x1c + 0xb62);
  }
  return uVar1;
}



// this looks very interesting

int FUN_8007ae5c(astruct_13 *blb_struct)

{
  int iVar1;
  
  switch(*(undefined *)(blb_struct->blb_header_ptr + (uint)blb_struct->bytes_to_add_to_ptr + 0xf36))
  {
  case 1:
                    // points to dream works (O.DREA.DW)
    iVar1 = (uint)*(byte *)(blb_struct->blb_header_ptr + (uint)blb_struct->bytes_to_add_to_ptr +
                           0xf92) * 0x1c + blb_struct->blb_header_ptr + 0xb64;
    break;
  case 2:
    iVar1 = (uint)*(byte *)(blb_struct->blb_header_ptr + (uint)blb_struct->bytes_to_add_to_ptr +
                           0xf92) * 0xc + blb_struct->blb_header_ptr + 0xf1c;
    break;
  case 3:
    iVar1 = blb_struct->blb_header_ptr +
            (uint)*(byte *)(blb_struct->blb_header_ptr + (uint)blb_struct->bytes_to_add_to_ptr +
                           0xf92) * 0x70 + 0x56;
    break;
  case 4:
  case 5:
    iVar1 = (uint)*(byte *)(blb_struct->blb_header_ptr + (uint)blb_struct->bytes_to_add_to_ptr +
                           0xf92) * 0x10 + blb_struct->blb_header_ptr + 0xcd3;
    break;
  default:
    iVar1 = 0;
  }
  return iVar1;
}



int FUN_8007afb8(int *param_1)

{
  char cVar1;
  int iVar2;
  
  iVar2 = param_1[0x17] + (uint)*(byte *)(param_1 + 0x18);
  cVar1 = *(char *)(iVar2 + 0xf36);
  if (cVar1 == '\x06') {
    iVar2 = 0x7d000;
  }
  else if ((cVar1 == '\x03') && (*param_1 != 0)) {
    iVar2 = (uint)*(ushort *)
                   (param_1[0x17] + (uint)*(byte *)(iVar2 + 0xf92) * 0x70 + *param_1 * 2 + 0xe) << 5
    ;
  }
  else {
    iVar2 = 0;
  }
  return iVar2;
}



void more_parsing_of_blb(astruct_14 *param_1,int param_2,char param_3)

{
  byte bVar1;
  undefined2 uVar2;
  undefined2 uVar3;
  char cVar4;
  int iVar5;
  uint uVar6;
  uint uVar7;
  int iVar8;
  uint uVar9;
  uint *puVar10;
  uint *puVar11;
  
  bVar1 = *(byte *)(param_1->field23_0x5c + (uint)param_1->field24_0x60 + 0xf36);
  if ((2 < bVar1) && ((bVar1 == 3 || (param_3 != '\0')))) {
    iVar8 = param_1->field23_0x5c;
    param_1->field0_0x0 = 0;
    param_1->field1_0x4 = 0;
    param_1->field2_0x8 = 0;
    param_1->field8_0x20 = 0;
    param_1->field9_0x24 = 0;
    param_1->field3_0xc = 0;
    param_1->field4_0x10 = 0;
    param_1->field11_0x2c = 0;
    param_1->field5_0x14 = 0;
    param_1->field6_0x18 = 0;
    param_1->field7_0x1c = 0;
    param_1->field10_0x28 = 0;
    param_1->field14_0x38 = 0;
    param_1->field15_0x3c = 0;
    param_1->field13_0x34 = 0;
    param_1->field12_0x30 = 0;
    param_1->field16_0x40 = 0;
    param_1->field17_0x44 = 0;
    param_1->field18_0x48 = 0;
    param_1->field19_0x4c = 0;
    param_1->field20_0x50 = 0;
    param_1->field21_0x54 = 0;
    param_1->field22_0x58 = 0;
    iVar5 = iVar8 + (uint)param_1->field24_0x60;
    if (*(char *)(iVar5 + 0xf36) == '\x03') {
      uVar6 = (uint)*(byte *)(iVar5 + 0xf92);
      if (param_3 == '\0') {
        iVar5 = iVar8 + uVar6 * 0x70 + param_2 * 2;
        uVar2 = *(undefined2 *)(iVar5 + 0x38);
        uVar3 = *(undefined2 *)(iVar5 + 0x46);
      }
      else {
        iVar5 = iVar8 + uVar6 * 0x70 + param_2 * 2;
        uVar2 = *(undefined2 *)(iVar5 + 0x1c);
        uVar3 = *(undefined2 *)(iVar5 + 0x2a);
      }
      cVar4 = (*(code *)param_1->field28_0x64)(uVar2,uVar3,param_1->field30_0x6c);
      if (cVar4 == '\0') {
        if (param_2 == 1) {
          return;
        }
        more_parsing_of_blb(param_1,1,param_3);
        return;
      }
      puVar11 = param_1->field30_0x6c;
      param_1->field0_0x0 = param_2;
    }
    else {
      puVar11 = param_1->field29_0x68;
      param_1->field0_0x0 = 1;
    }
    puVar10 = puVar11;
    for (uVar6 = 0; uVar6 < *puVar11; uVar6 = uVar6 + 1) {
      uVar7 = puVar10[1];
      uVar9 = puVar10[2];
      iVar5 = (int)puVar11 + puVar10[3];
      if (uVar7 == 0x191) {
        param_1->field9_0x24 = iVar5;
      }
      else if (uVar7 < 0x192) {
        if (uVar7 == 300) {
          param_1->field5_0x14 = iVar5;
        }
        else if (uVar7 < 0x12d) {
          if (uVar7 == 0x65) {
            param_1->field2_0x8 = iVar5;
          }
          else if (uVar7 < 0x66) {
            if (uVar7 == 100) {
              param_1->field1_0x4 = iVar5;
            }
          }
          else if (uVar7 == 200) {
            param_1->field3_0xc = iVar5;
          }
          else if (uVar7 == 0xc9) {
            param_1->field4_0x10 = iVar5;
          }
        }
        else if (uVar7 == 0x12e) {
          param_1->field7_0x1c = iVar5;
        }
        else if (uVar7 < 0x12e) {
          param_1->field6_0x18 = iVar5;
        }
        else if (uVar7 == 0x12f) {
          param_1->field10_0x28 = iVar5;
        }
        else if (uVar7 == 400) {
          param_1->field8_0x20 = iVar5;
        }
      }
      else if (uVar7 == 0x1f8) {
        param_1->field13_0x34 = iVar5;
      }
      else if (uVar7 < 0x1f9) {
        if (uVar7 == 0x1f5) {
          param_1->field14_0x38 = iVar5;
        }
        else if (uVar7 < 0x1f6) {
          if (uVar7 == 500) {
            param_1->field11_0x2c = iVar5;
          }
        }
        else if (uVar7 == 0x1f6) {
          param_1->field15_0x3c = iVar5;
        }
        else if (uVar7 == 0x1f7) {
          param_1->field12_0x30 = iVar5;
        }
      }
      else if (uVar7 == 0x259) {
        param_1->field18_0x48 = iVar5;
        param_1->field19_0x4c = uVar9;
      }
      else if (uVar7 < 0x25a) {
        if (uVar7 == 600) {
          param_1->field16_0x40 = iVar5;
          param_1->field17_0x44 = uVar9;
        }
      }
      else if (uVar7 == 0x25a) {
        param_1->field20_0x50 = iVar5;
      }
      else if (uVar7 == 700) {
        param_1->field21_0x54 = iVar5;
        param_1->field22_0x58 = uVar9;
      }
      puVar10 = puVar10 + 3;
    }
  }
  return;
}



undefined old_debug__return_input(undefined *param_1)

{
  return *param_1;
}



undefined4 FUN_8007b3bc(int param_1,uint param_2)

{
  undefined4 uVar1;
  
  if ((*(int *)(param_1 + 8) == 0) || (1 < (param_2 & 0xffff))) {
    uVar1 = 0;
  }
  else {
    uVar1 = *(undefined4 *)((param_2 & 0xffff) * 4 + *(int *)(param_1 + 8));
  }
  return uVar1;
}



void FUN_8007b3f4(uint param_1,int param_2)

{
  uint uVar1;
  uint uVar2;
  uint uVar3;
  uint *puVar4;
  uint uVar5;
  
  uVar1 = *(int *)(param_2 + 4) + 0xb;
  uVar2 = uVar1 & 3;
  uVar5 = *(int *)(param_2 + 4) + 8;
  uVar3 = uVar5 & 3;
  uVar5 = (*(int *)(uVar1 - uVar2) << (3 - uVar2) * 8 | param_1 & 0xffffffffU >> (uVar2 + 1) * 8) &
          -1 << (4 - uVar3) * 8 | *(uint *)(uVar5 - uVar3) >> uVar3 * 8;
  uVar1 = param_1 + 3 & 3;
  puVar4 = (uint *)((param_1 + 3) - uVar1);
  *puVar4 = *puVar4 & -1 << (uVar1 + 1) * 8 | uVar5 >> (3 - uVar1) * 8;
  uVar1 = param_1 & 3;
  *(uint *)(param_1 - uVar1) =
       *(uint *)(param_1 - uVar1) & 0xffffffffU >> (4 - uVar1) * 8 | uVar5 << uVar1 * 8;
  return;
}



void FUN_8007b418(uint param_1,int param_2)

{
  uint uVar1;
  uint uVar2;
  uint uVar3;
  uint *puVar4;
  uint uVar5;
  
  uVar1 = *(int *)(param_2 + 4) + 0xf;
  uVar2 = uVar1 & 3;
  uVar5 = *(int *)(param_2 + 4) + 0xc;
  uVar3 = uVar5 & 3;
  uVar5 = (*(int *)(uVar1 - uVar2) << (3 - uVar2) * 8 | param_1 & 0xffffffffU >> (uVar2 + 1) * 8) &
          -1 << (4 - uVar3) * 8 | *(uint *)(uVar5 - uVar3) >> uVar3 * 8;
  uVar1 = param_1 + 3 & 3;
  puVar4 = (uint *)((param_1 + 3) - uVar1);
  *puVar4 = *puVar4 & -1 << (uVar1 + 1) * 8 | uVar5 >> (3 - uVar1) * 8;
  uVar1 = param_1 & 3;
  *(uint *)(param_1 - uVar1) =
       *(uint *)(param_1 - uVar1) & 0xffffffffU >> (4 - uVar1) * 8 | uVar5 << uVar1 * 8;
  return;
}



undefined2 FUN_8007b43c(int param_1)

{
  return *(undefined2 *)(*(int *)(param_1 + 4) + 0x18);
}



undefined2 FUN_8007b450(int param_1)

{
  return *(undefined2 *)(*(int *)(param_1 + 4) + 0x20);
}



undefined2 FUN_8007b464(int param_1)

{
  return *(undefined2 *)(*(int *)(param_1 + 4) + 0x1a);
}



undefined4 FUN_8007b478(int param_1)

{
  return *(undefined4 *)(param_1 + 4);
}



int FUN_8007b484(int param_1)

{
  return *(int *)(param_1 + 4) + 4;
}



undefined get_tile_count_(astruct_16 *param_1)

{
  undefined uVar1;
  
  if (param_1->tile_count == (undefined *)0x0) {
    uVar1 = 0;
  }
  else {
    uVar1 = *param_1->tile_count;
  }
  return uVar1;
}



int FUN_8007b4b8(int param_1,uint param_2)

{
  int iVar1;
  
  iVar1 = *(int *)(param_1 + 0x20);
  if (iVar1 == 0) {
    iVar1 = 0;
  }
  else {
    iVar1 = iVar1 + *(int *)(iVar1 + (param_2 & 0xff) * 0xc + 0xc);
  }
  return iVar1;
}



undefined4 FUN_8007b4f0(int param_1)

{
  return *(undefined4 *)(param_1 + 0x24);
}



int FUN_8007b4fc(int param_1)

{
  int iVar1;
  
  iVar1 = *(int *)(param_1 + 4);
  return (uint)*(ushort *)(iVar1 + 0x10) + (uint)*(ushort *)(iVar1 + 0x12) +
         (uint)*(ushort *)(iVar1 + 0x14);
}



undefined4 FUN_8007b548(int param_1,int param_2,uchar *param_3,uint param_4)

{
  undefined4 uVar1;
  uint uVar2;
  uint uVar3;
  uchar *puVar4;
  ushort uVar5;
  int iVar6;
  
  if (param_2 == 0) {
    uVar1 = 0;
  }
  else {
    uVar3 = param_2 - 1;
    uVar2 = (uint)*(ushort *)(*(int *)(param_1 + 4) + 0x10);
    iVar6 = 0x10;
    if (uVar3 < uVar2) {
      puVar4 = (uchar *)(*(int *)(param_1 + 0x14) + uVar3 * 0x100);
    }
    else {
      puVar4 = (uchar *)(*(int *)(param_1 + 0x14) + uVar2 * 0x80 + uVar3 * 0x80);
      iVar6 = 8;
    }
    uVar5 = 0;
    do {
      memcpy(param_3,puVar4,iVar6);
      param_3 = param_3 + (param_4 & 0xffff);
      uVar5 = uVar5 + 1;
      puVar4 = puVar4 + iVar6;
    } while (uVar5 < 0x10);
    uVar1 = 1;
  }
  return uVar1;
}



undefined4 FUN_8007b618(int param_1,int param_2)

{
  uint uVar1;
  
  uVar1 = (uint)*(ushort *)(*(int *)(param_1 + 4) + 0x10) +
          (uint)*(ushort *)(*(int *)(param_1 + 4) + 0x12) & 0xffff;
  if (uVar1 <= param_2 - 1U) {
    if (*(int *)(param_1 + 0x28) != 0) {
      return *(undefined4 *)(((param_2 - 1U) - uVar1) * 4 + *(int *)(param_1 + 0x28));
    }
  }
  return 0;
}



undefined4 FUN_8007b670(int param_1)

{
  return *(undefined4 *)(param_1 + 0x18);
}



undefined4 FUN_8007b67c(int param_1)

{
  return *(undefined4 *)(param_1 + 0x1c);
}



undefined2 FUN_8007b688(int param_1)

{
  return **(undefined2 **)(param_1 + 0xc);
}



int FUN_8007b69c(int param_1,uint param_2)

{
  return *(int *)(param_1 + 0xc) +
         *(int *)(*(int *)(param_1 + 0xc) + (param_2 & 0xffff) * 0xc + 0xc);
}



int FUN_8007b6c0(int param_1,uint param_2)

{
  return *(int *)(param_1 + 0x10) + (param_2 & 0xffff) * 0x5c;
}



bool FUN_8007b70c(int param_1)

{
  return *(int *)(param_1 + 0x2c) != 0;
}



void FUN_8007b718(uint param_1,int param_2)

{
  uint uVar1;
  uint *puVar2;
  uint uVar3;
  uint uVar4;
  
  uVar3 = *(uint *)(param_2 + 0x2c);
  uVar1 = uVar3 + 3 & 3;
  uVar4 = uVar3 & 3;
  uVar4 = (*(int *)((uVar3 + 3) - uVar1) << (3 - uVar1) * 8 |
          param_1 & 0xffffffffU >> (uVar1 + 1) * 8) & -1 << (4 - uVar4) * 8 |
          *(uint *)(uVar3 - uVar4) >> uVar4 * 8;
  uVar1 = param_1 + 3 & 3;
  puVar2 = (uint *)((param_1 + 3) - uVar1);
  *puVar2 = *puVar2 & -1 << (uVar1 + 1) * 8 | uVar4 >> (3 - uVar1) * 8;
  uVar1 = param_1 & 3;
  *(uint *)(param_1 - uVar1) =
       *(uint *)(param_1 - uVar1) & 0xffffffffU >> (4 - uVar1) * 8 | uVar4 << uVar1 * 8;
  return;
}



void FUN_8007b738(uint param_1,int param_2)

{
  uint uVar1;
  uint uVar2;
  uint uVar3;
  uint *puVar4;
  uint uVar5;
  
  uVar1 = *(int *)(param_2 + 0x2c) + 7;
  uVar2 = uVar1 & 3;
  uVar5 = *(int *)(param_2 + 0x2c) + 4;
  uVar3 = uVar5 & 3;
  uVar5 = (*(int *)(uVar1 - uVar2) << (3 - uVar2) * 8 | param_1 & 0xffffffffU >> (uVar2 + 1) * 8) &
          -1 << (4 - uVar3) * 8 | *(uint *)(uVar5 - uVar3) >> uVar3 * 8;
  uVar1 = param_1 + 3 & 3;
  puVar4 = (uint *)((param_1 + 3) - uVar1);
  *puVar4 = *puVar4 & -1 << (uVar1 + 1) * 8 | uVar5 >> (3 - uVar1) * 8;
  uVar1 = param_1 & 3;
  *(uint *)(param_1 - uVar1) =
       *(uint *)(param_1 - uVar1) & 0xffffffffU >> (4 - uVar1) * 8 | uVar5 << uVar1 * 8;
  return;
}



int FUN_8007b75c(int param_1)

{
  return *(int *)(param_1 + 0x2c) + 8;
}



undefined2 FUN_8007b768(int param_1)

{
  return *(undefined2 *)(*(int *)(param_1 + 4) + 0x1e);
}



undefined4 FUN_8007b77c(int param_1)

{
  return *(undefined4 *)(param_1 + 0x38);
}



undefined2 FUN_8007b788(int param_1)

{
  return *(undefined2 *)(*(int *)(param_1 + 4) + 0x1c);
}



undefined4 FUN_8007b79c(int param_1)

{
  return *(undefined4 *)(param_1 + 0x3c);
}



undefined2 FUN_8007b7cc(int param_1,int param_2)

{
  undefined2 uVar1;
  int iVar2;
  
  iVar2 = *(int *)(param_1 + 0x30);
  if (iVar2 == 0) {
    uVar1 = 0;
  }
  else {
    uVar1 = *(undefined2 *)(iVar2 + *(int *)(iVar2 + (param_2 - 1U & 0xffff) * 0xc + 0xc) + 4);
  }
  return uVar1;
}



int FUN_8007b810(int param_1,int param_2)

{
  int iVar1;
  
  iVar1 = *(int *)(param_1 + 0x30);
  if (iVar1 == 0) {
    iVar1 = 0;
  }
  else {
    iVar1 = iVar1 + *(int *)(iVar1 + (param_2 - 1U & 0xffff) * 0xc + 0xc) + 6;
  }
  return iVar1;
}



undefined2 FUN_8007b8d0(int param_1)

{
  return *(undefined2 *)(*(int *)(param_1 + 4) + 0x16);
}



undefined4 FUN_8007b8e4(int param_1)

{
  return *(undefined4 *)(param_1 + 0x34);
}



int FUN_8007b928(int param_1,uint param_2)

{
  uint *puVar1;
  uint uVar2;
  int iVar3;
  uint *puVar4;
  uint uVar5;
  
  puVar1 = *(uint **)(param_1 + 0x70);
  if (puVar1 != (uint *)0x0) {
    uVar5 = 0;
    if (*puVar1 != 0) {
      uVar2 = 0;
      do {
        puVar4 = puVar1 + uVar2 * 3;
        if (puVar4[1] == param_2) {
          iVar3 = *(int *)(param_1 + 0x70);
          goto LAB_8007b9e4;
        }
        uVar5 = uVar5 + 1;
        uVar2 = uVar5 & 0xffff;
      } while ((uVar5 & 0xffff) < *puVar1);
    }
  }
  puVar1 = *(uint **)(param_1 + 0x40);
  if (puVar1 != (uint *)0x0) {
    uVar5 = 0;
    if (*puVar1 != 0) {
      uVar2 = 0;
      do {
        puVar4 = puVar1 + uVar2 * 3;
        if (puVar4[1] == param_2) {
          iVar3 = *(int *)(param_1 + 0x40);
LAB_8007b9e4:
          return iVar3 + puVar4[3];
        }
        uVar5 = uVar5 + 1;
        uVar2 = uVar5 & 0xffff;
      } while ((uVar5 & 0xffff) < *puVar1);
    }
  }
  return 0;
}



undefined4 FUN_8007ba10(int param_1)

{
  undefined4 uVar1;
  
  if (*(int *)(param_1 + 4) == 0) {
    uVar1 = *(undefined4 *)(param_1 + 0x78);
  }
  else {
    uVar1 = *(undefined4 *)(param_1 + 0x4c);
  }
  return uVar1;
}



undefined4 FUN_8007ba38(int param_1)

{
  undefined4 uVar1;
  
  if (*(int *)(param_1 + 4) == 0) {
    uVar1 = *(undefined4 *)(param_1 + 0x74);
  }
  else {
    uVar1 = *(undefined4 *)(param_1 + 0x48);
  }
  return uVar1;
}



undefined4 FUN_8007ba60(int param_1)

{
  undefined4 uVar1;
  
  if (*(int *)(param_1 + 4) == 0) {
    uVar1 = *(undefined4 *)(param_1 + 0x7c);
  }
  else {
    uVar1 = *(undefined4 *)(param_1 + 0x50);
  }
  return uVar1;
}



int FUN_8007ba88(int param_1)

{
  int iVar1;
  
  iVar1 = *(int *)(param_1 + 0x54) + 0x10;
  if (*(int *)(param_1 + 0x54) == 0) {
    iVar1 = 0;
  }
  return iVar1;
}



void set_blb_pointer(long zero,long buffer_address)

{
  SET_TO_ZERO = zero;
  BLB_PARSING_STRUCT = buffer_address;
  return;
}



int FUN_8007bad0(int param_1)

{
  int iVar1;
  uint uVar2;
  int *piVar3;
  
  if ((BLB_PARSING_STRUCT == 0) || (iVar1 = FUN_8007b928(BLB_PARSING_STRUCT,param_1), iVar1 == 0)) {
    uVar2 = 0;
    if (SET_TO_ZERO == 0) {
      iVar1 = 0;
    }
    else {
      piVar3 = (int *)(SET_TO_ZERO + 0x10);
      for (; iVar1 = 0, uVar2 < *(uint *)(SET_TO_ZERO + 0xc); uVar2 = uVar2 + 1) {
        if (*piVar3 == param_1) {
          return SET_TO_ZERO +
                 *(int *)(uVar2 * 0x14 + SET_TO_ZERO + *(uint *)(SET_TO_ZERO + 0xc) * 4 + 0x18);
        }
        piVar3 = piVar3 + 1;
      }
    }
  }
  return iVar1;
}



undefined4 FUN_8007bb80(undefined4 param_1)

{
  FUN_8007bbd8();
  return param_1;
}



undefined4 FUN_8007bbac(undefined4 param_1)

{
  FUN_8007bbfc();
  return param_1;
}



void FUN_8007bbd8(undefined4 *param_1)

{
  *param_1 = 0;
  param_1[1] = 0;
  param_1[2] = 0;
  *(undefined2 *)(param_1 + 3) = 0;
  *(undefined2 *)((int)param_1 + 0xe) = 0;
  *(undefined2 *)(param_1 + 4) = 0;
  *(undefined *)((int)param_1 + 0x12) = 0;
  *(undefined *)((int)param_1 + 0x13) = 0;
  return;
}



undefined4 FUN_8007bbfc(int *param_1,int param_2)

{
  undefined *puVar1;
  ushort uVar2;
  uint uVar3;
  uint uVar4;
  uint uVar5;
  uint *puVar6;
  ushort *puVar7;
  int iVar8;
  int *piVar9;
  uint uVar10;
  int *piVar11;
  uint uVar12;
  int iVar13;
  undefined auStack_2d [3];
  undefined local_2a [26];
  
  *param_1 = 0;
  param_1[1] = 0;
  param_1[2] = 0;
  *(undefined2 *)(param_1 + 3) = 0;
  *(undefined2 *)((int)param_1 + 0xe) = 0;
  *(undefined2 *)(param_1 + 4) = 0;
  *(undefined *)((int)param_1 + 0x12) = 0;
  *(undefined *)((int)param_1 + 0x13) = 0;
  puVar7 = (ushort *)FUN_8007bad0(param_2);
  uVar10 = 0;
  if (puVar7 != (ushort *)0x0) {
    piVar9 = (int *)(puVar7 + 6);
    if (*puVar7 != 0) {
      do {
        if (*piVar9 == param_2) break;
        uVar10 = uVar10 + 1;
        piVar9 = piVar9 + 3;
      } while (uVar10 < *puVar7);
      if (uVar10 < *puVar7) {
        piVar9 = (int *)((int)(puVar7 + 6) + uVar10 * 3 * 4);
        *(ushort *)(param_1 + 4) = *(ushort *)(piVar9 + 1);
        uVar2 = *(ushort *)((int)piVar9 + 6);
        *param_1 = (int)puVar7 + (uint)puVar7[1] + (int)(int *)(uint)uVar2;
        param_1[2] = (int)puVar7 + *(int *)(puVar7 + 2);
        *(char *)((int)param_1 + 0x12) = (char)*(ushort *)(piVar9 + 2);
        if (*(int *)(puVar7 + 4) != 0) {
          param_1[1] = (int)puVar7 + *(int *)(puVar7 + 4);
        }
        iVar13 = 0;
        piVar11 = (int *)(uint)uVar2;
        for (uVar10 = 0; uVar10 < *(ushort *)(param_1 + 4); uVar10 = uVar10 + 1) {
          iVar8 = iVar13 + *param_1;
          uVar3 = iVar8 + 9U & 3;
          uVar5 = iVar8 + 6U & 3;
          uVar4 = iVar8 + 0xdU & 3;
          uVar12 = iVar8 + 10U & 3;
          uVar12 = (*(int *)((iVar8 + 0xdU) - uVar4) << (3 - uVar4) * 8 |
                   (uint)piVar11 & 0xffffffffU >> (uVar4 + 1) * 8) & -1 << (4 - uVar12) * 8 |
                   *(uint *)((iVar8 + 10U) - uVar12) >> uVar12 * 8;
          uVar4 = (uint)auStack_2d & 3;
          puVar6 = (uint *)(auStack_2d + -uVar4);
          *puVar6 = *puVar6 & -1 << (uVar4 + 1) * 8 |
                    ((*(int *)((iVar8 + 9U) - uVar3) << (3 - uVar3) * 8 |
                     (uint)piVar9 & 0xffffffffU >> (uVar3 + 1) * 8) & -1 << (4 - uVar5) * 8 |
                    *(uint *)((iVar8 + 6U) - uVar5) >> uVar5 * 8) >> (3 - uVar4) * 8;
          puVar1 = local_2a + 1;
          uVar3 = (uint)puVar1 & 3;
          *(uint *)(puVar1 + -uVar3) =
               *(uint *)(puVar1 + -uVar3) & -1 << (uVar3 + 1) * 8 | uVar12 >> (3 - uVar3) * 8;
          stack0xffffffd4 = uVar12;
          auStack_2d._1_2_ = (undefined2)uVar12;
          if (*(short *)(param_1 + 3) < (short)auStack_2d._1_2_) {
            *(undefined2 *)(param_1 + 3) = auStack_2d._1_2_;
          }
          local_2a._0_2_ = (undefined2)(uVar12 >> 0x10);
          piVar9 = (int *)(int)(short)local_2a._0_2_;
          if ((int)*(short *)((int)param_1 + 0xe) < (int)piVar9) {
            *(undefined2 *)((int)param_1 + 0xe) = local_2a._0_2_;
          }
          iVar13 = iVar13 + 0x24;
          piVar11 = piVar9;
        }
        *(undefined *)((int)param_1 + 0x13) = 1;
        return 1;
      }
    }
  }
  return 0;
}



void FUN_8007bda8(int param_1,undefined2 param_2,undefined4 param_3,undefined4 param_4,
                 undefined param_5,undefined param_6)

{
  undefined4 uVar1;
  
  if (*(char *)(param_1 + 0x13) != '\0') {
    uVar1 = FUN_800143ec(PTR_DAT_800a59b0,0x18,1,0);
    FUN_8007be7c(param_1,uVar1,param_2,param_3,param_4,param_5,param_6);
    FUN_8007bf3c(param_1,uVar1,0xffff);
    potentially_load_asset_(PTR_DAT_800a59b0,uVar1,0,0);
  }
  return;
}



void FUN_8007be7c(int *param_1,uint *param_2,uint param_3,uint param_4,uint param_5,byte param_6,
                 char param_7)

{
  ushort uVar1;
  ushort uVar2;
  ushort uVar3;
  int iVar4;
  uint uVar5;
  ushort *puVar6;
  
  if (*(char *)((int)param_1 + 0x13) != '\0') {
    iVar4 = (param_3 & 0xffff) * 0x24 + *param_1;
    uVar1 = *(ushort *)(iVar4 + 10);
    uVar2 = *(ushort *)(iVar4 + 0xc);
    puVar6 = (ushort *)(param_1[2] + *(int *)(iVar4 + 0x20));
    param_2[3] = (uint)puVar6;
    uVar3 = *puVar6;
    param_2[1] = param_5 & 0xffff;
    uVar5 = param_2[3];
    param_2[2] = param_4;
    *(ushort *)(param_2 + 5) = (ushort)param_6;
    *param_2 = (uint)uVar3;
    param_2[3] = uVar5 + 2;
    param_2[4] = uVar5 + 2 + *param_2 * 2;
    if (param_7 != '\0') {
      param_2[1] = -param_2[1];
      param_2[2] = param_2[2] + param_5 * (uVar2 - 1);
    }
    if (param_6 != 0) {
      param_2[2] = param_2[2] + (uVar1 - 1);
    }
  }
  return;
}



undefined FUN_8007bf3c(int param_1,undefined4 param_2,undefined2 param_3)

{
  undefined uVar1;
  
  if (*(char *)(param_1 + 0x13) == '\0') {
    uVar1 = 1;
  }
  else {
    uVar1 = FUN_80010068(0,param_2,param_3);
  }
  return uVar1;
}



void FUN_8007bf78(void)

{
  SpuCommonAttr local_38;
  
  init_sound();
  local_38.mask = 0x2c3;
  local_38.mvol.left = 0x3fff;
  local_38.mvol.right = 0x3fff;
  local_38.cd.volume.left = 0x7fff;
  local_38.cd.volume.right = 0x7fff;
  local_38.cd.mix = 1;
  SpuSetCommonAttr(&local_38);
  DAT_8009d258 = 0xff93;
  DAT_8009d268 = 0x800;
  DAT_8009d280 = 3;
  DAT_8009d25c = 0x3fff;
  DAT_8009d25e = 0x3fff;
  DAT_8009d278 = 1;
  DAT_8009d27c = 1;
  DAT_8009d284 = 0;
  DAT_8009d286 = 0;
  DAT_8009d288 = 0;
  DAT_8009d28a = 0;
  DAT_8009d28c = 0xf;
  DAT_800a60e4 = 0;
  return;
}



void FUN_8007c048(undefined4 *param_1,undefined2 *param_2,int param_3)

{
  short sVar1;
  int iVar2;
  uint uVar3;
  int iVar4;
  int iVar5;
  undefined *puVar6;
  int iVar7;
  undefined4 *addr;
  ulong size;
  ulong addr_00;
  
  iVar4 = DAT_800a60d4;
  if (DAT_800a60dd == 0) {
    addr_00 = 0x1010;
  }
  else {
    iVar2 = (DAT_800a60dd - 1) * 0xc;
    addr_00 = *(int *)(&DAT_8009d004 + iVar2) + *(int *)(&DAT_8009d008 + iVar2);
  }
  addr = param_1 + 1;
  if (param_1 == (undefined4 *)0x0) {
    uVar3 = (uint)DAT_800a60dd;
    DAT_800a60dd = DAT_800a60dd + 1;
    iVar4 = uVar3 * 0xc;
    *(ulong *)(&DAT_8009d004 + iVar4) = addr_00;
    *(undefined4 *)(&DAT_8009d008 + iVar4) = 0;
    *(undefined2 *)(&DAT_8009d00c + iVar4) = 0;
  }
  else {
    DAT_800a60dd = DAT_800a60dd + 1;
    sVar1 = (short)*param_1;
    iVar2 = sVar1 * 0xc + 4;
    if (0x46 < (uint)(DAT_800a60d4 + sVar1)) {
      sVar1 = (short)DAT_800a60d4 + -0x46;
    }
    iVar7 = 0;
    if (0 < sVar1) {
      do {
        iVar5 = (iVar4 + iVar7) * 0xc;
        (&DAT_8009ccbc)[(iVar4 + iVar7) * 3] = *addr;
        *(ulong *)(&DAT_8009ccc0 + iVar5) = (addr[2] + addr_00) - iVar2;
        if (param_2 == (undefined2 *)0x0) {
          *(undefined2 *)(&DAT_8009ccc4 + iVar5) = 0x3fff;
          *(undefined2 *)(&DAT_8009ccc6 + iVar5) = 0;
        }
        else {
          *(undefined2 *)(&DAT_8009ccc4 + iVar5) = *param_2;
          *(undefined2 *)(&DAT_8009ccc6 + iVar5) = param_2[1];
          param_2 = param_2 + 2;
        }
        iVar7 = iVar7 + 1;
        addr = addr + 3;
      } while (iVar7 < sVar1);
    }
    SpuSetTransferMode(0);
    SpuSetTransferStartAddr(addr_00);
    size = param_3 - iVar2;
    SpuRead((uchar *)addr,size);
    SpuIsTransferCompleted(1);
    iVar2 = 0x17;
    puVar6 = &DAT_8009cc8b;
    DAT_800a60d4 = DAT_800a60d4 + sVar1;
    iVar4 = (DAT_800a60dd - 1) * 0xc;
    *(ulong *)(&DAT_8009d004 + iVar4) = addr_00;
    *(ulong *)(&DAT_8009d008 + iVar4) = size;
    *(short *)(&DAT_8009d00c + iVar4) = sVar1;
    do {
      *puVar6 = 0;
      iVar2 = iVar2 + -1;
      puVar6 = puVar6 + -1;
    } while (-1 < iVar2);
    DAT_800a60de = 0;
  }
  return;
}



void FUN_8007c2a0(void)

{
  if (DAT_800a60dd != 0) {
    DAT_800a60d4 = DAT_800a60d4 -
                   (uint)*(ushort *)(&DAT_8009d00c + (uint)(byte)(DAT_800a60dd - 1) * 0xc);
    DAT_800a60dd = DAT_800a60dd - 1;
  }
  return;
}



void FUN_8007c32c(byte param_1)

{
  if (param_1 < 7) {
    DAT_800a60de = param_1;
  }
  return;
}



uint FUN_8007c348(uint param_1,short param_2,char param_3)

{
  bool bVar1;
  uint uVar2;
  long lVar3;
  ushort uVar4;
  int iVar5;
  uint uVar6;
  
  if (DAT_800a60d4 != 0) {
    if ((DAT_800a60e3 != '\0') && (param_3 == '\0')) {
      return 0xffffffff;
    }
    if (DAT_800a60de != 0) {
      if (param_1 == 0x44d4c8d8) {
        iVar5 = 2;
      }
      else if (param_1 < 0x44d4c8d9) {
        if (param_1 == 0x248e52) {
          iVar5 = 3;
        }
        else {
          iVar5 = 0xff;
          if (param_1 == 0x246166fa) {
            iVar5 = 1;
          }
        }
      }
      else if (param_1 == 0x5860c640) {
        iVar5 = 4;
      }
      else {
        iVar5 = 0xff;
        if (param_1 == 0x70d006d8) {
          iVar5 = 0;
        }
      }
      if (iVar5 != 0xff) {
        param_1 = *(uint *)(s__8009d158 + ((uint)DAT_800a60de * 5 + iVar5) * 4);
      }
    }
    bVar1 = false;
    uVar6 = 0;
    if (DAT_800a60d4 != 0) {
      iVar5 = 0;
      do {
        if (param_1 == *(uint *)((int)&DAT_8009ccbc + iVar5)) {
          bVar1 = true;
          break;
        }
        uVar6 = uVar6 + 1;
        iVar5 = iVar5 + 0xc;
      } while (uVar6 < DAT_800a60d4);
    }
    if (bVar1) {
      if ((*(ushort *)(&DAT_8009ccc6 + uVar6 * 0xc) & 0xf00) != 0) {
        uVar2 = rand();
        uVar2 = uVar2 & 3;
        uVar4 = *(ushort *)(&DAT_8009ccc6 + uVar6 * 0xc) & 0xf00;
        if (uVar4 == 0x200) {
          if (1 < uVar2) {
            return 0xffffffff;
          }
        }
        else if (uVar4 < 0x201) {
          if ((uVar4 == 0x100) && (uVar2 != 0)) {
            return 0xffffffff;
          }
        }
        else if ((uVar4 == 0x400) && (uVar2 == 0)) {
          return 0xffffffff;
        }
      }
      uVar2 = (uint)DAT_800a60e4;
      for (iVar5 = 0; bVar1 = false, iVar5 < 0x18; iVar5 = iVar5 + 1) {
        lVar3 = SpuGetKeyStatus(1 << (uVar2 & 0x1f));
        if ((lVar3 == 0) || (lVar3 == 3)) {
          bVar1 = true;
          break;
        }
        uVar2 = uVar2 + 1;
        if (0x17 < (uVar2 & 0xffff)) {
          uVar2 = 0;
        }
      }
      if (bVar1) {
        DAT_800a60e4 = (byte)(uVar2 + 1);
        if (0x17 < (uVar2 + 1 & 0xff)) {
          DAT_800a60e4 = 0;
        }
        DAT_8009d254 = 1 << (uVar2 & 0x1f);
        (&DAT_8009cc74)[uVar2 & 0xffff] = (char)uVar6;
        iVar5 = uVar6 * 0xc;
        DAT_8009d270 = *(undefined4 *)(&DAT_8009ccc0 + iVar5);
        FUN_8007c7d8(&DAT_8009d25c,(int)*(short *)(&DAT_8009ccc4 + iVar5),(int)param_2);
        DAT_8009d268 = 0x400;
        if ((*(ushort *)(&DAT_8009ccc6 + iVar5) & 1) != 0) {
          DAT_8009d268 = 0x800;
        }
        uVar4 = *(ushort *)(&DAT_8009ccc6 + iVar5);
        if ((uVar4 & 0xf0) != 0) {
          if ((uVar4 & 0x10) == 0) {
            if ((uVar4 & 0x20) == 0) {
              if ((uVar4 & 0x40) != 0) {
                iVar5 = rand();
                DAT_8009d268 = ((ushort)iVar5 & 0x5ff) + 0x200;
              }
            }
            else {
              iVar5 = rand();
              DAT_8009d268 = ((ushort)iVar5 & 0x2ff) + 0x300;
            }
          }
          else {
            iVar5 = rand();
            DAT_8009d268 = ((ushort)iVar5 & 0x17f) + 0x380;
          }
        }
        SpuSetVoiceAttr((SpuVoiceAttr *)&DAT_8009d254);
        SpuSetKey(1,1 << (uVar2 & 0x1f));
        return uVar2 & 0xffff;
      }
    }
  }
  return 0xffffffff;
}



void FUN_8007c778(uint param_1)

{
  if (param_1 != 0xffffffff) {
    SpuSetKey(0,1 << (param_1 & 0x1f));
  }
  return;
}



void FUN_8007c7ac(void)

{
  SpuSetKey(0,0xffffff);
  DAT_800a60e4 = 0;
  return;
}



void FUN_8007c7d8(ushort *param_1,ushort param_2,short param_3)

{
  short sVar1;
  int iVar2;
  ushort uVar3;
  int iVar4;
  
  *param_1 = 0;
  param_1[1] = 0;
  if (0x27e < (ushort)(param_3 + 0x9fU)) {
    return;
  }
  if (DAT_800a60da != '\x01') {
    if (param_3 < 0x140) {
      if (param_3 < 0) {
        iVar2 = (uint)param_2 << 0x10;
        iVar4 = (int)((ulonglong)((longlong)(iVar2 >> 0x10) * 0x66666667) >> 0x20);
        sVar1 = param_3 + 0xa0;
      }
      else {
        if (param_3 < 0xa1) {
          *param_1 = param_2;
          goto LAB_8007c90c;
        }
        iVar2 = (uint)param_2 << 0x10;
        iVar4 = (int)((ulonglong)((longlong)(iVar2 >> 0x10) * 0x66666667) >> 0x20);
        sVar1 = 0x140 - param_3;
      }
      *param_1 = sVar1 * (short)((uint)(((iVar4 >> 6) - (iVar2 >> 0x1f)) * 0x10000) >> 0x10);
    }
LAB_8007c90c:
    if (0 < param_3) {
      if (param_3 < 0xa0) {
        uVar3 = param_3 * ((short)param_2 / 0xa0);
      }
      else {
        if (param_3 < 0x141) {
          param_1[1] = param_2;
          goto LAB_8007c998;
        }
        uVar3 = (0x1e0 - param_3) * (short)((uint)(((int)(short)param_2 / 0xa0) * 0x10000) >> 0x10);
      }
      param_1[1] = uVar3;
    }
    goto LAB_8007c998;
  }
  if (param_3 < 0) {
    iVar2 = (int)((ulonglong)((longlong)(int)(short)param_2 * 0x66666667) >> 0x20);
    param_3 = param_3 + 0xa0;
LAB_8007c854:
    *param_1 = param_3 * (short)((uint)(((iVar2 >> 6) - ((int)((uint)param_2 << 0x10) >> 0x1f)) *
                                       0x10000) >> 0x10);
  }
  else {
    if (0x140 < param_3) {
      iVar2 = (int)((ulonglong)((longlong)(int)(short)param_2 * 0x66666667) >> 0x20);
      param_3 = 0x1e0 - param_3;
      goto LAB_8007c854;
    }
    *param_1 = param_2;
  }
  param_1[1] = *param_1;
LAB_8007c998:
  iVar2 = (int)(short)*param_1 * (uint)DAT_800a60db;
  if (iVar2 < 0) {
    iVar2 = iVar2 + 3;
  }
  iVar4 = (int)(short)param_1[1] * (uint)DAT_800a60db;
  *param_1 = (ushort)(iVar2 >> 2);
  if (iVar4 < 0) {
    iVar4 = iVar4 + 3;
  }
  param_1[1] = (ushort)(iVar4 >> 2);
  return;
}



void FUN_8007c9e8(uint param_1,short param_2)

{
  short local_10;
  short local_e;
  
  if (param_1 < 0x18) {
    FUN_8007c7d8(&local_10,
                 (int)*(short *)(&DAT_8009ccc4 + (uint)(byte)(&DAT_8009cc74)[param_1] * 0xc),
                 (int)param_2);
    SpuSetVoiceVolume(param_1,local_10,local_e);
  }
  return;
}



void FUN_8007ca5c(uint param_1,char param_2)

{
  int iVar1;
  
  if (((param_1 & 0xff) < 0x1a) && ((byte)(param_2 - 1U) < 6)) {
    iVar1 = ((uint)(byte)(param_2 - 1U) + (param_1 & 0xff) * 6) * 2;
    if ((byte)(&DAT_8009d034)[iVar1] < 5) {
      FUN_80038ca8((&DAT_8009d034)[iVar1],(&DAT_8009d035)[iVar1]);
      CD_PLAYING = true;
    }
  }
  return;
}



void stop_cd_wrapper(void)

{
  stop_cd();
  CD_PLAYING = false;
  return;
}



void FUN_8007cb04(void)

{
  int vNum;
  int iVar1;
  ushort *puVar2;
  ushort local_18 [4];
  
  if (DAT_800a60e3 == '\0') {
    puVar2 = &DAT_8009cc8c;
    vNum = 0;
    do {
      SpuGetVoicePitch(vNum,local_18);
      iVar1 = vNum + 1;
      *puVar2 = local_18[0];
      SpuSetVoicePitch(vNum,0);
      puVar2 = puVar2 + 1;
      vNum = iVar1;
    } while (iVar1 < 0x18);
    FUN_80038e4c();
    DAT_800a60e3 = '\x01';
  }
  return;
}



void FUN_8007cb80(void)

{
  ushort pitch;
  int vNum;
  int iVar1;
  ushort *puVar2;
  
  if (DAT_800a60e3 != '\0') {
    puVar2 = &DAT_8009cc8c;
    vNum = 0;
    do {
      pitch = *puVar2;
      puVar2 = puVar2 + 1;
      iVar1 = vNum + 1;
      SpuSetVoicePitch(vNum,pitch);
      vNum = iVar1;
    } while (iVar1 < 0x18);
    FUN_80038e9c();
    DAT_800a60e3 = '\0';
  }
  return;
}



// WARNING: Removing unreachable block (ram,0x8007cc54)

void FUN_8007cc28(byte param_1)

{
  int iVar1;
  
  if (param_1 < 5) {
    iVar1 = (int)((uint)param_1 * 0x1fffc000) >> 0x10;
    DAT_800a60dc = param_1;
    FUN_80090810(iVar1,iVar1);
  }
  return;
}



void FUN_8007cc78(void)

{
  uint uVar1;
  uint uVar2;
  
  if ((CD_PLAYING) &&
     (uVar2 = DAT_800a60d0 + 1, uVar1 = DAT_800a60d0 & 3, DAT_800a60d0 = uVar2, uVar1 == 0)) {
    handle_music();
  }
  return;
}



int FUN_8007ccbc(int param_1)

{
  FUN_80020868();
  *(undefined **)(param_1 + 0x18) = &DAT_80012100;
  return param_1;
}



// this function appears to draw the level / intro title screens to the screen

void load_level_(astruct_6 *param_1,undefined *param_2)

{
  char cVar1;
  undefined uVar2;
  undefined uVar3;
  byte bVar4;
  undefined2 uVar5;
  uint uVar6;
  int iVar7;
  undefined4 uVar8;
  astruct_5 *buffer;
  byte bVar9;
  
  set_up_buffer(BUF_PTR);
  load_level(param_1,0x63);
  cVar1 = FUN_8007aa0c(&BUF_PTR->blb_reading_struct);
  if (cVar1 == '\0') {
    *PTR_DAT_800a59d8 = 1;
    PTR_DAT_800a59d8[1] = 1;
  }
  else {
    *PTR_DAT_800a59d8 = cVar1;
    uVar2 = old_debug__return_input(&param_1->field68_0x84);
    PTR_DAT_800a59d8[1] = uVar2;
  }
  uVar6 = FUN_8007b43c(&param_1->field68_0x84);
  if (((uVar6 & 0x40) != 0) && (param_1->field32_0x4a == 0x100)) {
    param_1->field32_0x4a = 0xf0;
  }
  iVar7 = 0;
  do {
    *(undefined2 *)((int)&param_1[1].field31_0x48 + ((iVar7 << 0x10) >> 0xf)) = 0;
    iVar7 = iVar7 + 1;
  } while (iVar7 * 0x10000 >> 0x10 < 8);
  param_1[1].field_0x58 = 0;
  param_1[1].field_0x5b = 0;
  *(undefined *)&param_1[1].field41_0x5c = 0;
  param_1[1].field_0x5a = 0;
  param_1[1].field_0x59 = 0;
  *(undefined *)((int)&param_1[1].field20_0x2c + 1) = 0;
  param_1[1].field_0x64 = 0;
  param_1[1].field_0x65 = 0x40;
  param_1[1].field_0x66 = 0x40;
  param_1[1].field_0x67 = 0x40;
  param_1[1].field23_0x38 = 0;
  param_1[1].some_method = param_2;
  param_1[1].field_0x17 = 0;
  param_1[1].some_other_mask = 0;
  param_1[1].some_mask = 0;
  param_1[1].field_0x10 = 0;
  param_1[1].field_0x11 = 0;
  param_1[1].field_0x12 = 0;
  param_1[1].field_0x13 = 0;
  param_1[1].field_0x14 = 0;
  param_1[1].field_0x15 = 0;
  param_1[1].field_0x16 = 0;
  *(undefined *)&param_1[1].field16_0x1c = 0;
  *(undefined *)((int)&param_1[1].field16_0x1c + 1) = 0;
  *(undefined *)((int)&param_1[1].field16_0x1c + 2) = 0;
  *(undefined *)&param_1[1].field51_0x68 = 0;
  *(undefined *)((int)&param_1[1].field51_0x68 + 1) = 0;
  *(undefined *)&param_1[1].field20_0x2c = 0;
  param_1->some_mask = 0xffff0000;
  param_1->some_other_method = &LAB_8007e6b0;
  FUN_80081568(param_1);
  buffer = &param_1->field68_0x84;
  uVar8 = FUN_8007b8e4(buffer);
  param_1[1].field21_0x30 = uVar8;
  uVar5 = FUN_8007b8d0(buffer);
  *(undefined2 *)&param_1[1].field22_0x34 = uVar5;
  FUN_80081ee0(param_1);
  param_1->field64_0x7c = &DAT_8009d654;
  param_1->field65_0x80 = 0x79;
  uVar2 = FUN_8007aa0c(buffer);
  uVar3 = old_debug__return_input(buffer);
  FUN_8007ca5c(uVar2,uVar3);
  bVar9 = 0;
  *(undefined *)((int)&param_1[1].field30_0x46 + 1) = 0;
  while( true ) {
    bVar4 = ptr_end_of_blb_header((astruct_10 *)buffer);
    if (bVar4 <= bVar9) break;
    if (((*(byte *)((int)&param_1[1].field30_0x46 + 1) < 10) &&
        (cVar1 = FUN_8007a9e8(buffer,bVar9), cVar1 != '\0')) &&
       (cVar1 = FUN_8007a984(buffer,bVar9), cVar1 != '\0')) {
      *(char *)((int)&param_1[1].buffer_to_load_blb +
               *(byte *)((int)&param_1[1].field30_0x46 + 1) + 1) = cVar1;
      *(char *)((int)&param_1[1].field30_0x46 + 1) =
           *(char *)((int)&param_1[1].field30_0x46 + 1) + '\x01';
    }
    bVar9 = bVar9 + 1;
  }
  uVar2 = FUN_8007b450(&param_1->field68_0x84);
  PTR_DAT_800a59d8[4] = uVar2;
  FUN_8007df94(param_1);
  return;
}



void FUN_8007cfac(int param_1)

{
  undefined *puVar1;
  int id;
  uint uVar2;
  
  FUN_8007c7ac();
  setup_ordering_tables(PTR_DAT_800a59b0);
  DrawSync(0);
  puVar1 = PTR_DAT_800a59b0;
  PTR_DAT_800a59b0[0x1d] = 0;
  puVar1[0x1e] = 0;
  puVar1[0x1f] = 0;
  puVar1[0x505d] = 0;
  puVar1[0x505e] = 0;
  puVar1[0x505f] = 0;
  draw_print_stream(PTR_DAT_800a59b0);
  vsync_if_required(PTR_DAT_800a59b0);
  *(undefined *)(param_1 + 0x130) = 1;
  FntLoad(0x3c0,0x100);
  id = FntOpen(0x10,0x20,0x120,200,0,0x200);
  SetDumpFnt(id);
  if (*(char *)(param_1 + 0x14a) != '\0') {
    FUN_8007eb48(param_1);
    *(undefined *)(param_1 + 0x149) = 0;
  }
  if (*(int *)(param_1 + 0x13c) != 0) {
    *(int *)(param_1 + 0x28) = *(int *)(param_1 + 0x13c);
    *(undefined4 *)(param_1 + 0x13c) = 0;
  }
  PTR_DAT_800a59d8[0x18] = *(undefined *)(param_1 + 0x14b);
  *(undefined *)(param_1 + 0x146) = 0;
  *(undefined *)(param_1 + 0x147) = 0;
  *(undefined *)(param_1 + 0x144) = 0;
  *(undefined *)(param_1 + 0x145) = 0;
  *(undefined *)(param_1 + 0x148) = 0;
  *(undefined2 *)(param_1 + 0x120) = 0;
  *(undefined2 *)(param_1 + 0x122) = 0;
  *(undefined *)(param_1 + 0x60) = 0;
  *(undefined4 *)(param_1 + 0x10c) = 0;
  FUN_800223b8(param_1);
  FUN_80019470(PTR_DAT_800a59b8);
  FUN_80024464(param_1);
  FUN_80081ee0(param_1);
  FUN_800262a8(PTR_DAT_800a59d8);
  FUN_80024674(param_1);
  FUN_800250c4(param_1);
  FUN_80024f30(param_1);
  FUN_80024774(param_1);
  uVar2 = FUN_8007b43c(param_1 + 0x84);
  if (((uVar2 & 0x40) != 0) && (*(short *)(param_1 + 0x4a) == 0x100)) {
    *(undefined2 *)(param_1 + 0x4a) = 0xf0;
  }
  FUN_8007df94(param_1);
  draw_print_stream(PTR_DAT_800a59b0);
  return;
}



// maybe load level?
// 
// after selecting start game, mode is 0x63 (char == '?')

bool load_level(astruct_6 *level_struct,byte state_)

{
  undefined *puVar1;
  char mode;
  byte bVar2;
  undefined uVar3;
  undefined uVar4;
  char cVar5;
  bool bVar6;
  undefined2 blb_sector_count;
  short sVar7;
  undefined3 extraout_var;
  undefined3 extraout_var_00;
  char *some_asset_ptr;
  int compare_result;
  undefined3 extraout_var_01;
  uint sector_count;
  undefined4 uVar8;
  undefined4 uVar9;
  undefined4 uVar10;
  uint uVar11;
  int iVar12;
  int iVar13;
  astruct_5 *pointer;
  int iVar14;
  bool bVar15;
  
  puVar1 = PTR_DAT_800a59b0;
  PTR_DAT_800a59b0[0x1d] = 0;
  puVar1[0x1e] = 0;
  puVar1[0x1f] = 0;
  puVar1[0x505d] = 0;
  puVar1[0x505e] = 0;
  puVar1[0x505f] = 0;
  draw_print_stream(PTR_DAT_800a59b0);
  bVar15 = false;
  vsync_if_required(PTR_DAT_800a59b0);
  FUN_80020a18(level_struct);
  FUN_80020a70(level_struct);
  FUN_80022334(level_struct);
  FUN_8007c2a0();
                    // this is 'c' on start-up
  if (state_ == 0x63) {
    state_ = 1;
                    // change some global variables
    FUN_8007c2a0();
    pointer = &level_struct->field68_0x84;
    do {
      mode = FUN_8007a254((astruct_9 *)&level_struct->field68_0x84);
      switch(mode) {
      case '\0':
        FUN_8007a36c(&level_struct->field68_0x84,0,1,0);
        break;
      case '\x01':
                    // load intro movies
        some_asset_ptr = (char *)find_blb_asset_addr(pointer);
                    // if find_blb_asset_header point to END2...
        compare_result = strcmp(some_asset_ptr,&END2_BLB);
        if ((compare_result != 0) || (0x2f < (byte)PTR_DAT_800a59d8[0x1b])) {
          some_asset_ptr = (char *)load_another_blb_asset_ptr(pointer);
          compare_result = load_Another_asset_ptr(pointer);
          sVar7 = FUN_8007ae18(pointer);
          bVar6 = load_str(some_asset_ptr,compare_result,sVar7,level_struct->buffer_to_load_blb);
          if (!bVar6) {
            some_asset_ptr = (char *)FUN_8007ae5c((astruct_13 *)pointer);
            compare_result = strcmp(some_asset_ptr,&INT1_BLB);
            if (compare_result == 0) {
              FUN_8007a254((astruct_9 *)pointer);
              FUN_8007a254((astruct_9 *)pointer);
              goto LAB_8007d540;
            }
          }
        }
        break;
      case '\x02':
        bVar2 = get_blb_offset(pointer);
        sector_count = get_blb_sector_count(pointer);
        sector_count = load_screen(CONCAT31(extraout_var_01,bVar2) & 0xffff,sector_count & 0xffff,
                                   level_struct->buffer_to_load_blb);
        if ((sector_count & 0xff) == 0) {
          some_asset_ptr = (char *)FUN_8007ae5c((astruct_13 *)pointer);
          compare_result = strcmp(some_asset_ptr,&CRD1_BLB);
          if (compare_result == 0) {
LAB_8007d540:
                    // is 0x05 before initial load screen (Skullmonkeys logo) is loaded
            FUN_8007a254((astruct_9 *)pointer);
          }
        }
        break;
      case '\x04':
      case '\x05':
        some_asset_ptr = (char *)FUN_8007ae5c((astruct_13 *)pointer);
        compare_result = strcmp(some_asset_ptr,&PIRA2_BLB);
        if (compare_result != 0) {
          draw_print_stream(PTR_DAT_800a59b0);
          vsync_if_required(PTR_DAT_800a59b0);
          bVar2 = get_blb_offset(pointer);
          blb_sector_count = get_blb_sector_count(pointer);
          uVar3 = FUN_8007ab04(pointer);
          uVar4 = FUN_8007ab48(pointer);
          cVar5 = draw_load_screen(CONCAT31(extraout_var,bVar2) & 0xffff,blb_sector_count,
                                   level_struct->buffer_to_load_blb,uVar3,uVar4);
          bVar15 = cVar5 == '\0';
          if (bVar15) {
            FUN_8007a36c(pointer,0,1,0);
            mode = FUN_8007a254((astruct_9 *)pointer);
            draw_print_stream(PTR_DAT_800a59b0);
            vsync_if_required(PTR_DAT_800a59b0);
            bVar2 = get_blb_offset(pointer);
            blb_sector_count = get_blb_sector_count(pointer);
            uVar3 = FUN_8007ab04(pointer);
            uVar4 = FUN_8007ab48(pointer);
            draw_load_screen(CONCAT31(extraout_var_00,bVar2) & 0xffff,blb_sector_count,
                             level_struct->buffer_to_load_blb,uVar3,uVar4);
            FUN_8007a36c(pointer,*PTR_DAT_800a59d8,0,0);
            state_ = PTR_DAT_800a59d8[1];
            FUN_800261d0();
          }
        }
      }
    } while ((mode != '\x03') && (mode != '\x06'));
    pointer = &level_struct->field68_0x84;
    parse_blb_header(pointer,(int)level_struct->buffer_to_load_blb);
    uVar8 = FUN_8007ba38(pointer);
    uVar9 = FUN_8007ba60(pointer);
    uVar10 = FUN_8007ba10(pointer);
    FUN_8007c048(uVar8,uVar9,uVar10);
  }
  mode = FUN_8007aa0c(&level_struct->field68_0x84);
  if ((mode == '\0') && (state_ == 1)) {
    state_ = 5;
    if (DAT_800a6108 == 4) {
      DAT_800a6108 = 0;
    }
    else {
      if ((DAT_800a6108 == 0) || (state_ = 6, DAT_800a6108 == 2)) {
        state_ = 1;
      }
      DAT_800a6108 = DAT_800a6108 + 1;
    }
  }
  pointer = &level_struct->field68_0x84;
  more_parsing_of_blb((astruct_14 *)pointer,(uint)state_,'\x01');
  uVar8 = FUN_8007ba38(pointer);
  uVar9 = FUN_8007ba60(pointer);
  uVar10 = FUN_8007ba10(pointer);
  FUN_8007c048(uVar8,uVar9,uVar10);
  uVar11 = FUN_8007a58c(pointer);
  compare_result = FUN_8007afb8(pointer);
  sector_count = compare_result + 0xfU & 0xfffffff0;
  if (sector_count == 0) {
    sector_count = uVar11;
  }
  iVar14 = uVar11 - sector_count;
  compare_result = (int)level_struct->buffer_to_load_blb + sector_count;
  FUN_800143a0(PTR_DAT_800a59b0,compare_result,-0x7fe04000 - compare_result);
  compare_result = 0;
  FUN_80014850(PTR_DAT_800a59b0);
  if (iVar14 != 0) {
    compare_result = FUN_800143ec(PTR_DAT_800a59b0,1,iVar14,1);
  }
  FUN_80014964(PTR_DAT_800a59b0,0xeeeeeeee);
  iVar12 = FUN_8007b3bc(pointer,0);
  iVar13 = FUN_8007b3bc(pointer,1);
  if ((iVar12 == 0) && (iVar13 == 0)) {
    iVar13 = 2;
  }
  FUN_80013b18((graphics *)PTR_DAT_800a59b0,(ushort)iVar12 & 0xff,(byte)iVar13);
  level_struct->field69_0x104 = 0;
  level_struct->field72_0x108 = 0;
  level_struct->some_mask = 0xffff0000;
  level_struct->some_other_method = &LAB_8007e6b0;
  level_struct->some_other_mask = 0xffff0000;
  level_struct->some_method = &LAB_80020f44;
  level_struct->field16_0x1c = (undefined4 *)0x0;
  level_struct->field17_0x20 = 0;
  level_struct->field18_0x24 = 0;
  level_struct->field19_0x28 = (undefined4 *)0x0;
  level_struct->field20_0x2c = 0;
  level_struct->field21_0x30 = 0;
  level_struct->field33_0x4c = 0;
  level_struct->field34_0x50 = 0;
  level_struct->field_0x58 = 0;
  level_struct->field_0x59 = 0;
  level_struct->field_0x5a = 0;
  level_struct->field_0x5b = 0;
  level_struct->field_0x60 = 0;
  level_struct->field41_0x5c = 0;
  level_struct->field42_0x5e = 0;
  level_struct->field_0x61 = 0;
  level_struct->field_0x62 = 0;
  level_struct->field_0x11a = 0;
  level_struct->field35_0x54 = 0;
  level_struct->field36_0x56 = 0;
                    // 0x34 and 0x38 get read by the method in the struct
  level_struct->field22_0x34 = 0;
  level_struct->field23_0x38 = 0;
  level_struct->field60_0x74 = 0;
  level_struct->field61_0x78 = 0;
  level_struct->field64_0x7c = 0;
  level_struct->field65_0x80 = 0;
  level_struct->field29_0x44 = 0;
  level_struct->field30_0x46 = 0;
  level_struct->field73_0x10c = 0;
  level_struct->field74_0x110 = 0;
  level_struct->field75_0x114 = 0;
  level_struct->field_0x63 = 0;
  level_struct->field85_0x120 = 0;
  level_struct->field86_0x122 = 0;
  level_struct->field_0x12a = 0x28;
  load_all_assets_for_level((astruct_15 *)level_struct);
  more_parsing_of_blb((astruct_14 *)&level_struct->field68_0x84,(uint)state_,'\0');
  if (compare_result != 0) {
    potentially_load_asset_(PTR_DAT_800a59b0,compare_result,iVar14,1);
  }
  FUN_80014964(PTR_DAT_800a59b0,0xeeeeeeee);
  *(undefined2 *)(PTR_DAT_800a59b0 + 0xa64e) = *(undefined2 *)(PTR_DAT_800a59b0 + 0xa64c);
  FUN_8002471c(level_struct);
  FUN_80024674(level_struct);
  FUN_800246cc(level_struct);
  FUN_800250c4(level_struct);
  FUN_80024cf0(level_struct);
  FUN_80024dc0(level_struct);
  FUN_80024f30(level_struct);
  FUN_80024774(level_struct);
  return bVar15;
}



undefined FUN_8007d8d4(astruct_6 *param_1,byte state)

{
  bool bVar1;
  undefined *puVar2;
  char cVar3;
  undefined uVar4;
  undefined uVar5;
  undefined uVar6;
  undefined2 uVar7;
  u_short uVar8;
  int iVar9;
  uint uVar10;
  undefined4 uVar11;
  byte state_;
  int iVar12;
  astruct_5 *paVar13;
  
  FUN_8007c7ac();
  stop_cd_wrapper();
  setup_ordering_tables(PTR_DAT_800a59b0);
  DrawSync(0);
  state_ = state;
  if (state == 0x62) {
    FUN_8007a254((astruct_9 *)&param_1->field68_0x84);
    FUN_8007a254((astruct_9 *)&param_1->field68_0x84);
    state_ = 99;
  }
  if ((state < 0x62) ||
     ((state_ == 99 && (cVar3 = FUN_8007a554(&param_1->field68_0x84), cVar3 == '\x06')))) {
    FUN_8007dd68(param_1);
  }
  FntLoad(0x3c0,0x100);
  iVar9 = FntOpen(0x10,0x20,0x120,200,0,0x200);
  SetDumpFnt(iVar9);
  if (param_1[1].field_0x16 != '\0') {
    FUN_8007eb48(param_1);
    param_1[1].field_0x15 = 0;
  }
  if ((undefined4 *)param_1[1].some_other_mask != (undefined4 *)0x0) {
    param_1->field19_0x28 = (undefined4 *)param_1[1].some_other_mask;
    param_1[1].some_other_mask = 0;
  }
  if (param_1[1].field23_0x38 != 0) {
    potentially_load_asset_(PTR_DAT_800a59b0,param_1[1].field23_0x38,0,0);
    param_1[1].field23_0x38 = 0;
  }
  *(undefined *)((int)&param_1[1].field20_0x2c + 1) = 0;
  param_1[1].field_0x64 = 0;
  param_1[1].field_0x65 = 0x40;
  param_1[1].field_0x66 = 0x40;
  param_1[1].field_0x67 = 0x40;
  param_1[1].field_0x17 = 0;
  param_1[1].field_0x12 = 0;
  param_1[1].field_0x13 = 0;
  param_1[1].field_0x14 = 0;
  param_1[1].field_0x10 = 0;
  param_1[1].field_0x11 = 0;
  param_1[1].field_0x16 = 0;
  param_1->field73_0x10c = 0;
  FUN_800223b8(param_1);
  FUN_80019470(PTR_DAT_800a59b8);
  puVar2 = PTR_DAT_800a59d8;
  *(undefined2 *)(PTR_DAT_800a59b0 + 0xa08a) = 0;
  FUN_80026160(puVar2);
  if (0x61 < state_) {
    FUN_80026158(PTR_DAT_800a59d8);
  }
  uVar4 = load_level(param_1,state_);
  cVar3 = FUN_8007aa0c(BUF_PTR + 0x84);
  if (cVar3 != '\0') {
    *PTR_DAT_800a59d8 = cVar3;
    uVar5 = old_debug__return_input(&param_1->field68_0x84);
    PTR_DAT_800a59d8[1] = uVar5;
  }
  uVar10 = FUN_8007b43c(&param_1->field68_0x84);
  if (((uVar10 & 0x40) != 0) && (param_1->field32_0x4a == 0x100)) {
    param_1->field32_0x4a = 0xf0;
  }
  paVar13 = &param_1->field68_0x84;
  uVar11 = FUN_8007b8e4(paVar13);
  param_1[1].field21_0x30 = uVar11;
  uVar7 = FUN_8007b8d0(paVar13);
  *(undefined2 *)&param_1[1].field22_0x34 = uVar7;
  FUN_80081ee0(param_1);
  param_1->some_mask = 0xffff0000;
  param_1->some_other_method = &LAB_8007e6b0;
  FUN_80081568(param_1);
  param_1->field64_0x7c = &DAT_8009d654;
  param_1->field65_0x80 = 0x79;
  uVar5 = FUN_8007aa0c(paVar13);
  uVar6 = old_debug__return_input(paVar13);
  FUN_8007ca5c(uVar5,uVar6);
  if (*(char *)((int)&param_1[1].field16_0x1c + 2) != '\0') {
    DAT_800a59c8 = 0x40;
    DAT_800a59ca = 0x20;
    DAT_800a59cc = 0x80;
    srand(1);
    uVar11 = FUN_8007ba88(paVar13);
    FUN_80025b78(param_1[1].some_method,uVar11);
    FUN_80025bbc(param_1[1].some_method,1);
    uVar11 = FUN_800143ec(PTR_DAT_800a59b0,0x100,1,0);
    iVar9 = FUN_8001c71c(uVar11,0x28c080df,30000,0xa0,0x20,0);
    *(undefined4 *)(iVar9 + 0x24) = 0xffff0000;
    *(undefined **)(iVar9 + 0x28) = &LAB_8001a2c8;
    *(undefined4 *)(iVar9 + 0x2c) = 0xffff0000;
    *(undefined **)(iVar9 + 0x30) = &LAB_8001a2e4;
    iVar12 = *(int *)(iVar9 + 0x34);
    uVar8 = GetTPage((uint)*(byte *)(iVar12 + 0x32),1,(int)*(short *)(iVar12 + 0x10) & 0xffffffc0,
                     (int)*(short *)(iVar12 + 0x12) & 0xffffff00);
    *(u_short *)(iVar12 + 0x24) = uVar8;
    FUN_800213a4(param_1,iVar9);
  }
  cVar3 = FUN_8007b450(paVar13);
  bVar1 = false;
  PTR_DAT_800a59d8[4] = PTR_DAT_800a59d8[4] + cVar3;
  uVar10 = FUN_8007b43c(paVar13);
  if ((uVar10 & 0x200) == 0) {
    uVar10 = FUN_8007b43c(paVar13);
    bVar1 = (uVar10 & 0x2000) == 0;
  }
  if (bVar1) {
    uVar5 = FUN_8007aa0c(BUF_PTR + 0x84);
    FUN_80026b14(PTR_DAT_800a59d8,uVar5);
  }
  FUN_8007df94(param_1);
  draw_print_stream(PTR_DAT_800a59b0);
  return uVar4;
}



void FUN_8007dd68(void)

{
  undefined *puVar1;
  undefined4 uVar2;
  short *psVar3;
  int iVar4;
  int iVar5;
  short unaff_s2;
  code *pcVar6;
  
  uVar2 = FUN_800143ec(PTR_DAT_800a59b0,0x100,1,0);
  psVar3 = (short *)FUN_8001c71c(uVar2,0x8ab92024,30000,0xa0,0x7c,0);
  *(undefined4 *)(psVar3 + 0x12) = 0xffff0000;
  *(undefined **)(psVar3 + 0x14) = &LAB_8001a2c8;
  *(undefined4 *)(psVar3 + 0x16) = 0xffff0000;
  *(undefined **)(psVar3 + 0x18) = &LAB_8001a2e4;
  iVar5 = *(int *)(psVar3 + 0x1a);
  *(undefined *)(iVar5 + 0x34) = 0x40;
  *(undefined *)(iVar5 + 0x35) = 0x40;
  *(undefined *)(iVar5 + 0x36) = 0x40;
  iVar5 = (int)psVar3[1];
  if (iVar5 != 0) {
    if (iVar5 < 1) {
      pcVar6 = *(code **)(psVar3 + 2);
    }
    else {
      iVar4 = iVar5 * 8 + *(int *)((int)psVar3 + (int)psVar3[2]);
      unaff_s2 = (short)*(undefined4 *)(iVar4 + -8);
      pcVar6 = *(code **)(iVar4 + -4);
    }
    iVar4 = (int)*psVar3;
    if (0 < iVar5 << 0x10) {
      iVar4 = unaff_s2 + iVar4;
    }
    (*pcVar6)((int)psVar3 + iVar4);
  }
  (**(code **)(*(int *)(psVar3 + 0xc) + 0x14))
            ((int)psVar3 + (int)*(short *)(*(int *)(psVar3 + 0xc) + 0x10));
  (**(code **)(*(int *)(psVar3 + 0xc) + 0x1c))
            ((int)psVar3 + (int)*(short *)(*(int *)(psVar3 + 0xc) + 0x18));
  iVar5 = *(int *)(*(int *)(psVar3 + 0x1a) + 0xc);
  (**(code **)(iVar5 + 0xc))(*(int *)(psVar3 + 0x1a) + (int)*(short *)(iVar5 + 8));
  DrawSync(0);
  (**(code **)(*(int *)(psVar3 + 0xc) + 0x1c))
            ((int)psVar3 + (int)*(short *)(*(int *)(psVar3 + 0xc) + 0x18));
  DrawSync(0);
  puVar1 = PTR_DAT_800a59b0;
  PTR_DAT_800a59b0[0x1d] = 0;
  puVar1[0x1e] = 0;
  puVar1[0x1f] = 0;
  puVar1[0x505d] = 0;
  puVar1[0x505e] = 0;
  puVar1[0x505f] = 0;
  draw_print_stream(PTR_DAT_800a59b0);
  vsync_if_required(PTR_DAT_800a59b0);
  if (psVar3 != (short *)0x0) {
    (**(code **)(*(int *)(psVar3 + 0xc) + 0xc))
              ((int)psVar3 + (int)*(short *)(*(int *)(psVar3 + 0xc) + 8),3);
  }
  return;
}



void FUN_8007df94(int param_1)

{
  bool bVar1;
  undefined *puVar2;
  undefined uVar3;
  char cVar4;
  byte bVar5;
  ushort uVar6;
  uint uVar7;
  undefined4 uVar8;
  int iVar9;
  int iVar10;
  int iVar11;
  short unaff_s4;
  code *pcVar12;
  
  iVar11 = param_1 + 0x84;
  uVar7 = FUN_8007b43c(iVar11);
  *(byte *)(param_1 + 0x19c) = (byte)(uVar7 >> 1) & 1;
  uVar3 = FUN_8007b464(iVar11);
  *(undefined *)(param_1 + 0x19d) = uVar3;
  *(undefined *)(param_1 + 0x170) = 1;
  cVar4 = FUN_8007aa0c(iVar11);
  if (cVar4 == '\0') {
    *(undefined *)(param_1 + 0x170) = 0;
  }
  uVar7 = FUN_8007b43c(iVar11);
  uVar8 = 0x8000;
  if ((uVar7 & 0x80) == 0) {
    uVar7 = FUN_8007b43c(iVar11);
    uVar8 = 0xc000;
    if ((uVar7 & 8) == 0) {
      uVar8 = 0x10000;
    }
  }
  *(undefined4 *)(param_1 + 0x11c) = uVar8;
  bVar5 = FUN_800241f0(param_1,(int)*(short *)(param_1 + 0x116),
                       (int)((*(ushort *)(param_1 + 0x118) + 1) * 0x10000) >> 0x10);
  if (((bVar5 != 0x65) && (bVar5 != 0)) && (bVar5 < 0x3c)) {
    uVar6 = FUN_80081c68(param_1,bVar5,(int)*(short *)(param_1 + 0x116));
    *(ushort *)(param_1 + 0x118) =
         (*(short *)(param_1 + 0x118) + 1U & 0xfff0) - ((uVar6 & 0xff) - 0xf);
  }
  bVar1 = false;
  uVar7 = FUN_8007b43c(param_1 + 0x84);
  if (((uVar7 & 0x20) != 0) || (uVar7 = FUN_8007b43c(param_1 + 0x84), (uVar7 & 4) != 0)) {
    bVar1 = true;
  }
  if (bVar1) {
    if (*(int *)(param_1 + 0x16c) == 0) {
      uVar8 = FUN_800143ec(PTR_DAT_800a59b0,4,0x100,0);
      *(undefined4 *)(param_1 + 0x16c) = uVar8;
    }
    FUN_8008202c(param_1);
  }
  iVar11 = param_1 + 0x84;
  uVar7 = FUN_8007b43c(iVar11);
  puVar2 = PTR_DAT_800a59b0;
  if ((uVar7 & 0x400) == 0) {
    uVar7 = FUN_8007b43c(iVar11,0x114);
    puVar2 = PTR_DAT_800a59b0;
    if ((uVar7 & 0x200) == 0) {
      uVar7 = FUN_8007b43c(iVar11,0x140);
      puVar2 = PTR_DAT_800a59b0;
      if ((uVar7 & 0x2000) == 0) {
        uVar7 = FUN_8007b43c(iVar11,0x158);
        puVar2 = PTR_DAT_800a59b0;
        if ((uVar7 & 0x100) == 0) {
          uVar7 = FUN_8007b43c(iVar11,0x110);
          puVar2 = PTR_DAT_800a59b0;
          if ((uVar7 & 0x10) == 0) {
            uVar7 = FUN_8007b43c(iVar11,0x128);
            puVar2 = PTR_DAT_800a59b0;
            if ((uVar7 & 4) == 0) {
              *(undefined2 *)(param_1 + 100) = 0x28;
              *(undefined2 *)(param_1 + 0x66) = 0xffd0;
              uVar8 = FUN_800143ec(puVar2,0x1b4,1,0);
              uVar7 = FUN_8007b43c(iVar11);
              iVar9 = FUN_80059664(uVar8,pad_1,(int)*(short *)(param_1 + 0x116),
                                   (int)*(short *)(param_1 + 0x118),
                                   ((uVar7 & 0xffff) >> 0xc ^ 1) & 1);
              *(undefined4 *)(iVar9 + 0x100) = *(undefined4 *)(param_1 + 0x140);
              *(int *)(param_1 + 0x30) = iVar9;
              if ((*(char *)(param_1 + 0x161) == '\0') &&
                 (uVar7 = FUN_8007b43c(iVar11), (uVar7 & 0x1000) == 0)) {
                uVar8 = FUN_800143ec(PTR_DAT_800a59b0,0x10c,1,0);
                uVar8 = FUN_80044f3c(uVar8,(int)*(short *)(param_1 + 0x116),
                                     (int)*(short *)(param_1 + 0x118),0);
                FUN_800213a4(param_1,uVar8);
                uVar8 = 0x60;
              }
              else {
                uVar8 = 0;
              }
            }
            else {
              *(undefined2 *)(param_1 + 100) = 0;
              *(undefined2 *)(param_1 + 0x66) = 0;
              uVar8 = FUN_800143ec(puVar2,0x11c,1,0);
              iVar9 = FUN_8006ed78(uVar8,pad_1,(int)*(short *)(param_1 + 0x116),
                                   (int)*(short *)(param_1 + 0x118));
              uVar8 = 0;
              *(undefined4 *)(iVar9 + 0x100) = *(undefined4 *)(param_1 + 0x140);
              *(undefined2 *)(param_1 + 0x120) = 0;
              *(undefined2 *)(param_1 + 0x122) = 0;
              *(undefined *)(param_1 + 0x12a) = 0;
              *(int *)(param_1 + 0x30) = iVar9;
            }
          }
          else {
            *(undefined2 *)(param_1 + 100) = 0x28;
            *(undefined2 *)(param_1 + 0x66) = 0xffa0;
            uVar8 = FUN_800143ec(puVar2,0x128,1,0);
            iVar9 = FUN_80070d28(uVar8,pad_1,(int)*(short *)(param_1 + 0x116),
                                 (int)((*(ushort *)(param_1 + 0x118) - 0x80) * 0x10000) >> 0x10);
            puVar2 = PTR_DAT_800a59b0;
            *(undefined4 *)(iVar9 + 0x100) = *(undefined4 *)(param_1 + 0x140);
            *(int *)(param_1 + 0x30) = iVar9;
            uVar8 = FUN_800143ec(puVar2,0x10c,1,0);
            uVar8 = FUN_80044f3c(uVar8,(int)*(short *)(param_1 + 0x116),
                                 (int)((*(ushort *)(param_1 + 0x118) - 0x80) * 0x10000) >> 0x10,
                                 0xa000);
            FUN_800213a4(param_1,uVar8);
            uVar8 = 0x80;
          }
        }
        else {
          *(undefined2 *)(param_1 + 100) = 0x28;
          *(undefined2 *)(param_1 + 0x66) = 0xffd0;
          uVar8 = FUN_800143ec(puVar2,0x110,1,0);
          iVar9 = FUN_800738f4(uVar8,pad_1,(int)*(short *)(param_1 + 0x116),
                               (int)*(short *)(param_1 + 0x118));
          uVar8 = 0;
          *(undefined4 *)(iVar9 + 0x100) = *(undefined4 *)(param_1 + 0x140);
          *(int *)(param_1 + 0x30) = iVar9;
        }
      }
      else {
        *(undefined2 *)(param_1 + 100) = 0;
        *(undefined2 *)(param_1 + 0x66) = 0;
        uVar8 = FUN_800143ec(puVar2,0x158,1,0);
        iVar9 = FUN_800781c0(uVar8,pad_1,*(undefined *)(param_1 + 0x18e));
        uVar8 = 0;
        *(undefined4 *)(iVar9 + 0x100) = *(undefined4 *)(param_1 + 0x140);
        *(undefined2 *)(param_1 + 0x120) = 0;
        *(undefined2 *)(param_1 + 0x122) = 0;
        *(undefined *)(param_1 + 0x12a) = 0;
        *(int *)(param_1 + 0x30) = iVar9;
      }
    }
    else {
      *(undefined2 *)(param_1 + 100) = 0;
      *(undefined2 *)(param_1 + 0x66) = 0;
      uVar8 = FUN_800143ec(puVar2,0x140,1,0);
      iVar9 = FUN_800768e8(uVar8,pad_1,param_1 + 0x171,*(undefined *)(param_1 + 0x17b));
      uVar8 = 0;
      *(undefined4 *)(iVar9 + 0x100) = *(undefined4 *)(param_1 + 0x140);
      *(int *)(param_1 + 0x30) = iVar9;
    }
  }
  else {
    *(undefined2 *)(param_1 + 100) = 0;
    *(undefined2 *)(param_1 + 0x66) = 0xffb0;
    uVar8 = FUN_800143ec(puVar2,0x114,1,0);
    iVar9 = FUN_800740c0(uVar8,pad_1,(int)*(short *)(param_1 + 0x116),
                         (int)*(short *)(param_1 + 0x118));
    uVar8 = 0;
    *(undefined4 *)(iVar9 + 0x100) = *(undefined4 *)(param_1 + 0x140);
    *(undefined2 *)(param_1 + 0x120) = 0;
    *(undefined2 *)(param_1 + 0x122) = 0;
    *(undefined *)(param_1 + 0x12a) = 0;
    *(int *)(param_1 + 0x30) = iVar9;
  }
  FUN_80023db8(param_1,0,uVar8);
  FUN_800213a4(param_1,iVar9);
  *(int *)(param_1 + 0x2c) = iVar9;
  FUN_80081c08(param_1);
  uVar7 = FUN_8007b43c(param_1 + 0x84);
  if ((uVar7 & 1) != 0) {
    uVar8 = FUN_800143ec(PTR_DAT_800a59b0,0x30,1,0);
    iVar11 = FUN_800313c8(uVar8);
    FUN_80020f64(param_1,iVar11);
    FUN_80021078(param_1,*(undefined4 *)(iVar11 + 0x1c));
  }
  uVar8 = FUN_800143ec(PTR_DAT_800a59b0,0xb0,1,0);
  uVar8 = FUN_800281a0(uVar8,*(undefined4 *)(param_1 + 0x140));
  *(undefined4 *)(param_1 + 0x14c) = uVar8;
  FUN_80020f64(param_1);
  cVar4 = FUN_8007aa0c(param_1 + 0x84);
  if (cVar4 != '\0') {
    iVar11 = *(int *)(param_1 + 0x14c);
    iVar9 = (int)*(short *)(iVar11 + 10);
    if (iVar9 != 0) {
      if (iVar9 < 1) {
        pcVar12 = *(code **)(iVar11 + 0xc);
      }
      else {
        iVar10 = iVar9 * 8 + *(int *)(iVar11 + *(short *)(iVar11 + 0xc));
        unaff_s4 = (short)*(undefined4 *)(iVar10 + -8);
        pcVar12 = *(code **)(iVar10 + -4);
      }
      iVar10 = (int)*(short *)(iVar11 + 8);
      if (0 < iVar9 << 0x10) {
        iVar10 = unaff_s4 + iVar10;
      }
      (*pcVar12)(iVar11 + iVar10,0x1013,2,0);
    }
  }
  return;
}



void FUN_8007e62c(int param_1,uint param_2)

{
  *(undefined **)(param_1 + 0x18) = &DAT_80012100;
  if (*(int *)(param_1 + 0x16c) != 0) {
    potentially_load_asset_(PTR_DAT_800a59b0,*(int *)(param_1 + 0x16c),0,0);
  }
  FUN_80020970(param_1,0);
  if ((param_2 & 1) != 0) {
    potentially_load_asset_(PTR_DAT_800a59b0,param_1,0,0);
  }
  return;
}



void FUN_8007eb08(int param_1)

{
  *(undefined4 *)(param_1 + 0x134) = *(undefined4 *)(param_1 + 0x1c);
  *(undefined *)(param_1 + 0x14a) = 1;
  *(undefined *)(param_1 + 99) = 1;
  *(undefined4 *)(param_1 + 0x1c) = 0;
  *(undefined4 *)(param_1 + 0x138) = *(undefined4 *)(param_1 + 0x10c);
  FUN_80020f64(param_1,*(undefined4 *)(param_1 + 0x2c));
  return;
}



void FUN_8007eb48(int param_1)

{
  undefined4 uVar1;
  int *piVar2;
  int iVar3;
  
  *(undefined *)(param_1 + 0x14a) = 0;
  *(undefined *)(param_1 + 99) = 0;
  *(undefined4 *)(param_1 + 0x10c) = *(undefined4 *)(param_1 + 0x138);
  FUN_80021d2c(param_1,*(undefined4 *)(param_1 + 0x2c));
  piVar2 = *(int **)(param_1 + 0x1c);
  uVar1 = *(undefined4 *)(param_1 + 0x134);
  *(undefined4 *)(param_1 + 0x134) = 0;
  *(undefined4 *)(param_1 + 0x1c) = uVar1;
  while (piVar2 != (int *)0x0) {
    FUN_80020f64(param_1,piVar2[1]);
    iVar3 = *piVar2;
    potentially_load_asset_(PTR_DAT_800a59b0,piVar2,8,0);
    piVar2 = (int *)iVar3;
  }
  return;
}



undefined4 FUN_8007ebd4(int param_1,int param_2)

{
  int *piVar1;
  int *piVar2;
  int *piVar3;
  
  piVar3 = (int *)*(int *)(param_1 + 0x134);
  piVar2 = (undefined4 *)0x0;
  while( true ) {
    piVar1 = piVar3;
    if (piVar1 == (int *)0x0) {
      return 0;
    }
    if (piVar1[1] == param_2) break;
    piVar3 = (int *)*piVar1;
    piVar2 = piVar1;
  }
  if (piVar2 == (undefined4 *)0x0) {
    *(int *)(param_1 + 0x134) = *piVar1;
  }
  else {
    *piVar2 = *piVar1;
  }
  potentially_load_asset_(PTR_DAT_800a59b0,piVar1,8,0);
  return 1;
}



void FUN_8007ec64(int param_1)

{
  undefined uVar1;
  undefined4 *puVar2;
  undefined4 uVar3;
  undefined4 *puVar4;
  undefined4 *puVar5;
  undefined4 *puVar6;
  
  FUN_8007cb04();
  FUN_8007c348(0x65281e40,0xa0,1);
  uVar1 = *(undefined *)(param_1 + 99);
  uVar3 = *(undefined4 *)(param_1 + 0x1c);
  *(undefined *)(param_1 + 0x160) = 0x16;
  *(undefined *)(param_1 + 0x151) = 0;
  *(undefined *)(param_1 + 0x150) = 1;
  *(undefined *)(param_1 + 99) = 1;
  *(undefined4 *)(param_1 + 0x1c) = 0;
  *(undefined4 *)(param_1 + 0x154) = *(undefined4 *)(param_1 + 0x10c);
  *(undefined *)(param_1 + 0x158) = uVar1;
  *(undefined4 *)(param_1 + 0x15c) = uVar3;
  FUN_80020f64(param_1,*(undefined4 *)(param_1 + 0x14c));
  FUN_8002b228(*(undefined4 *)(param_1 + 0x14c));
  puVar2 = (undefined4 *)0x0;
  puVar4 = *(undefined4 **)(param_1 + 0x15c);
  puVar5 = (undefined4 *)0x0;
  while (puVar4 != (undefined4 *)0x0) {
    puVar6 = puVar4;
    if (*(short *)(puVar4[1] + 0x12) == 0x10) {
      FUN_80020f64(param_1);
      puVar2 = puVar4;
      puVar6 = puVar5;
      if (puVar5 == (undefined4 *)0x0) {
        *(undefined4 *)(param_1 + 0x15c) = *puVar4;
      }
      else {
        *puVar5 = *puVar4;
      }
    }
    puVar4 = (undefined4 *)*puVar4;
    puVar5 = puVar6;
    if (puVar2 != (undefined4 *)0x0) {
      potentially_load_asset_(PTR_DAT_800a59b0,puVar2,8,0);
      puVar2 = (undefined4 *)0x0;
    }
  }
  return;
}



void FUN_8007ed90(int param_1)

{
  FUN_8007c348(0x4c60f249,0xa0,1);
  *(undefined *)(param_1 + 0x151) = 1;
  FUN_8002bb90(*(undefined4 *)(param_1 + 0x14c));
  *(undefined *)(param_1 + 0x160) = 0x16;
  return;
}



void FUN_8007ede0(int param_1)

{
  *(undefined *)(param_1 + 0x151) = 1;
  *(undefined *)(param_1 + 0x160) = 0x16;
  *(undefined *)(param_1 + 0x147) = 1;
  return;
}



void FUN_8007edf8(int param_1)

{
  undefined4 uVar1;
  
  FUN_8007cb80();
  *(undefined *)(param_1 + 0x151) = 0;
  *(undefined *)(param_1 + 0x150) = 0;
  *(undefined4 *)(param_1 + 0x10c) = *(undefined4 *)(param_1 + 0x154);
  *(undefined *)(param_1 + 99) = *(undefined *)(param_1 + 0x158);
  FUN_80022214(param_1);
  uVar1 = *(undefined4 *)(param_1 + 0x15c);
  *(undefined4 *)(param_1 + 0x15c) = 0;
  *(undefined4 *)(param_1 + 0x1c) = uVar1;
  if (*(char *)(param_1 + 0x18d) != '\0') {
    FUN_80020f64(param_1,*(undefined4 *)(param_1 + 0x2c));
    *(undefined *)(param_1 + 0x18d) = 0;
  }
  return;
}



void FUN_8007ee64(int param_1)

{
  undefined4 uVar1;
  
  *(undefined *)(param_1 + 0x145) = 1;
  *(undefined *)(param_1 + 0x130) = 1;
  *(undefined *)(param_1 + 0x131) = 0;
  *(undefined *)(param_1 + 0x132) = 0;
  *(undefined *)(param_1 + 0x133) = 0;
  FUN_80021d2c(param_1,*(undefined4 *)(param_1 + 0x2c));
  FUN_800223b8(param_1);
  FUN_800213a4(param_1,*(undefined4 *)(param_1 + 0x2c));
  uVar1 = *(undefined4 *)(param_1 + 0x28);
  *(undefined4 *)(param_1 + 0x28) = 0;
  *(undefined4 *)(param_1 + 0x13c) = uVar1;
  return;
}



bool FUN_8007eec8(undefined4 param_1,char param_2,undefined *param_3,undefined *param_4,
                 undefined *param_5)

{
  int iVar1;
  byte bVar2;
  
  bVar2 = param_2 - 0x15;
  if (bVar2 < 0x14) {
    iVar1 = (uint)bVar2 * 3;
    *param_3 = (&DAT_8009da1c)[iVar1];
    *param_4 = (&DAT_8009da1d)[iVar1];
    *param_5 = (&DAT_8009da1e)[iVar1];
  }
  return bVar2 < 0x14;
}



void FUN_8007ef34(int param_1)

{
  uint uVar1;
  uint uVar2;
  int *piVar3;
  
  piVar3 = *(int **)(param_1 + 0x1c);
  while (piVar3 != (int *)0x0) {
    uVar1 = piVar3[1];
    uVar2 = 0;
    if (*(short *)(uVar1 + 0x12) == 8) {
      uVar2 = uVar1 & -(uint)(*(short *)(uVar1 + 0x70) == 1);
    }
    if ((*(short *)(uVar1 + 0x12) == 0x20) && (*(short *)(uVar1 + 0x70) == 1)) {
      uVar2 = uVar1;
    }
    piVar3 = (int *)*piVar3;
    FUN_80022070(param_1,uVar2);
  }
  for (piVar3 = *(int **)(param_1 + 0x28); piVar3 != (int *)0x0; piVar3 = (int *)*piVar3) {
    uVar2 = (uint)*(ushort *)(piVar3[1] + 0x12);
    if (((uVar2 - 0x39 < 2) || (uVar2 == 0x3b)) || (uVar2 - 0x1c < 2)) {
      *(undefined *)(piVar3[1] + 0x16) = 0;
    }
  }
  return;
}



void FUN_80081568(int param_1)

{
  byte bVar1;
  int iVar2;
  uint uVar3;
  int *piVar4;
  
  piVar4 = *(int **)(param_1 + 0x28);
  *(undefined *)(param_1 + 0x18e) = 0;
  do {
    if (piVar4 == (int *)0x0) {
      return;
    }
    iVar2 = piVar4[1];
    bVar1 = *(byte *)(iVar2 + 0x14);
    if (bVar1 == 2) {
      uVar3 = (uint)*(ushort *)(iVar2 + 0x12);
      if (uVar3 - 0xc9 < 0x1c) {
        *(uint *)(iVar2 + 0xc) = uVar3;
        *(undefined2 *)(iVar2 + 0x12) = 0x5f;
      }
      else {
        switch(uVar3) {
        case 2:
          *(undefined2 *)(iVar2 + 0x12) = 7;
          break;
        case 3:
          *(undefined2 *)(iVar2 + 0x12) = 2;
          break;
        default:
          goto switchD_800818dc_caseD_4;
        case 8:
          *(undefined2 *)(iVar2 + 0x12) = 0x16;
          break;
        case 9:
          *(undefined2 *)(iVar2 + 0x12) = 0xb;
          break;
        case 10:
          *(undefined2 *)(iVar2 + 0x12) = 9;
          break;
        case 0xb:
          *(undefined2 *)(iVar2 + 0x12) = 0x4b;
          break;
        case 0xc:
          *(undefined2 *)(iVar2 + 0x12) = 0x3d;
          break;
        case 0xd:
          *(undefined2 *)(iVar2 + 0x12) = 0x19;
          break;
        case 0xe:
          *(undefined2 *)(iVar2 + 0x12) = 0x48;
          break;
        case 0x10:
          *(undefined2 *)(iVar2 + 0x12) = 0x17;
          break;
        case 0x15:
          *(undefined2 *)(iVar2 + 0x12) = 0x1c;
          break;
        case 0x16:
          *(undefined2 *)(iVar2 + 0x12) = 0x1d;
          break;
        case 0x17:
          *(undefined2 *)(iVar2 + 0x12) = 0x45;
          break;
        case 0x18:
          *(undefined2 *)(iVar2 + 0x12) = 0x46;
          break;
        case 0x19:
          *(undefined2 *)(iVar2 + 0x12) = 0x4f;
          break;
        case 0x1a:
          *(undefined2 *)(iVar2 + 0x12) = 0x51;
          break;
        case 0x1b:
          *(undefined2 *)(iVar2 + 0x12) = 0x61;
          break;
        case 0x1c:
          *(undefined2 *)(iVar2 + 0x12) = 0x59;
          break;
        case 0x1d:
          *(undefined2 *)(iVar2 + 0x12) = 0x62;
          break;
        case 0x1e:
          *(undefined2 *)(iVar2 + 0x12) = 0x6e;
          break;
        case 0x1f:
          *(undefined2 *)(iVar2 + 0x12) = 0x6f;
          break;
        case 0x29:
          *(undefined2 *)(iVar2 + 0x12) = 0x53;
          break;
        case 0x2a:
          *(undefined2 *)(iVar2 + 0x12) = 0x55;
          break;
        case 0x2b:
          *(undefined2 *)(iVar2 + 0x12) = 0x68;
          break;
        case 0x2c:
          *(undefined2 *)(iVar2 + 0x12) = 0x69;
          break;
        case 0x2d:
          *(undefined2 *)(iVar2 + 0x12) = 0x77;
          break;
        case 0x3d:
          *(undefined2 *)(iVar2 + 0x12) = 0x5e;
          break;
        case 0x3e:
          *(undefined4 *)(iVar2 + 0xc) = 0xc9;
          *(undefined2 *)(iVar2 + 0x12) = 0x5f;
          break;
        case 0x51:
          *(undefined2 *)(iVar2 + 0x12) = 0x41;
          break;
        case 0xa7:
          uVar3 = FUN_8007b43c(param_1 + 0x84);
          if ((uVar3 & 0x2000) != 0) {
            *(undefined *)(param_1 + 0x18e) = 1;
          }
        }
      }
    }
    else if (bVar1 < 3) {
      if (bVar1 == 1) {
        switch(*(undefined2 *)(iVar2 + 0x12)) {
        case 5:
          *(undefined2 *)(iVar2 + 0x12) = 0x70;
          break;
        case 6:
          *(undefined2 *)(iVar2 + 0x12) = 0x71;
          break;
        case 7:
          *(undefined2 *)(iVar2 + 0x12) = 0x72;
          break;
        case 8:
          *(undefined2 *)(iVar2 + 0x12) = 0x73;
          break;
        case 9:
          *(undefined2 *)(iVar2 + 0x12) = 0x74;
          break;
        case 10:
          *(undefined2 *)(iVar2 + 0x12) = 0x75;
          break;
        default:
switchD_800818dc_caseD_4:
          *(undefined2 *)(iVar2 + 0x12) = 8;
          break;
        case 0x15:
          *(undefined2 *)(iVar2 + 0x12) = 0x76;
          break;
        case 0x16:
          *(undefined2 *)(iVar2 + 0x12) = 0x1b;
          break;
        case 0x17:
          *(undefined2 *)(iVar2 + 0x12) = 10;
          break;
        case 0x18:
          *(undefined2 *)(iVar2 + 0x12) = 0x1a;
          break;
        case 0x19:
          *(undefined2 *)(iVar2 + 0x12) = 0;
          break;
        case 0x1a:
          *(undefined2 *)(iVar2 + 0x12) = 3;
          break;
        case 0x1b:
          *(undefined2 *)(iVar2 + 0x12) = 4;
          break;
        case 0x1c:
          *(undefined2 *)(iVar2 + 0x12) = 0x29;
          break;
        case 0x1d:
          *(undefined2 *)(iVar2 + 0x12) = 99;
          break;
        case 0x1e:
          *(undefined2 *)(iVar2 + 0x12) = 0x6d;
          break;
        case 0x21:
          *(undefined2 *)(iVar2 + 0x12) = 0x54;
          break;
        case 0x22:
          *(undefined2 *)(iVar2 + 0x12) = 0x60;
          break;
        case 0x23:
          *(undefined2 *)(iVar2 + 0x12) = 0x56;
          break;
        case 0x24:
          *(undefined2 *)(iVar2 + 0x12) = 0x57;
          break;
        case 0x25:
          *(undefined2 *)(iVar2 + 0x12) = 0x58;
          break;
        case 0x2d:
          *(undefined2 *)(iVar2 + 0x12) = 0x18;
          break;
        case 0x30:
          *(undefined2 *)(iVar2 + 0x12) = 0x6a;
          break;
        case 0x31:
          *(undefined2 *)(iVar2 + 0x12) = 0x6b;
          break;
        case 0x32:
          *(undefined2 *)(iVar2 + 0x12) = 0x6c;
          break;
        case 0x40:
          *(undefined2 *)(iVar2 + 0x12) = 0x2d;
          break;
        case 0x41:
          *(undefined2 *)(iVar2 + 0x12) = 0x2a;
          break;
        case 0x42:
          *(undefined2 *)(iVar2 + 0x12) = 0x2b;
          break;
        case 0x43:
          *(undefined2 *)(iVar2 + 0x12) = 0x2c;
          break;
        case 0x44:
          *(undefined2 *)(iVar2 + 0x12) = 0x2f;
          break;
        case 0x45:
          *(undefined2 *)(iVar2 + 0x12) = 0x30;
          break;
        case 0x46:
          *(undefined2 *)(iVar2 + 0x12) = 0x50;
          break;
        case 0x51:
          *(undefined2 *)(iVar2 + 0x12) = 0x1e;
          break;
        case 0x52:
          *(undefined2 *)(iVar2 + 0x12) = 0x1f;
          break;
        case 0x53:
          *(undefined2 *)(iVar2 + 0x12) = 0x20;
          break;
        case 0x54:
          *(undefined2 *)(iVar2 + 0x12) = 0x21;
          break;
        case 0x55:
          *(undefined2 *)(iVar2 + 0x12) = 0x22;
          break;
        case 0x56:
          *(undefined2 *)(iVar2 + 0x12) = 0x23;
          break;
        case 0x57:
          *(undefined2 *)(iVar2 + 0x12) = 0x24;
          break;
        case 0x58:
          *(undefined2 *)(iVar2 + 0x12) = 0x25;
          break;
        case 0x59:
          *(undefined2 *)(iVar2 + 0x12) = 0x26;
          break;
        case 0x5a:
          *(undefined2 *)(iVar2 + 0x12) = 0x2e;
          break;
        case 0x65:
          *(undefined2 *)(iVar2 + 0x12) = 0x27;
          break;
        case 0x66:
          *(undefined2 *)(iVar2 + 0x12) = 0x28;
          break;
        case 0x67:
          *(undefined2 *)(iVar2 + 0x12) = 0x34;
          break;
        case 0x69:
          *(undefined2 *)(iVar2 + 0x12) = 0x35;
          break;
        case 0x6a:
          *(undefined2 *)(iVar2 + 0x12) = 0x36;
          break;
        case 0x6b:
          *(undefined2 *)(iVar2 + 0x12) = 0x37;
          break;
        case 0x6d:
          *(undefined2 *)(iVar2 + 0x12) = 0x78;
          break;
        case 0x7f:
          *(undefined2 *)(iVar2 + 0x12) = 0x3c;
          break;
        case 0x8d:
          *(undefined2 *)(iVar2 + 0x12) = 0x47;
          break;
        case 0x8e:
          *(undefined2 *)(iVar2 + 0x12) = 0x65;
          break;
        case 0x8f:
          *(undefined2 *)(iVar2 + 0x12) = 100;
          break;
        case 0x90:
          *(undefined2 *)(iVar2 + 0x12) = 0x66;
          break;
        case 0x91:
          *(undefined2 *)(iVar2 + 0x12) = 0x67;
        }
      }
      else {
        *(undefined2 *)(iVar2 + 0x12) = 8;
      }
    }
    else if (bVar1 == 3) {
      switch(*(undefined2 *)(iVar2 + 0x12)) {
      case 4:
        *(undefined2 *)(iVar2 + 0x12) = 0x5c;
        break;
      case 5:
        *(undefined2 *)(iVar2 + 0x12) = 0x5d;
        break;
      case 6:
        *(undefined2 *)(iVar2 + 0x12) = 0x44;
        break;
      case 7:
        *(undefined2 *)(iVar2 + 0x12) = 0x33;
        break;
      case 8:
        *(undefined2 *)(iVar2 + 0x12) = 6;
        break;
      default:
        goto switchD_800818dc_caseD_4;
      case 0xb:
        *(undefined2 *)(iVar2 + 0x12) = 0x15;
        break;
      case 0xe:
        *(undefined2 *)(iVar2 + 0x12) = 0x12;
        break;
      case 0xf:
        *(undefined2 *)(iVar2 + 0x12) = 0x3b;
        break;
      case 0x10:
        *(undefined2 *)(iVar2 + 0x12) = 0x40;
        break;
      case 0x18:
        *(undefined2 *)(iVar2 + 0x12) = 0x5b;
        break;
      case 0x19:
        *(undefined2 *)(iVar2 + 0x12) = 0x4c;
        break;
      case 0x1a:
        *(undefined2 *)(iVar2 + 0x12) = 0x43;
        break;
      case 0x1b:
        *(undefined2 *)(iVar2 + 0x12) = 0x32;
        break;
      case 0x1c:
        *(undefined2 *)(iVar2 + 0x12) = 5;
        break;
      case 0x1f:
        *(undefined2 *)(iVar2 + 0x12) = 0x14;
        break;
      case 0x22:
        *(undefined2 *)(iVar2 + 0x12) = 0x11;
        break;
      case 0x23:
        *(undefined2 *)(iVar2 + 0x12) = 0x3a;
        break;
      case 0x24:
        *(undefined2 *)(iVar2 + 0x12) = 0x3f;
        break;
      case 0x2b:
        *(undefined2 *)(iVar2 + 0x12) = 0x52;
        break;
      case 0x2c:
        *(undefined2 *)(iVar2 + 0x12) = 0x5a;
        break;
      case 0x2e:
        *(undefined2 *)(iVar2 + 0x12) = 0x42;
        break;
      case 0x2f:
        *(undefined2 *)(iVar2 + 0x12) = 0x31;
        break;
      case 0x30:
        *(undefined2 *)(iVar2 + 0x12) = 1;
        break;
      case 0x33:
        *(undefined2 *)(iVar2 + 0x12) = 0x13;
        break;
      case 0x36:
        *(undefined2 *)(iVar2 + 0x12) = 0xc;
        break;
      case 0x37:
        *(undefined2 *)(iVar2 + 0x12) = 0x39;
        break;
      case 0x38:
        *(undefined2 *)(iVar2 + 0x12) = 0x3e;
      }
    }
    else {
      *(undefined2 *)(iVar2 + 0x12) = 8;
    }
    piVar4 = (int *)*piVar4;
  } while( true );
}



void FUN_80081c08(int param_1)

{
  uint uVar1;
  
  FUN_800191d8(PTR_DAT_800a59b8,&DAT_8009db10);
  uVar1 = FUN_8007b43c(param_1 + 0x84);
  if ((uVar1 & 4) != 0) {
    load_sprites(PTR_DAT_800a59b8,0x168254b5);
  }
  return;
}



undefined FUN_80081c68(undefined4 param_1,uint param_2,uint param_3)

{
  return *(undefined *)((int)&DAT_8009d284 + (param_3 & 0xf) + (param_2 & 0xff) * 0x10);
}



void FUN_80081d68(int param_1)

{
  uint uVar1;
  undefined4 uVar2;
  int iVar3;
  uint uVar4;
  int iVar5;
  int *piVar6;
  int iVar7;
  
  uVar1 = *(uint *)(param_1 + 0x10c) & 1;
  iVar7 = *(int *)(param_1 + 0x164) + uVar1 * 0x40;
  piVar6 = (int *)(iVar7 + 0x3c);
  for (; (uVar1 & 0xffff) < (uint)*(ushort *)(param_1 + 0x168); uVar1 = uVar1 + 2) {
    uVar4 = (uint)((int)*(short *)(param_1 + 0x44) * piVar6[-10]) >> 0x10;
    iVar5 = uVar4 - 0x10;
    iVar3 = *(ushort *)PTR_DAT_800a59b0 + uVar4 + 0x10;
    uVar4 = (uint)((int)*(short *)(param_1 + 0x46) * piVar6[-9]) >> 0x10;
    if (((((int)*(short *)(piVar6 + -0xd) < iVar3 * 0x10000 >> 0x10) &&
         (iVar5 * 0x10000 >> 0x10 < (int)*(short *)(piVar6 + -0xc))) && (*piVar6 == 0)) &&
       (((int)*(short *)((int)piVar6 + -0x32) <
         (int)((*(ushort *)(PTR_DAT_800a59b0 + 2) + uVar4 + 0x10) * 0x10000) >> 0x10 &&
        ((int)((uVar4 - 0x10) * 0x10000) >> 0x10 < (int)*(short *)((int)piVar6 + -0x2e))))) {
      uVar2 = FUN_800143ec(PTR_DAT_800a59b0,0x10c,1,0,(short)iVar5,(short)iVar3);
      uVar2 = FUN_80033d38(uVar2,iVar7);
      FUN_800213a4(param_1,uVar2);
      *piVar6 = 1;
    }
    piVar6 = piVar6 + 0x20;
    iVar7 = iVar7 + 0x80;
  }
  return;
}



void FUN_80081ee0(int param_1)

{
  int iVar1;
  int iVar2;
  
  iVar1 = *(int *)(param_1 + 0x164);
  iVar2 = 0;
  if (*(short *)(param_1 + 0x168) != 0) {
    do {
      *(undefined4 *)(iVar1 + 0x3c) = 0;
      iVar2 = iVar2 + 1;
      iVar1 = iVar1 + 0x40;
    } while (iVar2 * 0x10000 >> 0x10 < (int)(uint)*(ushort *)(param_1 + 0x168));
  }
  return;
}



void FUN_8008202c(int param_1)

{
  int iVar1;
  int iVar2;
  
  iVar2 = 0;
  do {
    iVar1 = iVar2 << 0x10;
    iVar2 = iVar2 + 1;
    *(undefined4 *)((iVar1 >> 0xe) + *(int *)(param_1 + 0x16c)) = 0;
  } while (iVar2 * 0x10000 >> 0x10 < 0x100);
  return;
}



// WARNING: Type propagation algorithm not settling

undefined4 FUN_80082110(int param_1)

{
  bool bVar1;
  byte bVar2;
  undefined uVar3;
  char cVar4;
  uint uVar5;
  uint uVar6;
  short sVar7;
  int iVar8;
  byte bVar9;
  
  sVar7 = *(short *)(*(int *)(param_1 + 0x140) + 2);
  if (sVar7 == 0) {
    return 0;
  }
  *(short *)((uint)*(byte *)(param_1 + 0x18c) * 2 + param_1 + 0x17c) = sVar7;
  bVar2 = *(char *)(param_1 + 0x18c) + 1;
  *(byte *)(param_1 + 0x18c) = bVar2;
  bVar9 = 0;
  if (7 < bVar2) {
    *(undefined *)(param_1 + 0x18c) = 0;
  }
LAB_80082180:
  iVar8 = 0;
  if (0x15 < bVar9) {
    return 0;
  }
  uVar5 = (uint)*(byte *)(param_1 + 0x18c);
  uVar6 = uVar5;
  do {
    sVar7 = (short)iVar8;
    if (*(short *)(uVar5 * 2 + param_1 + 0x17c) !=
        *(short *)((int)&DAT_8009db3c + ((iVar8 << 0x10) >> 0xf) + (uint)bVar9 * 0x10)) break;
    uVar6 = uVar6 + 1;
    iVar8 = iVar8 + 1;
    sVar7 = (short)iVar8;
    if (7 < (uVar6 & 0xff)) {
      uVar6 = 0;
    }
    uVar5 = uVar6 & 0xff;
  } while (iVar8 * 0x10000 >> 0x10 < 8);
  if (sVar7 < 8) goto code_r0x8008220c;
  if (0x15 < bVar9) {
    return 0;
  }
  FUN_8007c348(0x90810000,0xa0,1);
  switch(bVar9) {
  case 0:
    DAT_800a59b4 = DAT_800a59b4 ^ 0x80;
    if ((DAT_800a59b4 & 0x80) != 0) {
      DAT_800a59b4 = DAT_800a59b4 & 0xffbf;
      return 1;
    }
    break;
  default:
    PTR_DAT_800a59d8[0x11] = 99;
    PTR_DAT_800a59d8[0x13] = 0x14;
    PTR_DAT_800a59d8[0x17] = PTR_DAT_800a59d8[0x17] | 1;
    PTR_DAT_800a59d8[0x14] = 7;
    PTR_DAT_800a59d8[0x15] = 7;
    PTR_DAT_800a59d8[0x16] = 7;
    PTR_DAT_800a59d8[0x1c] = 7;
    if (bVar9 == 2) {
      PTR_DAT_800a59d8[0x19] = 3;
      PTR_DAT_800a59d8[0x1a] = 3;
      PTR_DAT_800a59d8[0x1b] = 0x30;
    }
    goto LAB_800823d0;
  case 3:
    PTR_DAT_800a59d8[0x13] = 0x14;
    return 0;
  case 4:
    PTR_DAT_800a59d8[0x17] = PTR_DAT_800a59d8[0x17] | 1;
    return 0;
  case 5:
    PTR_DAT_800a59d8[0x11] = 99;
    return 0;
  case 6:
    PTR_DAT_800a59d8[0x16] = 7;
    goto LAB_800823d0;
  case 7:
    PTR_DAT_800a59d8[0x14] = 7;
    goto LAB_800823d0;
  case 8:
    PTR_DAT_800a59d8[0x1c] = 7;
    goto LAB_800823d0;
  case 9:
    PTR_DAT_800a59d8[0x15] = 7;
LAB_800823d0:
    uVar3 = FUN_8007aa0c(BUF_PTR + 0x84);
    FUN_80026b14(PTR_DAT_800a59d8,uVar3);
    return 0;
  case 10:
    PTR_DAT_800a59d8[0x1a] = 3;
    return 0;
  case 0xb:
    PTR_DAT_800a59d8[0x19] = 3;
    return 0;
  case 0xc:
    cVar4 = old_debug__return_input(param_1 + 0x84);
    cVar4 = cVar4 + '\x01';
    goto LAB_80082434;
  case 0xd:
    cVar4 = 'c';
LAB_80082434:
    *(char *)(param_1 + 0x148) = cVar4;
    break;
  case 0xe:
    DAT_800a59b4 = DAT_800a59b4 ^ 1;
    return 1;
  case 0xf:
    *(bool *)(param_1 + 399) = *(char *)(param_1 + 399) == '\0';
    return 1;
  case 0x10:
    iVar8 = param_1 + 0x84;
    uVar6 = FUN_8007b43c(iVar8);
    bVar1 = false;
    if ((uVar6 & 0x400) == 0) {
      uVar6 = FUN_8007b43c(iVar8);
      bVar1 = false;
      if ((uVar6 & 0x200) == 0) {
        uVar6 = FUN_8007b43c(iVar8);
        bVar1 = false;
        if ((uVar6 & 0x2000) == 0) {
          uVar6 = FUN_8007b43c(iVar8);
          bVar1 = false;
          if ((uVar6 & 0x100) == 0) {
            uVar6 = FUN_8007b43c(iVar8);
            bVar1 = false;
            if ((uVar6 & 0x10) == 0) {
              uVar6 = FUN_8007b43c(iVar8);
              bVar1 = (uVar6 & 4) == 0;
            }
          }
        }
      }
    }
    if (!bVar1) {
      return 1;
    }
    FUN_8005b390(*(undefined4 *)(param_1 + 0x2c));
    return 1;
  case 0x11:
    iVar8 = param_1 + 0x84;
    uVar6 = FUN_8007b43c(iVar8);
    bVar1 = false;
    if ((uVar6 & 0x400) == 0) {
      uVar6 = FUN_8007b43c(iVar8);
      bVar1 = false;
      if ((uVar6 & 0x200) == 0) {
        uVar6 = FUN_8007b43c(iVar8);
        bVar1 = false;
        if ((uVar6 & 0x2000) == 0) {
          uVar6 = FUN_8007b43c(iVar8);
          bVar1 = false;
          if ((uVar6 & 0x100) == 0) {
            uVar6 = FUN_8007b43c(iVar8);
            bVar1 = false;
            if ((uVar6 & 0x10) == 0) {
              uVar6 = FUN_8007b43c(iVar8);
              bVar1 = (uVar6 & 4) == 0;
            }
          }
        }
      }
    }
    if (bVar1) {
      *(undefined *)(*(int *)(param_1 + 0x2c) + 0x1af) = 1;
    }
    break;
  case 0x12:
    DAT_800a59b4 = (DAT_800a59b4 ^ 2) & 0xfffb;
    return 1;
  case 0x13:
    *(undefined *)(param_1 + 0x18d) = 1;
    break;
  case 0x14:
    iVar8 = param_1 + 0x84;
    uVar6 = FUN_8007b43c(iVar8);
    bVar1 = false;
    if ((uVar6 & 0x400) == 0) {
      uVar6 = FUN_8007b43c(iVar8);
      bVar1 = false;
      if ((uVar6 & 0x200) == 0) {
        uVar6 = FUN_8007b43c(iVar8);
        bVar1 = false;
        if ((uVar6 & 0x2000) == 0) {
          uVar6 = FUN_8007b43c(iVar8);
          bVar1 = false;
          if ((uVar6 & 0x100) == 0) {
            uVar6 = FUN_8007b43c(iVar8);
            bVar1 = false;
            if ((uVar6 & 0x10) == 0) {
              uVar6 = FUN_8007b43c(iVar8);
              bVar1 = (uVar6 & 4) == 0;
            }
          }
        }
      }
    }
    if (bVar1) {
      *(undefined *)(*(int *)(param_1 + 0x2c) + 0x1b0) = 1;
    }
    break;
  case 0x15:
    iVar8 = param_1 + 0x84;
    uVar6 = FUN_8007b43c(iVar8);
    bVar1 = false;
    if ((uVar6 & 0x400) == 0) {
      uVar6 = FUN_8007b43c(iVar8);
      bVar1 = false;
      if ((uVar6 & 0x200) == 0) {
        uVar6 = FUN_8007b43c(iVar8);
        bVar1 = false;
        if ((uVar6 & 0x2000) == 0) {
          uVar6 = FUN_8007b43c(iVar8);
          bVar1 = false;
          if ((uVar6 & 0x100) == 0) {
            uVar6 = FUN_8007b43c(iVar8);
            bVar1 = false;
            if ((uVar6 & 0x10) == 0) {
              uVar6 = FUN_8007b43c(iVar8);
              bVar1 = (uVar6 & 4) == 0;
            }
          }
        }
      }
    }
    if (bVar1) {
      *(undefined *)(*(int *)(param_1 + 0x2c) + 0x1b1) = 1;
    }
  }
  return 1;
code_r0x8008220c:
  bVar9 = bVar9 + 1;
  goto LAB_80082180;
}



void main(void)

{
  byte bVar1;
  int print_stream;
  uint size;
  undefined4 name_ptr;
  undefined *movie_ptr;
  u_long controller_btn_status;
  byte i;
  uint counter;
  int buf_ptr2;
  uint level_id;
  astruct_10 *blb_ptr;
  undefined4 unaff_s4;
  code *pcVar2;
  
  __main();
  counter = 0;
  SsUtReverbOff();
  ResetCallback();
  load_files_from_cd();
  setup_graphics((graphics *)PTR_DAT_800a59b0);
  BUF_PTR = &BUFFER;
  PadInit(0);
  InitGeom();
  SetDispMask(1);
  FntLoad(0x3c0,0x100);
  print_stream = FntOpen(0x10,0x20,0x120,200,0,0x200);
  SetDumpFnt(print_stream);
  initialise_struct(PTR_DAT_800a59d8);
  load_level_(&BUFFER,pad_1);
  blb_ptr = (astruct_10 *)(BUF_PTR + 0x42);
  while( true ) {
                    // paVar8 is 8009dc9c at start up
                    // got_size is 1a
    size = ptr_end_of_blb_header(blb_ptr);
    level_id = counter & 0xff;
                    // I think this loads all the level info from the blb header
                    // 
                    // e.g. the MENU Option stuff
    if ((size & 0xff) <= level_id) break;
    name_ptr = level_name(blb_ptr,level_id);
    (&levels)[level_id] = name_ptr;
    counter_1 = counter_1 + 1;
                    // seems to reach 1a (got_size) when loop breaks
    counter_2 = counter_2 + 1;
    counter = counter + 1;
  }
  for (i = 0; bVar1 = get_movie_count(blb_ptr), i < bVar1; i = i + 1) {
    movie_ptr = (undefined *)movie_file_name(blb_ptr);
    counter = (uint)counter_1;
    counter_1 = counter_1 + 1;
    yet_another_counter = yet_another_counter + 1;
    (&sub_level_list)[counter] = movie_ptr;
  }
  DAT_800a59c8 = 0x40;
  DAT_800a59ca = 0x20;
  DAT_800a59cc = 0x80;
  DAT_800a6188 = pad_1;
  do {
    FUN_8007cc78();
    controller_btn_status = PadRead(1);
    setup_controller(pad_1,controller_btn_status & 0xffff);
    setup_controller(pad_2,controller_btn_status >> 0x10);
    print_stream = (int)BUF_PTR[1];
    if (print_stream != 0) {
      if (print_stream < 1) {
                    // executes
                    // UndefinedFunction_8007e6b0
        pcVar2 = *(code **)(BUF_PTR + 2);
      }
      else {
        buf_ptr2 = print_stream * 8 + *(int *)((int)BUF_PTR + (int)BUF_PTR[2]);
        unaff_s4 = *(undefined4 *)(buf_ptr2 + -8);
        pcVar2 = *(code **)(buf_ptr2 + -4);
      }
      buf_ptr2 = (int)*BUF_PTR;
      if (0 < print_stream << 0x10) {
        buf_ptr2 = (short)unaff_s4 + buf_ptr2;
      }
      (*pcVar2)((int)BUF_PTR + buf_ptr2);
    }
    traverse_linked_list_and_execute(BUF_PTR);
    vsync_if_required(PTR_DAT_800a59b0);
    FUN_80020e7c(BUF_PTR);
    DrawSync(0);
    (**(code **)(*(int *)(BUF_PTR + 0xc) + 0x1c))
              ((int)BUF_PTR + (int)*(short *)(*(int *)(BUF_PTR + 0xc) + 0x18));
    DrawSync(0);
    if ((DAT_800a59b4 & 6) != 0) {
      print_stream = VSync(-1);
      do {
        counter = VSync(-1);
      } while (counter < print_stream + 2U);
    }
                    // maybe not for processing levels as it occurs after main game loop
    process_level_data_();
    draw_print_stream(PTR_DAT_800a59b0);
  } while( true );
}



void process_level_data_(void)

{
  int status;
  uint sub_index;
  ushort uVar1;
  char cVar2;
  ushort uVar3;
  
  if ((DAT_800a59b4 & 0x80) != 0) {
    uVar1 = DAT_800a611c + 0x14;
    if ((ushort)counter_1 < (ushort)(DAT_800a611c + 0x14)) {
      uVar1 = (ushort)counter_1;
    }
    uVar3 = DAT_800a611c;
    if (DAT_800a611c < uVar1) {
      do {
        FntPrint();
        uVar3 = uVar3 + 1;
        FntPrint();
        FntPrint();
      } while (uVar3 < uVar1);
    }
    if ((*(uint *)(BUF_PTR + 0x10c) & 3) == 0) {
      if ((*DAT_800a6188 & 0x1000) != 0) {
        if (DAT_800a611e != 0) {
          DAT_800a611e = DAT_800a611e - 1;
        }
        if (DAT_800a611e < DAT_800a611c) {
          DAT_800a611c = DAT_800a611e;
        }
      }
      if ((*DAT_800a6188 & 0x4000) != 0) {
        if ((int)(uint)DAT_800a611e < (int)(counter_1 - 1)) {
          DAT_800a611e = DAT_800a611e + 1;
        }
        if ((int)(uint)DAT_800a611c < (int)(DAT_800a611e - 0x13)) {
          DAT_800a611c = DAT_800a611e - 0x13;
        }
      }
    }
    if ((DAT_800a6188[1] & 0x40) != 0) {
      sub_index = (uint)DAT_800a611e;
      DAT_800a59b4 = DAT_800a59b4 & 0xff7f;
      if (sub_index < counter_2 + 10) {
        if (sub_index < 10) {
          cVar2 = (char)DAT_800a611e + '\x01';
        }
        else {
          cVar2 = 'c';
          FUN_8007a2fc(BUF_PTR + 0x84,4,(uint)(&DAT_fffffff6 + sub_index) & 0xff);
        }
      }
      else {
        status = strcmp((&sub_level_list)[sub_index],&END2_BLB);
        if (status == 0) {
          return;
        }
        cVar2 = 'c';
        FUN_8007a2fc(BUF_PTR + 0x84,1,(uint)(&DAT_fffffff6 + (sub_index - (byte)counter_2)) & 0xff);
      }
      *(char *)(BUF_PTR + 0x148) = cVar2;
    }
  }
  return;
}



int strcmp(char *param_1,char *param_2)

{
  int iVar1;
  
  iVar1 = (*(code *)&LAB_000000a0)();
  return iVar1;
}



void * memcpy(uchar *param_1,uchar *param_2,int param_3)

{
  void *pvVar1;
  
  pvVar1 = (void *)(*(code *)&LAB_000000a0)();
  return pvVar1;
}



// WARNING: Unknown calling convention -- yet parameter storage is locked

int rand(void)

{
  int iVar1;
  
  iVar1 = (*(code *)&LAB_000000a0)();
  return iVar1;
}



void srand(uint param_1)

{
  (*(code *)&LAB_000000a0)();
  return;
}



void * memmove(uchar *param_1,uchar *param_2,int param_3)

{
  bool bVar1;
  uchar uVar2;
  void *pvVar3;
  uchar *puVar4;
  int iVar5;
  uchar *puVar6;
  
  if (param_1 < param_2) {
    iVar5 = param_3 + -1;
    if (0 < param_3) {
      do {
        uVar2 = *param_2;
        param_2 = param_2 + 1;
        *param_1 = uVar2;
        bVar1 = 0 < iVar5;
        param_1 = param_1 + 1;
        iVar5 = iVar5 + -1;
      } while (bVar1);
    }
  }
  else {
    iVar5 = param_3 + -1;
    if (0 < param_3) {
      puVar6 = param_1 + iVar5;
      puVar4 = param_2 + iVar5;
      do {
        uVar2 = *puVar4;
        puVar4 = puVar4 + -1;
        *puVar6 = uVar2;
        bVar1 = 0 < iVar5;
        puVar6 = puVar6 + -1;
        iVar5 = iVar5 + -1;
      } while (bVar1);
      pvVar3 = (void *)MEMMOVE_OBJ_64();
      return pvVar3;
    }
  }
  return param_1;
}



undefined4 MEMMOVE_OBJ_64(undefined4 param_1)

{
  return param_1;
}



void StSetRing(u_long *ring_addr,u_long ring_size)

{
  pointer_to_80116450_ = ring_addr;
  DAT_800ae444 = ring_size;
  StClearRing();
  return;
}



// WARNING: Unknown calling convention -- yet parameter storage is locked

int CdInit(void)

{
  int iVar1;
  int iVar2;
  
  iVar2 = 4;
  do {
    iVar1 = CdReset(1);
    iVar2 = iVar2 + -1;
    if (iVar1 == 1) {
      CdSyncCallback(def_cbsync);
      CdReadyCallback(def_cbready);
      CdReadCallback(def_cbread);
      CdReadMode(0);
      iVar2 = EVENT_OBJ_84();
      return iVar2;
    }
  } while (iVar2 != -1);
  printf("CdInit: Init failed\n");
  return 0;
}



void EVENT_OBJ_84(void)

{
  return;
}



void def_cbsync(void)

{
  DeliverEvent(0xf0000003,0x20);
  return;
}



void def_cbready(void)

{
  DeliverEvent(0xf0000003,0x40);
  return;
}



void def_cbread(void)

{
  DeliverEvent(0xf0000003,0x40);
  return;
}



int printf(char *fmt,...)

{
  int iVar1;
  
  iVar1 = (*(code *)&LAB_000000a0)();
  return iVar1;
}



void DeliverEvent(void)

{
  (*(code *)&SUB_000000b0)();
  return;
}



// WARNING: Unknown calling convention -- yet parameter storage is locked

int CdStatus(void)

{
  return (uint)DAT_8009df84;
}



// WARNING: Unknown calling convention -- yet parameter storage is locked

int CdMode(void)

{
  return (uint)DAT_8009df94;
}



// WARNING: Unknown calling convention -- yet parameter storage is locked

int CdLastCom(void)

{
  return (uint)DAT_8009df95;
}



// WARNING: Unknown calling convention -- yet parameter storage is locked

CdlLOC * CdLastPos(void)

{
  return (CdlLOC *)&DAT_8009df90;
}



int CdReset(int mode)

{
  int iVar1;
  int iVar2;
  
  if (mode == 2) {
    CD_initintr();
    iVar1 = SYS_OBJ_98();
    return iVar1;
  }
  iVar1 = CD_init();
  iVar2 = 0;
  if ((iVar1 == 0) && (iVar2 = 1, mode == 1)) {
    iVar1 = CD_initvol();
    iVar2 = 0;
    if (iVar1 == 0) {
      iVar2 = 1;
    }
  }
  return iVar2;
}



void SYS_OBJ_98(void)

{
  return;
}



// WARNING: Unknown calling convention -- yet parameter storage is locked
// Possible SSNOFF.OBJ/SsSetNoiseOff
// Possible SSQUIT.OBJ/SsQuit
// Possible _OP_VDEL.OBJ/__builtin_vec_delete
// Possible _OP_VNEW.OBJ/__builtin_vec_new
// Possible GS_106.OBJ/GsSetProjection
// Possible SEND.OBJ/SendPAD

void CdFlush(void)

{
  CD_flush();
  return;
}



int CdSetDebug(int level)

{
  int iVar1;
  
  iVar1 = DAT_8009df80;
  DAT_8009df80 = level;
  return iVar1;
}



char * CdComstr(u_char com)

{
  char *pcVar1;
  
  if (com < 0x1c) {
    pcVar1 = (char *)SYS_OBJ_110();
    return pcVar1;
  }
  return "none";
}



void SYS_OBJ_110(void)

{
  return;
}



char * CdIntstr(u_char intr)

{
  char *pcVar1;
  
  if (intr < 7) {
    pcVar1 = (char *)SYS_OBJ_144();
    return pcVar1;
  }
  return "none";
}



void SYS_OBJ_144(void)

{
  return;
}



// Possible SSNOFF.OBJ/SsSetNoiseOff
// Possible SSQUIT.OBJ/SsQuit
// Possible _OP_VDEL.OBJ/__builtin_vec_delete
// Possible _OP_VNEW.OBJ/__builtin_vec_new
// Possible GS_106.OBJ/GsSetProjection
// Possible SEND.OBJ/SendPAD

int CdSync(int mode,u_char *result)

{
  int iVar1;
  
  iVar1 = CD_sync();
  return iVar1;
}



// Possible SSNOFF.OBJ/SsSetNoiseOff
// Possible SSQUIT.OBJ/SsQuit
// Possible _OP_VDEL.OBJ/__builtin_vec_delete
// Possible _OP_VNEW.OBJ/__builtin_vec_new
// Possible GS_106.OBJ/GsSetProjection
// Possible SEND.OBJ/SendPAD

int CdReady(int mode,u_char *result)

{
  int iVar1;
  
  iVar1 = CD_ready();
  return iVar1;
}



CdlCB CdSyncCallback(CdlCB func)

{
  CdlCB pCVar1;
  
  pCVar1 = DAT_8009df74;
  DAT_8009df74 = func;
  return pCVar1;
}



CdlCB CdReadyCallback(CdlCB func)

{
  CdlCB pCVar1;
  
  pCVar1 = DAT_8009df78;
  DAT_8009df78 = func;
  return pCVar1;
}



int CdControl(u_char com,u_char *param,u_char *result)

{
  undefined4 uVar1;
  int iVar2;
  int iVar3;
  
  uVar1 = DAT_8009df74;
  iVar3 = 3;
  while( true ) {
    DAT_8009df74 = 0;
    if ((com != 1) && ((DAT_8009df84 & 0x10) != 0)) {
      CD_cw(1,0,0,0);
    }
    if ((((param == (u_char *)0x0) || (*(int *)(&DAT_8009deec + (uint)com * 4) == 0)) ||
        (iVar2 = CD_cw(2,param,result,0), iVar2 == 0)) &&
       (DAT_8009df74 = uVar1, iVar2 = CD_cw(com,param,result,0), iVar2 == 0)) break;
    iVar3 = iVar3 + -1;
    if (iVar3 == -1) {
      DAT_8009df74 = uVar1;
      return 0;
    }
  }
  return 1;
}



int CdControlF(u_char com,u_char *param)

{
  undefined4 uVar1;
  int iVar2;
  int iVar3;
  
  uVar1 = DAT_8009df74;
  iVar3 = 3;
  while( true ) {
    DAT_8009df74 = 0;
    if ((com != 1) && ((DAT_8009df84 & 0x10) != 0)) {
      CD_cw(1,0,0,0);
    }
    if ((((param == (u_char *)0x0) || (*(int *)(&DAT_8009deec + (uint)com * 4) == 0)) ||
        (iVar2 = CD_cw(2,param,0,0), iVar2 == 0)) &&
       (DAT_8009df74 = uVar1, iVar2 = CD_cw(com,param,0,1), iVar2 == 0)) break;
    iVar3 = iVar3 + -1;
    if (iVar3 == -1) {
      DAT_8009df74 = uVar1;
      return 0;
    }
  }
  return 1;
}



int CdControlB(u_char com,u_char *param,u_char *result)

{
  undefined4 uVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  
  uVar1 = DAT_8009df74;
  iVar4 = 3;
  do {
    DAT_8009df74 = 0;
    if ((com != 1) && ((DAT_8009df84 & 0x10) != 0)) {
      CD_cw(1,0,0,0);
    }
    if (((param == (u_char *)0x0) || (*(int *)(&DAT_8009deec + (uint)com * 4) == 0)) ||
       (iVar2 = CD_cw(2,param,result,0), iVar2 == 0)) {
      DAT_8009df74 = uVar1;
      iVar2 = CD_cw(com,param,result,0);
      iVar3 = 0;
      if (iVar2 == 0) break;
    }
    iVar4 = iVar4 + -1;
    iVar3 = -1;
    DAT_8009df74 = uVar1;
  } while (iVar4 != -1);
  if (iVar3 != 0) {
    return 0;
  }
  CD_sync(0,result);
  iVar4 = SYS_OBJ_538();
  return iVar4;
}



void SYS_OBJ_538(void)

{
  return;
}



int CdMix(CdlATV *vol)

{
  CD_vol();
  return 1;
}



int CdGetSector(void *madr,int size)

{
  int iVar1;
  
  iVar1 = CD_getsector();
  return (uint)(iVar1 == 0);
}



int CdGetSector2(void *madr,int size)

{
  int iVar1;
  
  iVar1 = CD_getsector2();
  return (uint)(iVar1 == 0);
}



_func_50 * CdDataCallback(func *func)

{
  _func_50 *p_Var1;
  
  p_Var1 = (_func_50 *)DMACallback(3,func);
  return p_Var1;
}



// Possible SSNOFF.OBJ/SsSetNoiseOff
// Possible SSQUIT.OBJ/SsQuit
// Possible _OP_VDEL.OBJ/__builtin_vec_delete
// Possible _OP_VNEW.OBJ/__builtin_vec_new
// Possible GS_106.OBJ/GsSetProjection
// Possible SEND.OBJ/SendPAD

int CdDataSync(int mode)

{
  int iVar1;
  
  iVar1 = CD_datasync();
  return iVar1;
}



CdlLOC * CdIntToPos(int i,CdlLOC *p)

{
  int iVar1;
  int iVar2;
  int iVar3;
  
  iVar3 = (i + 0x96) / 0x4b;
  iVar2 = (i + 0x96) % 0x4b;
  iVar1 = iVar3 / 0x3c;
  iVar3 = iVar3 % 0x3c;
  p->sector = (char)iVar2 + (char)(iVar2 / 10) * '\x06';
  p->second = (char)iVar3 + (char)(iVar3 / 10) * '\x06';
  p->minute = (char)iVar1 + (char)(iVar1 / 10) * '\x06';
  return p;
}



void FUN_800837cc(int param_1,char *param_2)

{
  int in_v1;
  int iVar1;
  
  param_1 = param_1 + 0x96;
  iVar1 = (int)((longlong)param_1 * (longlong)in_v1 >> 0x23) - (param_1 >> 0x1f);
  param_1 = param_1 + iVar1 * -0x4b;
  param_2[2] = (char)param_1 + (char)(param_1 / 10) * '\x06';
  param_2[1] = (char)(iVar1 % 0x3c) + (char)((iVar1 % 0x3c) / 10) * '\x06';
  *param_2 = (char)(iVar1 / 0x3c) + (char)((iVar1 / 0x3c) / 10) * '\x06';
  return;
}



int CdPosToInt(CdlLOC *p)

{
  return (((uint)(p->minute >> 4) * 10 + (p->minute & 0xf)) * 0x3c +
         (uint)(p->second >> 4) * 10 + (p->second & 0xf)) * 0x4b +
         (uint)(p->sector >> 4) * 10 + (p->sector & 0xf) + -0x96;
}



undefined4 getintr(void)

{
  undefined4 uVar1;
  
  *PTR_CDROM_REG0_8009e23c = 1;
  if ((*PTR_CDROM_REG3_8009e248 & 7) != 0) {
    uVar1 = BIOS_OBJ_64();
    return uVar1;
  }
  return 0;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 BIOS_OBJ_64(byte *param_1)

{
  undefined uVar1;
  undefined4 uVar2;
  undefined4 *puVar3;
  undefined *puVar4;
  undefined1 *puVar5;
  int iVar6;
  uint unaff_s1;
  byte param_5;
  byte param_7;
  byte param_11;
  
  while (iVar6 = 0, param_5 != (*param_1 & 7)) {
    param_5 = *param_1 & 7;
  }
  puVar3 = (undefined4 *)&stack0x00000018;
  do {
    if ((*PTR_CDROM_REG0_8009e23c & 0x20) == 0) break;
    iVar6 = iVar6 + 1;
    *(undefined *)puVar3 = *PTR_CDROM_REG1_8009e240;
    puVar3 = (undefined4 *)((int)puVar3 + 1);
  } while (iVar6 < 8);
  if (iVar6 < 8) {
    puVar4 = (undefined *)((int)&stack0x00000018 + iVar6);
    do {
      *puVar4 = 0;
      puVar4 = puVar4 + 1;
    } while ((int)puVar4 < (int)&stack0x00000020);
  }
  *PTR_CDROM_REG0_8009e23c = 1;
  *PTR_CDROM_REG3_8009e248 = 7;
  *PTR_CDROM_REG2_8009e244 = 7;
  if ((param_5 != 3) || (*(int *)(&DAT_8009e13c + (uint)DAT_8009df95 * 4) != 0)) {
    if (((_DAT_8009df84 & 0x10) == 0) && ((param_7 & 0x10) != 0)) {
      DAT_8009df8c = DAT_8009df8c + 1;
    }
    _DAT_8009df84 = (uint)param_7;
    DAT_8009df88 = (uint)param_11;
    unaff_s1 = _DAT_8009df84 & 0x1d;
  }
  if (((param_5 == 5) && (0 < DAT_8009df80)) && (printf("DiskError: "), 0 < DAT_8009df80)) {
    printf("com=%s,code=(%02x:%02x)\n",(&PTR_s_CdlSync_8009df9c)[DAT_8009df95],_DAT_8009df84,
           DAT_8009df88);
  }
  switch(param_5) {
  case 1:
    DAT_8009e255 = 1;
    if (unaff_s1 != 0) {
      if (iVar6 == 1) {
        unaff_s1 = 0;
      }
      DAT_8009e255 = 1;
      if (unaff_s1 != 0) {
        DAT_8009e255 = 5;
      }
    }
    puVar5 = &DAT_800a61d8;
    puVar3 = (undefined4 *)&stack0x00000018;
    iVar6 = 7;
    do {
      uVar1 = *(undefined *)puVar3;
      puVar3 = (undefined4 *)((int)puVar3 + 1);
      iVar6 = iVar6 + -1;
      *puVar5 = uVar1;
      puVar5 = puVar5 + 1;
    } while (iVar6 != -1);
    *PTR_CDROM_REG0_8009e23c = 0;
    *PTR_CDROM_REG3_8009e248 = 0;
    uVar2 = BIOS_OBJ_570();
    return uVar2;
  case 2:
    DAT_8009e254 = 2;
    if (unaff_s1 != 0) {
      DAT_8009e254 = 5;
    }
    puVar5 = &DAT_800a61d0;
    puVar3 = (undefined4 *)&stack0x00000018;
    iVar6 = 7;
    do {
      uVar1 = *(undefined *)puVar3;
      puVar3 = (undefined4 *)((int)puVar3 + 1);
      iVar6 = iVar6 + -1;
      *puVar5 = uVar1;
      puVar5 = puVar5 + 1;
    } while (iVar6 != -1);
    uVar2 = BIOS_OBJ_570();
    return uVar2;
  case 3:
    break;
  case 4:
    puVar5 = &DAT_800a61e0;
    DAT_8009e256 = 4;
    puVar3 = (undefined4 *)&stack0x00000018;
    DAT_8009e255 = 4;
    iVar6 = 7;
    do {
      uVar1 = *(undefined *)puVar3;
      puVar3 = (undefined4 *)((int)puVar3 + 1);
      iVar6 = iVar6 + -1;
      *puVar5 = uVar1;
      puVar5 = puVar5 + 1;
    } while (iVar6 != -1);
    puVar5 = &DAT_800a61d8;
    puVar3 = (undefined4 *)&stack0x00000018;
    iVar6 = 7;
    do {
      uVar1 = *(undefined *)puVar3;
      puVar3 = (undefined4 *)((int)puVar3 + 1);
      iVar6 = iVar6 + -1;
      *puVar5 = uVar1;
      puVar5 = puVar5 + 1;
    } while (iVar6 != -1);
    uVar2 = BIOS_OBJ_570();
    return uVar2;
  case 5:
    puVar5 = &DAT_800a61d0;
    puVar3 = (undefined4 *)&stack0x00000018;
    DAT_8009e255 = 5;
    DAT_8009e254 = 5;
    iVar6 = 7;
    do {
      uVar1 = *(undefined *)puVar3;
      puVar3 = (undefined4 *)((int)puVar3 + 1);
      iVar6 = iVar6 + -1;
      *puVar5 = uVar1;
      puVar5 = puVar5 + 1;
    } while (iVar6 != -1);
    puVar5 = &DAT_800a61d8;
    puVar3 = (undefined4 *)&stack0x00000018;
    iVar6 = 7;
    do {
      uVar1 = *(undefined *)puVar3;
      puVar3 = (undefined4 *)((int)puVar3 + 1);
      iVar6 = iVar6 + -1;
      *puVar5 = uVar1;
      puVar5 = puVar5 + 1;
    } while (iVar6 != -1);
    uVar2 = BIOS_OBJ_570();
    return uVar2;
  default:
    FUN_80085128("CDROM: unknown intr");
    printf("(%d)\n",(uint)param_5);
    return 0;
  }
  if (unaff_s1 != 0) {
    DAT_8009e254 = 5;
    puVar5 = &DAT_800a61d0;
    puVar3 = (undefined4 *)&stack0x00000018;
    iVar6 = 7;
    do {
      uVar1 = *(undefined *)puVar3;
      puVar3 = (undefined4 *)((int)puVar3 + 1);
      iVar6 = iVar6 + -1;
      *puVar5 = uVar1;
      puVar5 = puVar5 + 1;
    } while (iVar6 != -1);
    uVar2 = BIOS_OBJ_570();
    return uVar2;
  }
  if (*(int *)(&DAT_8009e03c + (uint)DAT_8009df95 * 4) != 0) {
    DAT_8009e254 = 3;
    puVar5 = &DAT_800a61d0;
    puVar3 = (undefined4 *)&stack0x00000018;
    iVar6 = 7;
    do {
      uVar1 = *(undefined *)puVar3;
      puVar3 = (undefined4 *)((int)puVar3 + 1);
      iVar6 = iVar6 + -1;
      *puVar5 = uVar1;
      puVar5 = puVar5 + 1;
    } while (iVar6 != -1);
    uVar2 = BIOS_OBJ_570();
    return uVar2;
  }
  DAT_8009e254 = 2;
  puVar5 = &DAT_800a61d0;
  puVar3 = (undefined4 *)&stack0x00000018;
  iVar6 = 7;
  do {
    uVar1 = *(undefined *)puVar3;
    puVar3 = (undefined4 *)((int)puVar3 + 1);
    iVar6 = iVar6 + -1;
    *puVar5 = uVar1;
    puVar5 = puVar5 + 1;
  } while (iVar6 != -1);
  uVar2 = BIOS_OBJ_570();
  return uVar2;
}



// WARNING: Removing unreachable block (ram,0x80083cf8)

void BIOS_OBJ_26C(void)

{
  undefined uVar1;
  undefined1 *puVar2;
  int iVar3;
  undefined *puVar4;
  int unaff_s1;
  
  if (unaff_s1 != 0) {
    DAT_8009e254 = 5;
    puVar2 = &DAT_800a61d0;
    puVar4 = &stack0x00000018;
    iVar3 = 7;
    do {
      uVar1 = *puVar4;
      puVar4 = puVar4 + 1;
      iVar3 = iVar3 + -1;
      *puVar2 = uVar1;
      puVar2 = puVar2 + 1;
    } while (iVar3 != -1);
    BIOS_OBJ_570();
    return;
  }
  if (*(int *)(&DAT_8009e03c + (uint)DAT_8009df95 * 4) != 0) {
    DAT_8009e254 = 3;
    puVar2 = &DAT_800a61d0;
    puVar4 = &stack0x00000018;
    iVar3 = 7;
    do {
      uVar1 = *puVar4;
      puVar4 = puVar4 + 1;
      iVar3 = iVar3 + -1;
      *puVar2 = uVar1;
      puVar2 = puVar2 + 1;
    } while (iVar3 != -1);
    BIOS_OBJ_570();
    return;
  }
  DAT_8009e254 = 2;
  puVar2 = &DAT_800a61d0;
  puVar4 = &stack0x00000018;
  iVar3 = 7;
  do {
    uVar1 = *puVar4;
    puVar4 = puVar4 + 1;
    iVar3 = iVar3 + -1;
    *puVar2 = uVar1;
    puVar2 = puVar2 + 1;
  } while (iVar3 != -1);
  BIOS_OBJ_570();
  return;
}



void BIOS_OBJ_36C(void)

{
  undefined uVar1;
  undefined1 *puVar2;
  int iVar3;
  undefined *puVar4;
  int unaff_s1;
  
  DAT_8009e254 = 2;
  if (unaff_s1 != 0) {
    DAT_8009e254 = 5;
  }
  puVar2 = &DAT_800a61d0;
  puVar4 = &stack0x00000018;
  iVar3 = 7;
  do {
    uVar1 = *puVar4;
    puVar4 = puVar4 + 1;
    iVar3 = iVar3 + -1;
    *puVar2 = uVar1;
    puVar2 = puVar2 + 1;
  } while (iVar3 != -1);
  BIOS_OBJ_570();
  return;
}



void BIOS_OBJ_3B8(void)

{
  undefined uVar1;
  undefined1 *puVar2;
  int iVar3;
  undefined *puVar4;
  int unaff_s0;
  int unaff_s1;
  
  DAT_8009e255 = 1;
  if (unaff_s1 != 0) {
    if (unaff_s0 == 1) {
      unaff_s1 = 0;
    }
    DAT_8009e255 = 1;
    if (unaff_s1 != 0) {
      DAT_8009e255 = 5;
    }
  }
  puVar2 = &DAT_800a61d8;
  puVar4 = &stack0x00000018;
  iVar3 = 7;
  do {
    uVar1 = *puVar4;
    puVar4 = puVar4 + 1;
    iVar3 = iVar3 + -1;
    *puVar2 = uVar1;
    puVar2 = puVar2 + 1;
  } while (iVar3 != -1);
  *PTR_CDROM_REG0_8009e23c = 0;
  *PTR_CDROM_REG3_8009e248 = 0;
  BIOS_OBJ_570();
  return;
}



void BIOS_OBJ_43C(void)

{
  undefined uVar1;
  int iVar2;
  undefined1 *puVar3;
  undefined *puVar4;
  
  puVar3 = &DAT_800a61e0;
  DAT_8009e256 = 4;
  puVar4 = &stack0x00000018;
  DAT_8009e255 = 4;
  iVar2 = 7;
  do {
    uVar1 = *puVar4;
    puVar4 = puVar4 + 1;
    iVar2 = iVar2 + -1;
    *puVar3 = uVar1;
    puVar3 = puVar3 + 1;
  } while (iVar2 != -1);
  puVar3 = &DAT_800a61d8;
  puVar4 = &stack0x00000018;
  iVar2 = 7;
  do {
    uVar1 = *puVar4;
    puVar4 = puVar4 + 1;
    iVar2 = iVar2 + -1;
    *puVar3 = uVar1;
    puVar3 = puVar3 + 1;
  } while (iVar2 != -1);
  BIOS_OBJ_570();
  return;
}



void BIOS_OBJ_4C0(void)

{
  undefined uVar1;
  int iVar2;
  undefined1 *puVar3;
  undefined *puVar4;
  
  puVar3 = &DAT_800a61d0;
  puVar4 = &stack0x00000018;
  DAT_8009e255 = 5;
  DAT_8009e254 = 5;
  iVar2 = 7;
  do {
    uVar1 = *puVar4;
    puVar4 = puVar4 + 1;
    iVar2 = iVar2 + -1;
    *puVar3 = uVar1;
    puVar3 = puVar3 + 1;
  } while (iVar2 != -1);
  puVar3 = &DAT_800a61d8;
  puVar4 = &stack0x00000018;
  iVar2 = 7;
  do {
    uVar1 = *puVar4;
    puVar4 = puVar4 + 1;
    iVar2 = iVar2 + -1;
    *puVar3 = uVar1;
    puVar3 = puVar3 + 1;
  } while (iVar2 != -1);
  BIOS_OBJ_570();
  return;
}



void BIOS_OBJ_570(void)

{
  return;
}



undefined4 CD_sync(int param_1,undefined *param_2)

{
  byte bVar1;
  undefined uVar2;
  bool bVar3;
  int iVar4;
  undefined4 uVar5;
  uint uVar6;
  undefined1 *puVar7;
  
  iVar4 = VSync(-1);
  DAT_800a61e8 = iVar4 + 0x3c0;
  DAT_800a61ec = 0;
  DAT_800a61f0 = "CD_sync";
  do {
    iVar4 = VSync(-1);
    if ((DAT_800a61e8 < iVar4) ||
       (iVar4 = DAT_800a61ec + 1, bVar3 = 0x3c0000 < DAT_800a61ec, DAT_800a61ec = iVar4, bVar3)) {
      FUN_80085128("CD timeout: ");
      printf("%s:(%s) Sync=%s, Ready=%s\n",DAT_800a61f0,(&PTR_s_CdlSync_8009df9c)[DAT_8009df95],
             (&PTR_s_NoIntr_8009e01c)[DAT_8009e254],(&PTR_s_NoIntr_8009e01c)[DAT_8009e255]);
      CD_flush();
      uVar5 = BIOS_OBJ_6B4();
      return uVar5;
    }
    iVar4 = CheckCallback();
    if (iVar4 != 0) {
      bVar1 = *PTR_CDROM_REG0_8009e23c;
      while( true ) {
        uVar6 = getintr();
        if (uVar6 == 0) break;
        if (((uVar6 & 4) != 0) && (DAT_8009df78 != (code *)0x0)) {
          (*DAT_8009df78)(DAT_8009e255,&DAT_800a61d8);
        }
        if (((uVar6 & 2) != 0) && (DAT_8009df74 != (code *)0x0)) {
          (*DAT_8009df74)(DAT_8009e254,&DAT_800a61d0);
          uVar5 = BIOS_OBJ_6E4();
          return uVar5;
        }
      }
      *PTR_CDROM_REG0_8009e23c = bVar1 & 3;
    }
    if ((DAT_8009e254 == 2) || (DAT_8009e254 == 5)) {
      DAT_8009e254 = 2;
      puVar7 = &DAT_800a61d0;
      iVar4 = 7;
      if (param_2 != (undefined *)0x0) {
        do {
          uVar2 = *puVar7;
          puVar7 = puVar7 + 1;
          iVar4 = iVar4 + -1;
          *param_2 = uVar2;
          param_2 = param_2 + 1;
        } while (iVar4 != -1);
      }
      uVar5 = BIOS_OBJ_7DC();
      return uVar5;
    }
    if (param_1 != 0) {
      return 0;
    }
  } while( true );
}



undefined4 BIOS_OBJ_6B4(void)

{
  byte bVar1;
  undefined uVar2;
  bool bVar3;
  int in_v0;
  int iVar4;
  uint uVar5;
  undefined4 uVar6;
  undefined1 *puVar7;
  byte *unaff_s2;
  int unaff_s3;
  undefined *unaff_s4;
  int unaff_s5;
  undefined *unaff_s6;
  
  while( true ) {
    if (in_v0 != 0) {
      return 0xffffffff;
    }
    iVar4 = CheckCallback();
    if (iVar4 != 0) {
      bVar1 = *PTR_CDROM_REG0_8009e23c;
      while( true ) {
        uVar5 = getintr();
        if (uVar5 == 0) break;
        if (((uVar5 & 4) != 0) && (DAT_8009df78 != (code *)0x0)) {
          (*DAT_8009df78)(*unaff_s4,&DAT_800a61d8);
        }
        if (((uVar5 & 2) != 0) && (DAT_8009df74 != (code *)0x0)) {
          (*DAT_8009df74)(*unaff_s2,&DAT_800a61d0);
          uVar6 = BIOS_OBJ_6E4();
          return uVar6;
        }
      }
      *PTR_CDROM_REG0_8009e23c = bVar1 & 3;
    }
    if ((*unaff_s2 == 2) || (*unaff_s2 == 5)) {
      *unaff_s2 = 2;
      puVar7 = &DAT_800a61d0;
      iVar4 = 7;
      if (unaff_s6 != (undefined *)0x0) {
        do {
          uVar2 = *puVar7;
          puVar7 = puVar7 + 1;
          iVar4 = iVar4 + -1;
          *unaff_s6 = uVar2;
          unaff_s6 = unaff_s6 + 1;
        } while (iVar4 != -1);
      }
      uVar6 = BIOS_OBJ_7DC();
      return uVar6;
    }
    if (unaff_s5 != 0) {
      return 0;
    }
    iVar4 = VSync(-1);
    if ((DAT_800a61e8 < iVar4) ||
       (iVar4 = DAT_800a61ec + 1, bVar3 = 0x3c0000 < DAT_800a61ec, DAT_800a61ec = iVar4, bVar3))
    break;
    in_v0 = 0;
  }
  FUN_80085128("CD timeout: ");
  printf("%s:(%s) Sync=%s, Ready=%s\n",DAT_800a61f0,(&PTR_s_CdlSync_8009df9c)[DAT_8009df95],
         *(undefined4 *)((uint)*unaff_s2 * 4 + unaff_s3));
  CD_flush();
  uVar6 = BIOS_OBJ_6B4();
  return uVar6;
}



undefined4 BIOS_OBJ_6E4(void)

{
  undefined uVar1;
  bool bVar2;
  uint uVar3;
  undefined4 uVar4;
  int iVar5;
  undefined1 *puVar6;
  byte unaff_s1;
  byte *unaff_s2;
  int unaff_s3;
  undefined *unaff_s4;
  int unaff_s5;
  undefined *unaff_s6;
  
  do {
    while( true ) {
      uVar3 = getintr();
      if (uVar3 == 0) break;
      if (((uVar3 & 4) != 0) && (DAT_8009df78 != (code *)0x0)) {
        (*DAT_8009df78)(*unaff_s4,&DAT_800a61d8);
      }
      if (((uVar3 & 2) != 0) && (DAT_8009df74 != (code *)0x0)) {
        (*DAT_8009df74)(*unaff_s2,&DAT_800a61d0);
        uVar4 = BIOS_OBJ_6E4();
        return uVar4;
      }
    }
    *PTR_CDROM_REG0_8009e23c = unaff_s1;
    do {
      if ((*unaff_s2 == 2) || (*unaff_s2 == 5)) {
        *unaff_s2 = 2;
        puVar6 = &DAT_800a61d0;
        iVar5 = 7;
        if (unaff_s6 != (undefined *)0x0) {
          do {
            uVar1 = *puVar6;
            puVar6 = puVar6 + 1;
            iVar5 = iVar5 + -1;
            *unaff_s6 = uVar1;
            unaff_s6 = unaff_s6 + 1;
          } while (iVar5 != -1);
        }
        uVar4 = BIOS_OBJ_7DC();
        return uVar4;
      }
      if (unaff_s5 != 0) {
        return 0;
      }
      iVar5 = VSync(-1);
      if ((DAT_800a61e8 < iVar5) ||
         (iVar5 = DAT_800a61ec + 1, bVar2 = 0x3c0000 < DAT_800a61ec, DAT_800a61ec = iVar5, bVar2)) {
        FUN_80085128("CD timeout: ");
        printf("%s:(%s) Sync=%s, Ready=%s\n",DAT_800a61f0,(&PTR_s_CdlSync_8009df9c)[DAT_8009df95],
               *(undefined4 *)((uint)*unaff_s2 * 4 + unaff_s3));
        CD_flush();
        uVar4 = BIOS_OBJ_6B4();
        return uVar4;
      }
      iVar5 = CheckCallback();
    } while (iVar5 == 0);
    unaff_s1 = *PTR_CDROM_REG0_8009e23c & 3;
  } while( true );
}



void BIOS_OBJ_7DC(void)

{
  return;
}



undefined4 CD_ready(int param_1,undefined *param_2)

{
  byte bVar1;
  undefined uVar2;
  bool bVar3;
  int iVar4;
  undefined4 uVar5;
  uint uVar6;
  undefined1 *puVar7;
  
  iVar4 = VSync(-1);
  DAT_800a61e8 = iVar4 + 0x3c0;
  DAT_800a61ec = 0;
  DAT_800a61f0 = "CD_ready";
  while( true ) {
    iVar4 = VSync(-1);
    if ((DAT_800a61e8 < iVar4) ||
       (iVar4 = DAT_800a61ec + 1, bVar3 = 0x3c0000 < DAT_800a61ec, DAT_800a61ec = iVar4, bVar3)) {
      FUN_80085128("CD timeout: ");
      printf("%s:(%s) Sync=%s, Ready=%s\n",DAT_800a61f0,(&PTR_s_CdlSync_8009df9c)[DAT_8009df95],
             (&PTR_s_NoIntr_8009e01c)[DAT_8009e254],(&PTR_s_NoIntr_8009e01c)[DAT_8009e255]);
      CD_flush();
      uVar5 = BIOS_OBJ_93C();
      return uVar5;
    }
    iVar4 = CheckCallback();
    if (iVar4 != 0) {
      bVar1 = *PTR_CDROM_REG0_8009e23c;
      while( true ) {
        uVar6 = getintr();
        if (uVar6 == 0) break;
        if (((uVar6 & 4) != 0) && (DAT_8009df78 != (code *)0x0)) {
          (*DAT_8009df78)(DAT_8009e255,&DAT_800a61d8);
        }
        if (((uVar6 & 2) != 0) && (DAT_8009df74 != (code *)0x0)) {
          (*DAT_8009df74)(DAT_8009e254,&DAT_800a61d0);
          uVar5 = BIOS_OBJ_96C();
          return uVar5;
        }
      }
      *PTR_CDROM_REG0_8009e23c = bVar1 & 3;
    }
    if (DAT_8009e256 != '\0') break;
    if (DAT_8009e255 != 0) {
      DAT_8009e255 = 0;
      puVar7 = &DAT_800a61d8;
      iVar4 = 7;
      if (param_2 != (undefined *)0x0) {
        do {
          uVar2 = *puVar7;
          puVar7 = puVar7 + 1;
          iVar4 = iVar4 + -1;
          *param_2 = uVar2;
          param_2 = param_2 + 1;
        } while (iVar4 != -1);
      }
      goto BIOS_OBJ_A94;
    }
    if (param_1 != 0) {
      return 0;
    }
  }
  DAT_8009e256 = '\0';
  puVar7 = &DAT_800a61e0;
  if (param_2 != (undefined *)0x0) {
    iVar4 = 7;
    do {
      uVar2 = *puVar7;
      puVar7 = puVar7 + 1;
      iVar4 = iVar4 + -1;
      *param_2 = uVar2;
      param_2 = param_2 + 1;
    } while (iVar4 != -1);
    uVar5 = BIOS_OBJ_AA4();
    return uVar5;
  }
BIOS_OBJ_A94:
  uVar5 = BIOS_OBJ_AA4();
  return uVar5;
}



undefined4 BIOS_OBJ_93C(void)

{
  byte bVar1;
  undefined uVar2;
  bool bVar3;
  int in_v0;
  int iVar4;
  uint uVar5;
  undefined4 uVar6;
  undefined1 *puVar7;
  byte *unaff_s2;
  char *unaff_s3;
  undefined *unaff_s4;
  int unaff_s5;
  undefined *unaff_s6;
  int unaff_s7;
  
  while( true ) {
    if (in_v0 != 0) {
      return 0xffffffff;
    }
    iVar4 = CheckCallback();
    if (iVar4 != 0) {
      bVar1 = *PTR_CDROM_REG0_8009e23c;
      while( true ) {
        uVar5 = getintr();
        if (uVar5 == 0) break;
        if (((uVar5 & 4) != 0) && (DAT_8009df78 != (code *)0x0)) {
          (*DAT_8009df78)(*unaff_s6,&DAT_800a61d8);
        }
        if (((uVar5 & 2) != 0) && (DAT_8009df74 != (code *)0x0)) {
          (*DAT_8009df74)(*unaff_s2,&DAT_800a61d0);
          uVar6 = BIOS_OBJ_96C();
          return uVar6;
        }
      }
      *PTR_CDROM_REG0_8009e23c = bVar1 & 3;
    }
    if (*unaff_s3 != '\0') break;
    if (unaff_s3[-1] != '\0') {
      unaff_s3[-1] = '\0';
      puVar7 = &DAT_800a61d8;
      iVar4 = 7;
      if (unaff_s4 != (undefined *)0x0) {
        do {
          uVar2 = *puVar7;
          puVar7 = puVar7 + 1;
          iVar4 = iVar4 + -1;
          *unaff_s4 = uVar2;
          unaff_s4 = unaff_s4 + 1;
        } while (iVar4 != -1);
      }
      goto BIOS_OBJ_A94;
    }
    if (unaff_s7 != 0) {
      return 0;
    }
    iVar4 = VSync(-1);
    if ((DAT_800a61e8 < iVar4) ||
       (iVar4 = DAT_800a61ec + 1, bVar3 = 0x3c0000 < DAT_800a61ec, DAT_800a61ec = iVar4, bVar3)) {
      FUN_80085128("CD timeout: ");
      printf("%s:(%s) Sync=%s, Ready=%s\n",DAT_800a61f0,(&PTR_s_CdlSync_8009df9c)[DAT_8009df95],
             *(undefined4 *)((uint)*unaff_s2 * 4 + unaff_s5));
      CD_flush();
      uVar6 = BIOS_OBJ_93C();
      return uVar6;
    }
    in_v0 = 0;
  }
  *unaff_s3 = '\0';
  puVar7 = &DAT_800a61e0;
  if (unaff_s4 != (undefined *)0x0) {
    iVar4 = 7;
    do {
      uVar2 = *puVar7;
      puVar7 = puVar7 + 1;
      iVar4 = iVar4 + -1;
      *unaff_s4 = uVar2;
      unaff_s4 = unaff_s4 + 1;
    } while (iVar4 != -1);
    uVar6 = BIOS_OBJ_AA4();
    return uVar6;
  }
BIOS_OBJ_A94:
  uVar6 = BIOS_OBJ_AA4();
  return uVar6;
}



undefined4 BIOS_OBJ_96C(void)

{
  undefined uVar1;
  bool bVar2;
  uint uVar3;
  undefined4 uVar4;
  int iVar5;
  undefined1 *puVar6;
  byte unaff_s1;
  byte *unaff_s2;
  char *unaff_s3;
  undefined *unaff_s4;
  int unaff_s5;
  undefined *unaff_s6;
  int unaff_s7;
  
  do {
    while( true ) {
      uVar3 = getintr();
      if (uVar3 == 0) break;
      if (((uVar3 & 4) != 0) && (DAT_8009df78 != (code *)0x0)) {
        (*DAT_8009df78)(*unaff_s6,&DAT_800a61d8);
      }
      if (((uVar3 & 2) != 0) && (DAT_8009df74 != (code *)0x0)) {
        (*DAT_8009df74)(*unaff_s2,&DAT_800a61d0);
        uVar4 = BIOS_OBJ_96C();
        return uVar4;
      }
    }
    *PTR_CDROM_REG0_8009e23c = unaff_s1;
    do {
      if (*unaff_s3 != '\0') {
        *unaff_s3 = '\0';
        puVar6 = &DAT_800a61e0;
        if (unaff_s4 != (undefined *)0x0) {
          iVar5 = 7;
          do {
            uVar1 = *puVar6;
            puVar6 = puVar6 + 1;
            iVar5 = iVar5 + -1;
            *unaff_s4 = uVar1;
            unaff_s4 = unaff_s4 + 1;
          } while (iVar5 != -1);
          uVar4 = BIOS_OBJ_AA4();
          return uVar4;
        }
        goto BIOS_OBJ_A94;
      }
      if (unaff_s3[-1] != '\0') {
        unaff_s3[-1] = '\0';
        puVar6 = &DAT_800a61d8;
        iVar5 = 7;
        if (unaff_s4 != (undefined *)0x0) {
          do {
            uVar1 = *puVar6;
            puVar6 = puVar6 + 1;
            iVar5 = iVar5 + -1;
            *unaff_s4 = uVar1;
            unaff_s4 = unaff_s4 + 1;
          } while (iVar5 != -1);
        }
BIOS_OBJ_A94:
        uVar4 = BIOS_OBJ_AA4();
        return uVar4;
      }
      if (unaff_s7 != 0) {
        return 0;
      }
      iVar5 = VSync(-1);
      if ((DAT_800a61e8 < iVar5) ||
         (iVar5 = DAT_800a61ec + 1, bVar2 = 0x3c0000 < DAT_800a61ec, DAT_800a61ec = iVar5, bVar2)) {
        FUN_80085128("CD timeout: ");
        printf("%s:(%s) Sync=%s, Ready=%s\n",DAT_800a61f0,(&PTR_s_CdlSync_8009df9c)[DAT_8009df95],
               *(undefined4 *)((uint)*unaff_s2 * 4 + unaff_s5));
        CD_flush();
        uVar4 = BIOS_OBJ_93C();
        return uVar4;
      }
      iVar5 = CheckCallback();
    } while (iVar5 == 0);
    unaff_s1 = *PTR_CDROM_REG0_8009e23c & 3;
  } while( true );
}



void BIOS_OBJ_AA4(void)

{
  return;
}



int CD_cw(byte param_1,undefined *param_2,undefined *param_3,int param_4)

{
  undefined uVar1;
  byte bVar2;
  bool bVar3;
  int iVar4;
  uint uVar5;
  undefined *puVar6;
  int iVar7;
  undefined1 *puVar8;
  
  if (1 < DAT_8009df80) {
    printf("%s...\n",(&PTR_s_CdlSync_8009df9c)[param_1]);
  }
  if ((*(int *)(&DAT_8009e1bc + (uint)param_1 * 4) == 0) || (param_2 != (undefined *)0x0)) {
    CD_sync(0,0);
    if (param_1 == 2) {
      iVar4 = 0;
      puVar6 = param_2;
      do {
        (&DAT_8009df90)[iVar4] = *puVar6;
        iVar4 = iVar4 + 1;
        puVar6 = puVar6 + 1;
      } while (iVar4 < 4);
    }
    if (param_1 == 0xe) {
      DAT_8009df94 = *param_2;
    }
    iVar4 = (uint)param_1 * 4;
    DAT_8009e254 = 0;
    if (*(int *)(&DAT_8009e0bc + iVar4) != 0) {
      DAT_8009e255 = 0;
    }
    *PTR_CDROM_REG0_8009e23c = 0;
    iVar7 = 0;
    if (0 < *(int *)(&DAT_8009e1bc + iVar4)) {
      do {
        uVar1 = *param_2;
        param_2 = param_2 + 1;
        *PTR_CDROM_REG2_8009e244 = uVar1;
        iVar7 = iVar7 + 1;
      } while (iVar7 < *(int *)(&DAT_8009e1bc + iVar4));
    }
    DAT_8009df95 = param_1;
    *PTR_CDROM_REG1_8009e240 = param_1;
    iVar4 = 0;
    if (param_4 == 0) {
      iVar4 = VSync(-1);
      DAT_800a61e8 = iVar4 + 0x3c0;
      DAT_800a61ec = 0;
      DAT_800a61f0 = "CD_cw";
      while (DAT_8009e254 == 0) {
        iVar4 = VSync(-1);
        if ((DAT_800a61e8 < iVar4) ||
           (iVar4 = DAT_800a61ec + 1, bVar3 = 0x3c0000 < DAT_800a61ec, DAT_800a61ec = iVar4, bVar3))
        {
          FUN_80085128("CD timeout: ");
          printf("%s:(%s) Sync=%s, Ready=%s\n",DAT_800a61f0,(&PTR_s_CdlSync_8009df9c)[DAT_8009df95],
                 (&PTR_s_NoIntr_8009e01c)[DAT_8009e254],(&PTR_s_NoIntr_8009e01c)[DAT_8009e255]);
          CD_flush();
          iVar4 = BIOS_OBJ_DAC();
          return iVar4;
        }
        iVar4 = CheckCallback();
        if (iVar4 != 0) {
          bVar2 = *PTR_CDROM_REG0_8009e23c;
          while( true ) {
            uVar5 = getintr();
            if (uVar5 == 0) break;
            if (((uVar5 & 4) != 0) && (DAT_8009df78 != (code *)0x0)) {
              (*DAT_8009df78)(DAT_8009e255,&DAT_800a61d8);
            }
            if (((uVar5 & 2) != 0) && (DAT_8009df74 != (code *)0x0)) {
              (*DAT_8009df74)(DAT_8009e254,&DAT_800a61d0);
              iVar4 = BIOS_OBJ_DDC();
              return iVar4;
            }
          }
          *PTR_CDROM_REG0_8009e23c = bVar2 & 3;
        }
      }
      puVar8 = &DAT_800a61d0;
      if (param_3 != (undefined *)0x0) {
        iVar4 = 7;
        do {
          uVar1 = *puVar8;
          puVar8 = puVar8 + 1;
          iVar4 = iVar4 + -1;
          *param_3 = uVar1;
          param_3 = param_3 + 1;
        } while (iVar4 != -1);
      }
      iVar4 = -(uint)(DAT_8009e254 == 5);
    }
  }
  else {
    iVar4 = -2;
    if (0 < DAT_8009df80) {
      printf("%s: no param\n",(&PTR_s_CdlSync_8009df9c)[param_1]);
      iVar4 = BIOS_OBJ_EC8();
      return iVar4;
    }
  }
  return iVar4;
}



int BIOS_OBJ_DAC(void)

{
  byte bVar1;
  undefined uVar2;
  bool bVar3;
  int in_v0;
  int iVar4;
  uint uVar5;
  undefined1 *puVar6;
  byte *unaff_s2;
  int unaff_s3;
  undefined *unaff_s4;
  undefined *unaff_s5;
  
  while( true ) {
    if (in_v0 != 0) {
      return -1;
    }
    iVar4 = CheckCallback();
    if (iVar4 != 0) {
      bVar1 = *PTR_CDROM_REG0_8009e23c;
      while( true ) {
        uVar5 = getintr();
        if (uVar5 == 0) break;
        if (((uVar5 & 4) != 0) && (DAT_8009df78 != (code *)0x0)) {
          (*DAT_8009df78)(*unaff_s4,&DAT_800a61d8);
        }
        if (((uVar5 & 2) != 0) && (DAT_8009df74 != (code *)0x0)) {
          (*DAT_8009df74)(*unaff_s2,&DAT_800a61d0);
          iVar4 = BIOS_OBJ_DDC();
          return iVar4;
        }
      }
      *PTR_CDROM_REG0_8009e23c = bVar1 & 3;
    }
    if (*unaff_s2 != 0) {
      puVar6 = &DAT_800a61d0;
      if (unaff_s5 != (undefined *)0x0) {
        iVar4 = 7;
        do {
          uVar2 = *puVar6;
          puVar6 = puVar6 + 1;
          iVar4 = iVar4 + -1;
          *unaff_s5 = uVar2;
          unaff_s5 = unaff_s5 + 1;
        } while (iVar4 != -1);
      }
      return -(uint)(DAT_8009e254 == '\x05');
    }
    iVar4 = VSync(-1);
    if ((DAT_800a61e8 < iVar4) ||
       (iVar4 = DAT_800a61ec + 1, bVar3 = 0x3c0000 < DAT_800a61ec, DAT_800a61ec = iVar4, bVar3))
    break;
    in_v0 = 0;
  }
  FUN_80085128("CD timeout: ");
  printf("%s:(%s) Sync=%s, Ready=%s\n",DAT_800a61f0,(&PTR_s_CdlSync_8009df9c)[DAT_8009df95],
         *(undefined4 *)((uint)*unaff_s2 * 4 + unaff_s3));
  CD_flush();
  iVar4 = BIOS_OBJ_DAC();
  return iVar4;
}



int BIOS_OBJ_DDC(void)

{
  undefined uVar1;
  bool bVar2;
  uint uVar3;
  int iVar4;
  undefined1 *puVar5;
  byte unaff_s1;
  byte *unaff_s2;
  int unaff_s3;
  undefined *unaff_s4;
  undefined *unaff_s5;
  
  do {
    while( true ) {
      uVar3 = getintr();
      if (uVar3 == 0) break;
      if (((uVar3 & 4) != 0) && (DAT_8009df78 != (code *)0x0)) {
        (*DAT_8009df78)(*unaff_s4,&DAT_800a61d8);
      }
      if (((uVar3 & 2) != 0) && (DAT_8009df74 != (code *)0x0)) {
        (*DAT_8009df74)(*unaff_s2,&DAT_800a61d0);
        iVar4 = BIOS_OBJ_DDC();
        return iVar4;
      }
    }
    *PTR_CDROM_REG0_8009e23c = unaff_s1;
    do {
      if (*unaff_s2 != 0) {
        puVar5 = &DAT_800a61d0;
        if (unaff_s5 != (undefined *)0x0) {
          iVar4 = 7;
          do {
            uVar1 = *puVar5;
            puVar5 = puVar5 + 1;
            iVar4 = iVar4 + -1;
            *unaff_s5 = uVar1;
            unaff_s5 = unaff_s5 + 1;
          } while (iVar4 != -1);
        }
        return -(uint)(DAT_8009e254 == '\x05');
      }
      iVar4 = VSync(-1);
      if ((DAT_800a61e8 < iVar4) ||
         (iVar4 = DAT_800a61ec + 1, bVar2 = 0x3c0000 < DAT_800a61ec, DAT_800a61ec = iVar4, bVar2)) {
        FUN_80085128("CD timeout: ");
        printf("%s:(%s) Sync=%s, Ready=%s\n",DAT_800a61f0,(&PTR_s_CdlSync_8009df9c)[DAT_8009df95],
               *(undefined4 *)((uint)*unaff_s2 * 4 + unaff_s3));
        CD_flush();
        iVar4 = BIOS_OBJ_DAC();
        return iVar4;
      }
      iVar4 = CheckCallback();
    } while (iVar4 == 0);
    unaff_s1 = *PTR_CDROM_REG0_8009e23c & 3;
  } while( true );
}



void BIOS_OBJ_EC8(void)

{
  return;
}



undefined4 CD_vol(undefined *param_1)

{
  *PTR_CDROM_REG0_8009e23c = 2;
  *PTR_CDROM_REG2_8009e244 = *param_1;
  *PTR_CDROM_REG3_8009e248 = param_1[1];
  *PTR_CDROM_REG0_8009e23c = 3;
  *PTR_CDROM_REG1_8009e240 = param_1[2];
  *PTR_CDROM_REG2_8009e244 = param_1[3];
  *PTR_CDROM_REG3_8009e248 = 0x20;
  return 0;
}



void CD_flush(void)

{
  byte bVar1;
  
  *PTR_CDROM_REG0_8009e23c = 1;
  bVar1 = *PTR_CDROM_REG3_8009e248;
  while ((bVar1 & 7) != 0) {
    *PTR_CDROM_REG0_8009e23c = 1;
    *PTR_CDROM_REG3_8009e248 = 7;
    *PTR_CDROM_REG2_8009e244 = 7;
    bVar1 = *PTR_CDROM_REG3_8009e248;
  }
  DAT_8009e256 = 0;
  DAT_8009e255 = 0;
  DAT_8009e254 = 2;
  *PTR_CDROM_REG0_8009e23c = 0;
  *PTR_CDROM_REG3_8009e248 = 0;
  *(undefined4 *)PTR_COMMON_DELAY_8009e24c = 0x1325;
  return;
}



undefined4 CD_initvol(void)

{
  undefined *puVar1;
  
  puVar1 = PTR_VOICE_00_LEFT_RIGHT_8009e250;
  if ((*(short *)(PTR_VOICE_00_LEFT_RIGHT_8009e250 + 0x1b8) == 0) &&
     (*(short *)(PTR_VOICE_00_LEFT_RIGHT_8009e250 + 0x1ba) == 0)) {
    *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_8009e250 + 0x180) = 0x3fff;
    *(undefined2 *)(puVar1 + 0x182) = 0x3fff;
  }
  puVar1 = PTR_VOICE_00_LEFT_RIGHT_8009e250;
  *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_8009e250 + 0x1b0) = 0x3fff;
  *(undefined2 *)(puVar1 + 0x1b2) = 0x3fff;
  *(undefined2 *)(puVar1 + 0x1aa) = 0xc001;
  *PTR_CDROM_REG0_8009e23c = 2;
  *PTR_CDROM_REG2_8009e244 = 0x80;
  *PTR_CDROM_REG3_8009e248 = 0;
  *PTR_CDROM_REG0_8009e23c = 3;
  *PTR_CDROM_REG1_8009e240 = 0x80;
  *PTR_CDROM_REG2_8009e244 = 0;
  *PTR_CDROM_REG3_8009e248 = 0x20;
  return 0;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void CD_initintr(void)

{
  DAT_8009df78 = 0;
  DAT_8009df74 = 0;
  DAT_8009df88 = 0;
  _DAT_8009df84 = 0;
  ResetCallback();
  InterruptCallback(2,callback);
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

int CD_init(void)

{
  byte bVar1;
  int iVar2;
  int iVar3;
  
  FUN_80085128("CD_init:");
  printf("addr=%08x\n",&PTR_DAT_8009e258);
  DAT_8009df95 = 0;
  DAT_8009df94 = 0;
  DAT_8009df78 = 0;
  DAT_8009df74 = 0;
  DAT_8009df88 = 0;
  _DAT_8009df84 = 0;
  ResetCallback();
  InterruptCallback(2,callback);
  *PTR_CDROM_REG0_8009e23c = 1;
  bVar1 = *PTR_CDROM_REG3_8009e248;
  while ((bVar1 & 7) != 0) {
    *PTR_CDROM_REG0_8009e23c = 1;
    *PTR_CDROM_REG3_8009e248 = 7;
    *PTR_CDROM_REG2_8009e244 = 7;
    bVar1 = *PTR_CDROM_REG3_8009e248;
  }
  DAT_8009e256 = 0;
  DAT_8009e255 = 0;
  DAT_8009e254 = 2;
  *PTR_CDROM_REG0_8009e23c = 0;
  *PTR_CDROM_REG3_8009e248 = 0;
  *(undefined4 *)PTR_COMMON_DELAY_8009e24c = 0x1325;
  CD_cw(1,0,0,0);
  if ((_DAT_8009df84 & 0x10) != 0) {
    CD_cw(1,0,0,0);
  }
  iVar2 = CD_cw(10,0,0,0);
  iVar3 = -1;
  if (iVar2 == 0) {
    iVar2 = CD_cw(0xc,0,0,0);
    iVar3 = -1;
    if (iVar2 == 0) {
      iVar3 = CD_sync(0,0);
      iVar3 = -(uint)(iVar3 != 2);
    }
  }
  return iVar3;
}



undefined4 CD_datasync(int param_1)

{
  int iVar1;
  int iVar2;
  undefined4 uVar3;
  
  iVar1 = VSync(-1);
  DAT_800a61e8 = iVar1 + 0x3c0;
  DAT_800a61ec = 0;
  DAT_800a61f0 = "CD_datasync";
  while (iVar2 = VSync(-1), iVar1 = DAT_800a61ec, iVar2 <= DAT_800a61e8) {
    DAT_800a61ec = DAT_800a61ec + 1;
    if (0x3c0000 < iVar1) break;
    uVar3 = 0;
    if (((*(uint *)PTR_DMA_CDROM_CHCR_8009e280 & 0x1000000) == 0) || (uVar3 = 1, param_1 != 0)) {
      return uVar3;
    }
  }
  FUN_80085128("CD timeout: ");
  printf("%s:(%s) Sync=%s, Ready=%s\n",DAT_800a61f0,(&PTR_s_CdlSync_8009df9c)[DAT_8009df95],
         (&PTR_s_NoIntr_8009e01c)[DAT_8009e254],(&PTR_s_NoIntr_8009e01c)[DAT_8009e255]);
  CD_flush();
  uVar3 = BIOS_OBJ_14A4();
  return uVar3;
}



undefined4 BIOS_OBJ_14A4(void)

{
  bool bVar1;
  int iVar2;
  int in_v0;
  undefined4 uVar3;
  int unaff_s0;
  byte *unaff_s1;
  int unaff_s2;
  int unaff_s3;
  
  while (((uVar3 = 0xffffffff, in_v0 == 0 &&
          (uVar3 = 0, (*(uint *)PTR_DMA_CDROM_CHCR_8009e280 & 0x1000000) != 0)) &&
         (uVar3 = 1, unaff_s2 == 0))) {
    iVar2 = VSync(-1);
    if ((DAT_800a61e8 < iVar2) ||
       (iVar2 = DAT_800a61ec + 1, bVar1 = 0x3c0000 < DAT_800a61ec, DAT_800a61ec = iVar2, bVar1)) {
      FUN_80085128("CD timeout: ");
      printf("%s:(%s) Sync=%s, Ready=%s\n",DAT_800a61f0,
             *(undefined4 *)((uint)DAT_8009df95 * 4 + unaff_s3),
             *(undefined4 *)((uint)*unaff_s1 * 4 + unaff_s0));
      CD_flush();
      uVar3 = BIOS_OBJ_14A4();
      return uVar3;
    }
    in_v0 = 0;
  }
  return uVar3;
}



undefined4 CD_getsector(undefined4 param_1,uint param_2)

{
  uint uVar1;
  
  *PTR_CDROM_REG0_8009e23c = 0;
  *PTR_CDROM_REG3_8009e248 = 0x80;
  *(undefined4 *)PTR_CDROM_DELAY_8009e270 = 0x20943;
  *(undefined4 *)PTR_COMMON_DELAY_8009e24c = 0x1323;
  *(uint *)PTR_DMA_DPCR_8009e274 = *(uint *)PTR_DMA_DPCR_8009e274 | 0x8000;
  *(undefined4 *)PTR_DMA_CDROM_MADR_8009e278 = param_1;
  *(uint *)PTR_DMA_CDROM_BCR_8009e27c = param_2 | 0x10000;
  do {
  } while ((*PTR_CDROM_REG0_8009e23c & 0x40) == 0);
  *(undefined4 *)PTR_DMA_CDROM_CHCR_8009e280 = 0x11000000;
  uVar1 = *(uint *)PTR_DMA_CDROM_CHCR_8009e280;
  while ((uVar1 & 0x1000000) != 0) {
    uVar1 = *(uint *)PTR_DMA_CDROM_CHCR_8009e280;
  }
  *(undefined4 *)PTR_COMMON_DELAY_8009e24c = 0x1325;
  return 0;
}



undefined4 CD_getsector2(undefined4 param_1,uint param_2)

{
  byte bVar1;
  
  *PTR_CDROM_REG0_8009e23c = 0;
  *PTR_CDROM_REG3_8009e248 = 0x80;
  *(undefined4 *)PTR_CDROM_DELAY_8009e270 = 0x21020843;
  *(undefined4 *)PTR_COMMON_DELAY_8009e24c = 0x1325;
  *(uint *)PTR_DMA_DPCR_8009e274 = *(uint *)PTR_DMA_DPCR_8009e274 | 0x8000;
  *(undefined4 *)PTR_DMA_CDROM_MADR_8009e278 = param_1;
  *(uint *)PTR_DMA_CDROM_BCR_8009e27c = param_2 | 0x10000;
  bVar1 = *PTR_CDROM_REG0_8009e23c;
  while ((bVar1 & 0x40) == 0) {
    bVar1 = *PTR_CDROM_REG0_8009e23c;
  }
  *(undefined4 *)PTR_DMA_CDROM_CHCR_8009e280 = 0x11400100;
  return 0;
}



// Possible GS_101.OBJ/GsSetNearClip
// Possible GS_102.OBJ/GsSetFarClip
// Possible GS_124.OBJ/GsSetWorkBase

void CD_set_test_parmnum(undefined4 param_1)

{
  DAT_8009e220 = param_1;
  return;
}



void callback(void)

{
  byte bVar1;
  uint uVar2;
  
  bVar1 = *PTR_CDROM_REG0_8009e23c;
  do {
    uVar2 = getintr();
    if (uVar2 == 0) {
      *PTR_CDROM_REG0_8009e23c = bVar1 & 3;
      return;
    }
    if (((uVar2 & 4) != 0) && (DAT_8009df78 != (code *)0x0)) {
      (*DAT_8009df78)(DAT_8009e255,&DAT_800a61d8);
    }
  } while (((uVar2 & 2) == 0) || (DAT_8009df74 == (code *)0x0));
  (*DAT_8009df74)(DAT_8009e254,&DAT_800a61d0);
  BIOS_OBJ_1728();
  return;
}



void BIOS_OBJ_1728(void)

{
  uint uVar1;
  undefined *unaff_s1;
  undefined unaff_s2;
  undefined *unaff_s3;
  
  do {
    uVar1 = getintr();
    if (uVar1 == 0) {
      *PTR_CDROM_REG0_8009e23c = unaff_s2;
      return;
    }
    if (((uVar1 & 4) != 0) && (DAT_8009df78 != (code *)0x0)) {
      (*DAT_8009df78)(*unaff_s1,&DAT_800a61d8);
    }
  } while (((uVar1 & 2) == 0) || (DAT_8009df74 == (code *)0x0));
  (*DAT_8009df74)(*unaff_s3,&DAT_800a61d0);
  BIOS_OBJ_1728();
  return;
}



// Possible A63.OBJ/puts

void FUN_80085128(void)

{
  (*(code *)&SUB_000000b0)();
  return;
}



CdlFILE * CdSearchFile(CdlFILE *_30,char *name)

{
  char cVar1;
  int iVar2;
  CdlFILE *pCVar3;
  undefined1 *puVar4;
  int iVar5;
  CdlLOC CVar6;
  CdlLOC CVar7;
  CdlLOC CVar8;
  char *pcVar9;
  CdlLOC *pCVar10;
  char *pcVar11;
  int iVar12;
  char local_38 [32];
  
  if (DAT_8009e288 != DAT_8009df8c) {
    iVar2 = CD_newmedia();
    if (iVar2 == 0) {
      return (CdlFILE *)0x0;
    }
    DAT_8009e288 = DAT_8009df8c;
  }
  iVar2 = 1;
  if (*name != '\\') {
    pCVar3 = (CdlFILE *)ISO9660_OBJ_2A8();
    return pCVar3;
  }
  local_38[0] = '\0';
  iVar12 = 0;
  pcVar9 = name;
  do {
    pcVar11 = local_38;
    cVar1 = *pcVar9;
    while (cVar1 != '\\') {
      if (cVar1 == '\0') goto ISO9660_OBJ_FC;
      pcVar9 = pcVar9 + 1;
      *pcVar11 = cVar1;
      pcVar11 = pcVar11 + 1;
      cVar1 = *pcVar9;
    }
    if (*pcVar9 == '\0') break;
    pcVar9 = pcVar9 + 1;
    *pcVar11 = '\0';
    iVar2 = CD_searchdir(iVar2,local_38);
    if (iVar2 == -1) {
      local_38[0] = '\0';
      pCVar3 = (CdlFILE *)ISO9660_OBJ_F8();
      return pCVar3;
    }
    iVar12 = iVar12 + 1;
  } while (iVar12 < 8);
ISO9660_OBJ_FC:
  if (iVar12 < 8) {
    if (local_38[0] == '\0') {
      if (0 < DAT_8009df80) {
        pCVar3 = (CdlFILE *)ISO9660_OBJ_29C("%s: dir was not found\n",name);
        return pCVar3;
      }
    }
    else {
      *pcVar11 = '\0';
      iVar2 = CD_cachefile();
      if (iVar2 == 0) {
        if (0 < DAT_8009df80) {
          printf("CdSearchFile: disc error\n");
          pCVar3 = (CdlFILE *)ISO9660_OBJ_2A8();
          return pCVar3;
        }
      }
      else {
        if (1 < DAT_8009df80) {
          printf("CdSearchFile: searching %s...\n",local_38);
        }
        iVar12 = 0;
        puVar4 = &DAT_800a6200;
        pCVar10 = (CdlLOC *)&DAT_800a61f8;
        iVar2 = 0;
        do {
          if ((&DAT_800a6200)[iVar2] == '\0') break;
          iVar5 = _cmp(puVar4,local_38);
          if (iVar5 != 0) {
            if (1 < DAT_8009df80) {
              printf("%s:  found\n",local_38);
            }
            CVar6 = pCVar10[1];
            CVar7 = pCVar10[2];
            CVar8 = pCVar10[3];
            _30->pos = *pCVar10;
            _30->size = (u_long)CVar6;
            *(CdlLOC *)_30->name = CVar7;
            *(CdlLOC *)(_30->name + 4) = CVar8;
            CVar6 = pCVar10[5];
            *(CdlLOC *)(_30->name + 8) = pCVar10[4];
            *(CdlLOC *)(_30->name + 0xc) = CVar6;
            pCVar3 = (CdlFILE *)ISO9660_OBJ_2A8();
            return pCVar3;
          }
          pCVar10 = pCVar10 + 6;
          puVar4 = puVar4 + 0x18;
          iVar12 = iVar12 + 1;
          iVar2 = iVar2 + 0x18;
        } while (iVar12 < 0x40);
        if (0 < DAT_8009df80) {
          printf("%s: not found\n",local_38);
        }
      }
    }
  }
  else if (0 < DAT_8009df80) {
    printf("%s: path level (%d) error\n",name,iVar12);
    pCVar3 = (CdlFILE *)ISO9660_OBJ_2A8();
    return pCVar3;
  }
  return (CdlFILE *)0x0;
}



undefined4 ISO9660_OBJ_F8(void)

{
  undefined4 uVar1;
  int iVar2;
  undefined1 *puVar3;
  int iVar4;
  undefined4 uVar5;
  undefined4 uVar6;
  undefined4 *puVar7;
  undefined *unaff_s1;
  int unaff_s2;
  int iVar8;
  undefined4 *unaff_s4;
  char param_5;
  
  if (unaff_s2 < 8) {
    if (param_5 == '\0') {
      if (0 < DAT_8009df80) {
        uVar1 = ISO9660_OBJ_29C("%s: dir was not found\n");
        return uVar1;
      }
    }
    else {
      *unaff_s1 = 0;
      iVar2 = CD_cachefile();
      if (iVar2 == 0) {
        if (0 < DAT_8009df80) {
          printf("CdSearchFile: disc error\n");
          uVar1 = ISO9660_OBJ_2A8();
          return uVar1;
        }
      }
      else {
        if (1 < DAT_8009df80) {
          printf("CdSearchFile: searching %s...\n",&stack0x00000010);
        }
        iVar8 = 0;
        puVar3 = &DAT_800a6200;
        puVar7 = &DAT_800a61f8;
        iVar2 = 0;
        do {
          if ((&DAT_800a6200)[iVar2] == '\0') break;
          iVar4 = _cmp(puVar3,&stack0x00000010);
          if (iVar4 != 0) {
            if (1 < DAT_8009df80) {
              printf("%s:  found\n",&stack0x00000010);
            }
            uVar1 = puVar7[1];
            uVar5 = puVar7[2];
            uVar6 = puVar7[3];
            *unaff_s4 = *puVar7;
            unaff_s4[1] = uVar1;
            unaff_s4[2] = uVar5;
            unaff_s4[3] = uVar6;
            uVar1 = puVar7[5];
            unaff_s4[4] = puVar7[4];
            unaff_s4[5] = uVar1;
            uVar1 = ISO9660_OBJ_2A8();
            return uVar1;
          }
          puVar7 = puVar7 + 6;
          puVar3 = puVar3 + 0x18;
          iVar8 = iVar8 + 1;
          iVar2 = iVar2 + 0x18;
        } while (iVar8 < 0x40);
        if (0 < DAT_8009df80) {
          printf("%s: not found\n",&stack0x00000010);
        }
      }
    }
  }
  else if (0 < DAT_8009df80) {
    printf("%s: path level (%d) error\n");
    uVar1 = ISO9660_OBJ_2A8();
    return uVar1;
  }
  return 0;
}



undefined4 ISO9660_OBJ_29C(char *param_1)

{
  printf(param_1);
  return 0;
}



void ISO9660_OBJ_2A8(void)

{
  return;
}



bool _cmp(char *param_1,char *param_2)

{
  int iVar1;
  
  iVar1 = strncmp(param_1,param_2,0xc);
  return iVar1 == 0;
}



undefined4 CD_newmedia(void)

{
  undefined *puVar1;
  byte bVar2;
  uint uVar3;
  uint *puVar4;
  int iVar5;
  undefined4 uVar6;
  uint uVar7;
  uint uVar8;
  byte *pbVar9;
  uchar *puVar10;
  int iVar11;
  undefined8 uVar12;
  undefined local_28 [8];
  
  pbVar9 = &DAT_800a7df8;
  iVar5 = cd_read(1,0x10,&DAT_800a7df8);
  if (iVar5 == 1) {
    iVar5 = strncmp(&DAT_800a7df9,"CD001",5);
    if (iVar5 == 0) {
      puVar1 = local_28 + 3;
      uVar8 = (uint)puVar1 & 3;
      *(uint *)(puVar1 + -uVar8) =
           *(uint *)(puVar1 + -uVar8) & -1 << (uVar8 + 1) * 8 | DAT_800a7e84 >> (3 - uVar8) * 8;
      local_28._0_4_ = DAT_800a7e84;
      uVar12 = cd_read(1,DAT_800a7e84,&DAT_800a7df8);
      uVar8 = (uint)((ulonglong)uVar12 >> 0x20);
      if ((int)uVar12 == 1) {
        if (1 < DAT_8009df80) {
          printf("CD_newmedia: sarching dir..\n");
        }
        iVar5 = 0;
        do {
          iVar11 = iVar5;
          if (*pbVar9 == 0) break;
          uVar3 = (uint)(pbVar9 + 5) & 3;
          uVar7 = (uint)(pbVar9 + 2) & 3;
          uVar7 = (*(int *)(pbVar9 + 5 + -uVar3) << (3 - uVar3) * 8 |
                  uVar8 & 0xffffffffU >> (uVar3 + 1) * 8) & -1 << (4 - uVar7) * 8 |
                  *(uint *)(pbVar9 + 2 + -uVar7) >> uVar7 * 8;
          uVar8 = iVar5 * 0x2c + 0x800a6803;
          uVar3 = uVar8 & 3;
          puVar4 = (uint *)(uVar8 - uVar3);
          *puVar4 = *puVar4 & -1 << (uVar3 + 1) * 8 | uVar7 >> (3 - uVar3) * 8;
          (&DAT_800a6800)[iVar5 * 0xb] = uVar7;
          puVar10 = &DAT_800a6804 + iVar5 * 0x2c;
          bVar2 = pbVar9[6];
          iVar11 = iVar5 + 1;
          (&DAT_800a67f8)[iVar5 * 0xb] = iVar11;
          (&DAT_800a67fc)[iVar5 * 0xb] = (uint)bVar2;
          memcpy(puVar10,pbVar9 + 8,(uint)*pbVar9);
          puVar10[*pbVar9] = '\0';
          uVar8 = (uint)*pbVar9 + (*pbVar9 & 1) + 8;
          pbVar9 = pbVar9 + uVar8;
          if (1 < DAT_8009df80) {
            printf("\t%08x,%04x,%04x,%s\n",(&DAT_800a6800)[iVar5 * 0xb],(&DAT_800a67f8)[iVar5 * 0xb]
                   ,(&DAT_800a67fc)[iVar5 * 0xb],puVar10);
          }
          if (0x7f < iVar11) goto ISO9660_OBJ_574;
          iVar5 = iVar11;
        } while (pbVar9 < &DAT_800a85f8);
        if (iVar11 < 0x80) {
          (&DAT_800a67fc)[iVar11 * 0xb] = 0;
        }
ISO9660_OBJ_574:
        DAT_8009e284 = 0;
        uVar6 = 1;
        if (1 < DAT_8009df80) {
          printf("CD_newmedia: %d dir entries found\n",iVar11);
          uVar6 = 1;
        }
      }
      else {
        uVar6 = 0;
        if (0 < DAT_8009df80) {
          printf("CD_newmedia: Read error (PT:%08x)\n",local_28._0_4_);
          uVar6 = ISO9660_OBJ_5A4();
          return uVar6;
        }
      }
    }
    else {
      uVar6 = 0;
      if (0 < DAT_8009df80) {
        printf("CD_newmedia: Disc format error in cd_read(PVD)\n");
        uVar6 = ISO9660_OBJ_5A4();
        return uVar6;
      }
    }
  }
  else {
    uVar6 = 0;
    if (0 < DAT_8009df80) {
      printf("CD_newmedia: Read error in cd_read(PVD)\n");
      uVar6 = ISO9660_OBJ_5A4();
      return uVar6;
    }
  }
  return uVar6;
}



void ISO9660_OBJ_5A4(void)

{
  return;
}



undefined4 CD_searchdir(int param_1,char *param_2)

{
  int iVar1;
  undefined4 uVar2;
  int iVar3;
  int iVar4;
  char *pcVar5;
  
  iVar3 = 0;
  pcVar5 = &DAT_800a6804;
  iVar4 = 0;
  while( true ) {
    if (*(int *)((int)&DAT_800a67fc + iVar4) == 0) {
      return 0xffffffff;
    }
    if ((*(int *)((int)&DAT_800a67fc + iVar4) == param_1) &&
       (iVar1 = strcmp(param_2,pcVar5), iVar1 == 0)) break;
    pcVar5 = pcVar5 + 0x2c;
    iVar3 = iVar3 + 1;
    iVar4 = iVar4 + 0x2c;
    if (0x7f < iVar3) {
      return 0xffffffff;
    }
  }
  uVar2 = ISO9660_OBJ_650();
  return uVar2;
}



void ISO9660_OBJ_650(void)

{
  return;
}



// WARNING: Removing unreachable block (ram,0x800858f4)
// WARNING: Removing unreachable block (ram,0x800858fc)
// WARNING: Removing unreachable block (ram,0x80085914)
// WARNING: Globals starting with '_' overlap smaller symbols at the same address

undefined4 CD_cachefile(int param_1)

{
  undefined *puVar1;
  uint uVar2;
  int iVar3;
  undefined4 uVar4;
  undefined local_28 [8];
  
  if (param_1 != DAT_8009e284) {
    iVar3 = cd_read(1,*(undefined4 *)(&DAT_800a67d4 + param_1 * 0x2c),&DAT_800a7df8);
    if (iVar3 != 1) {
      if (DAT_8009df80 < 1) {
        return 0xffffffff;
      }
      printf("CD_cachefile: dir not found\n");
      uVar4 = ISO9660_OBJ_8F4();
      return uVar4;
    }
    if (1 < DAT_8009df80) {
      printf("CD_cachefile: searching...\n");
    }
    if (DAT_800a7df8 != '\0') {
      local_28._0_4_ = DAT_800a7dfc << 0x10 | _DAT_800a7df8 >> 0x10;
      puVar1 = local_28 + 3;
      uVar2 = (uint)puVar1 & 3;
      *(uint *)(puVar1 + -uVar2) =
           *(uint *)(puVar1 + -uVar2) & -1 << (uVar2 + 1) * 8 |
           (uint)local_28._0_4_ >> (3 - uVar2) * 8;
      CdIntToPos(local_28._0_4_,(CdlLOC *)&DAT_800a61f8);
      DAT_800a61fc = DAT_800a7e04 << 0x10 | DAT_800a7e00 >> 0x10;
      _DAT_800a6200 = 0x2e;
      uVar4 = ISO9660_OBJ_810();
      return uVar4;
    }
    _DAT_800a6200 = _DAT_800a6200 & 0xff00;
    if (DAT_8009df80 < 2) {
      DAT_8009e284 = param_1;
      return 1;
    }
    DAT_8009e284 = param_1;
    printf("CD_cachefile: %d files found\n",0);
  }
                    // WARNING: Read-only address (ram,0x800a7df8) is written
                    // WARNING: Read-only address (ram,0x800a7dfc) is written
                    // WARNING: Read-only address (ram,0x800a7e00) is written
                    // WARNING: Read-only address (ram,0x800a7e04) is written
  return 1;
}



undefined4 ISO9660_OBJ_7F4(uchar *param_1)

{
  uint uVar1;
  uint *puVar2;
  uint uVar3;
  undefined4 uVar4;
  uint uVar5;
  uint in_v1;
  byte *unaff_s0;
  byte *pbVar6;
  int unaff_s1;
  int unaff_s2;
  int iVar7;
  int unaff_s3;
  int unaff_s4;
  int unaff_s5;
  undefined4 unaff_s6;
  uint in_stack_00000018;
  
  memcpy(param_1,unaff_s0 + 0x21,(uint)unaff_s0[0x20]);
  *(undefined *)(unaff_s3 + (uint)unaff_s0[0x20]) = 0;
  if (1 < DAT_8009df80) {
    printf("\t(%02x:%02x:%02x) %8d %s\n",(uint)*(byte *)((int)&DAT_800a61f8 + unaff_s1),
           (uint)*(byte *)((int)&DAT_800a61f8 + unaff_s1 + 1),
           (uint)*(byte *)((int)&DAT_800a61f8 + unaff_s1 + 2));
  }
  iVar7 = unaff_s2 + 1;
  pbVar6 = unaff_s0 + *unaff_s0;
  if (((0x3f < iVar7) || (&UNK_800a85f7 < pbVar6)) || (*pbVar6 == 0)) {
    DAT_8009e284 = unaff_s6;
    if (iVar7 < 0x40) {
      (&DAT_800a6200)[iVar7 * 0x18] = 0;
    }
    if (1 < DAT_8009df80) {
      printf("CD_cachefile: %d files found\n",iVar7);
    }
    return 1;
  }
  uVar1 = (uint)(pbVar6 + 5) & 3;
  uVar5 = (uint)(pbVar6 + 2) & 3;
  in_stack_00000018 =
       (*(int *)(pbVar6 + 5 + -uVar1) << (3 - uVar1) * 8 |
       (uint)*pbVar6 & 0xffffffffU >> (uVar1 + 1) * 8) & -1 << (4 - uVar5) * 8 |
       *(uint *)(pbVar6 + 2 + -uVar5) >> uVar5 * 8;
  uVar1 = (int)&stack0x00000018 + 3U & 3;
  puVar2 = (uint *)(((int)&stack0x00000018 + 3U) - uVar1);
  *puVar2 = *puVar2 & -1 << (uVar1 + 1) * 8 | in_stack_00000018 >> (3 - uVar1) * 8;
  CdIntToPos(in_stack_00000018,(CdlLOC *)(unaff_s4 + 0x18));
  uVar3 = unaff_s1 + unaff_s5 + 0x1c;
  uVar1 = (uint)(pbVar6 + 0xd) & 3;
  uVar5 = (uint)(pbVar6 + 10) & 3;
  uVar5 = (*(int *)(pbVar6 + 0xd + -uVar1) << (3 - uVar1) * 8 |
          in_v1 & 0xffffffffU >> (uVar1 + 1) * 8) & -1 << (4 - uVar5) * 8 |
          *(uint *)(pbVar6 + 10 + -uVar5) >> uVar5 * 8;
  uVar1 = uVar3 + 3 & 3;
  puVar2 = (uint *)((uVar3 + 3) - uVar1);
  *puVar2 = *puVar2 & -1 << (uVar1 + 1) * 8 | uVar5 >> (3 - uVar1) * 8;
  uVar1 = uVar3 & 3;
  *(uint *)(uVar3 - uVar1) =
       *(uint *)(uVar3 - uVar1) & 0xffffffffU >> (4 - uVar1) * 8 | uVar5 << uVar1 * 8;
  if (iVar7 == 0) {
    *(undefined2 *)(unaff_s5 + 8) = 0x2e;
    uVar4 = ISO9660_OBJ_810();
    return uVar4;
  }
  if (iVar7 != 1) {
    uVar4 = ISO9660_OBJ_7F4();
    return uVar4;
  }
  *(undefined2 *)(unaff_s5 + 0x20) = 0x2e2e;
  *(undefined *)(unaff_s5 + 0x22) = 0;
  uVar4 = ISO9660_OBJ_810(unaff_s3 + 0x18);
  return uVar4;
}



undefined4 ISO9660_OBJ_810(void)

{
  uint uVar1;
  uint *puVar2;
  uint uVar3;
  undefined4 uVar4;
  uint uVar5;
  uint in_v1;
  byte *unaff_s0;
  byte *pbVar6;
  int unaff_s1;
  int unaff_s2;
  int iVar7;
  int unaff_s3;
  int unaff_s4;
  int unaff_s5;
  undefined4 unaff_s6;
  uint param_7;
  
  if (1 < DAT_8009df80) {
    printf("\t(%02x:%02x:%02x) %8d %s\n",(uint)*(byte *)((int)&DAT_800a61f8 + unaff_s1),
           (uint)*(byte *)((int)&DAT_800a61f8 + unaff_s1 + 1),
           (uint)*(byte *)((int)&DAT_800a61f8 + unaff_s1 + 2));
  }
  iVar7 = unaff_s2 + 1;
  pbVar6 = unaff_s0 + *unaff_s0;
  if (((0x3f < iVar7) || (&UNK_800a85f7 < pbVar6)) || (*pbVar6 == 0)) {
    DAT_8009e284 = unaff_s6;
    if (iVar7 < 0x40) {
      (&DAT_800a6200)[iVar7 * 0x18] = 0;
    }
    if (1 < DAT_8009df80) {
      printf("CD_cachefile: %d files found\n",iVar7);
    }
    return 1;
  }
  uVar1 = (uint)(pbVar6 + 5) & 3;
  uVar5 = (uint)(pbVar6 + 2) & 3;
  param_7 = (*(int *)(pbVar6 + 5 + -uVar1) << (3 - uVar1) * 8 |
            (uint)*pbVar6 & 0xffffffffU >> (uVar1 + 1) * 8) & -1 << (4 - uVar5) * 8 |
            *(uint *)(pbVar6 + 2 + -uVar5) >> uVar5 * 8;
  uVar1 = (int)&stack0x00000018 + 3U & 3;
  puVar2 = (uint *)(((int)&stack0x00000018 + 3U) - uVar1);
  *puVar2 = *puVar2 & -1 << (uVar1 + 1) * 8 | param_7 >> (3 - uVar1) * 8;
  CdIntToPos(param_7,(CdlLOC *)(unaff_s4 + 0x18));
  uVar3 = unaff_s1 + unaff_s5 + 0x1c;
  uVar1 = (uint)(pbVar6 + 0xd) & 3;
  uVar5 = (uint)(pbVar6 + 10) & 3;
  uVar5 = (*(int *)(pbVar6 + 0xd + -uVar1) << (3 - uVar1) * 8 |
          in_v1 & 0xffffffffU >> (uVar1 + 1) * 8) & -1 << (4 - uVar5) * 8 |
          *(uint *)(pbVar6 + 10 + -uVar5) >> uVar5 * 8;
  uVar1 = uVar3 + 3 & 3;
  puVar2 = (uint *)((uVar3 + 3) - uVar1);
  *puVar2 = *puVar2 & -1 << (uVar1 + 1) * 8 | uVar5 >> (3 - uVar1) * 8;
  uVar1 = uVar3 & 3;
  *(uint *)(uVar3 - uVar1) =
       *(uint *)(uVar3 - uVar1) & 0xffffffffU >> (4 - uVar1) * 8 | uVar5 << uVar1 * 8;
  if (iVar7 == 0) {
    *(undefined2 *)(unaff_s5 + 8) = 0x2e;
    uVar4 = ISO9660_OBJ_810();
    return uVar4;
  }
  if (iVar7 != 1) {
    uVar4 = ISO9660_OBJ_7F4();
    return uVar4;
  }
  *(undefined2 *)(unaff_s5 + 0x20) = 0x2e2e;
  *(undefined *)(unaff_s5 + 0x22) = 0;
  uVar4 = ISO9660_OBJ_810(unaff_s3 + 0x18);
  return uVar4;
}



void ISO9660_OBJ_8F4(void)

{
  return;
}



bool cd_read(int param_1,int param_2,u_long *param_3)

{
  int iVar1;
  CdlLOC aCStack_18 [2];
  
  CdIntToPos(param_2,aCStack_18);
  CdControl('\x02',&aCStack_18[0].minute,(u_char *)0x0);
  CdRead(param_1,param_3,0x80);
  iVar1 = CdReadSync(0,(u_char *)0x0);
  return iVar1 == 0;
}



int strncmp(char *param_1,char *param_2,int param_3)

{
  int iVar1;
  
  iVar1 = (*(code *)&LAB_000000a0)();
  return iVar1;
}



void cb_read(char param_1,undefined4 param_2)

{
  int iVar1;
  undefined4 uVar2;
  CdlLOC aCStack_18 [4];
  
  DAT_8009e2c4 = param_2;
  if (param_1 == '\x01') {
    if (0 < DAT_8009e2a4) {
      if (DAT_8009e2a0 == 0x200) {
        if ((DAT_8009e2c0 & 1) != 0) {
          CdDataCallback((func *)0x0);
          CdGetSector2(aCStack_18,3);
          CdDataSync(0);
          CdDataCallback(cb_data);
          CDREAD_OBJ_A4();
          return;
        }
        CdGetSector(aCStack_18,3);
        iVar1 = CdPosToInt(aCStack_18);
        if (iVar1 != DAT_8009e2b0) {
          FUN_80085128("CdRead: sector error\n");
          DAT_8009e2a4 = -1;
        }
      }
      if ((DAT_8009e2c0 & 1) != 0) {
        CdGetSector2(DAT_8009e298,DAT_8009e2a0);
        CDREAD_OBJ_1A4();
        return;
      }
      CdGetSector(DAT_8009e298,DAT_8009e2a0);
      DAT_8009e298 = (void *)((int)DAT_8009e298 + DAT_8009e2a0 * 4);
      DAT_8009e2a4 = DAT_8009e2a4 + -1;
      DAT_8009e2b0 = DAT_8009e2b0 + 1;
      CDREAD_OBJ_1A4();
      return;
    }
  }
  else {
    DAT_8009e2a4 = -1;
  }
  DAT_8009e2a8 = VSync(-1);
  if (DAT_8009e2a4 < 0) {
    cd_read_retry(1);
  }
  iVar1 = VSync(-1);
  if (DAT_8009e2ac + 0x4b0 < iVar1) {
    DAT_8009e2a4 = -1;
  }
  if ((DAT_8009e2a4 == 0) || (iVar1 = VSync(-1), DAT_8009e2ac + 0x4b0 < iVar1)) {
    CdSyncCallback(DAT_8009e2b4);
    CdReadyCallback(DAT_8009e2b8);
    if ((DAT_8009e2c0 & 1) != 0) {
      CdDataCallback(DAT_8009e2bc);
    }
    CdControlF('\t',(u_char *)0x0);
    if (DAT_8009e28c != (code *)0x0) {
      uVar2 = 5;
      if (DAT_8009e2a4 == 0) {
        uVar2 = 2;
      }
      (*DAT_8009e28c)(uVar2,param_2);
    }
  }
  return;
}



void CDREAD_OBJ_A4(void)

{
  int iVar1;
  
  iVar1 = CdPosToInt((CdlLOC *)&stack0x00000010);
  if (iVar1 != DAT_8009e2b0) {
    FUN_80085128("CdRead: sector error\n");
    DAT_8009e2a4 = -1;
  }
  if ((DAT_8009e2c0 & 1) != 0) {
    CdGetSector2(DAT_8009e298,DAT_8009e2a0);
    CDREAD_OBJ_1A4();
    return;
  }
  CdGetSector(DAT_8009e298,DAT_8009e2a0);
  DAT_8009e298 = (void *)((int)DAT_8009e298 + DAT_8009e2a0 * 4);
  DAT_8009e2a4 = DAT_8009e2a4 + -1;
  DAT_8009e2b0 = DAT_8009e2b0 + 1;
  CDREAD_OBJ_1A4();
  return;
}



void CDREAD_OBJ_1A4(void)

{
  int iVar1;
  undefined4 uVar2;
  
  DAT_8009e2a8 = VSync(-1);
  if (DAT_8009e2a4 < 0) {
    cd_read_retry(1);
  }
  iVar1 = VSync(-1);
  if (DAT_8009e2ac + 0x4b0 < iVar1) {
    DAT_8009e2a4 = -1;
  }
  if ((DAT_8009e2a4 == 0) || (iVar1 = VSync(-1), DAT_8009e2ac + 0x4b0 < iVar1)) {
    CdSyncCallback(DAT_8009e2b4);
    CdReadyCallback(DAT_8009e2b8);
    if ((DAT_8009e2c0 & 1) != 0) {
      CdDataCallback(DAT_8009e2bc);
    }
    CdControlF('\t',(u_char *)0x0);
    if (DAT_8009e28c != (code *)0x0) {
      uVar2 = 5;
      if (DAT_8009e2a4 == 0) {
        uVar2 = 2;
      }
      (*DAT_8009e28c)(uVar2);
    }
  }
  return;
}



void cb_data(void)

{
  DAT_8009e298 = DAT_8009e298 + DAT_8009e2a0 * 4;
  DAT_8009e2a4 = DAT_8009e2a4 + -1;
  DAT_8009e2b0 = DAT_8009e2b0 + 1;
  if (DAT_8009e2a4 == 0) {
    CdSyncCallback(DAT_8009e2b4);
    CdReadyCallback(DAT_8009e2b8);
    if ((DAT_8009e2c0 & 1) != 0) {
      CdDataCallback(DAT_8009e2bc);
    }
    CdControlF('\t',(u_char *)0x0);
    if (DAT_8009e28c != (code *)0x0) {
      (*DAT_8009e28c)(2,DAT_8009e2c4);
    }
  }
  return;
}



undefined4 cd_read_retry(int param_1)

{
  uint uVar1;
  undefined4 uVar2;
  CdlLOC *pCVar3;
  int iVar4;
  uint uVar5;
  u_char local_18 [8];
  
  CdSyncCallback((CdlCB)0x0);
  CdReadyCallback((CdlCB)0x0);
  if ((DAT_8009e2c0 & 1) != 0) {
    CdDataCallback((func *)0x0);
  }
  uVar1 = CdStatus();
  if ((uVar1 & 0x10) != 0) {
    uVar1 = VSync(-1);
    if ((uVar1 & 0x3f) == 0) {
      FUN_80085128("CdRead: Shell open...\n");
    }
    CdControlF('\x01',(u_char *)0x0);
    DAT_8009e2ac = VSync(-1);
    DAT_8009e2a4 = 0xffffffff;
    uVar2 = CDREAD_OBJ_5C0();
    return uVar2;
  }
  if (param_1 != 0) {
    FUN_80085128("CdRead: retry...\n");
    CdControl('\t',(u_char *)0x0,(u_char *)0x0);
    pCVar3 = CdLastPos();
    iVar4 = CdControl('\x02',&pCVar3->minute,(u_char *)0x0);
    if (iVar4 == 0) {
      DAT_8009e2a4 = 0xffffffff;
      uVar2 = CDREAD_OBJ_5C0();
      return uVar2;
    }
  }
  CdFlush();
  local_18[0] = (u_char)DAT_8009e29c;
  uVar5 = DAT_8009e29c & 0xff;
  uVar1 = CdMode();
  if (((uVar5 != uVar1) || (param_1 != 0)) &&
     (iVar4 = CdControl('\x0e',local_18,(u_char *)0x0), iVar4 == 0)) {
    DAT_8009e2a4 = 0xffffffff;
    uVar2 = CDREAD_OBJ_5C0();
    return uVar2;
  }
  pCVar3 = CdLastPos();
  DAT_8009e2b0 = CdPosToInt(pCVar3);
  CdReadyCallback(cb_read);
  if ((DAT_8009e2c0 & 1) != 0) {
    CdDataCallback(cb_data);
  }
  DAT_8009e298 = DAT_8009e294;
  CdControlF('\x06',(u_char *)0x0);
  DAT_8009e2a4 = DAT_8009e290;
  DAT_8009e2a8 = VSync(-1);
  return DAT_8009e2a4;
}



undefined4 CDREAD_OBJ_5C0(void)

{
  return DAT_8009e2a4;
}



// WARNING: Unknown calling convention -- yet parameter storage is locked

void CdReadBreak(void)

{
  if ((DAT_8009e2c0 & 1) != 0) {
    CdDataSync(0);
  }
  DAT_8009e2a4 = 0;
  CdSyncCallback(DAT_8009e2b4);
  CdReadyCallback(DAT_8009e2b8);
  if ((DAT_8009e2c0 & 1) != 0) {
    CdDataCallback(DAT_8009e2bc);
  }
  CdControlF('\t',(u_char *)0x0);
  return;
}



int CdRead(int sectors,u_long *buf,int mode)

{
  undefined4 uVar1;
  int iVar2;
  uint uVar3;
  
  if ((mode & 0x30U) == 0) {
    uVar1 = 0x200;
  }
  else {
    uVar1 = 0x249;
    if ((mode & 0x30U) != 0x20) {
      DAT_8009e29c = mode;
      iVar2 = CDREAD_OBJ_6B8();
      return iVar2;
    }
  }
  DAT_8009e29c = mode | 0x20;
  DAT_8009e290 = sectors;
  DAT_8009e294 = buf;
  DAT_8009e2a0 = uVar1;
  DAT_8009e2b4 = CdSyncCallback((CdlCB)0x0);
  DAT_8009e2b8 = CdReadyCallback((CdlCB)0x0);
  if ((DAT_8009e2c0 & 1) != 0) {
    DAT_8009e2bc = CdDataCallback((func *)0x0);
  }
  DAT_8009e2ac = VSync(-1);
  uVar3 = CdStatus();
  if ((uVar3 & 0xe0) != 0) {
    CdControlB('\t',(u_char *)0x0,(u_char *)0x0);
  }
  iVar2 = cd_read_retry(0);
  return (uint)(0 < iVar2);
}



bool CDREAD_OBJ_6B8(undefined4 param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)

{
  undefined4 in_v0;
  uint uVar1;
  int iVar2;
  
  DAT_8009e29c = DAT_8009e29c | 0x20;
  DAT_8009e290 = param_4;
  DAT_8009e294 = param_2;
  DAT_8009e2a0 = in_v0;
  DAT_8009e2b4 = CdSyncCallback((CdlCB)0x0);
  DAT_8009e2b8 = CdReadyCallback((CdlCB)0x0);
  if ((DAT_8009e2c0 & 1) != 0) {
    DAT_8009e2bc = CdDataCallback((func *)0x0);
  }
  DAT_8009e2ac = VSync(-1);
  uVar1 = CdStatus();
  if ((uVar1 & 0xe0) != 0) {
    CdControlB('\t',(u_char *)0x0,(u_char *)0x0);
  }
  iVar2 = cd_read_retry(0);
  return 0 < iVar2;
}



int CdReadSync(int mode,u_char *result)

{
  int iVar1;
  int iVar2;
  
  while( true ) {
    iVar1 = VSync(-1);
    iVar2 = -1;
    if ((iVar1 <= DAT_8009e2ac + 0x4b0) &&
       ((DAT_8009e2a4 < 0 || (iVar1 = VSync(-1), iVar2 = DAT_8009e2a4, DAT_8009e2a8 + 0x3c < iVar1))
       )) break;
    if ((mode != 0) || (iVar2 < 1)) {
      CdReady(1,result);
      return iVar2;
    }
  }
  cd_read_retry(1);
  iVar2 = CDREAD_OBJ_810();
  return iVar2;
}



int CDREAD_OBJ_810(void)

{
  int iVar1;
  int unaff_s0;
  int *unaff_s1;
  int unaff_s2;
  u_char *unaff_s3;
  
  while( true ) {
    do {
      if ((unaff_s2 != 0) || (unaff_s0 < 1)) {
        CdReady(1,unaff_s3);
        return unaff_s0;
      }
      iVar1 = VSync(-1);
      unaff_s0 = -1;
    } while (*unaff_s1 + 0x4b0 < iVar1);
    if ((unaff_s1[-2] < 0) || (iVar1 = VSync(-1), unaff_s1[-1] + 0x3c < iVar1)) break;
    unaff_s0 = unaff_s1[-2];
  }
  cd_read_retry(1);
  iVar1 = CDREAD_OBJ_810();
  return iVar1;
}



CdlCB CdReadCallback(CdlCB func)

{
  CdlCB pCVar1;
  
  pCVar1 = DAT_8009e28c;
  DAT_8009e28c = func;
  return pCVar1;
}



int CdReadMode(int mode)

{
  int iVar1;
  
  iVar1 = DAT_8009e2c0;
  DAT_8009e2c0 = mode;
  return iVar1;
}



int CdRead2(long mode)

{
  int iVar1;
  u_char local_10 [8];
  
  local_10[0] = (u_char)mode;
  CdControl('\x0e',local_10,(u_char *)0x0);
  if ((mode & 0x100U) != 0) {
    if ((mode & 0x20U) != 0) {
      DAT_800acbd4 = 0;
      iVar1 = CDREAD2_OBJ_50();
      return iVar1;
    }
    DAT_800acbd4 = 1;
    CdDataCallback(data_ready_callback);
    CdReadyCallback(StCdInterrupt2);
  }
  iVar1 = CdControl('\x1b',(u_char *)0x0,(u_char *)0x0);
  return iVar1;
}



void CDREAD2_OBJ_50(void)

{
  CdDataCallback(data_ready_callback);
  CdReadyCallback(StCdInterrupt2);
  CdControl('\x1b',(u_char *)0x0,(u_char *)0x0);
  return;
}



// Possible SSNOFF.OBJ/SsSetNoiseOff
// Possible SSQUIT.OBJ/SsQuit
// Possible _OP_VDEL.OBJ/__builtin_vec_delete
// Possible _OP_VNEW.OBJ/__builtin_vec_new
// Possible GS_106.OBJ/GsSetProjection
// Possible SEND.OBJ/SendPAD

void StCdInterrupt2(void)

{
  StCdInterrupt();
  return;
}



int CdReadFile(char *file,u_long *addr,int nbyte)

{
  byte bVar1;
  CdlFILE *pCVar2;
  int iVar3;
  int iVar4;
  char acStack_6a [82];
  
  if (file != (char *)0x0) {
    strcpy(acStack_6a + 2,file);
    iVar3 = 0;
    while (acStack_6a[2] != '\0') {
      bVar1 = acStack_6a[iVar3 + 2];
      if (bVar1 - 0x61 < 0x1a) {
        acStack_6a[iVar3 + 2] = bVar1 - 0x20;
      }
      acStack_6a[2] = acStack_6a[iVar3 + 3];
      iVar3 = iVar3 + 1;
    }
    if (acStack_6a[iVar3] != ';') {
      strcat(acStack_6a + 2,";1");
    }
    pCVar2 = CdSearchFile((CdlFILE *)&DAT_800a85f8,acStack_6a + 2);
    if (pCVar2 == (CdlFILE *)0x0) {
      return 0;
    }
  }
  if ((nbyte == 0) || (DAT_800a85fc < (uint)nbyte)) {
    nbyte = DAT_800a85fc;
  }
  iVar3 = CdControl('\x02',&DAT_800a85f8,(u_char *)0x0);
  iVar4 = nbyte + 0x7ff;
  if (iVar3 != 0) {
    if (iVar4 < 0) {
      iVar4 = nbyte + 0xffe;
    }
    iVar4 = iVar4 >> 0xb;
    iVar3 = CdRead(iVar4,addr,0x80);
    if (iVar3 != 0) {
      iVar3 = CdPosToInt((CdlLOC *)&DAT_800a85f8);
      CdIntToPos(iVar3 + iVar4,(CdlLOC *)&DAT_800a85f8);
      DAT_800a85fc = DAT_800a85fc - iVar4;
      iVar3 = CDREADE_OBJ_168();
      return iVar3;
    }
  }
  return 0;
}



void CDREADE_OBJ_168(void)

{
  return;
}



EXEC * CdReadExec(char *file)

{
  u_long **ppuVar1;
  int iVar2;
  EXEC *pEVar3;
  u_long *puVar4;
  u_long *puVar5;
  u_long *puVar6;
  u_long **ppuVar7;
  u_long **ppuVar8;
  u_long **ppuVar9;
  u_long auStack_808 [4];
  u_long *local_7f8 [508];
  
  iVar2 = CdReadFile(file,auStack_808,0x800);
  if (iVar2 != 0) {
    iVar2 = CdReadSync(0,(u_char *)0x0);
    if (iVar2 != 0) {
      return (EXEC *)0x0;
    }
    iVar2 = CdReadFile((char *)0x0,local_7f8[2],0);
    if (iVar2 != 0) {
      iVar2 = CdReadSync(0,(u_char *)0x0);
      if (iVar2 == 0) {
        ppuVar8 = local_7f8;
        ppuVar1 = (u_long **)&DAT_800a8610;
        do {
          ppuVar9 = ppuVar1;
          ppuVar7 = ppuVar8;
          puVar4 = ppuVar7[1];
          puVar5 = ppuVar7[2];
          puVar6 = ppuVar7[3];
          *ppuVar9 = *ppuVar7;
          ppuVar9[1] = puVar4;
          ppuVar9[2] = puVar5;
          ppuVar9[3] = puVar6;
          ppuVar8 = ppuVar7 + 4;
          ppuVar1 = ppuVar9 + 4;
        } while (ppuVar8 != local_7f8 + 0xc);
        puVar4 = ppuVar7[5];
        puVar5 = ppuVar7[6];
        ppuVar9[4] = *ppuVar8;
        ppuVar9[5] = puVar4;
        ppuVar9[6] = puVar5;
        DAT_800a8630 = 0;
        DAT_800a8634 = 0;
        return (EXEC *)&DAT_800a8610;
      }
    }
  }
  pEVar3 = (EXEC *)CDREADE_OBJ_24C();
  return pEVar3;
}



void CDREADE_OBJ_24C(void)

{
  return;
}



char * strcat(char *param_1,char *param_2)

{
  char *pcVar1;
  
  pcVar1 = (char *)(*(code *)&LAB_000000a0)();
  return pcVar1;
}



char * strcpy(char *param_1,char *param_2)

{
  char *pcVar1;
  
  pcVar1 = (char *)(*(code *)&LAB_000000a0)();
  return pcVar1;
}



// WARNING: Unknown calling convention -- yet parameter storage is locked

void StClearRing(void)

{
  DAT_800ae42c = 0;
  DAT_800ae424 = 0;
  DAT_800ae420 = 0;
  DAT_800acc0c = 0;
  init_ring_status(0,DAT_800ae444);
  DAT_800acbe0 = 0;
  DAT_800acbcc = 0;
  DAT_800acbc8 = 0;
  return;
}



// Possible C_003.OBJ/StUnSetRing

void FUN_800866e8(void)

{
  FUN_8008676c();
  if (DAT_8009df98 == 1) {
    DsDataCallback((func *)0x0);
    DsReadyCallback((DslCB)0x0);
  }
  else {
    CdDataCallback((func *)0x0);
    CdReadyCallback((CdlCB)0x0);
  }
  *PTR_CDROM_REG0_8009e2d8 = 0;
  *PTR_CDROM_REG3_8009e2e4 = 0;
  FUN_8008677c();
  return;
}



// Possible A36.OBJ/EnterCriticalSection

void FUN_8008676c(void)

{
  syscall(0);
  return;
}



// Possible A37.OBJ/ExitCriticalSection

void FUN_8008677c(void)

{
  syscall(0);
  return;
}



void data_ready_callback(void)

{
  uint uVar1;
  uint uVar2;
  undefined2 *puVar3;
  
  puVar3 = (undefined2 *)(pointer_to_80116450_ + DAT_800ae424 * 0x20);
  *puVar3 = 2;
  uVar1 = (int)puVar3 + 0x1fU & 3;
  uVar2 = (uint)(puVar3 + 0xe) & 3;
  DAT_800a8650 = (*(int *)(((int)puVar3 + 0x1fU) - uVar1) << (3 - uVar1) * 8 |
                 0xffffffffU >> (uVar1 + 1) * 8 & 2) & -1 << (4 - uVar2) * 8 |
                 *(uint *)((int)(puVar3 + 0xe) - uVar2) >> uVar2 * 8;
  DAT_800a8654 = *(undefined4 *)(puVar3 + 4);
  DAT_800ae424 = DAT_800ae420;
  if (DAT_800acbd8 != (code *)0x0) {
    (*DAT_800acbd8)();
  }
  DAT_800acc0c = 0;
  return;
}



int StGetBackloc(CdlLOC *loc)

{
  int iVar1;
  
  if (DAT_800acbd4 == 0) {
    iVar1 = CdPosToInt((CdlLOC *)&DAT_800a8650);
    CdIntToPos(iVar1 + 1,loc);
    iVar1 = C_004_OBJ_DC();
    return iVar1;
  }
  return -1;
}



void C_004_OBJ_DC(void)

{
  return;
}



void StSetStream(u_long mode,u_long start_frame,u_long end_frame,func1 *func1,func2 *func2)

{
  FUN_80086abc(1);
  DAT_800ae430 = 0;
  DAT_800acbd8 = func1;
  DAT_800acbd0 = mode & 1;
  DAT_800acc04 = 0;
  DAT_800acbfc = 0;
  DAT_800acbcc = 0;
  DAT_800acbc8 = 0;
  DAT_800acbdc = func2;
  return;
}



u_long StFreeRing(u_long *base)

{
  int iVar1;
  u_long uVar2;
  int iVar3;
  int iVar4;
  short *psVar5;
  int iVar6;
  
  iVar1 = ((int)base - (pointer_to_80116450_ + DAT_800ae444 * 0x20) >> 2) / 0x1f8;
  psVar5 = (short *)(pointer_to_80116450_ + iVar1 * 0x20);
  if (*psVar5 == 4) {
    iVar3 = (int)psVar5[3];
    iVar6 = 0;
    if (0 < iVar3) {
      do {
        iVar4 = iVar6 + iVar1;
        iVar6 = iVar6 + 1;
        *(undefined2 *)(pointer_to_80116450_ + iVar4 * 0x20) = 0;
      } while (iVar6 < iVar3);
    }
    DAT_800ae42c = iVar6 + iVar1;
    return 0;
  }
  uVar2 = C_007_OBJ_AC();
  return uVar2;
}



void C_007_OBJ_AC(void)

{
  return;
}



void init_ring_status(int param_1,uint param_2)

{
  int iVar1;
  uint uVar2;
  
  uVar2 = 0;
  if (param_2 != 0) {
    do {
      iVar1 = uVar2 + param_1;
      uVar2 = uVar2 + 1;
      *(undefined4 *)(pointer_to_80116450_ + iVar1 * 0x20) = 0;
    } while (uVar2 < param_2);
  }
  return;
}



u_long StGetNext(u_long **addr,u_long **header)

{
  short sVar1;
  u_long *puVar2;
  
  puVar2 = (u_long *)(pointer_to_80116450_ + DAT_800ae42c * 0x20);
  if (*(short *)puVar2 == 1) {
    DAT_800ae42c = 0;
    if (DAT_800ae434 != 0) {
      *(short *)puVar2 = 0;
    }
    puVar2 = (u_long *)(pointer_to_80116450_ + DAT_800ae42c * 0x20);
  }
  sVar1 = *(short *)puVar2;
  if (sVar1 == 2) {
    *(short *)puVar2 = 4;
    *addr = (u_long *)(pointer_to_80116450_ + DAT_800ae444 * 0x20 + DAT_800ae42c * 0x7e0);
    *header = puVar2;
  }
  return (uint)(sVar1 != 2);
}



// Possible C_010.OBJ/StSetMask

void FUN_80086abc(undefined4 param_1,undefined4 param_2,undefined4 param_3)

{
  DAT_800ae438 = param_1;
  DAT_800acc00 = param_2;
  DAT_800ae434 = param_3;
  return;
}



// WARNING: Unknown calling convention -- yet parameter storage is locked

void StCdInterrupt(void)

{
  int iVar1;
  undefined4 uVar2;
  uint *puVar3;
  uint uVar4;
  undefined4 *puVar5;
  uint local_18;
  uint uStack_14;
  byte local_10 [8];
  
  if (DAT_800acc0c != 1) {
    if ((DAT_800acbd0 != 0) && ((*(uint *)PTR_DMA_MDEC_OUT_CHCR_8009e368 & 0x1000000) != 0)) {
      DAT_800acbe0 = 1;
      if (DAT_800ae430 != 0) {
        DAT_800acc18 = DAT_800acc18 + 1;
      }
      DAT_8009e390 = 1;
      C_011_OBJ_960();
      return;
    }
    iVar1 = CdReady(1,local_10);
    if (iVar1 != 5) {
      if ((local_10[0] & 4) != 0) {
        DAT_8009e390 = 3;
        C_011_OBJ_960();
        return;
      }
      DAT_800a8658 = pointer_to_80116450_ + DAT_800ae420 * 8;
      if (*(short *)DAT_800a8658 != 0) {
        if (DAT_800ae430 != 0) {
          DAT_800acc18 = DAT_800acc18 + 1;
        }
        DAT_8009e390 = 4;
        C_011_OBJ_960();
        return;
      }
      *PTR_CDROM_REG0_8009e348 = 0;
      *PTR_CDROM_REG3_8009e354 = 0;
      *PTR_CDROM_REG0_8009e348 = 0;
      *PTR_CDROM_REG3_8009e354 = 0x80;
      *(undefined4 *)PTR_CDROM_DELAY_8009e358 = 0x20943;
      *(undefined4 *)PTR_COMMON_DELAY_8009e35c = 0x1323;
      if (DAT_800acbd4 == 0) {
        puVar3 = &local_18;
        do {
          *(undefined *)puVar3 = *PTR_CDROM_REG2_8009e350;
          puVar3 = (uint *)((int)puVar3 + 1);
        } while (puVar3 < &uStack_14);
        uVar4 = 0;
        do {
          uVar4 = uVar4 + 1;
        } while (uVar4 < 8);
      }
      if (DAT_800ae430 != 0) {
        mem2mem(DAT_800a8658,DAT_800ae430 + DAT_800acc18 * 0x800,8,0);
        C_011_OBJ_270();
        return;
      }
      dma_execute(3,DAT_800a8658,0,8,0x11000000,0,0);
      puVar5 = DAT_800a8658;
      uVar4 = *(uint *)PTR_DMA_CDROM_CHCR_8009e378;
      while ((uVar4 & 0x1000000) != 0) {
        uVar4 = *(uint *)PTR_DMA_CDROM_CHCR_8009e378;
      }
      uVar4 = (int)DAT_800a8658 + 0x1fU & 3;
      puVar3 = (uint *)(((int)DAT_800a8658 + 0x1fU) - uVar4);
      *puVar3 = *puVar3 & -1 << (uVar4 + 1) * 8 | local_18 >> (3 - uVar4) * 8;
      uVar4 = (uint)(puVar5 + 7) & 3;
      puVar3 = (uint *)((int)(puVar5 + 7) - uVar4);
      *puVar3 = *puVar3 & 0xffffffffU >> (4 - uVar4) * 8 | local_18 << uVar4 * 8;
      *(undefined4 *)PTR_CDROM_DELAY_8009e358 = 0x20843;
      *(undefined4 *)PTR_COMMON_DELAY_8009e35c = 0x1325;
      if ((DAT_800ae438 == 1) && (DAT_800acc00 != 0)) {
        if (DAT_800acc00 != *(ushort *)(DAT_800a8658 + 2)) {
          *(short *)DAT_800a8658 = 0;
          if (DAT_800ae430 == 0) {
            return;
          }
          DAT_800acc18 = DAT_800acc18 + 1;
          C_011_OBJ_960();
          return;
        }
        DAT_800ae438 = 0;
      }
      if ((*(short *)DAT_800a8658 != 0x160) ||
         ((*(ushort *)((int)DAT_800a8658 + 2) >> 10 & 0x1f) != DAT_800acc04)) {
        if (DAT_800ae430 == 0) {
          DAT_8009e390 = 5;
          *(short *)DAT_800a8658 = 0;
          C_011_OBJ_960();
          return;
        }
        DAT_800acc18 = 0;
        C_011_OBJ_3D0();
        return;
      }
      if (((int)DAT_800acbcc != (uint)*(ushort *)(DAT_800a8658 + 1)) ||
         ((DAT_800acbc8 != 0 && (DAT_800acbc8 != *(ushort *)(DAT_800a8658 + 2))))) {
        DAT_800acbc8 = 0;
        DAT_800acbcc = 0;
        init_ring_status(DAT_800ae424,DAT_800ae420 - DAT_800ae424);
        DAT_800ae420 = DAT_800ae424;
        *(short *)DAT_800a8658 = 0;
        if (DAT_800ae430 != 0) {
          DAT_800acc18 = DAT_800acc18 + 1;
        }
        DAT_8009e390 = 6;
        C_011_OBJ_960();
        return;
      }
      if (*(short *)(DAT_800a8658 + 1) == 0) {
        DAT_800acbc8 = (uint)*(ushort *)(DAT_800a8658 + 2);
        DAT_800acbcc = 0;
        if ((DAT_800ae434 != 0) && (DAT_800ae434 <= DAT_800acbc8)) {
          DAT_800acbc8 = 0;
          DAT_800acbcc = 0;
          init_ring_status(DAT_800ae424,DAT_800ae420 - DAT_800ae424);
          DAT_800ae420 = DAT_800ae424;
          *(short *)DAT_800a8658 = 0;
          DAT_800ae438 = 1;
          if (DAT_800acbdc != (code *)0x0) {
            (*DAT_800acbdc)();
          }
          if (DAT_800ae430 != 0) {
            DAT_800acc18 = DAT_800acc18 + 1;
          }
          DAT_8009e390 = 7;
          C_011_OBJ_960();
          return;
        }
        if ((DAT_800ae444 - DAT_800ae420) - 1U < (uint)*(ushort *)((int)DAT_800a8658 + 6)) {
          if (DAT_800ae434 == 0) {
            *(short *)DAT_800a8658 = 1;
            DAT_800ae438 = 1;
            if (DAT_800acbdc != (code *)0x0) {
              (*DAT_800acbdc)();
            }
            if (DAT_800ae430 != 0) {
              DAT_800acc18 = DAT_800acc18 + 1;
            }
            DAT_8009e390 = 8;
            C_011_OBJ_960();
            return;
          }
          if (*(short *)pointer_to_80116450_ != 0) {
            *(short *)DAT_800a8658 = 0;
            if (DAT_800ae430 != 0) {
              DAT_800acc18 = DAT_800acc18 + 1;
            }
            DAT_8009e390 = 9;
            C_011_OBJ_960();
            return;
          }
          *(short *)DAT_800a8658 = 1;
          uVar4 = 0;
          DAT_800ae420 = 0;
          puVar5 = pointer_to_80116450_;
          do {
            uVar2 = *DAT_800a8658;
            DAT_800a8658 = DAT_800a8658 + 1;
            uVar4 = uVar4 + 1;
            *puVar5 = uVar2;
            puVar5 = puVar5 + 1;
          } while (uVar4 < 8);
          DAT_800a8658 = pointer_to_80116450_;
        }
        DAT_800ae424 = DAT_800ae420;
      }
      DAT_8009e390 = 10;
      DAT_800acbcc = DAT_800acbcc + 1;
      DAT_800ae43c = pointer_to_80116450_ + DAT_800ae444 * 8 + DAT_800ae420 * 0x1f8;
      if (DAT_800acbd0 != 0) {
        *(undefined4 *)PTR_CDROM_DELAY_8009e358 = 0x20943;
        *(undefined4 *)PTR_COMMON_DELAY_8009e35c = 0x1323;
        C_011_OBJ_7BC();
        return;
      }
      *(undefined4 *)PTR_CDROM_DELAY_8009e358 = 0x21020843;
      if (*(ushort *)((int)DAT_800a8658 + 6) - 1 == (uint)*(ushort *)(DAT_800a8658 + 1)) {
        DAT_800acc0c = 1;
        if (DAT_800ae430 == 0) {
          dma_execute(3,DAT_800ae43c,0,0x1f8,0x11400100,1,0);
          DAT_800acbcc = 0;
          DAT_800acbc8 = 0;
          DAT_800acc04 = DAT_800acbfc;
          C_011_OBJ_900();
          return;
        }
        mem2mem(DAT_800ae43c,DAT_800ae430 + DAT_800acc18 * 0x800 + 0x20,0x1f8,1);
        DAT_800acc18 = DAT_800acc18 + 1;
        C_011_OBJ_85C();
        return;
      }
      if (DAT_800ae430 != 0) {
        mem2mem(DAT_800ae43c,DAT_800ae430 + DAT_800acc18 * 0x800 + 0x20,0x1f8,0);
        DAT_800acc18 = DAT_800acc18 + 1;
        C_011_OBJ_900();
        return;
      }
      dma_execute(3,DAT_800ae43c,0,0x1f8,0x11400100,0,0);
      *(undefined4 *)PTR_COMMON_DELAY_8009e35c = 0x1325;
      *(short *)DAT_800a8658 = 3;
      DAT_800ae420 = DAT_800ae420 + 1;
      if ((DAT_800ae430 != 0) && (DAT_800acc0c != 0)) {
        data_ready_callback();
      }
    }
  }
  return;
}



void C_011_OBJ_270(void)

{
  uint *puVar1;
  uint uVar2;
  undefined4 uVar3;
  undefined4 *puVar4;
  uint in_stack_00000028;
  
  puVar4 = DAT_800a8658;
  uVar2 = *(uint *)PTR_DMA_CDROM_CHCR_8009e378;
  while ((uVar2 & 0x1000000) != 0) {
    uVar2 = *(uint *)PTR_DMA_CDROM_CHCR_8009e378;
  }
  uVar2 = (int)DAT_800a8658 + 0x1fU & 3;
  puVar1 = (uint *)(((int)DAT_800a8658 + 0x1fU) - uVar2);
  *puVar1 = *puVar1 & -1 << (uVar2 + 1) * 8 | in_stack_00000028 >> (3 - uVar2) * 8;
  uVar2 = (uint)(puVar4 + 7) & 3;
  puVar1 = (uint *)((int)(puVar4 + 7) - uVar2);
  *puVar1 = *puVar1 & 0xffffffffU >> (4 - uVar2) * 8 | in_stack_00000028 << uVar2 * 8;
  *(undefined4 *)PTR_CDROM_DELAY_8009e358 = 0x20843;
  *(undefined4 *)PTR_COMMON_DELAY_8009e35c = 0x1325;
  if ((DAT_800ae438 == 1) && (DAT_800acc00 != 0)) {
    if (DAT_800acc00 != *(ushort *)(DAT_800a8658 + 2)) {
      *(short *)DAT_800a8658 = 0;
      if (DAT_800ae430 == 0) {
        return;
      }
      DAT_800acc18 = DAT_800acc18 + 1;
      C_011_OBJ_960();
      return;
    }
    DAT_800ae438 = 0;
  }
  if ((*(short *)DAT_800a8658 != 0x160) ||
     ((*(ushort *)((int)DAT_800a8658 + 2) >> 10 & 0x1f) != DAT_800acc04)) {
    if (DAT_800ae430 == 0) {
      DAT_8009e390 = 5;
      *(short *)DAT_800a8658 = 0;
      C_011_OBJ_960();
      return;
    }
    DAT_800acc18 = 0;
    C_011_OBJ_3D0();
    return;
  }
  if (((int)DAT_800acbcc != (uint)*(ushort *)(DAT_800a8658 + 1)) ||
     ((DAT_800acbc8 != 0 && (DAT_800acbc8 != *(ushort *)(DAT_800a8658 + 2))))) {
    DAT_800acbc8 = 0;
    DAT_800acbcc = 0;
    init_ring_status(DAT_800ae424,DAT_800ae420 - DAT_800ae424);
    DAT_800ae420 = DAT_800ae424;
    *(short *)DAT_800a8658 = 0;
    if (DAT_800ae430 != 0) {
      DAT_800acc18 = DAT_800acc18 + 1;
    }
    DAT_8009e390 = 6;
    C_011_OBJ_960();
    return;
  }
  if (*(short *)(DAT_800a8658 + 1) == 0) {
    DAT_800acbc8 = (uint)*(ushort *)(DAT_800a8658 + 2);
    DAT_800acbcc = 0;
    if ((DAT_800ae434 != 0) && (DAT_800ae434 <= DAT_800acbc8)) {
      DAT_800acbc8 = 0;
      DAT_800acbcc = 0;
      init_ring_status(DAT_800ae424,DAT_800ae420 - DAT_800ae424);
      DAT_800ae420 = DAT_800ae424;
      *(short *)DAT_800a8658 = 0;
      DAT_800ae438 = 1;
      if (DAT_800acbdc != (code *)0x0) {
        (*DAT_800acbdc)();
      }
      if (DAT_800ae430 != 0) {
        DAT_800acc18 = DAT_800acc18 + 1;
      }
      DAT_8009e390 = 7;
      C_011_OBJ_960();
      return;
    }
    if ((DAT_800ae444 - DAT_800ae420) - 1U < (uint)*(ushort *)((int)DAT_800a8658 + 6)) {
      if (DAT_800ae434 == 0) {
        *(short *)DAT_800a8658 = 1;
        DAT_800ae438 = 1;
        if (DAT_800acbdc != (code *)0x0) {
          (*DAT_800acbdc)();
        }
        if (DAT_800ae430 != 0) {
          DAT_800acc18 = DAT_800acc18 + 1;
        }
        DAT_8009e390 = 8;
        C_011_OBJ_960();
        return;
      }
      if (*(short *)pointer_to_80116450_ != 0) {
        *(short *)DAT_800a8658 = 0;
        if (DAT_800ae430 != 0) {
          DAT_800acc18 = DAT_800acc18 + 1;
        }
        DAT_8009e390 = 9;
        C_011_OBJ_960();
        return;
      }
      *(short *)DAT_800a8658 = 1;
      uVar2 = 0;
      DAT_800ae420 = 0;
      puVar4 = pointer_to_80116450_;
      do {
        uVar3 = *DAT_800a8658;
        DAT_800a8658 = DAT_800a8658 + 1;
        uVar2 = uVar2 + 1;
        *puVar4 = uVar3;
        puVar4 = puVar4 + 1;
      } while (uVar2 < 8);
      DAT_800a8658 = pointer_to_80116450_;
    }
    DAT_800ae424 = DAT_800ae420;
  }
  DAT_8009e390 = 10;
  DAT_800acbcc = DAT_800acbcc + 1;
  DAT_800ae43c = pointer_to_80116450_ + DAT_800ae444 * 8 + DAT_800ae420 * 0x1f8;
  if (DAT_800acbd0 != 0) {
    *(undefined4 *)PTR_CDROM_DELAY_8009e358 = 0x20943;
    *(undefined4 *)PTR_COMMON_DELAY_8009e35c = 0x1323;
    C_011_OBJ_7BC();
    return;
  }
  *(undefined4 *)PTR_CDROM_DELAY_8009e358 = 0x21020843;
  if (*(ushort *)((int)DAT_800a8658 + 6) - 1 != (uint)*(ushort *)(DAT_800a8658 + 1)) {
    if (DAT_800ae430 == 0) {
      dma_execute(3,DAT_800ae43c,0,0x1f8);
      *(undefined4 *)PTR_COMMON_DELAY_8009e35c = 0x1325;
      *(short *)DAT_800a8658 = 3;
      DAT_800ae420 = DAT_800ae420 + 1;
      if ((DAT_800ae430 != 0) && (DAT_800acc0c != 0)) {
        data_ready_callback();
      }
      return;
    }
    mem2mem(DAT_800ae43c,DAT_800ae430 + DAT_800acc18 * 0x800 + 0x20,0x1f8,0);
    DAT_800acc18 = DAT_800acc18 + 1;
    C_011_OBJ_900();
    return;
  }
  DAT_800acc0c = 1;
  if (DAT_800ae430 == 0) {
    dma_execute(3,DAT_800ae43c,0,0x1f8);
    DAT_800acbcc = 0;
    DAT_800acbc8 = 0;
    DAT_800acc04 = DAT_800acbfc;
    C_011_OBJ_900();
    return;
  }
  mem2mem(DAT_800ae43c,DAT_800ae430 + DAT_800acc18 * 0x800 + 0x20,0x1f8,1);
  DAT_800acc18 = DAT_800acc18 + 1;
  C_011_OBJ_85C();
  return;
}



void C_011_OBJ_3D0(void)

{
  DAT_8009e390 = 5;
  *DAT_800a8658 = 0;
  C_011_OBJ_960();
  return;
}



void C_011_OBJ_7BC(void)

{
  if ((ushort)DAT_800a8658[3] - 1 != (uint)(ushort)DAT_800a8658[2]) {
    if (DAT_800ae430 != 0) {
      mem2mem(DAT_800ae43c,DAT_800ae430 + DAT_800acc18 * 0x800 + 0x20,0x1f8,0);
      DAT_800acc18 = DAT_800acc18 + 1;
      C_011_OBJ_900();
      return;
    }
    dma_execute(3,DAT_800ae43c,0,0x1f8);
    *(undefined4 *)PTR_COMMON_DELAY_8009e35c = 0x1325;
    *DAT_800a8658 = 3;
    DAT_800ae420 = DAT_800ae420 + 1;
    if ((DAT_800ae430 != 0) && (DAT_800acc0c != 0)) {
      data_ready_callback();
    }
    return;
  }
  DAT_800acc0c = 1;
  if (DAT_800ae430 != 0) {
    mem2mem(DAT_800ae43c,DAT_800ae430 + DAT_800acc18 * 0x800 + 0x20,0x1f8,1);
    DAT_800acc18 = DAT_800acc18 + 1;
    C_011_OBJ_85C();
    return;
  }
  dma_execute(3,DAT_800ae43c,0,0x1f8);
  DAT_800acbcc = 0;
  DAT_800acbc8 = 0;
  DAT_800acc04 = DAT_800acbfc;
  C_011_OBJ_900();
  return;
}



void C_011_OBJ_85C(void)

{
  DAT_800acbcc = 0;
  DAT_800acbc8 = 0;
  DAT_800acc04 = DAT_800acbfc;
  C_011_OBJ_900();
  return;
}



void C_011_OBJ_900(void)

{
  *(undefined4 *)PTR_COMMON_DELAY_8009e35c = 0x1325;
  *DAT_800a8658 = 3;
  DAT_800ae420 = DAT_800ae420 + 1;
  if ((DAT_800ae430 != 0) && (DAT_800acc0c != 0)) {
    data_ready_callback();
  }
  return;
}



void C_011_OBJ_960(void)

{
  return;
}



void mem2mem(undefined4 *param_1,undefined4 *param_2,uint param_3)

{
  undefined4 uVar1;
  uint uVar2;
  
  uVar2 = 0;
  if (param_3 != 0) {
    do {
      uVar1 = *param_2;
      param_2 = param_2 + 1;
      uVar2 = uVar2 + 1;
      *param_1 = uVar1;
      param_1 = param_1 + 1;
    } while (uVar2 < param_3);
  }
  return;
}



void dma_execute(uint param_1,dword param_2,int param_3,uint param_4,dword param_5,char param_6)

{
  byte bVar1;
  uint uVar2;
  int iVar3;
  
  iVar3 = 0;
  uVar2 = (&DMA_MDEC_IN_CHCR)[param_1 * 4];
  while ((uVar2 & 0x1000000) != 0) {
    if (iVar3 == 0x10000) {
      printf("DMA STATUS ERROR %x\n",(&DMA_MDEC_IN_CHCR)[param_1 * 4]);
      C_011_OBJ_A30();
      return;
    }
    iVar3 = iVar3 + 1;
    uVar2 = (&DMA_MDEC_IN_CHCR)[param_1 * 4];
  }
  uVar2 = 1 << (param_1 & 0x1f);
  if (param_6 != '\x01') {
    PTR_DMA_DICR_8009e364[2] = PTR_DMA_DICR_8009e364[2] & ~(byte)uVar2;
    *(uint *)PTR_DMA_DPCR_8009e360 = *(uint *)PTR_DMA_DPCR_8009e360 | 1 << (param_1 * 4 + 3 & 0x1f);
    (&DMA_MDEC_IN_MADR)[param_1 * 4] = param_2;
    (&DMA_MDEC_IN_BCR)[param_1 * 4] = param_3 << 0x10 | param_4;
    bVar1 = *PTR_CDROM_REG0_8009e348;
    while ((bVar1 & 0x40) == 0) {
      bVar1 = *PTR_CDROM_REG0_8009e348;
    }
    (&DMA_MDEC_IN_CHCR)[param_1 * 4] = param_5;
    return;
  }
  C_011_OBJ_A90((byte)PTR_DMA_DICR_8009e364[2] | uVar2);
  return;
}



void C_011_OBJ_A30(void)

{
  byte bVar1;
  int in_v0;
  uint uVar2;
  uint unaff_s0;
  dword unaff_s2;
  int unaff_s3;
  uint unaff_s4;
  dword unaff_s5;
  
  uVar2 = 1 << (unaff_s0 & 0x1f);
  if (in_v0 != 1) {
    PTR_DMA_DICR_8009e364[2] = PTR_DMA_DICR_8009e364[2] & ~(byte)uVar2;
    *(uint *)PTR_DMA_DPCR_8009e360 = *(uint *)PTR_DMA_DPCR_8009e360 | 1 << (unaff_s0 * 4 + 3 & 0x1f)
    ;
    (&DMA_MDEC_IN_MADR)[unaff_s0 * 4] = unaff_s2;
    (&DMA_MDEC_IN_BCR)[unaff_s0 * 4] = unaff_s3 << 0x10 | unaff_s4;
    bVar1 = *PTR_CDROM_REG0_8009e348;
    while ((bVar1 & 0x40) == 0) {
      bVar1 = *PTR_CDROM_REG0_8009e348;
    }
    (&DMA_MDEC_IN_CHCR)[unaff_s0 * 4] = unaff_s5;
    return;
  }
  C_011_OBJ_A90((byte)PTR_DMA_DICR_8009e364[2] | uVar2);
  return;
}



void C_011_OBJ_A90(undefined param_1)

{
  byte bVar1;
  int in_v1;
  int unaff_s0;
  dword unaff_s2;
  int unaff_s3;
  uint unaff_s4;
  dword unaff_s5;
  
  *(undefined *)(in_v1 + 2) = param_1;
  *(uint *)PTR_DMA_DPCR_8009e360 = *(uint *)PTR_DMA_DPCR_8009e360 | 1 << (unaff_s0 * 4 + 3U & 0x1f);
  (&DMA_MDEC_IN_MADR)[unaff_s0 * 4] = unaff_s2;
  (&DMA_MDEC_IN_BCR)[unaff_s0 * 4] = unaff_s3 << 0x10 | unaff_s4;
  bVar1 = *PTR_CDROM_REG0_8009e348;
  while ((bVar1 & 0x40) == 0) {
    bVar1 = *PTR_CDROM_REG0_8009e348;
  }
  (&DMA_MDEC_IN_CHCR)[unaff_s0 * 4] = unaff_s5;
  return;
}



DslCB DsSyncCallback(DslCB func)

{
  DslCB pDVar1;
  
  pDVar1 = DAT_800acc10;
  DAT_800acc10 = func;
  return pDVar1;
}



DslCB DsReadyCallback(DslCB func)

{
  DslCB pDVar1;
  
  pDVar1 = DAT_800acc14;
  DAT_800acc14 = func;
  return pDVar1;
}



_func_90 * DsDataCallback(func *func)

{
  _func_90 *p_Var1;
  
  p_Var1 = (_func_90 *)DMACallback(3,func);
  return p_Var1;
}



void PadInit(int mode)

{
  DAT_800a8660 = 0xffffffff;
  DAT_800acc08 = mode;
  ResetCallback();
  PAD_init(0x20000001,&DAT_800a8660);
  ChangeClearPAD(0);
  return;
}



u_long PadRead(int id)

{
  PAD_dr();
  return ~DAT_800a8660;
}



// WARNING: Unknown calling convention -- yet parameter storage is locked
// Possible SSNOFF.OBJ/SsSetNoiseOff
// Possible SSQUIT.OBJ/SsQuit
// Possible _OP_VDEL.OBJ/__builtin_vec_delete
// Possible _OP_VNEW.OBJ/__builtin_vec_new
// Possible GS_106.OBJ/GsSetProjection
// Possible SEND.OBJ/SendPAD

void PadStop(void)

{
  StopPAD();
  return;
}



void PAD_dr(void)

{
  (*(code *)&SUB_000000b0)();
  return;
}



void ChangeClearPAD(void)

{
  (*(code *)&SUB_000000b0)();
  return;
}



// Possible GS_101.OBJ/GsSetNearClip
// Possible GS_102.OBJ/GsSetFarClip
// Possible GS_124.OBJ/GsSetWorkBase

void SetInitPadFlag(undefined4 param_1)

{
  DAT_8009e398 = param_1;
  return;
}



// Possible GS_125.OBJ/GsGetWorkBase

undefined4 ReadInitPadFlag(void)

{
  return DAT_8009e398;
}



void PAD_init(undefined4 param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)

{
  _remove_ChgclrPAD();
  FUN_8008676c();
  _patch_pad();
  FUN_8008677c();
  ChangeClearPAD(0);
  SetPatchPad();
  PAD_init2(param_1,param_2,param_3,param_4);
  _send_pad();
  DAT_8009e398 = 1;
  return;
}



void InitPAD(undefined4 param_1,undefined4 param_2,undefined4 param_3,undefined4 param_4)

{
  _remove_ChgclrPAD();
  FUN_8008676c();
  _patch_pad();
  FUN_8008677c();
  ChangeClearPAD(0);
  SetPatchPad();
  InitPAD2(param_1,param_2,param_3,param_4);
  _send_pad();
  DAT_8009e398 = 1;
  return;
}



void StartPAD(void)

{
  StartPAD2();
  ChangeClearPAD(0);
  EnablePAD();
  return;
}



void StopPAD(void)

{
  DisablePAD();
  StopPAD2();
  RemovePatchPad();
  DAT_8009e398 = 0;
  return;
}



undefined4 SetPatchPad(void)

{
  FUN_8008676c();
  DAT_800a866c = _Pad1;
  DAT_800a8670 = _IsVSync;
  DAT_800a8668 = 0;
  DAT_800a8674 = 0;
  SysDeqIntRP(1,&DAT_800a8668);
  SysEnqIntRP(1,&DAT_800a8668);
  FUN_8008677c();
  return 1;
}



undefined4 RemovePatchPad(void)

{
  FUN_8008676c();
  SysDeqIntRP(1,&DAT_800a8668);
  FUN_8008677c();
  return 1;
}



undefined4 _Pad1(void)

{
  int local_10;
  
  *(undefined2 *)(PTR_JOY_MCD_DATA_8009e39c + 10) = 0;
  local_10 = 9;
  do {
    local_10 = local_10 + -1;
  } while (local_10 != -1);
  return 0;
}



undefined4 _IsVSync(void)

{
  undefined4 uVar1;
  
  uVar1 = 0;
  if (((*(uint *)(PTR_I_STAT_8009e3a0 + 4) & 1) != 0) &&
     (uVar1 = 1, (*(uint *)PTR_I_STAT_8009e3a0 & 1) == 0)) {
    uVar1 = 0;
  }
  return uVar1;
}



void InitPAD2(void)

{
  (*(code *)&SUB_000000b0)();
  return;
}



void StartPAD2(void)

{
  (*(code *)&SUB_000000b0)();
  return;
}



void StopPAD2(void)

{
  (*(code *)&SUB_000000b0)();
  return;
}



void PAD_init2(void)

{
  (*(code *)&SUB_000000b0)();
  return;
}



void SysEnqIntRP(void)

{
  (*(code *)&LAB_000000c0)();
  return;
}



void SysDeqIntRP(void)

{
  (*(code *)&LAB_000000c0)();
  return;
}



void EnablePAD(void)

{
                    // WARNING: Could not recover jumptable at 0x80087acc. Too many branches
                    // WARNING: Treating indirect jump as call
  (*DAT_800a6194)();
  return;
}



void DisablePAD(void)

{
                    // WARNING: Could not recover jumptable at 0x80087ae0. Too many branches
                    // WARNING: Treating indirect jump as call
  (*DAT_800a6198)();
  return;
}



void _patch_pad(void)

{
  int iVar1;
  int iVar2;
  undefined4 unaff_retaddr;
  
  DAT_800a618c = unaff_retaddr;
  FUN_8008676c();
  iVar1 = (*(code *)&SUB_000000b0)();
  iVar1 = *(int *)(iVar1 + 0x16c);
  DAT_800a6194 = iVar1 + 0x884;
  DAT_800a6198 = iVar1 + 0x894;
  iVar2 = 0xb;
  do {
    iVar2 = iVar2 + -1;
    *(undefined4 *)(iVar1 + 0x594) = 0;
    iVar1 = iVar1 + 4;
  } while (iVar2 != 0);
  FlushCache();
  return;
}



void FlushCache(void)

{
  (*(code *)&LAB_000000a0)();
  return;
}



void _SendPAD(void)

{
  (*DAT_800a61a0)();
  return;
}



int _send_pad(void)

{
  int iVar1;
  undefined4 uVar2;
  undefined4 *puVar3;
  undefined4 unaff_retaddr;
  
  DAT_800a619c = unaff_retaddr;
  FUN_8008676c();
  iVar1 = (*(code *)&SUB_000000b0)();
  DAT_800a61a0 = *(int *)(iVar1 + 0x16c) + 0x7a0;
  puVar3 = &SENDPAD_OBJ_A4;
  iVar1 = *(int *)(iVar1 + 0x16c);
  do {
    uVar2 = *puVar3;
    puVar3 = puVar3 + 1;
    *(undefined4 *)(iVar1 + 0x3d8) = uVar2;
    *(undefined4 *)(iVar1 + 0x4e0) = uVar2;
    iVar1 = iVar1 + 4;
  } while (puVar3 != (undefined4 *)SENDPAD_OBJ_B4);
  FlushCache();
  FUN_8008677c();
  return DAT_800a61a0;
}



void SENDPAD_OBJ_B4(void)

{
  int iVar1;
  undefined4 *puVar2;
  int iVar3;
  undefined4 unaff_retaddr;
  
  DAT_800a61ac = unaff_retaddr;
  FUN_8008676c();
  iVar1 = (*(code *)&SUB_000000b0)();
  iVar3 = 9;
  puVar2 = (undefined4 *)(*(int *)(iVar1 + 0x16c) + 0x62c);
  do {
    iVar3 = iVar3 + -1;
    *puVar2 = 0;
    puVar2 = puVar2 + 1;
  } while (iVar3 != 0);
  FlushCache();
  FUN_8008677c();
  return;
}



void _remove_ChgclrPAD(void)

{
  int iVar1;
  undefined4 *puVar2;
  int iVar3;
  undefined4 unaff_retaddr;
  
  DAT_800a61ac = unaff_retaddr;
  FUN_8008676c();
  iVar1 = (*(code *)&SUB_000000b0)();
  iVar3 = 9;
  puVar2 = (undefined4 *)(*(int *)(iVar1 + 0x16c) + 0x62c);
  do {
    iVar3 = iVar3 + -1;
    *puVar2 = 0;
    puVar2 = puVar2 + 1;
  } while (iVar3 != 0);
  FlushCache();
  FUN_8008677c();
  return;
}



int VSync(int mode)

{
  uint uVar1;
  int iVar2;
  uint uVar3;
  
  uVar1 = *(int *)PTR_TMR_HRETRACE_VAL_8009e3b0 - DAT_8009e3b4;
  if (mode < 0) {
    iVar2 = VSYNC_OBJ_130();
    return iVar2;
  }
  if (mode != 1) {
    if (0 < mode) {
      iVar2 = VSYNC_OBJ_84();
      return iVar2;
    }
    iVar2 = 0;
    if (0 < mode) {
      iVar2 = mode + -1;
    }
    v_wait(DAT_8009e3b8,iVar2);
    uVar3 = *(uint *)PTR_GPU_REG1_8009e3ac;
    v_wait(DAT_8009f4d0 + 1,1);
    if (((uVar3 & 0x400000) != 0) && (-1 < (int)(uVar3 ^ *(uint *)PTR_GPU_REG1_8009e3ac))) {
      do {
      } while (((uVar3 ^ *(uint *)PTR_GPU_REG1_8009e3ac) & 0x80000000) == 0);
    }
    DAT_8009e3b8 = DAT_8009f4d0;
    DAT_8009e3b4 = *(int *)PTR_TMR_HRETRACE_VAL_8009e3b0;
  }
  return uVar1 & 0xffff;
}



void VSYNC_OBJ_84(void)

{
  uint uVar1;
  
  v_wait();
  uVar1 = *(uint *)PTR_GPU_REG1_8009e3ac;
  v_wait(DAT_8009f4d0 + 1,1);
  if (((uVar1 & 0x400000) != 0) && (-1 < (int)(uVar1 ^ *(uint *)PTR_GPU_REG1_8009e3ac))) {
    do {
    } while (((uVar1 ^ *(uint *)PTR_GPU_REG1_8009e3ac) & 0x80000000) == 0);
  }
  DAT_8009e3b8 = DAT_8009f4d0;
  DAT_8009e3b4 = *(undefined4 *)PTR_TMR_HRETRACE_VAL_8009e3b0;
  return;
}



void VSYNC_OBJ_130(void)

{
  return;
}



void v_wait(int param_1,int param_2)

{
  param_2 = param_2 << 0xf;
  do {
    if (param_1 <= DAT_8009f4d0) {
      return;
    }
    param_2 = param_2 + -1;
  } while (param_2 != -1);
  FUN_80085128("VSync: timeout\n");
  ChangeClearPAD(0);
  ChangeClearRCnt(3,0);
  VSYNC_OBJ_1D4();
  return;
}



void VSYNC_OBJ_1D4(void)

{
  return;
}



void ChangeClearRCnt(void)

{
  (*(code *)&LAB_000000c0)();
  return;
}



// WARNING: Unknown calling convention -- yet parameter storage is locked

int ResetCallback(void)

{
  int iVar1;
  
  iVar1 = (**(code **)(PTR_PTR_s__Id__intr_c_v_1_76_1997_02_12_12_8009f49c + 0xc))();
  return iVar1;
}



void InterruptCallback(void)

{
  (**(code **)(PTR_PTR_s__Id__intr_c_v_1_76_1997_02_12_12_8009f49c + 8))();
  return;
}



void DMACallback(void)

{
  (**(code **)(PTR_PTR_s__Id__intr_c_v_1_76_1997_02_12_12_8009f49c + 4))();
  return;
}



int VSyncCallback(f *f)

{
  int iVar1;
  
  iVar1 = (**(code **)(PTR_PTR_s__Id__intr_c_v_1_76_1997_02_12_12_8009f49c + 0x14))(4,f);
  return iVar1;
}



void VSyncCallbacks(void)

{
  (**(code **)(PTR_PTR_s__Id__intr_c_v_1_76_1997_02_12_12_8009f49c + 0x14))();
  return;
}



// WARNING: Unknown calling convention -- yet parameter storage is locked

int StopCallback(void)

{
  int iVar1;
  
  iVar1 = (**(code **)(PTR_PTR_s__Id__intr_c_v_1_76_1997_02_12_12_8009f49c + 0x10))();
  return iVar1;
}



// WARNING: Unknown calling convention -- yet parameter storage is locked

int RestartCallback(void)

{
  int iVar1;
  
  iVar1 = (**(code **)(PTR_PTR_s__Id__intr_c_v_1_76_1997_02_12_12_8009f49c + 0x18))();
  return iVar1;
}



// WARNING: Unknown calling convention -- yet parameter storage is locked

int CheckCallback(void)

{
  return (uint)DAT_8009e416;
}



undefined2 GetIntrMask(void)

{
  return *(undefined2 *)PTR_I_MASK_8009f4a4;
}



undefined2 SetIntrMask(undefined2 param_1)

{
  undefined2 uVar1;
  
  uVar1 = *(undefined2 *)PTR_I_MASK_8009f4a4;
  *(undefined2 *)PTR_I_MASK_8009f4a4 = param_1;
  return uVar1;
}



undefined2 * startIntr(void)

{
  undefined *puVar1;
  undefined *puVar2;
  undefined2 *puVar3;
  int iVar4;
  undefined4 uVar5;
  
  puVar2 = PTR_I_MASK_8009f4a4;
  puVar1 = PTR_I_STAT_8009f4a0;
  puVar3 = (undefined2 *)0x0;
  if (DAT_8009e414 == 0) {
    *(undefined2 *)PTR_I_MASK_8009f4a4 = 0;
    *(undefined2 *)puVar1 = *(undefined2 *)puVar2;
    *(undefined4 *)PTR_DMA_DPCR_8009f4a8 = 0x33333333;
    memclr(&DAT_8009e414,0x41a);
    iVar4 = setjmp(&DAT_8009e44c);
    if (iVar4 != 0) {
      trapIntr();
    }
    DAT_8009e450 = &DAT_8009f42c;
    HookEntryInt(&DAT_8009e44c);
    DAT_8009e414 = 1;
    uVar5 = startIntrVSync();
    *(undefined4 *)(PTR_PTR_s__Id__intr_c_v_1_76_1997_02_12_12_8009f49c + 0x14) = uVar5;
    uVar5 = startIntrDMA();
    *(undefined4 *)(PTR_PTR_s__Id__intr_c_v_1_76_1997_02_12_12_8009f49c + 4) = uVar5;
    FUN_8008859c();
    puVar3 = &DAT_8009e414;
    FUN_8008677c();
  }
  return puVar3;
}



void trapIntr(void)

{
  bool bVar1;
  uint uVar2;
  int iVar3;
  uint uVar4;
  code **ppcVar5;
  
  if (DAT_8009e414 == 0) {
    printf("unexpected interrupt(%04x)\n",(uint)*(ushort *)PTR_I_STAT_8009f4a0);
    ReturnFromException();
  }
  DAT_8009e416 = 1;
  uVar2 = (uint)(*(ushort *)PTR_I_MASK_8009f4a4 & DAT_8009e444 & *(ushort *)PTR_I_STAT_8009f4a0);
  if (uVar2 != 0) {
    do {
      ppcVar5 = (code **)&DAT_8009e418;
      for (uVar4 = 0; (uVar2 != 0 && ((int)uVar4 < 0xb)); uVar4 = uVar4 + 1) {
        if ((uVar2 & 1) != 0) {
          *(ushort *)PTR_I_STAT_8009f4a0 = ~(ushort)(1 << (uVar4 & 0x1f));
          if (*ppcVar5 != (code *)0x0) {
            (**ppcVar5)();
          }
        }
        ppcVar5 = ppcVar5 + 1;
        uVar2 = uVar2 >> 1;
      }
      uVar2 = (uint)(*(ushort *)PTR_I_MASK_8009f4a4 & DAT_8009e444 & *(ushort *)PTR_I_STAT_8009f4a0)
      ;
    } while (uVar2 != 0);
  }
  if ((*(ushort *)PTR_I_MASK_8009f4a4 & *(ushort *)PTR_I_STAT_8009f4a0) == 0) {
    DAT_8009f4ac = 0;
  }
  else {
    iVar3 = DAT_8009f4ac + 1;
    bVar1 = 0x800 < DAT_8009f4ac;
    DAT_8009f4ac = iVar3;
    if (bVar1) {
      printf("intr timeout(%04x:%04x)\n",(uint)*(ushort *)PTR_I_STAT_8009f4a0,
             (uint)*(ushort *)PTR_I_MASK_8009f4a4);
      DAT_8009f4ac = 0;
      *(undefined2 *)PTR_I_STAT_8009f4a0 = 0;
      INTR_OBJ_428();
      return;
    }
  }
  DAT_8009e416 = 0;
  ReturnFromException();
  return;
}



void INTR_OBJ_428(void)

{
  DAT_8009e416 = 0;
  ReturnFromException();
  return;
}



int setIntr(uint param_1,int param_2)

{
  ushort uVar1;
  ushort uVar2;
  int *piVar3;
  int iVar4;
  
  piVar3 = &DAT_8009e418 + param_1;
  iVar4 = *piVar3;
  if ((param_2 != iVar4) && (DAT_8009e414 != 0)) {
    uVar1 = *(ushort *)PTR_I_MASK_8009f4a4;
    *(undefined2 *)PTR_I_MASK_8009f4a4 = 0;
    if (param_2 != 0) {
      *piVar3 = param_2;
      DAT_8009e444 = DAT_8009e444 | (ushort)(1 << (param_1 & 0x1f));
      iVar4 = INTR_OBJ_514();
      return iVar4;
    }
    uVar2 = ~(ushort)(1 << (param_1 & 0x1f));
    *piVar3 = 0;
    DAT_8009e444 = DAT_8009e444 & uVar2;
    if (param_1 == 0) {
      ChangeClearPAD(1);
      ChangeClearRCnt(3,1);
    }
    if (param_1 == 4) {
      ChangeClearRCnt(0,1);
    }
    if (param_1 == 5) {
      ChangeClearRCnt(1,1);
    }
    if (param_1 == 6) {
      ChangeClearRCnt(2,1);
    }
    *(ushort *)PTR_I_MASK_8009f4a4 = uVar1 & uVar2;
  }
  return iVar4;
}



void INTR_OBJ_514(void)

{
  int unaff_s1;
  int unaff_s2;
  undefined2 unaff_s3;
  
  if (unaff_s1 == 0) {
    ChangeClearPAD(unaff_s2 == 0);
    ChangeClearRCnt(3,unaff_s2 == 0);
  }
  if (unaff_s1 == 4) {
    ChangeClearRCnt(0,unaff_s2 == 0);
  }
  if (unaff_s1 == 5) {
    ChangeClearRCnt(1,unaff_s2 == 0);
  }
  if (unaff_s1 == 6) {
    ChangeClearRCnt(2,unaff_s2 == 0);
  }
  *(undefined2 *)PTR_I_MASK_8009f4a4 = unaff_s3;
  return;
}



undefined2 * stopIntr(void)

{
  undefined *puVar1;
  undefined *puVar2;
  undefined2 *puVar3;
  
  puVar3 = (undefined2 *)0x0;
  if (DAT_8009e414 != 0) {
    FUN_8008676c();
    puVar2 = PTR_I_MASK_8009f4a4;
    puVar1 = PTR_I_STAT_8009f4a0;
    DAT_8009e446 = *(undefined2 *)PTR_I_MASK_8009f4a4;
    DAT_8009e448 = *(undefined4 *)PTR_DMA_DPCR_8009f4a8;
    *(undefined2 *)PTR_I_MASK_8009f4a4 = 0;
    *(undefined2 *)puVar1 = *(undefined2 *)puVar2;
    *(uint *)PTR_DMA_DPCR_8009f4a8 = *(uint *)PTR_DMA_DPCR_8009f4a8 & 0x77777777;
    ResetEntryInt();
    DAT_8009e414 = 0;
    puVar3 = &DAT_8009e414;
  }
  return puVar3;
}



undefined4 restartIntr(void)

{
  undefined4 uVar1;
  
  if (DAT_8009e414 == 0) {
    HookEntryInt(&DAT_8009e44c);
    DAT_8009e414 = 1;
    *(undefined2 *)PTR_I_MASK_8009f4a4 = DAT_8009e446;
    *(undefined4 *)PTR_DMA_DPCR_8009f4a8 = DAT_8009e448;
    FUN_8008677c();
    uVar1 = INTR_OBJ_6D0();
    return uVar1;
  }
  return 0;
}



void INTR_OBJ_6D0(void)

{
  return;
}



void memclr(undefined4 *param_1,int param_2)

{
  int iVar1;
  
  iVar1 = param_2 + -1;
  if (param_2 != 0) {
    do {
      *param_1 = 0;
      iVar1 = iVar1 + -1;
      param_1 = param_1 + 1;
    } while (iVar1 != -1);
  }
  return;
}



void setjmp(void)

{
  (*(code *)&LAB_000000a0)();
  return;
}



// Possible C114.OBJ/_96_remove

void FUN_8008859c(void)

{
  (*(code *)&LAB_000000a0)();
  return;
}



void ReturnFromException(void)

{
  (*(code *)&SUB_000000b0)();
  return;
}



void ResetEntryInt(void)

{
  (*(code *)&SUB_000000b0)();
  return;
}



void HookEntryInt(void)

{
  (*(code *)&SUB_000000b0)();
  return;
}



code * startIntrVSync(void)

{
  *(undefined4 *)PTR_TMR_HRETRACE_MODE_8009f4d4 = 0x107;
  DAT_8009f4d0 = 0;
  memclr(&DAT_8009f4b0,8);
  InterruptCallback(0,trapIntrVSync);
  return setIntrVSync;
}



void trapIntrVSync(void)

{
  code **ppcVar1;
  int iVar2;
  
  iVar2 = 0;
  ppcVar1 = (code **)&DAT_8009f4b0;
  DAT_8009f4d0 = DAT_8009f4d0 + 1;
  do {
    if (*ppcVar1 != (code *)0x0) {
      (**ppcVar1)();
    }
    iVar2 = iVar2 + 1;
    ppcVar1 = ppcVar1 + 1;
  } while (iVar2 < 8);
  return;
}



void setIntrVSync(int param_1,int param_2)

{
  if (param_2 != (&DAT_8009f4b0)[param_1]) {
    (&DAT_8009f4b0)[param_1] = param_2;
  }
  return;
}



void memclr(undefined4 *param_1,int param_2)

{
  int iVar1;
  
  iVar1 = param_2 + -1;
  if (param_2 != 0) {
    do {
      *param_1 = 0;
      iVar1 = iVar1 + -1;
      param_1 = param_1 + 1;
    } while (iVar1 != -1);
  }
  return;
}



code * startIntrDMA(void)

{
  memclr(&DAT_8009f4dc,8);
  *(undefined4 *)PTR_DMA_DICR_8009f4d8 = 0;
  InterruptCallback(3,trapIntrDMA);
  return setIntrDMA;
}



void trapIntrDMA(void)

{
  int iVar1;
  int iVar2;
  uint uVar3;
  code **ppcVar4;
  
  uVar3 = *(uint *)PTR_DMA_DICR_8009f4d8 >> 0x18 & 0x7f;
  if (uVar3 != 0) {
    do {
      ppcVar4 = (code **)&DAT_8009f4dc;
      for (iVar1 = 0; (uVar3 != 0 && (iVar1 < 7)); iVar1 = iVar1 + 1) {
        if ((uVar3 & 1) != 0) {
          *(uint *)PTR_DMA_DICR_8009f4d8 =
               *(uint *)PTR_DMA_DICR_8009f4d8 & (1 << (iVar1 + 0x18U & 0x1f) | 0xffffffU);
          if (*ppcVar4 != (code *)0x0) {
            (**ppcVar4)();
          }
        }
        ppcVar4 = ppcVar4 + 1;
        uVar3 = uVar3 >> 1;
      }
      uVar3 = *(uint *)PTR_DMA_DICR_8009f4d8 >> 0x18 & 0x7f;
    } while (uVar3 != 0);
  }
  if (((*(uint *)PTR_DMA_DICR_8009f4d8 & 0xff000000) == 0x80000000) ||
     ((*(uint *)PTR_DMA_DICR_8009f4d8 & 0x8000) != 0)) {
    printf("DMA bus error: code=%08x\n",*(undefined4 *)PTR_DMA_DICR_8009f4d8);
    iVar1 = 0;
    do {
      iVar2 = iVar1 + 1;
      printf("MADR[%d]=%08x\n",iVar1,*(undefined4 *)(PTR_DMA_MDEC_IN_MADR_8009f4fc + iVar1 * 0x10));
      iVar1 = iVar2;
    } while (iVar2 < 7);
  }
  return;
}



int setIntrDMA(int param_1,int param_2)

{
  undefined *puVar1;
  int *piVar2;
  int iVar3;
  
  puVar1 = PTR_DMA_DICR_8009f4d8;
  piVar2 = &DAT_8009f4dc + param_1;
  iVar3 = *piVar2;
  if (param_2 != iVar3) {
    if (param_2 != 0) {
      *piVar2 = param_2;
      *(uint *)puVar1 = *(uint *)puVar1 & 0xffffff | 1 << (param_1 + 0x10U & 0x1f) | 0x800000U;
      iVar3 = INTR_DMA_OBJ_274();
      return iVar3;
    }
    *piVar2 = 0;
    *(uint *)puVar1 = (*(uint *)puVar1 & 0xffffff | 0x800000) & ~(1 << (param_1 + 0x10U & 0x1f));
  }
  return iVar3;
}



undefined4 INTR_DMA_OBJ_274(void)

{
  undefined4 in_a3;
  
  return in_a3;
}



void memclr(undefined4 *param_1,int param_2)

{
  int iVar1;
  
  iVar1 = param_2 + -1;
  if (param_2 != 0) {
    do {
      *param_1 = 0;
      iVar1 = iVar1 + -1;
      param_1 = param_1 + 1;
    } while (iVar1 != -1);
  }
  return;
}



// Possible VMODE.OBJ/SetVideoMode

undefined4 FUN_800889b4(undefined4 param_1)

{
  undefined4 uVar1;
  
  uVar1 = DAT_8009f500;
  DAT_8009f500 = param_1;
  return uVar1;
}



// Possible VMODE.OBJ/GetVideoMode
// Possible GS_125.OBJ/GsGetWorkBase

undefined4 FUN_800889cc(void)

{
  return DAT_8009f500;
}



u_short LoadTPage(u_long *pix,int tp,int abr,int x,int y,int w,int h)

{
  u_short uVar1;
  RECT local_20;
  
  local_20.x = (short)x;
  local_20.h = (short)h;
  local_20.y = (short)y;
  if (tp == 1) {
    local_20.w = (short)(w / 2);
    uVar1 = EXT_OBJ_A8();
    return uVar1;
  }
  if (tp < 2) {
    if (tp != 0) {
      uVar1 = EXT_OBJ_AC();
      return uVar1;
    }
    if (w < 0) {
      w = w + 3;
    }
    local_20.w = (short)(w >> 2);
    uVar1 = EXT_OBJ_A8(&local_20);
    return uVar1;
  }
  if (tp != 2) {
    uVar1 = EXT_OBJ_AC(&local_20);
    return uVar1;
  }
  local_20.w = (short)w;
  LoadImage(&local_20,pix);
  uVar1 = GetTPage(2,abr,x,y);
  return uVar1;
}



u_short EXT_OBJ_A8(void)

{
  u_short uVar1;
  u_long *in_t0;
  int unaff_s0;
  int unaff_s1;
  int unaff_s2;
  int unaff_s3;
  
  LoadImage((RECT *)&stack0x00000010,in_t0);
  uVar1 = GetTPage(unaff_s0,unaff_s2,unaff_s1,unaff_s3);
  return uVar1;
}



u_short EXT_OBJ_AC(RECT *param_1)

{
  u_short uVar1;
  u_long *in_t0;
  int unaff_s0;
  int unaff_s1;
  int unaff_s2;
  int unaff_s3;
  
  LoadImage(param_1,in_t0);
  uVar1 = GetTPage(unaff_s0,unaff_s2,unaff_s1,unaff_s3);
  return uVar1;
}



u_short LoadClut(u_long *clut,int x,int y)

{
  u_short result;
  RECT block;
  
  block.w = 0x100;
  block.x = (short)x;
  block.y = (short)y;
  block.h = 1;
  LoadImage(&block,clut);
  result = GetClut(x,y);
  return result;
}



u_short LoadClut2(u_long *clut,int x,int y)

{
  u_short uVar1;
  RECT local_18;
  
  local_18.w = 0x10;
  local_18.x = (short)x;
  local_18.y = (short)y;
  local_18.h = 1;
  LoadImage(&local_18,clut);
  uVar1 = GetClut(x,y);
  return uVar1;
}



DRAWENV * SetDefDrawEnv(DRAWENV *env,int x,int y,int w,int h)

{
  int iVar1;
  DRAWENV *pDVar2;
  
  iVar1 = FUN_800889cc();
  (env->clip).x = (short)x;
  (env->clip).y = (short)y;
  (env->clip).w = (short)w;
  (env->tw).x = 0;
  (env->tw).y = 0;
  (env->tw).w = 0;
  (env->tw).h = 0;
  env->r0 = '\0';
  env->g0 = '\0';
  env->b0 = '\0';
  env->dtd = '\x01';
  (env->clip).h = (short)h;
  if (iVar1 != 0) {
    pDVar2 = (DRAWENV *)EXT_OBJ_234();
    return pDVar2;
  }
  env->dfe = h < 0x101;
  env->ofs[0] = (short)x;
  env->ofs[1] = (short)y;
  env->tpage = 10;
  env->isbg = '\0';
  return env;
}



void EXT_OBJ_234(void)

{
  undefined in_v0;
  int unaff_s1;
  undefined2 unaff_s3;
  undefined2 unaff_s4;
  
  *(undefined *)(unaff_s1 + 0x17) = in_v0;
  *(undefined2 *)(unaff_s1 + 8) = unaff_s3;
  *(undefined2 *)(unaff_s1 + 10) = unaff_s4;
  *(undefined2 *)(unaff_s1 + 0x14) = 10;
  *(undefined *)(unaff_s1 + 0x18) = 0;
  return;
}



DISPENV * SetDefDispEnv(DISPENV *env,int x,int y,int w,int h)

{
  (env->disp).x = (short)x;
  (env->disp).y = (short)y;
  (env->disp).w = (short)w;
  (env->screen).x = 0;
  (env->screen).y = 0;
  (env->screen).w = 0;
  (env->screen).h = 0;
  env->isrgb24 = '\0';
  env->isinter = '\0';
  env->pad1 = '\0';
  env->pad0 = '\0';
  (env->disp).h = (short)h;
  return env;
}



void SetDumpFnt(int id)

{
  if ((-1 < id) && (id <= DAT_8009f684)) {
    PTR_printf_800a00e0 = FntPrint;
    DAT_8009f688 = id;
  }
  return;
}



void FntLoad(int tx,int ty)

{
  CURRENT_CLUT = LoadClut2((u_long *)&DAT_8009f68c,tx,ty + 0x80);
  CURRENT_TPAGE = LoadTPage((u_long *)&DAT_8009f88c,0,0,tx,ty,0x80,0x20);
  DAT_8009f684 = 0;
  memset(&DAT_8009f504,'\0',0x180);
  return;
}



int FntOpen(int x,int y,int w,int h,int isbg,int n)

{
  int iVar1;
  int iVar2;
  SPRT_8 *p;
  RECT local_38 [2];
  
  if (7 < DAT_8009f684) {
    iVar1 = FONT_OBJ_36C();
    return iVar1;
  }
  if (DAT_8009f684 == 0) {
    DAT_800a008c = 0;
  }
  iVar1 = DAT_800a008c;
  iVar2 = DAT_8009f684 * 0x30;
  *(uint *)(&DAT_8009f530 + iVar2) = (uint)(w == 0);
  if (0x400 < iVar1 + n) {
    n = 0x400 - iVar1;
  }
  local_38[0].w = 0x100;
  local_38[0].h = 0x100;
  local_38[0].x = 0;
  local_38[0].y = 0;
  SetDrawMode((DR_MODE *)(iVar2 + -0x7ff60aec),0,0,(uint)CURRENT_TPAGE,local_38);
  if (isbg != 0) {
    SetTile((TILE *)(&DAT_8009f504 + DAT_8009f684 * 0x30));
    (&DAT_8009f508)[DAT_8009f684 * 0x30] = 0;
    (&DAT_8009f509)[DAT_8009f684 * 0x30] = 0;
    (&DAT_8009f50a)[DAT_8009f684 * 0x30] = 0;
    SetSemiTrans(&DAT_8009f504 + DAT_8009f684 * 0x30,(uint)(isbg == 2));
  }
  iVar1 = DAT_800a008c;
  iVar2 = DAT_8009f684 * 0x30;
  *(short *)(&DAT_8009f50c + iVar2) = (short)x;
  *(short *)(&DAT_8009f50e + iVar2) = (short)y;
  *(short *)(&DAT_8009f510 + iVar2) = (short)w;
  *(short *)(&DAT_8009f512 + iVar2) = (short)h;
  *(int *)(&DAT_8009f520 + iVar2) = n;
  *(undefined4 *)(&DAT_8009f52c + iVar2) = 0;
  *(undefined **)(&DAT_8009f528 + iVar2) = &DAT_800a8678 + iVar1;
  *(undefined **)(&DAT_8009f524 + iVar2) = &DAT_800a8a78 + iVar1 * 0x10;
  **(undefined **)(&DAT_8009f528 + iVar2) = 0;
  p = *(SPRT_8 **)(&DAT_8009f524 + DAT_8009f684 * 0x30);
  iVar1 = 0;
  if (0 < n) {
    do {
      SetSprt8(p);
      iVar1 = iVar1 + 1;
      p->clut = CURRENT_CLUT;
      p = p + 1;
    } while (iVar1 < n);
  }
  iVar1 = DAT_8009f684;
  DAT_800a008c = DAT_800a008c + n;
  DAT_8009f684 = DAT_8009f684 + 1;
  return iVar1;
}



void FONT_OBJ_36C(void)

{
  return;
}



u_long * FntFlush(int id)

{
  byte bVar1;
  bool bVar2;
  int iVar3;
  u_long *puVar4;
  int iVar5;
  int iVar6;
  int iVar7;
  uint uVar8;
  int iVar9;
  byte *pbVar10;
  int iVar11;
  void *p;
  void *pvVar12;
  int iVar13;
  int iVar14;
  int iVar15;
  int local_50;
  
  local_50 = 0;
  if (((id < 0) || (iVar3 = id << 1, DAT_8009f684 <= id)) &&
     (iVar3 = DAT_8009f688 << 1, id = DAT_8009f688,
     *(int *)(&DAT_8009f528 + DAT_8009f688 * 0x30) == 0)) {
    puVar4 = (u_long *)FONT_OBJ_680();
    return puVar4;
  }
  iVar5 = (iVar3 + id) * 0x10;
  puVar4 = (u_long *)(iVar5 + -0x7ff60aec);
  pbVar10 = *(byte **)(&DAT_8009f528 + iVar5);
  iVar3 = *(int *)(&DAT_8009f520 + iVar5);
  iVar11 = (int)*(short *)(&DAT_8009f50c + iVar5);
  iVar13 = (int)*(short *)(&DAT_8009f50e + iVar5);
  iVar7 = iVar13 + *(short *)(&DAT_8009f512 + iVar5);
  p = *(void **)(&DAT_8009f524 + iVar5);
  iVar14 = *(int *)(&DAT_8009f530 + iVar5);
  iVar15 = iVar11 + *(short *)(&DAT_8009f510 + iVar5);
  TermPrim(puVar4);
  bVar1 = *pbVar10;
  for (; (bVar1 != 0 && (iVar3 != 0)); iVar3 = iVar3 + -1) {
    bVar2 = false;
    pvVar12 = p;
    if (bVar1 == 0x20) {
FONT_OBJ_5B8:
      iVar11 = iVar11 + 8;
      if ((iVar15 <= iVar11) && (iVar14 == 0)) {
FONT_OBJ_5D0:
        bVar2 = true;
      }
    }
    else {
      if (bVar1 < 0x21) {
        if (bVar1 == 9) {
          puVar4 = (u_long *)FONT_OBJ_5BC();
          return puVar4;
        }
        if (bVar1 != 10) {
          puVar4 = (u_long *)FONT_OBJ_534();
          return puVar4;
        }
        goto FONT_OBJ_5D0;
      }
      if (bVar1 != 0x7e) {
        uVar8 = (uint)*pbVar10;
        if (uVar8 - 0x61 < 0x1a) {
          puVar4 = (u_long *)FONT_OBJ_558();
          return puVar4;
        }
        iVar9 = uVar8 - 0x20;
        iVar6 = iVar9;
        if (iVar9 < 0) {
          iVar6 = uVar8 - 0x11;
        }
        *(char *)((int)p + 0xc) = ((char)iVar9 + (char)(iVar6 >> 4) * -0x10) * '\b';
        *(char *)((int)p + 0xd) = (char)((iVar6 >> 4) << 3);
        *(short *)((int)p + 8) = (short)iVar11;
        *(short *)((int)p + 10) = (short)iVar13;
        *(undefined *)((int)p + 4) = 0x80;
        *(undefined *)((int)p + 5) = 0x80;
        *(undefined *)((int)p + 6) = 0x80;
        pvVar12 = (void *)((int)p + 0x10);
        AddPrim(puVar4,p);
        goto FONT_OBJ_5B8;
      }
      pbVar10 = pbVar10 + 1;
      if (*pbVar10 == 99) {
        puVar4 = (u_long *)FONT_OBJ_5D4();
        return puVar4;
      }
    }
    if (bVar2) {
      if (local_50 < iVar11) {
        local_50 = iVar11;
      }
      iVar13 = iVar13 + 8;
      iVar11 = (int)*(short *)(&DAT_8009f50c + iVar5);
      if (iVar7 <= iVar13) break;
    }
    pbVar10 = pbVar10 + 1;
    bVar1 = *pbVar10;
    p = pvVar12;
  }
  if (((&DAT_8009f50b)[iVar5] != '\0') && (AddPrim(puVar4,&DAT_8009f504 + iVar5), iVar14 != 0)) {
    *(short *)(&DAT_8009f510 + iVar5) = (short)local_50 - *(short *)(&DAT_8009f50c + iVar5);
    *(short *)(&DAT_8009f512 + iVar5) = (short)iVar13 - (*(short *)(&DAT_8009f50e + iVar5) + -8);
  }
  DrawOTag(puVar4);
  *(undefined4 *)(&DAT_8009f52c + iVar5) = 0;
  **(undefined **)(&DAT_8009f528 + iVar5) = 0;
  return puVar4;
}



u_long * FONT_OBJ_534(void)

{
  byte bVar1;
  u_long *puVar2;
  int iVar3;
  uint uVar4;
  int iVar5;
  byte *pbVar6;
  byte *unaff_s0;
  int unaff_s1;
  void *unaff_s2;
  void *pvVar7;
  void *unaff_s3;
  int unaff_s4;
  int unaff_s5;
  int unaff_s6;
  int unaff_s7;
  int unaff_s8;
  u_long *in_stack_00000010;
  int in_stack_00000018;
  int in_stack_00000020;
  undefined in_stack_00000028;
  undefined in_stack_00000030;
  undefined in_stack_00000038;
  
code_r0x800891c0:
  uVar4 = (uint)*unaff_s0;
  if (uVar4 - 0x61 < 0x1a) {
    puVar2 = (u_long *)FONT_OBJ_558();
    return puVar2;
  }
  iVar5 = uVar4 - 0x20;
  iVar3 = iVar5;
  if (iVar5 < 0) {
    iVar3 = uVar4 - 0x11;
  }
  *(char *)((int)unaff_s2 + 0xc) = ((char)iVar5 + (char)(iVar3 >> 4) * -0x10) * '\b';
  *(char *)((int)unaff_s2 + 0xd) = (char)((iVar3 >> 4) << 3);
  *(short *)((int)unaff_s2 + 8) = (short)unaff_s1;
  *(short *)((int)unaff_s2 + 10) = (short)unaff_s5;
  *(undefined *)((int)unaff_s2 + 4) = in_stack_00000028;
  *(undefined *)((int)unaff_s2 + 5) = in_stack_00000030;
  *(undefined *)((int)unaff_s2 + 6) = in_stack_00000038;
  pvVar7 = (void *)((int)unaff_s2 + 0x10);
  AddPrim(in_stack_00000010,unaff_s2);
FONT_OBJ_5B8:
  pbVar6 = unaff_s0;
  unaff_s1 = unaff_s1 + 8;
  if (unaff_s1 < unaff_s7) goto code_r0x80089260;
  if (unaff_s6 != 0) goto code_r0x80089260;
FONT_OBJ_5D0:
  unaff_s4 = 1;
code_r0x80089260:
  do {
    if (unaff_s4 != 0) {
      if (in_stack_00000018 < unaff_s1) {
        in_stack_00000018 = unaff_s1;
      }
      unaff_s5 = unaff_s5 + 8;
      unaff_s1 = (int)*(short *)((int)unaff_s3 + 8);
      if (in_stack_00000020 <= unaff_s5) goto FONT_OBJ_620;
    }
    unaff_s0 = pbVar6 + 1;
    bVar1 = *unaff_s0;
    unaff_s8 = unaff_s8 + -1;
    if ((bVar1 == 0) || (unaff_s8 == 0)) {
FONT_OBJ_620:
      if ((*(char *)((int)unaff_s3 + 7) != '\0') &&
         (AddPrim(in_stack_00000010,unaff_s3), unaff_s6 != 0)) {
        *(short *)((int)unaff_s3 + 0xc) = (short)in_stack_00000018 - *(short *)((int)unaff_s3 + 8);
        *(short *)((int)unaff_s3 + 0xe) = (short)unaff_s5 - (*(short *)((int)unaff_s3 + 10) + -8);
      }
      DrawOTag(in_stack_00000010);
      *(undefined4 *)((int)unaff_s3 + 0x28) = 0;
      **(undefined **)((int)unaff_s3 + 0x24) = 0;
      return in_stack_00000010;
    }
    unaff_s4 = 0;
    if (bVar1 == 0x20) goto FONT_OBJ_5B8;
    if (bVar1 < 0x21) break;
    unaff_s2 = pvVar7;
    if (bVar1 != 0x7e) goto code_r0x800891c0;
    pbVar6 = pbVar6 + 2;
    if (*pbVar6 == 99) {
      puVar2 = (u_long *)FONT_OBJ_5D4();
      return puVar2;
    }
  } while( true );
  if (bVar1 == 9) {
    puVar2 = (u_long *)FONT_OBJ_5BC();
    return puVar2;
  }
  pbVar6 = unaff_s0;
  if (bVar1 != 10) {
    puVar2 = (u_long *)FONT_OBJ_534();
    return puVar2;
  }
  goto FONT_OBJ_5D0;
}



u_long * FONT_OBJ_558(void)

{
  byte bVar1;
  u_long *puVar2;
  int iVar3;
  int in_v1;
  byte *pbVar4;
  byte *unaff_s0;
  int unaff_s1;
  void *unaff_s2;
  void *unaff_s3;
  int unaff_s4;
  int unaff_s5;
  int unaff_s6;
  int unaff_s7;
  int unaff_s8;
  u_long *param_5;
  int param_7;
  int param_9;
  undefined param_11;
  undefined param_12;
  undefined param_13;
  
code_r0x800891e4:
  iVar3 = in_v1;
  if (in_v1 < 0) {
    iVar3 = in_v1 + 0xf;
  }
  *(char *)((int)unaff_s2 + 0xc) = ((char)in_v1 + (char)(iVar3 >> 4) * -0x10) * '\b';
  *(char *)((int)unaff_s2 + 0xd) = (char)((iVar3 >> 4) << 3);
  *(short *)((int)unaff_s2 + 8) = (short)unaff_s1;
  *(short *)((int)unaff_s2 + 10) = (short)unaff_s5;
  *(undefined *)((int)unaff_s2 + 4) = param_11;
  *(undefined *)((int)unaff_s2 + 5) = param_12;
  *(undefined *)((int)unaff_s2 + 6) = param_13;
  AddPrim(param_5,unaff_s2);
FONT_OBJ_5B8:
  pbVar4 = unaff_s0;
  unaff_s1 = unaff_s1 + 8;
  if (unaff_s1 < unaff_s7) goto code_r0x80089260;
  if (unaff_s6 != 0) goto code_r0x80089260;
FONT_OBJ_5D0:
  unaff_s4 = 1;
code_r0x80089260:
  do {
    if (unaff_s4 != 0) {
      if (param_7 < unaff_s1) {
        param_7 = unaff_s1;
      }
      unaff_s5 = unaff_s5 + 8;
      unaff_s1 = (int)*(short *)((int)unaff_s3 + 8);
      if (param_9 <= unaff_s5) goto FONT_OBJ_620;
    }
    unaff_s0 = pbVar4 + 1;
    bVar1 = *unaff_s0;
    unaff_s8 = unaff_s8 + -1;
    if ((bVar1 == 0) || (unaff_s8 == 0)) {
FONT_OBJ_620:
      if ((*(char *)((int)unaff_s3 + 7) != '\0') && (AddPrim(param_5,unaff_s3), unaff_s6 != 0)) {
        *(short *)((int)unaff_s3 + 0xc) = (short)param_7 - *(short *)((int)unaff_s3 + 8);
        *(short *)((int)unaff_s3 + 0xe) = (short)unaff_s5 - (*(short *)((int)unaff_s3 + 10) + -8);
      }
      DrawOTag(param_5);
      *(undefined4 *)((int)unaff_s3 + 0x28) = 0;
      **(undefined **)((int)unaff_s3 + 0x24) = 0;
      return param_5;
    }
    unaff_s4 = 0;
    if (bVar1 == 0x20) goto FONT_OBJ_5B8;
    if (bVar1 < 0x21) break;
    if (bVar1 != 0x7e) {
      if (*unaff_s0 - 0x61 < 0x1a) {
        puVar2 = (u_long *)FONT_OBJ_558();
        return puVar2;
      }
      in_v1 = *unaff_s0 - 0x20;
      unaff_s2 = (void *)((int)unaff_s2 + 0x10);
      goto code_r0x800891e4;
    }
    pbVar4 = pbVar4 + 2;
    if (*pbVar4 == 99) {
      puVar2 = (u_long *)FONT_OBJ_5D4();
      return puVar2;
    }
  } while( true );
  if (bVar1 == 9) {
    puVar2 = (u_long *)FONT_OBJ_5BC();
    return puVar2;
  }
  pbVar4 = unaff_s0;
  if (bVar1 != 10) {
    puVar2 = (u_long *)FONT_OBJ_534();
    return puVar2;
  }
  goto FONT_OBJ_5D0;
}



u_long * FONT_OBJ_5BC(void)

{
  byte bVar1;
  u_long *puVar2;
  int iVar3;
  uint uVar4;
  int iVar5;
  byte *unaff_s0;
  byte *pbVar6;
  int unaff_s1;
  void *pvVar7;
  void *unaff_s2;
  void *unaff_s3;
  int unaff_s4;
  int unaff_s5;
  int unaff_s6;
  int unaff_s7;
  int unaff_s8;
  u_long *in_stack_00000010;
  int in_stack_00000018;
  int in_stack_00000020;
  undefined in_stack_00000028;
  undefined in_stack_00000030;
  undefined in_stack_00000038;
  
code_r0x80089248:
  if (unaff_s1 < unaff_s7) goto code_r0x80089260;
  if (unaff_s6 != 0) goto code_r0x80089260;
FONT_OBJ_5D0:
  unaff_s4 = 1;
code_r0x80089260:
  do {
    if (unaff_s4 != 0) {
      if (in_stack_00000018 < unaff_s1) {
        in_stack_00000018 = unaff_s1;
      }
      unaff_s5 = unaff_s5 + 8;
      unaff_s1 = (int)*(short *)((int)unaff_s3 + 8);
      if (in_stack_00000020 <= unaff_s5) goto FONT_OBJ_620;
    }
    pbVar6 = unaff_s0 + 1;
    bVar1 = *pbVar6;
    unaff_s8 = unaff_s8 + -1;
    if ((bVar1 == 0) || (unaff_s8 == 0)) {
FONT_OBJ_620:
      if ((*(char *)((int)unaff_s3 + 7) != '\0') &&
         (AddPrim(in_stack_00000010,unaff_s3), unaff_s6 != 0)) {
        *(short *)((int)unaff_s3 + 0xc) = (short)in_stack_00000018 - *(short *)((int)unaff_s3 + 8);
        *(short *)((int)unaff_s3 + 0xe) = (short)unaff_s5 - (*(short *)((int)unaff_s3 + 10) + -8);
      }
      DrawOTag(in_stack_00000010);
      *(undefined4 *)((int)unaff_s3 + 0x28) = 0;
      **(undefined **)((int)unaff_s3 + 0x24) = 0;
      return in_stack_00000010;
    }
    unaff_s4 = 0;
    pvVar7 = unaff_s2;
    if (bVar1 == 0x20) {
FONT_OBJ_5B8:
      unaff_s1 = unaff_s1 + 8;
      unaff_s0 = pbVar6;
      unaff_s2 = pvVar7;
      goto code_r0x80089248;
    }
    if (bVar1 < 0x21) break;
    if (bVar1 != 0x7e) {
      uVar4 = (uint)*pbVar6;
      if (uVar4 - 0x61 < 0x1a) {
        puVar2 = (u_long *)FONT_OBJ_558();
        return puVar2;
      }
      iVar5 = uVar4 - 0x20;
      iVar3 = iVar5;
      if (iVar5 < 0) {
        iVar3 = uVar4 - 0x11;
      }
      *(char *)((int)unaff_s2 + 0xc) = ((char)iVar5 + (char)(iVar3 >> 4) * -0x10) * '\b';
      *(char *)((int)unaff_s2 + 0xd) = (char)((iVar3 >> 4) << 3);
      *(short *)((int)unaff_s2 + 8) = (short)unaff_s1;
      *(short *)((int)unaff_s2 + 10) = (short)unaff_s5;
      *(undefined *)((int)unaff_s2 + 4) = in_stack_00000028;
      *(undefined *)((int)unaff_s2 + 5) = in_stack_00000030;
      *(undefined *)((int)unaff_s2 + 6) = in_stack_00000038;
      pvVar7 = (void *)((int)unaff_s2 + 0x10);
      AddPrim(in_stack_00000010,unaff_s2);
      goto FONT_OBJ_5B8;
    }
    unaff_s0 = unaff_s0 + 2;
    if (*unaff_s0 == 99) {
      puVar2 = (u_long *)FONT_OBJ_5D4();
      return puVar2;
    }
  } while( true );
  if (bVar1 == 9) {
    puVar2 = (u_long *)FONT_OBJ_5BC();
    return puVar2;
  }
  unaff_s0 = pbVar6;
  if (bVar1 != 10) {
    puVar2 = (u_long *)FONT_OBJ_534();
    return puVar2;
  }
  goto FONT_OBJ_5D0;
}



u_long * FONT_OBJ_5D4(void)

{
  byte bVar1;
  u_long *puVar2;
  int iVar3;
  uint uVar4;
  int iVar5;
  byte *unaff_s0;
  byte *pbVar6;
  int unaff_s1;
  void *pvVar7;
  void *unaff_s2;
  void *unaff_s3;
  int unaff_s4;
  int unaff_s5;
  int unaff_s6;
  int unaff_s7;
  int unaff_s8;
  u_long *param_5;
  int param_7;
  int param_9;
  undefined param_11;
  undefined param_12;
  undefined in_stack_00000038;
  
code_r0x80089260:
  do {
    if (unaff_s4 != 0) {
      if (param_7 < unaff_s1) {
        param_7 = unaff_s1;
      }
      unaff_s5 = unaff_s5 + 8;
      unaff_s1 = (int)*(short *)((int)unaff_s3 + 8);
      if (param_9 <= unaff_s5) goto FONT_OBJ_620;
    }
    pbVar6 = unaff_s0 + 1;
    bVar1 = *pbVar6;
    unaff_s8 = unaff_s8 + -1;
    if ((bVar1 == 0) || (unaff_s8 == 0)) {
FONT_OBJ_620:
      if ((*(char *)((int)unaff_s3 + 7) != '\0') && (AddPrim(param_5,unaff_s3), unaff_s6 != 0)) {
        *(short *)((int)unaff_s3 + 0xc) = (short)param_7 - *(short *)((int)unaff_s3 + 8);
        *(short *)((int)unaff_s3 + 0xe) = (short)unaff_s5 - (*(short *)((int)unaff_s3 + 10) + -8);
      }
      DrawOTag(param_5);
      *(undefined4 *)((int)unaff_s3 + 0x28) = 0;
      **(undefined **)((int)unaff_s3 + 0x24) = 0;
      return param_5;
    }
    unaff_s4 = 0;
    pvVar7 = unaff_s2;
    if (bVar1 == 0x20) {
FONT_OBJ_5B8:
      unaff_s1 = unaff_s1 + 8;
      unaff_s0 = pbVar6;
      unaff_s2 = pvVar7;
      if ((unaff_s7 <= unaff_s1) && (unaff_s6 == 0)) {
FONT_OBJ_5D0:
        unaff_s4 = 1;
        unaff_s0 = pbVar6;
        unaff_s2 = pvVar7;
      }
      goto code_r0x80089260;
    }
    if (bVar1 < 0x21) {
      if (bVar1 == 9) {
        puVar2 = (u_long *)FONT_OBJ_5BC();
        return puVar2;
      }
      if (bVar1 != 10) {
        puVar2 = (u_long *)FONT_OBJ_534();
        return puVar2;
      }
      goto FONT_OBJ_5D0;
    }
    if (bVar1 != 0x7e) {
      uVar4 = (uint)*pbVar6;
      if (uVar4 - 0x61 < 0x1a) {
        puVar2 = (u_long *)FONT_OBJ_558();
        return puVar2;
      }
      iVar5 = uVar4 - 0x20;
      iVar3 = iVar5;
      if (iVar5 < 0) {
        iVar3 = uVar4 - 0x11;
      }
      *(char *)((int)unaff_s2 + 0xc) = ((char)iVar5 + (char)(iVar3 >> 4) * -0x10) * '\b';
      *(char *)((int)unaff_s2 + 0xd) = (char)((iVar3 >> 4) << 3);
      *(short *)((int)unaff_s2 + 8) = (short)unaff_s1;
      *(short *)((int)unaff_s2 + 10) = (short)unaff_s5;
      *(undefined *)((int)unaff_s2 + 4) = param_11;
      *(undefined *)((int)unaff_s2 + 5) = param_12;
      *(undefined *)((int)unaff_s2 + 6) = in_stack_00000038;
      pvVar7 = (void *)((int)unaff_s2 + 0x10);
      AddPrim(param_5,unaff_s2);
      goto FONT_OBJ_5B8;
    }
    unaff_s0 = unaff_s0 + 2;
    if (*unaff_s0 == 99) {
      puVar2 = (u_long *)FONT_OBJ_5D4();
      return puVar2;
    }
  } while( true );
}



void FONT_OBJ_680(void)

{
  return;
}



// WARNING: Unknown calling convention -- yet parameter storage is locked

int FntPrint(void)

{
  int iVar1;
  char *in_a0;
  int iVar2;
  char cVar3;
  char *in_a1;
  char *local_res0;
  
  if ((((-1 < (int)in_a0) && (local_res0 = in_a0, (int)in_a0 < DAT_8009f684)) ||
      (local_res0 = DAT_8009f688, in_a1 = in_a0,
      *(int *)(&DAT_8009f528 + (int)DAT_8009f688 * 0x30) != 0)) &&
     (iVar1 = (int)local_res0 * 0x30,
     *(int *)(&DAT_8009f52c + iVar1) <= *(int *)(&DAT_8009f520 + iVar1))) {
    cVar3 = *in_a1;
    while( true ) {
      if (cVar3 == '\0') {
        *(undefined *)(*(int *)(&DAT_8009f528 + iVar1) + *(int *)(&DAT_8009f52c + iVar1)) = 0;
        return *(int *)(&DAT_8009f52c + iVar1);
      }
      if (cVar3 == '%') {
        in_a1 = in_a1 + 1;
        cVar3 = *in_a1;
        if (cVar3 != '%') {
          iVar1 = FONT_OBJ_820();
          return iVar1;
        }
      }
      iVar2 = *(int *)(&DAT_8009f52c + iVar1);
      *(int *)(&DAT_8009f52c + iVar1) = iVar2 + 1;
      *(char *)(*(int *)(&DAT_8009f528 + iVar1) + iVar2) = cVar3;
      in_a1 = in_a1 + 1;
      if (*(int *)(&DAT_8009f520 + iVar1) < *(int *)(&DAT_8009f52c + iVar1)) break;
      cVar3 = *in_a1;
    }
    iVar1 = FONT_OBJ_A6C();
    return iVar1;
  }
  iVar1 = FONT_OBJ_A6C();
  return iVar1;
}



undefined4 FONT_OBJ_820(undefined4 param_1,uint param_2,int param_3,char param_4)

{
  undefined4 uVar1;
  uint uVar2;
  char *pcVar3;
  char *pcVar4;
  int iVar5;
  byte bVar6;
  char cVar7;
  char *pcVar8;
  char *pcVar9;
  int unaff_s1;
  int unaff_s2;
  byte *unaff_s3;
  byte *pbVar10;
  uint unaff_s4;
  uint unaff_s5;
  char **in_stack_00000210;
  
  while (param_2 - 0x30 < 10) {
    unaff_s2 = unaff_s2 * 10 + -0x30 + param_2;
    unaff_s3 = unaff_s3 + 1;
    param_2 = (uint)*unaff_s3;
  }
  if (unaff_s2 < 1) {
    unaff_s2 = 1;
  }
  pcVar9 = &stack0x00000210;
  switch(param_2) {
  case 0x58:
  case 0x78:
    param_3 = 0;
    pcVar4 = *in_stack_00000210;
    do {
      do {
        pcVar9 = pcVar9 + -1;
        uVar2 = (uint)pcVar4 & 0xf;
        pcVar4 = (char *)((uint)pcVar4 >> 4);
        param_3 = param_3 + 1;
        *pcVar9 = PTR_s_0123456789ABCDEF_800a0090[uVar2];
      } while (param_3 == 0);
    } while (pcVar4 != (char *)0x0);
    if (param_4 != '\0') {
      if (param_3 < unaff_s2) {
        do {
          pcVar9 = pcVar9 + -1;
          param_3 = param_3 + 1;
          *pcVar9 = '0';
        } while (param_3 < unaff_s2);
        uVar1 = FONT_OBJ_9A4();
        return uVar1;
      }
joined_r0x80089680:
      do {
        param_3 = param_3 + -1;
        if (param_3 == -1) {
          do {
            pbVar10 = unaff_s3 + 1;
            bVar6 = *pbVar10;
            if (bVar6 == 0) {
              *(undefined *)(*(int *)(unaff_s1 + 0x24) + *(int *)(unaff_s1 + 0x28)) = 0;
              return *(undefined4 *)(unaff_s1 + 0x28);
            }
            if (bVar6 == unaff_s4) {
              pbVar10 = unaff_s3 + 2;
              bVar6 = *pbVar10;
              if (bVar6 != unaff_s4) {
                uVar1 = FONT_OBJ_820();
                return uVar1;
              }
            }
            iVar5 = *(int *)(unaff_s1 + 0x28);
            *(int *)(unaff_s1 + 0x28) = iVar5 + 1;
            *(byte *)(*(int *)(unaff_s1 + 0x24) + iVar5) = bVar6;
            unaff_s3 = pbVar10;
          } while (*(int *)(unaff_s1 + 0x28) <= *(int *)(unaff_s1 + 0x1c));
          uVar1 = FONT_OBJ_A6C();
          return uVar1;
        }
        iVar5 = *(int *)(unaff_s1 + 0x28);
        *(int *)(unaff_s1 + 0x28) = iVar5 + 1;
        *(char *)(*(int *)(unaff_s1 + 0x24) + iVar5) = *pcVar9;
        pcVar9 = pcVar9 + 1;
      } while (*(int *)(unaff_s1 + 0x28) <= *(int *)(unaff_s1 + 0x1c));
      goto FONT_OBJ_73C;
    }
    break;
  case 99:
    uVar1 = FONT_OBJ_9A0(param_1,param_2,1);
    return uVar1;
  case 100:
    pcVar4 = *in_stack_00000210;
    cVar7 = '\0';
    if ((int)pcVar4 < 0) {
      pcVar4 = (char *)-(int)pcVar4;
      cVar7 = '-';
    }
    param_3 = 0;
    do {
      do {
        pcVar8 = pcVar9;
        iVar5 = param_3;
        pcVar9 = pcVar8 + -1;
        param_3 = iVar5 + 1;
        pcVar3 = (char *)(ZEXT48(pcVar4) * (ulonglong)unaff_s5 >> 0x23);
        *pcVar9 = (char)pcVar4 + (char)pcVar3 * -10 + '0';
        pcVar4 = pcVar3;
      } while (param_3 == 0);
    } while (pcVar3 != (char *)0x0);
    if (cVar7 != '\0') {
      pcVar8[-2] = cVar7;
      uVar1 = FONT_OBJ_9A0(0,cVar7,iVar5 + 2);
      return uVar1;
    }
    break;
  case 0x73:
    pcVar9 = *in_stack_00000210;
    param_3 = strlen(pcVar9);
  }
  do {
    if (unaff_s2 <= param_3) goto joined_r0x80089680;
    iVar5 = *(int *)(unaff_s1 + 0x28);
    *(int *)(unaff_s1 + 0x28) = iVar5 + 1;
    *(undefined *)(*(int *)(unaff_s1 + 0x24) + iVar5) = 0x20;
    unaff_s2 = unaff_s2 + -1;
  } while (*(int *)(unaff_s1 + 0x28) <= *(int *)(unaff_s1 + 0x1c));
FONT_OBJ_73C:
  uVar1 = FONT_OBJ_A6C();
  return uVar1;
}



undefined4 FONT_OBJ_868(void)

{
  undefined4 uVar1;
  uint uVar2;
  uint uVar3;
  int iVar4;
  byte bVar5;
  char cVar6;
  int iVar7;
  int iVar8;
  char *unaff_s0;
  char *pcVar9;
  int unaff_s1;
  int unaff_s2;
  int unaff_s3;
  byte *pbVar10;
  uint unaff_s4;
  uint unaff_s5;
  uint *in_stack_00000210;
  
  uVar3 = *in_stack_00000210;
  cVar6 = '\0';
  if ((int)uVar3 < 0) {
    uVar3 = -uVar3;
    cVar6 = '-';
  }
  iVar7 = 0;
  do {
    do {
      pcVar9 = unaff_s0;
      iVar8 = iVar7;
      unaff_s0 = pcVar9 + -1;
      iVar7 = iVar8 + 1;
      uVar2 = (uint)((ulonglong)uVar3 * (ulonglong)unaff_s5 >> 0x23);
      *unaff_s0 = (char)uVar3 + (char)uVar2 * -10 + '0';
      uVar3 = uVar2;
    } while (iVar7 == 0);
  } while (uVar2 != 0);
  if (cVar6 != '\0') {
    pcVar9[-2] = cVar6;
    uVar1 = FONT_OBJ_9A0(0,cVar6,iVar8 + 2);
    return uVar1;
  }
  if (iVar7 < unaff_s2) {
    do {
      iVar4 = *(int *)(unaff_s1 + 0x28);
      *(int *)(unaff_s1 + 0x28) = iVar4 + 1;
      *(undefined *)(*(int *)(unaff_s1 + 0x24) + iVar4) = 0x20;
      unaff_s2 = unaff_s2 + -1;
      if (*(int *)(unaff_s1 + 0x1c) < *(int *)(unaff_s1 + 0x28)) goto FONT_OBJ_73C;
    } while (iVar7 < unaff_s2);
  }
  while( true ) {
    if (iVar8 == -1) {
      pbVar10 = (byte *)(unaff_s3 + 1);
      do {
        bVar5 = *pbVar10;
        if (bVar5 == 0) {
          *(undefined *)(*(int *)(unaff_s1 + 0x24) + *(int *)(unaff_s1 + 0x28)) = 0;
          return *(undefined4 *)(unaff_s1 + 0x28);
        }
        if (bVar5 == unaff_s4) {
          pbVar10 = pbVar10 + 1;
          bVar5 = *pbVar10;
          if (bVar5 != unaff_s4) {
            uVar1 = FONT_OBJ_820();
            return uVar1;
          }
        }
        iVar7 = *(int *)(unaff_s1 + 0x28);
        *(int *)(unaff_s1 + 0x28) = iVar7 + 1;
        *(byte *)(*(int *)(unaff_s1 + 0x24) + iVar7) = bVar5;
        pbVar10 = pbVar10 + 1;
      } while (*(int *)(unaff_s1 + 0x28) <= *(int *)(unaff_s1 + 0x1c));
      uVar1 = FONT_OBJ_A6C();
      return uVar1;
    }
    iVar7 = *(int *)(unaff_s1 + 0x28);
    *(int *)(unaff_s1 + 0x28) = iVar7 + 1;
    *(char *)(*(int *)(unaff_s1 + 0x24) + iVar7) = *unaff_s0;
    unaff_s0 = unaff_s0 + 1;
    if (*(int *)(unaff_s1 + 0x1c) < *(int *)(unaff_s1 + 0x28)) break;
    iVar8 = iVar8 + -1;
  }
FONT_OBJ_73C:
  uVar1 = FONT_OBJ_A6C();
  return uVar1;
}



undefined4 FONT_OBJ_8E8(void)

{
  uint uVar1;
  undefined4 uVar2;
  uint uVar3;
  int iVar4;
  byte bVar5;
  int iVar6;
  int iVar7;
  char param_4;
  undefined *unaff_s0;
  int unaff_s1;
  int unaff_s2;
  int unaff_s3;
  byte *pbVar8;
  uint unaff_s4;
  uint *in_stack_00000210;
  
  uVar3 = *in_stack_00000210;
  iVar6 = 0;
  do {
    do {
      iVar7 = iVar6;
      unaff_s0 = unaff_s0 + -1;
      uVar1 = uVar3 & 0xf;
      uVar3 = uVar3 >> 4;
      iVar6 = iVar7 + 1;
      *unaff_s0 = PTR_s_0123456789ABCDEF_800a0090[uVar1];
    } while (iVar6 == 0);
  } while (uVar3 != 0);
  if (param_4 == '\0') {
    if (iVar6 < unaff_s2) {
      do {
        iVar4 = *(int *)(unaff_s1 + 0x28);
        *(int *)(unaff_s1 + 0x28) = iVar4 + 1;
        *(undefined *)(*(int *)(unaff_s1 + 0x24) + iVar4) = 0x20;
        unaff_s2 = unaff_s2 + -1;
        if (*(int *)(unaff_s1 + 0x1c) < *(int *)(unaff_s1 + 0x28)) goto FONT_OBJ_73C;
      } while (iVar6 < unaff_s2);
    }
  }
  else if (iVar6 < unaff_s2) {
    do {
      unaff_s0 = unaff_s0 + -1;
      iVar6 = iVar6 + 1;
      *unaff_s0 = 0x30;
    } while (iVar6 < unaff_s2);
    uVar2 = FONT_OBJ_9A4();
    return uVar2;
  }
  while( true ) {
    if (iVar7 == -1) {
      pbVar8 = (byte *)(unaff_s3 + 1);
      do {
        bVar5 = *pbVar8;
        if (bVar5 == 0) {
          *(undefined *)(*(int *)(unaff_s1 + 0x24) + *(int *)(unaff_s1 + 0x28)) = 0;
          return *(undefined4 *)(unaff_s1 + 0x28);
        }
        if (bVar5 == unaff_s4) {
          pbVar8 = pbVar8 + 1;
          bVar5 = *pbVar8;
          if (bVar5 != unaff_s4) {
            uVar2 = FONT_OBJ_820();
            return uVar2;
          }
        }
        iVar6 = *(int *)(unaff_s1 + 0x28);
        *(int *)(unaff_s1 + 0x28) = iVar6 + 1;
        *(byte *)(*(int *)(unaff_s1 + 0x24) + iVar6) = bVar5;
        pbVar8 = pbVar8 + 1;
      } while (*(int *)(unaff_s1 + 0x28) <= *(int *)(unaff_s1 + 0x1c));
      uVar2 = FONT_OBJ_A6C();
      return uVar2;
    }
    iVar6 = *(int *)(unaff_s1 + 0x28);
    *(int *)(unaff_s1 + 0x28) = iVar6 + 1;
    *(undefined *)(*(int *)(unaff_s1 + 0x24) + iVar6) = *unaff_s0;
    unaff_s0 = unaff_s0 + 1;
    if (*(int *)(unaff_s1 + 0x1c) < *(int *)(unaff_s1 + 0x28)) break;
    iVar7 = iVar7 + -1;
  }
FONT_OBJ_73C:
  uVar2 = FONT_OBJ_A6C();
  return uVar2;
}



void FONT_OBJ_960(undefined4 param_1,undefined4 param_2)

{
  int unaff_s0;
  undefined4 *in_stack_00000210;
  
  *(char *)(unaff_s0 + -1) = (char)*in_stack_00000210;
  FONT_OBJ_9A0(param_1,param_2,1);
  return;
}



undefined4 FONT_OBJ_980(void)

{
  undefined4 uVar1;
  int iVar2;
  int iVar3;
  byte bVar4;
  char *pcVar5;
  int unaff_s1;
  int unaff_s2;
  int unaff_s3;
  byte *pbVar6;
  uint unaff_s4;
  char **in_stack_00000210;
  
  pcVar5 = *in_stack_00000210;
  iVar2 = strlen(pcVar5);
  if (iVar2 < unaff_s2) {
    do {
      iVar3 = *(int *)(unaff_s1 + 0x28);
      *(int *)(unaff_s1 + 0x28) = iVar3 + 1;
      *(undefined *)(*(int *)(unaff_s1 + 0x24) + iVar3) = 0x20;
      unaff_s2 = unaff_s2 + -1;
      if (*(int *)(unaff_s1 + 0x1c) < *(int *)(unaff_s1 + 0x28)) goto FONT_OBJ_73C;
    } while (iVar2 < unaff_s2);
  }
  do {
    iVar2 = iVar2 + -1;
    if (iVar2 == -1) {
      pbVar6 = (byte *)(unaff_s3 + 1);
      do {
        bVar4 = *pbVar6;
        if (bVar4 == 0) {
          *(undefined *)(*(int *)(unaff_s1 + 0x24) + *(int *)(unaff_s1 + 0x28)) = 0;
          return *(undefined4 *)(unaff_s1 + 0x28);
        }
        if (bVar4 == unaff_s4) {
          pbVar6 = pbVar6 + 1;
          bVar4 = *pbVar6;
          if (bVar4 != unaff_s4) {
            uVar1 = FONT_OBJ_820();
            return uVar1;
          }
        }
        iVar2 = *(int *)(unaff_s1 + 0x28);
        *(int *)(unaff_s1 + 0x28) = iVar2 + 1;
        *(byte *)(*(int *)(unaff_s1 + 0x24) + iVar2) = bVar4;
        pbVar6 = pbVar6 + 1;
      } while (*(int *)(unaff_s1 + 0x28) <= *(int *)(unaff_s1 + 0x1c));
      uVar1 = FONT_OBJ_A6C();
      return uVar1;
    }
    iVar3 = *(int *)(unaff_s1 + 0x28);
    *(int *)(unaff_s1 + 0x28) = iVar3 + 1;
    *(char *)(*(int *)(unaff_s1 + 0x24) + iVar3) = *pcVar5;
    pcVar5 = pcVar5 + 1;
  } while (*(int *)(unaff_s1 + 0x28) <= *(int *)(unaff_s1 + 0x1c));
FONT_OBJ_73C:
  uVar1 = FONT_OBJ_A6C();
  return uVar1;
}



undefined4 FONT_OBJ_9A0(undefined4 param_1,undefined4 param_2,int param_3)

{
  undefined4 uVar1;
  int iVar2;
  byte bVar3;
  undefined *unaff_s0;
  int unaff_s1;
  int unaff_s2;
  int unaff_s3;
  byte *pbVar4;
  uint unaff_s4;
  
  if (param_3 < unaff_s2) {
    do {
      iVar2 = *(int *)(unaff_s1 + 0x28);
      *(int *)(unaff_s1 + 0x28) = iVar2 + 1;
      *(undefined *)(*(int *)(unaff_s1 + 0x24) + iVar2) = 0x20;
      unaff_s2 = unaff_s2 + -1;
      if (*(int *)(unaff_s1 + 0x1c) < *(int *)(unaff_s1 + 0x28)) goto FONT_OBJ_73C;
    } while (param_3 < unaff_s2);
  }
  param_3 = param_3 + -1;
  while( true ) {
    if (param_3 == -1) {
      pbVar4 = (byte *)(unaff_s3 + 1);
      do {
        bVar3 = *pbVar4;
        if (bVar3 == 0) {
          *(undefined *)(*(int *)(unaff_s1 + 0x24) + *(int *)(unaff_s1 + 0x28)) = 0;
          return *(undefined4 *)(unaff_s1 + 0x28);
        }
        if (bVar3 == unaff_s4) {
          pbVar4 = pbVar4 + 1;
          bVar3 = *pbVar4;
          if (bVar3 != unaff_s4) {
            uVar1 = FONT_OBJ_820();
            return uVar1;
          }
        }
        iVar2 = *(int *)(unaff_s1 + 0x28);
        *(int *)(unaff_s1 + 0x28) = iVar2 + 1;
        *(byte *)(*(int *)(unaff_s1 + 0x24) + iVar2) = bVar3;
        pbVar4 = pbVar4 + 1;
      } while (*(int *)(unaff_s1 + 0x28) <= *(int *)(unaff_s1 + 0x1c));
      uVar1 = FONT_OBJ_A6C();
      return uVar1;
    }
    iVar2 = *(int *)(unaff_s1 + 0x28);
    *(int *)(unaff_s1 + 0x28) = iVar2 + 1;
    *(undefined *)(*(int *)(unaff_s1 + 0x24) + iVar2) = *unaff_s0;
    unaff_s0 = unaff_s0 + 1;
    if (*(int *)(unaff_s1 + 0x1c) < *(int *)(unaff_s1 + 0x28)) break;
    param_3 = param_3 + -1;
  }
FONT_OBJ_73C:
  uVar1 = FONT_OBJ_A6C();
  return uVar1;
}



undefined4 FONT_OBJ_9A4(undefined4 param_1,undefined4 param_2,int param_3)

{
  undefined4 uVar1;
  int in_v0;
  int iVar2;
  byte bVar3;
  undefined *unaff_s0;
  int unaff_s1;
  int unaff_s2;
  int unaff_s3;
  byte *pbVar4;
  uint unaff_s4;
  
  if (in_v0 != 0) {
    do {
      iVar2 = *(int *)(unaff_s1 + 0x28);
      *(int *)(unaff_s1 + 0x28) = iVar2 + 1;
      *(undefined *)(*(int *)(unaff_s1 + 0x24) + iVar2) = 0x20;
      unaff_s2 = unaff_s2 + -1;
      if (*(int *)(unaff_s1 + 0x1c) < *(int *)(unaff_s1 + 0x28)) goto FONT_OBJ_73C;
    } while (param_3 < unaff_s2);
  }
  param_3 = param_3 + -1;
  while( true ) {
    if (param_3 == -1) {
      pbVar4 = (byte *)(unaff_s3 + 1);
      do {
        bVar3 = *pbVar4;
        if (bVar3 == 0) {
          *(undefined *)(*(int *)(unaff_s1 + 0x24) + *(int *)(unaff_s1 + 0x28)) = 0;
          return *(undefined4 *)(unaff_s1 + 0x28);
        }
        if (bVar3 == unaff_s4) {
          pbVar4 = pbVar4 + 1;
          bVar3 = *pbVar4;
          if (bVar3 != unaff_s4) {
            uVar1 = FONT_OBJ_820();
            return uVar1;
          }
        }
        iVar2 = *(int *)(unaff_s1 + 0x28);
        *(int *)(unaff_s1 + 0x28) = iVar2 + 1;
        *(byte *)(*(int *)(unaff_s1 + 0x24) + iVar2) = bVar3;
        pbVar4 = pbVar4 + 1;
      } while (*(int *)(unaff_s1 + 0x28) <= *(int *)(unaff_s1 + 0x1c));
      uVar1 = FONT_OBJ_A6C();
      return uVar1;
    }
    iVar2 = *(int *)(unaff_s1 + 0x28);
    *(int *)(unaff_s1 + 0x28) = iVar2 + 1;
    *(undefined *)(*(int *)(unaff_s1 + 0x24) + iVar2) = *unaff_s0;
    unaff_s0 = unaff_s0 + 1;
    if (*(int *)(unaff_s1 + 0x1c) < *(int *)(unaff_s1 + 0x28)) break;
    param_3 = param_3 + -1;
  }
FONT_OBJ_73C:
  uVar1 = FONT_OBJ_A6C();
  return uVar1;
}



void FONT_OBJ_A6C(void)

{
  return;
}



int strlen(char *param_1)

{
  int iVar1;
  
  iVar1 = (*(code *)&LAB_000000a0)();
  return iVar1;
}



void * memset(uchar *param_1,uchar param_2,int param_3)

{
  void *pvVar1;
  
  pvVar1 = (void *)(*(code *)&LAB_000000a0)();
  return pvVar1;
}



u_short GetTPage(int tp,int abr,int x,int y)

{
  return (ushort)((tp & 3U) << 7) | (ushort)((abr & 3U) << 5) | (ushort)((int)(y & 0x100U) >> 4) |
         (ushort)((int)(x & 0x3ffU) >> 6) | (ushort)((y & 0x200U) << 2);
}



u_short GetClut(int x,int y)

{
  return (ushort)(y << 6) | (ushort)(x >> 4) & 0x3f;
}



void DumpTPage(u_short tpage)

{
  (*(code *)PTR_printf_800a00e0)
            ("tpage: (%d,%d,%d,%d)\n",tpage >> 7 & 3,tpage >> 5 & 3,(tpage & 0x1f) << 6,
             (tpage & 0x10) * 0x10 + (tpage >> 2 & 0x200));
  return;
}



void DumpClut(u_short clut)

{
  (*(code *)PTR_printf_800a00e0)("clut: (%d,%d)\n",(clut & 0x3f) << 4,clut >> 6);
  return;
}



void * NextPrim(void *p)

{
                    // WARNING: Load size is inaccurate
  return (void *)(*p & 0xffffff | 0x80000000);
}



int IsEndPrim(void *p)

{
                    // WARNING: Load size is inaccurate
  return (uint)((*p & 0xffffff) == 0xffffff);
}



void AddPrim(void *ot,void *p)

{
                    // WARNING: Load size is inaccurate
                    // WARNING: Load size is inaccurate
  *(uint *)p = *p & 0xff000000 | *ot & 0xffffff;
                    // WARNING: Load size is inaccurate
  *(uint *)ot = *ot & 0xff000000 | (uint)p & 0xffffff;
  return;
}



void AddPrims(void *ot,void *p0,void *p1)

{
                    // WARNING: Load size is inaccurate
                    // WARNING: Load size is inaccurate
  *(uint *)p1 = *p1 & 0xff000000 | *ot & 0xffffff;
                    // WARNING: Load size is inaccurate
  *(uint *)ot = *ot & 0xff000000 | (uint)p0 & 0xffffff;
  return;
}



void CatPrim(void *p0,void *p1)

{
                    // WARNING: Load size is inaccurate
  *(uint *)p0 = *p0 & 0xff000000 | (uint)p1 & 0xffffff;
  return;
}



void TermPrim(void *p)

{
                    // WARNING: Load size is inaccurate
  *(uint *)p = *p | 0xffffff;
  return;
}



void SetSemiTrans(void *p,int abe)

{
  if (abe != 0) {
    PRIM_OBJ_200();
    return;
  }
  *(byte *)((int)p + 7) = *(byte *)((int)p + 7) & 0xfd;
  return;
}



void PRIM_OBJ_200(int param_1)

{
  undefined in_v0;
  
  *(undefined *)(param_1 + 7) = in_v0;
  return;
}



void SetShadeTex(void *p,int tge)

{
  if (tge != 0) {
    PRIM_OBJ_228();
    return;
  }
  *(byte *)((int)p + 7) = *(byte *)((int)p + 7) & 0xfe;
  return;
}



void PRIM_OBJ_228(int param_1)

{
  undefined in_v0;
  
  *(undefined *)(param_1 + 7) = in_v0;
  return;
}



void SetPolyF3(POLY_F3 *p)

{
  *(undefined *)((int)&p->tag + 3) = 4;
  p->code = ' ';
  return;
}



void SetPolyFT3(POLY_FT3 *p)

{
  *(undefined *)((int)&p->tag + 3) = 7;
  p->code = '$';
  return;
}



void SetPolyG3(POLY_G3 *p)

{
  *(undefined *)((int)&p->tag + 3) = 6;
  p->code = '0';
  return;
}



void SetPolyGT3(POLY_GT3 *p)

{
  *(undefined *)((int)&p->tag + 3) = 9;
  p->code = '4';
  return;
}



void SetPolyF4(POLY_F4 *p)

{
  *(undefined *)((int)&p->tag + 3) = 5;
  p->code = '(';
  return;
}



void SetPolyFT4(POLY_FT4 *p)

{
  *(undefined *)((int)&p->tag + 3) = 9;
  p->code = ',';
  return;
}



void SetPolyG4(POLY_G4 *p)

{
  *(undefined *)((int)&p->tag + 3) = 8;
  p->code = '8';
  return;
}



void SetPolyGT4(POLY_GT4 *p)

{
  *(undefined *)((int)&p->tag + 3) = 0xc;
  p->code = '<';
  return;
}



void SetSprt8(SPRT_8 *p)

{
  *(undefined *)((int)&p->tag + 3) = 3;
  p->code = 't';
  return;
}



void SetSprt16(SPRT_16 *p)

{
  *(undefined *)((int)&p->tag + 3) = 3;
  p->code = '|';
  return;
}



void SetSprt(SPRT *p)

{
  *(undefined *)((int)&p->tag + 3) = 4;
  p->code = 'd';
  return;
}



void SetTile1(TILE_1 *p)

{
  *(undefined *)((int)&p->tag + 3) = 2;
  p->code = 'h';
  return;
}



void SetTile8(TILE_8 *p)

{
  *(undefined *)((int)&p->tag + 3) = 2;
  p->code = 'p';
  return;
}



void SetTile16(TILE_16 *p)

{
  *(undefined *)((int)&p->tag + 3) = 2;
  p->code = 'x';
  return;
}



void SetTile(TILE *p)

{
  *(undefined *)((int)&p->tag + 3) = 3;
  p->code = '`';
  return;
}



void SetLineF2(LINE_F2 *p)

{
  *(undefined *)((int)&p->tag + 3) = 3;
  p->code = '@';
  return;
}



void SetLineG2(LINE_G2 *p)

{
  *(undefined *)((int)&p->tag + 3) = 4;
  p->code = 'P';
  return;
}



void SetLineF3(LINE_F3 *p)

{
  *(undefined *)((int)&p->tag + 3) = 5;
  p->code = 'H';
  p->pad = 0x55555555;
  return;
}



void SetLineG3(LINE_G3 *p)

{
  *(undefined *)((int)&p->tag + 3) = 7;
  p->code = 'X';
  p->pad = 0x55555555;
  return;
}



void SetLineF4(LINE_F4 *p)

{
  *(undefined *)((int)&p->tag + 3) = 6;
  p->code = 'L';
  p->pad = 0x55555555;
  return;
}



void SetLineG4(LINE_G4 *p)

{
  *(undefined *)((int)&p->tag + 3) = 9;
  p->code = '\\';
  p->pad = 0x55555555;
  return;
}



void SetDrawTPage(DR_TPAGE *p,int dfe,int dtd,int tpage)

{
  uint uVar1;
  uint uVar2;
  
  *(undefined *)((int)&p->tag + 3) = 1;
  uVar2 = 0xe1000000;
  if (dtd != 0) {
    uVar2 = 0xe1000200;
  }
  uVar1 = tpage & 0x9ff;
  if (dfe != 0) {
    uVar1 = uVar1 | 0x400;
  }
  p->code[0] = uVar2 | uVar1;
  return;
}



void SetDrawMove(DR_MOVE *p,RECT *rect,int x,int y)

{
  undefined uVar1;
  u_long uVar2;
  
  uVar1 = 5;
  if ((rect->w == 0) || (rect->h == 0)) {
    uVar1 = 0;
  }
  p->code[0] = 0x1000000;
  p->code[1] = 0x80000000;
  *(undefined *)((int)&p->tag + 3) = uVar1;
  uVar2 = *(u_long *)rect;
  p->code[3] = y << 0x10 | x & 0xffffU;
  p->code[2] = uVar2;
  p->code[4] = *(u_long *)&rect->w;
  return;
}



void SetDrawLoad(DR_LOAD *p,RECT *rect)

{
  uint uVar1;
  int iVar2;
  
  uVar1 = ((int)rect->w * (int)rect->h + 1) / 2;
  iVar2 = uVar1 + 4;
  if (0xc < uVar1) {
    iVar2 = 0;
  }
  *(char *)((int)&p->tag + 3) = (char)iVar2;
  p->code[0] = 0xa0000000;
  p->code[1] = *(u_long *)rect;
  p->code[2] = *(u_long *)&rect->w;
  p->code[iVar2 + -1] = 0x1000000;
  return;
}



int MargePrim(void *p0,void *p1)

{
  int iVar1;
  uint uVar2;
  
  uVar2 = (uint)*(byte *)((int)p0 + 3) + (uint)*(byte *)((int)p1 + 3) + 1;
  if (uVar2 < 0x11) {
    *(char *)((int)p0 + 3) = (char)uVar2;
    *(undefined4 *)p1 = 0;
    iVar1 = PRIM_OBJ_52C();
    return iVar1;
  }
  return -1;
}



void PRIM_OBJ_52C(void)

{
  return;
}



void DumpDrawEnv(DRAWENV *env)

{
  ushort uVar1;
  
  (*(code *)PTR_printf_800a00e0)
            ("clip (%3d,%3d)-(%d,%d)\n",(int)(env->clip).x,(int)(env->clip).y,(int)(env->clip).w,
             (int)(env->clip).h);
  (*(code *)PTR_printf_800a00e0)("ofs  (%3d,%3d)\n",(int)env->ofs[0],(int)env->ofs[1]);
  (*(code *)PTR_printf_800a00e0)
            ("tw   (%d,%d)-(%d,%d)\n",(int)(env->tw).x,(int)(env->tw).y,(int)(env->tw).w,
             (int)(env->tw).h);
  (*(code *)PTR_printf_800a00e0)("dtd   %d\n",env->dtd);
  (*(code *)PTR_printf_800a00e0)("dfe   %d\n",env->dfe);
  uVar1 = env->tpage;
  (*(code *)PTR_printf_800a00e0)
            ("tpage: (%d,%d,%d,%d)\n",uVar1 >> 7 & 3,uVar1 >> 5 & 3,(uVar1 & 0x1f) << 6,
             (uVar1 & 0x10) * 0x10 + (uVar1 >> 2 & 0x200));
  return;
}



void DumpDispEnv(DISPENV *env)

{
  (*(code *)PTR_printf_800a00e0)
            ("disp   (%3d,%3d)-(%d,%d)\n",(int)(env->disp).x,(int)(env->disp).y,(int)(env->disp).w,
             (int)(env->disp).h);
  (*(code *)PTR_printf_800a00e0)
            ("screen (%3d,%3d)-(%d,%d)\n",(int)(env->screen).x,(int)(env->screen).y,
             (int)(env->screen).w,(int)(env->screen).h);
  (*(code *)PTR_printf_800a00e0)("isinter %d\n",env->isinter);
  (*(code *)PTR_printf_800a00e0)("isrgb24 %d\n",env->isrgb24);
  return;
}



int ResetGraph(int mode)

{
  int iVar1;
  uint uVar2;
  
  uVar2 = mode & 7;
  if (uVar2 != 3) {
    if (3 < uVar2) {
      if (uVar2 != 5) {
        iVar1 = SYS_OBJ_11C();
        return iVar1;
      }
      goto SYS_OBJ_70;
    }
    if (uVar2 != 0) {
      iVar1 = SYS_OBJ_11C();
      return iVar1;
    }
  }
  printf("ResetGraph:jtb=%08x,env=%08x\n",&PTR_s__Id__sys_c_v_1_129_1996_12_25_03_800a009c,
         &DAT_800a00e4);
SYS_OBJ_70:
  memset(&DAT_800a00e4,'\0',0x80);
  ResetCallback();
  GPU_cw((uint)PTR_PTR_s__Id__sys_c_v_1_129_1996_12_25_03_800a00dc & 0xffffff);
  DAT_800a00e4 = _reset(mode);
  DAT_800a00e5 = 1;
  DAT_800a00e8 = (undefined2)*(undefined4 *)(&DAT_800a0164 + (uint)DAT_800a00e4 * 4);
  DAT_800a00ea = (undefined2)*(undefined4 *)(&DAT_800a0178 + (uint)DAT_800a00e4 * 4);
  memset((uchar *)&DAT_800a00f4,0xff,0x5c);
  memset((uchar *)&DAT_800a0150,0xff,0x14);
  iVar1 = SYS_OBJ_16C();
  return iVar1;
}



void SYS_OBJ_11C(void)

{
  if (1 < DAT_800a00e6) {
    (*(code *)PTR_printf_800a00e0)("ResetGraph(%d)...\n");
  }
  (**(code **)(PTR_PTR_s__Id__sys_c_v_1_129_1996_12_25_03_800a00dc + 0x34))(1);
  return;
}



void SYS_OBJ_16C(void)

{
  return;
}



uint SetGraphReverse(undefined4 param_1)

{
  uint uVar1;
  undefined4 uVar2;
  uint uVar3;
  
  uVar3 = (uint)DAT_800a00e7;
  if (1 < DAT_800a00e6) {
    (*(code *)PTR_printf_800a00e0)("SetGraphReverse(%d)...\n",param_1);
  }
  DAT_800a00e7 = (byte)param_1;
  uVar1 = (**(code **)(PTR_PTR_s__Id__sys_c_v_1_129_1996_12_25_03_800a00dc + 0x28))(8);
  if (DAT_800a00e7 != '\0') {
    uVar3 = SYS_OBJ_210();
    return uVar3;
  }
  (**(code **)(PTR_PTR_s__Id__sys_c_v_1_129_1996_12_25_03_800a00dc + 0x10))(uVar1 | 0x8000000);
  if (DAT_800a00e4 == '\x02') {
    uVar2 = 0x20000504;
    if (DAT_800a00e7 != '\0') {
      uVar2 = 0x20000501;
    }
    (**(code **)(PTR_PTR_s__Id__sys_c_v_1_129_1996_12_25_03_800a00dc + 0x10))(uVar2);
  }
  return uVar3;
}



void SYS_OBJ_210(uint param_1)

{
  uint in_v0;
  undefined4 uVar1;
  
  (**(code **)(PTR_PTR_s__Id__sys_c_v_1_129_1996_12_25_03_800a00dc + 0x10))(param_1 | in_v0);
  if (DAT_800a00e4 == '\x02') {
    uVar1 = 0x20000504;
    if (DAT_800a00e7 != '\0') {
      uVar1 = 0x20000501;
    }
    (**(code **)(PTR_PTR_s__Id__sys_c_v_1_129_1996_12_25_03_800a00dc + 0x10))(uVar1);
  }
  return;
}



int SetGraphDebug(int level)

{
  uint uVar1;
  
  uVar1 = (uint)DAT_800a00e6;
  DAT_800a00e6 = (byte)level;
  if ((level & 0xffU) != 0) {
    (*(code *)PTR_printf_800a00e0)
              ("SetGraphDebug:level:%d,type:%d reverse:%d\n",level & 0xffU,DAT_800a00e4,DAT_800a00e7
              );
  }
  return uVar1;
}



byte SetGraphQueue(uint param_1)

{
  byte bVar1;
  
  bVar1 = DAT_800a00e5;
  if (1 < DAT_800a00e6) {
    (*(code *)PTR_printf_800a00e0)("SetGrapQue(%d)...\n",param_1);
  }
  if (param_1 != DAT_800a00e5) {
    (**(code **)(PTR_PTR_s__Id__sys_c_v_1_129_1996_12_25_03_800a00dc + 0x34))(1);
    DAT_800a00e5 = (byte)param_1;
    DMACallback(2,0);
  }
  return bVar1;
}



undefined GetGraphType(void)

{
  return DAT_800a00e4;
}



// WARNING: Unknown calling convention -- yet parameter storage is locked

int GetGraphDebug(void)

{
  return (uint)DAT_800a00e6;
}



u_long DrawSyncCallback(func *func)

{
  u_long uVar1;
  
  if (1 < DAT_800a00e6) {
    (*(code *)PTR_printf_800a00e0)("DrawSyncCallback(%08x)...\n",func);
  }
  uVar1 = (u_long)DAT_800a00f0;
  DAT_800a00f0 = func;
  return uVar1;
}



void SetDispMask(int mask)

{
  undefined4 uVar1;
  
  if (1 < DAT_800a00e6) {
    (*(code *)PTR_printf_800a00e0)("SetDispMask(%d)...\n",mask);
  }
  if (mask == 0) {
    memset((uchar *)&DAT_800a0150,0xff,0x14);
  }
  uVar1 = 0x3000001;
  if (mask != 0) {
    uVar1 = 0x3000000;
  }
  (**(code **)(PTR_PTR_s__Id__sys_c_v_1_129_1996_12_25_03_800a00dc + 0x10))(uVar1);
  return;
}



int DrawSync(int mode)

{
  int iVar1;
  
  if (1 < DAT_800a00e6) {
    (*(code *)PTR_printf_800a00e0)("DrawSync(%d)...\n",mode);
  }
  iVar1 = (**(code **)(PTR_PTR_s__Id__sys_c_v_1_129_1996_12_25_03_800a00dc + 0x3c))(mode);
  return iVar1;
}



void checkRECT(astruct *param_1,short *param_2)

{
  int iVar1;
  int iVar2;
  
  if (DAT_800a00e6 != '\x01') {
    if (DAT_800a00e6 == '\x02') {
      (*(code *)PTR_printf_800a00e0)(&DAT_80012f6c,param_1);
      (*(code *)PTR_printf_800a00e0)
                ("(%d,%d)-(%d,%d)\n",(int)*param_2,(int)param_2[1],(int)param_2[2],(int)param_2[3]);
      return;
    }
    SYS_OBJ_640();
    return;
  }
  iVar2 = (int)param_2[2];
  if ((iVar2 <= DAT_800a00e8) && (iVar2 + *param_2 <= (int)DAT_800a00e8)) {
    iVar1 = (int)param_2[1];
    if (((iVar1 <= DAT_800a00ea) &&
        (((iVar1 + param_2[3] <= (int)DAT_800a00ea && (0 < iVar2)) && (-1 < *param_2)))) &&
       ((-1 < iVar1 && (0 < param_2[3])))) {
      return;
    }
  }
  SYS_OBJ_604("%s:bad RECT");
  return;
}



void SYS_OBJ_604(void)

{
  short *unaff_s0;
  
  (*(code *)PTR_printf_800a00e0)();
  (*(code *)PTR_printf_800a00e0)
            ("(%d,%d)-(%d,%d)\n",(int)*unaff_s0,(int)unaff_s0[1],(int)unaff_s0[2]);
  return;
}



void SYS_OBJ_640(void)

{
  return;
}



int ClearImage(RECT *rect,u_char r,u_char g,u_char b)

{
  int iVar1;
  
  checkRECT((astruct *)"ClearImage",&rect->x);
  iVar1 = (**(code **)(PTR_PTR_s__Id__sys_c_v_1_129_1996_12_25_03_800a00dc + 8))
                    (*(undefined4 *)(PTR_PTR_s__Id__sys_c_v_1_129_1996_12_25_03_800a00dc + 0xc),rect
                     ,8,(uint)b << 0x10 | (uint)g << 8 | (uint)r);
  return iVar1;
}



int ClearImage2(RECT *rect,u_char r,u_char g,u_char b)

{
  int iVar1;
  
  checkRECT((astruct *)"ClearImage",&rect->x);
  iVar1 = (**(code **)(PTR_PTR_s__Id__sys_c_v_1_129_1996_12_25_03_800a00dc + 8))
                    (*(undefined4 *)(PTR_PTR_s__Id__sys_c_v_1_129_1996_12_25_03_800a00dc + 0xc),rect
                     ,8,(uint)b << 0x10 | (uint)g << 8 | 0x80000000 | (uint)r);
  return iVar1;
}



int LoadImage(RECT *rect,u_long *p)

{
  int iVar1;
  
  checkRECT((astruct *)"LoadImage",&rect->x);
  iVar1 = (**(code **)(PTR_PTR_s__Id__sys_c_v_1_129_1996_12_25_03_800a00dc + 8))
                    (*(undefined4 *)(PTR_PTR_s__Id__sys_c_v_1_129_1996_12_25_03_800a00dc + 0x20),
                     rect,8,p);
  return iVar1;
}



int StoreImage(RECT *rect,u_long *p)

{
  int iVar1;
  
  checkRECT((astruct *)"StoreImage",&rect->x);
  iVar1 = (**(code **)(PTR_PTR_s__Id__sys_c_v_1_129_1996_12_25_03_800a00dc + 8))
                    (*(undefined4 *)(PTR_PTR_s__Id__sys_c_v_1_129_1996_12_25_03_800a00dc + 0x1c),
                     rect,8,p);
  return iVar1;
}



int MoveImage(RECT *rect,int x,int y)

{
  int iVar1;
  
  checkRECT((astruct *)"MoveImage",&rect->x);
  iVar1 = -1;
  if (rect->w != 0) {
    if (rect->h == 0) {
      iVar1 = SYS_OBJ_8F4();
      return iVar1;
    }
    DAT_800a0198 = y << 0x10 | x & 0xffffU;
    DAT_800a0194._0_2_ = rect->x;
    DAT_800a0194._2_2_ = rect->y;
    DAT_800a019c._0_2_ = rect->w;
    DAT_800a019c._2_2_ = rect->h;
    iVar1 = (**(code **)(PTR_PTR_s__Id__sys_c_v_1_129_1996_12_25_03_800a00dc + 8))
                      (*(undefined4 *)(PTR_PTR_s__Id__sys_c_v_1_129_1996_12_25_03_800a00dc + 0x18),
                       &DAT_800a018c,0x14,0);
  }
  return iVar1;
}



void SYS_OBJ_8F4(void)

{
  return;
}



u_long * ClearOTag(u_long *ot,int n)

{
  int iVar1;
  
  if (1 < DAT_800a00e6) {
    (*(code *)PTR_printf_800a00e0)("ClearOTag(%08x,%d)...\n",ot,n);
  }
  for (iVar1 = n + -1; iVar1 != 0; iVar1 = iVar1 + -1) {
    *(undefined *)((int)ot + 3) = 0;
    *ot = *ot & 0xff000000 | (uint)(ot + 1) & 0xffffff;
    ot = ot + 1;
  }
  *ot = 0xa01a0;
  return ot;
}



u_long * ClearOTagR(u_long *ot,int n)

{
  if (1 < DAT_800a00e6) {
    (*(code *)PTR_printf_800a00e0)("ClearOTagR(%08x,%d)...\n",ot,n);
  }
  (**(code **)(PTR_PTR_s__Id__sys_c_v_1_129_1996_12_25_03_800a00dc + 0x2c))(ot,n);
  *ot = 0xa01a0;
  return ot;
}



void DrawPrim(void *p)

{
  undefined uVar1;
  
  uVar1 = *(undefined *)((int)p + 3);
  (**(code **)(PTR_PTR_s__Id__sys_c_v_1_129_1996_12_25_03_800a00dc + 0x3c))(0);
  (**(code **)(PTR_PTR_s__Id__sys_c_v_1_129_1996_12_25_03_800a00dc + 0x14))((int)p + 4,uVar1);
  return;
}



void DrawOTag(u_long *p)

{
  if (1 < DAT_800a00e6) {
    (*(code *)PTR_printf_800a00e0)("DrawOTag(%08x)...\n",p);
  }
  (**(code **)(PTR_PTR_s__Id__sys_c_v_1_129_1996_12_25_03_800a00dc + 8))
            (*(undefined4 *)(PTR_PTR_s__Id__sys_c_v_1_129_1996_12_25_03_800a00dc + 0x18),p,0,0);
  return;
}



DRAWENV * PutDrawEnv(DRAWENV *env)

{
  undefined *puVar1;
  undefined4 *puVar2;
  undefined4 uVar3;
  undefined4 uVar4;
  undefined4 uVar5;
  DRAWENV *pDVar6;
  DRAWENV *pDVar7;
  undefined4 *puVar8;
  
  if (1 < DAT_800a00e6) {
    (*(code *)PTR_printf_800a00e0)("PutDrawEnv(%08x)...\n",env);
  }
  SetDrawEnv2(&env->dr_env,env);
  puVar1 = PTR_PTR_s__Id__sys_c_v_1_129_1996_12_25_03_800a00dc;
  (env->dr_env).tag = (env->dr_env).tag | 0xffffff;
  (**(code **)(puVar1 + 8))(*(undefined4 *)(puVar1 + 0x18),&env->dr_env,0x40,0);
  pDVar7 = env;
  puVar2 = &DAT_800a00f4;
  do {
    puVar8 = puVar2;
    pDVar6 = pDVar7;
    uVar3 = *(undefined4 *)&(pDVar6->clip).w;
    uVar4 = *(undefined4 *)pDVar6->ofs;
    uVar5 = *(undefined4 *)&pDVar6->tw;
    *puVar8 = *(undefined4 *)&pDVar6->clip;
    puVar8[1] = uVar3;
    puVar8[2] = uVar4;
    puVar8[3] = uVar5;
    pDVar7 = (DRAWENV *)&(pDVar6->tw).w;
    puVar2 = puVar8 + 4;
  } while (pDVar7 != (DRAWENV *)((env->dr_env).code + 0xc));
  uVar3 = *(undefined4 *)&pDVar6->tpage;
  uVar4 = *(undefined4 *)&pDVar6->isbg;
  puVar8[4] = *(undefined4 *)pDVar7;
  puVar8[5] = uVar3;
  puVar8[6] = uVar4;
  return env;
}



void DrawOTagEnv(u_long *p,DRAWENV *env)

{
  undefined *puVar1;
  undefined4 *puVar2;
  undefined4 uVar3;
  undefined4 uVar4;
  undefined4 uVar5;
  DRAWENV *pDVar6;
  DRAWENV *pDVar7;
  undefined4 *puVar8;
  
  if (1 < DAT_800a00e6) {
    (*(code *)PTR_printf_800a00e0)("DrawOTagEnv(%08x,&08x)...\n",p,env);
  }
  SetDrawEnv2(&env->dr_env,env);
  puVar1 = PTR_PTR_s__Id__sys_c_v_1_129_1996_12_25_03_800a00dc;
  (env->dr_env).tag = (env->dr_env).tag & 0xff000000 | (uint)p & 0xffffff;
  (**(code **)(puVar1 + 8))(*(undefined4 *)(puVar1 + 0x18),&env->dr_env,0x40,0);
  pDVar7 = env;
  puVar2 = &DAT_800a00f4;
  do {
    puVar8 = puVar2;
    pDVar6 = pDVar7;
    uVar3 = *(undefined4 *)&(pDVar6->clip).w;
    uVar4 = *(undefined4 *)pDVar6->ofs;
    uVar5 = *(undefined4 *)&pDVar6->tw;
    *puVar8 = *(undefined4 *)&pDVar6->clip;
    puVar8[1] = uVar3;
    puVar8[2] = uVar4;
    puVar8[3] = uVar5;
    pDVar7 = (DRAWENV *)&(pDVar6->tw).w;
    puVar2 = puVar8 + 4;
  } while (pDVar7 != (DRAWENV *)((env->dr_env).code + 0xc));
  uVar3 = *(undefined4 *)&pDVar6->tpage;
  uVar4 = *(undefined4 *)&pDVar6->isbg;
  puVar8[4] = *(undefined4 *)pDVar7;
  puVar8[5] = uVar3;
  puVar8[6] = uVar4;
  return;
}



DRAWENV * GetDrawEnv(DRAWENV *env)

{
  memcpy((uchar *)env,(uchar *)&DAT_800a00f4,0x5c);
  return env;
}



DISPENV * PutDispEnv(DISPENV *env)

{
  short sVar1;
  bool bVar2;
  u_char uVar3;
  DISPENV *pDVar4;
  int iVar5;
  int iVar6;
  int iVar7;
  int iVar8;
  uint uVar9;
  uint uVar10;
  uint uVar11;
  uint uVar12;
  int iVar13;
  uint uVar14;
  uint uVar15;
  
  uVar15 = 0x8000000;
  if (1 < DAT_800a00e6) {
    (*(code *)PTR_printf_800a00e0)("PutDispEnv(%08x)...\n",env);
  }
  if (DAT_800a00e4 - 1 < 2) {
    get_dx(env);
    pDVar4 = (DISPENV *)SYS_OBJ_E34();
    return pDVar4;
  }
  (**(code **)(PTR_PTR_s__Id__sys_c_v_1_129_1996_12_25_03_800a00dc + 0x10))
            (((ushort)(env->disp).y & 0x3ff) << 10 | (ushort)(env->disp).x & 0x3ff | 0x5000000);
  if ((((DAT_800a0158 == (env->screen).x) && (DAT_800a015a == (env->screen).y)) &&
      (DAT_800a015c == (env->screen).w)) && (DAT_800a015e == (env->screen).h)) goto SYS_OBJ_1090;
  uVar3 = FUN_800889cc();
  sVar1 = (env->screen).x;
  env->pad0 = uVar3;
  iVar5 = sVar1 * 10;
  iVar7 = (int)(env->screen).y;
  iVar6 = iVar5 + 0x260;
  if (uVar3 != '\0') {
    pDVar4 = (DISPENV *)SYS_OBJ_F00();
    return pDVar4;
  }
  iVar13 = iVar7 + 0x10;
  iVar8 = (int)(env->screen).w;
  if (iVar8 != 0) {
    pDVar4 = (DISPENV *)SYS_OBJ_F24(iVar7,iVar8,iVar6 + iVar8 * 10);
    return pDVar4;
  }
  uVar12 = iVar5 + 0xc60;
  iVar5 = (int)(env->screen).h;
  uVar14 = iVar13 + iVar5;
  if (iVar5 == 0) {
    uVar14 = iVar7 + 0x100;
  }
  if (iVar6 < 500) {
    uVar9 = 500;
  }
  else {
    uVar9 = 0xcda;
    if (iVar6 < 0xcdb) {
      pDVar4 = (DISPENV *)SYS_OBJ_F58(iVar7,iVar6);
      return pDVar4;
    }
  }
  uVar10 = uVar9 + 0x50;
  if (((int)(uVar9 + 0x50) <= (int)uVar12) && (uVar10 = 0xcda, (int)uVar12 < 0xcdb)) {
    uVar10 = uVar12;
  }
  if (iVar13 < 0x10) {
    uVar12 = 0x10;
  }
  else {
    if (env->pad0 == '\0') {
      if (iVar13 < 0x101) {
        pDVar4 = (DISPENV *)SYS_OBJ_FD8(iVar13);
        return pDVar4;
      }
    }
    else if (iVar13 < 0x137) {
      pDVar4 = (DISPENV *)SYS_OBJ_FD8(iVar13);
      return pDVar4;
    }
    uVar12 = 0x100;
    if (env->pad0 != '\0') {
      pDVar4 = (DISPENV *)SYS_OBJ_FD8(0x136);
      return pDVar4;
    }
  }
  uVar11 = uVar12 + 2;
  if ((int)(uVar12 + 2) <= (int)uVar14) {
    if (env->pad0 == '\0') {
      uVar11 = uVar14;
      if ((int)uVar14 < 0x103) goto code_r0x8008ae68;
    }
    else if ((int)uVar14 < 0x139) {
      pDVar4 = (DISPENV *)SYS_OBJ_1034(uVar12,uVar14);
      return pDVar4;
    }
    uVar11 = 0x102;
    if (env->pad0 != '\0') {
      pDVar4 = (DISPENV *)SYS_OBJ_1034(uVar12,0x138);
      return pDVar4;
    }
  }
code_r0x8008ae68:
  (**(code **)(PTR_PTR_s__Id__sys_c_v_1_129_1996_12_25_03_800a00dc + 0x10))
            ((uVar10 & 0xfff) << 0xc | uVar9 | 0x6000000);
  (**(code **)(PTR_PTR_s__Id__sys_c_v_1_129_1996_12_25_03_800a00dc + 0x10))
            ((uVar11 & 0x3ff) << 10 | uVar12 | 0x7000000);
SYS_OBJ_1090:
  iVar5._0_1_ = env->isinter;
  iVar5._1_1_ = env->isrgb24;
  iVar5._2_1_ = env->pad0;
  iVar5._3_1_ = env->pad1;
  if (((DAT_800a0160 != iVar5) || (DAT_800a0150 != (env->disp).x)) ||
     ((DAT_800a0152 != (env->disp).y ||
      ((DAT_800a0154 != (env->disp).w || (DAT_800a0156 != (env->disp).h)))))) {
    uVar3 = FUN_800889cc();
    env->pad0 = uVar3;
    if (uVar3 == '\x01') {
      uVar15 = 0x8000008;
    }
    if (env->isrgb24 != '\0') {
      uVar15 = uVar15 | 0x10;
    }
    if (env->isinter != '\0') {
      uVar15 = uVar15 | 0x20;
    }
    if (DAT_800a00e7 != '\0') {
      uVar15 = uVar15 | 0x80;
    }
    sVar1 = (env->disp).w;
    if (0x118 < sVar1) {
      if (sVar1 < 0x161) {
        pDVar4 = (DISPENV *)SYS_OBJ_11C0();
        return pDVar4;
      }
      if (sVar1 < 0x191) {
        pDVar4 = (DISPENV *)SYS_OBJ_11C0();
        return pDVar4;
      }
      if (sVar1 < 0x231) {
        pDVar4 = (DISPENV *)SYS_OBJ_11C0();
        return pDVar4;
      }
      uVar15 = uVar15 | 3;
    }
    sVar1 = (env->disp).h;
    bVar2 = sVar1 < 0x121;
    if (env->pad0 == '\0') {
      bVar2 = sVar1 < 0x101;
    }
    if (!bVar2) {
      uVar15 = uVar15 | 0x24;
    }
    (**(code **)(PTR_PTR_s__Id__sys_c_v_1_129_1996_12_25_03_800a00dc + 0x10))(uVar15);
  }
  memcpy((uchar *)&DAT_800a0150,(uchar *)env,0x14);
  return env;
}



void SYS_OBJ_E34(void)

{
  short sVar1;
  bool bVar2;
  char cVar3;
  uint in_v0;
  uint in_v1;
  int iVar4;
  int iVar5;
  int iVar6;
  uint uVar7;
  uint uVar8;
  uint uVar9;
  uint uVar10;
  short *unaff_s0;
  int iVar11;
  uint uVar12;
  uint unaff_s3;
  
  (**(code **)(PTR_PTR_s__Id__sys_c_v_1_129_1996_12_25_03_800a00dc + 0x10))(in_v0 | in_v1);
  if ((((DAT_800a0158 == unaff_s0[4]) && (DAT_800a015a == unaff_s0[5])) &&
      (DAT_800a015c == unaff_s0[6])) && (DAT_800a015e == unaff_s0[7])) goto SYS_OBJ_1090;
  cVar3 = FUN_800889cc();
  *(char *)(unaff_s0 + 9) = cVar3;
  iVar5 = (int)unaff_s0[5];
  iVar4 = unaff_s0[4] * 10 + 0x260;
  if (cVar3 != '\0') {
    SYS_OBJ_F00();
    return;
  }
  iVar11 = iVar5 + 0x10;
  iVar6 = (int)unaff_s0[6];
  if (iVar6 != 0) {
    SYS_OBJ_F24(iVar5,iVar6,iVar4 + iVar6 * 10);
    return;
  }
  uVar10 = unaff_s0[4] * 10 + 0xc60;
  uVar12 = iVar11 + unaff_s0[7];
  if (unaff_s0[7] == 0) {
    uVar12 = iVar5 + 0x100;
  }
  if (iVar4 < 500) {
    uVar7 = 500;
  }
  else {
    uVar7 = 0xcda;
    if (iVar4 < 0xcdb) {
      SYS_OBJ_F58(iVar5,iVar4);
      return;
    }
  }
  uVar8 = uVar7 + 0x50;
  if (((int)(uVar7 + 0x50) <= (int)uVar10) && (uVar8 = 0xcda, (int)uVar10 < 0xcdb)) {
    uVar8 = uVar10;
  }
  if (iVar11 < 0x10) {
    uVar10 = 0x10;
  }
  else {
    if (*(char *)(unaff_s0 + 9) == '\0') {
      if (iVar11 < 0x101) {
        SYS_OBJ_FD8(iVar11);
        return;
      }
    }
    else if (iVar11 < 0x137) {
      SYS_OBJ_FD8(iVar11);
      return;
    }
    uVar10 = 0x100;
    if (*(char *)(unaff_s0 + 9) != '\0') {
      SYS_OBJ_FD8(0x136);
      return;
    }
  }
  uVar9 = uVar10 + 2;
  if ((int)(uVar10 + 2) <= (int)uVar12) {
    if (*(char *)(unaff_s0 + 9) == '\0') {
      uVar9 = uVar12;
      if ((int)uVar12 < 0x103) goto code_r0x8008ae68;
    }
    else if ((int)uVar12 < 0x139) {
      SYS_OBJ_1034(uVar10,uVar12);
      return;
    }
    uVar9 = 0x102;
    if (*(char *)(unaff_s0 + 9) != '\0') {
      SYS_OBJ_1034(uVar10,0x138);
      return;
    }
  }
code_r0x8008ae68:
  (**(code **)(PTR_PTR_s__Id__sys_c_v_1_129_1996_12_25_03_800a00dc + 0x10))
            ((uVar8 & 0xfff) << 0xc | uVar7 | 0x6000000);
  (**(code **)(PTR_PTR_s__Id__sys_c_v_1_129_1996_12_25_03_800a00dc + 0x10))
            ((uVar9 & 0x3ff) << 10 | uVar10 | 0x7000000);
SYS_OBJ_1090:
  if (((DAT_800a0160 != *(int *)(unaff_s0 + 8)) || (DAT_800a0150 != *unaff_s0)) ||
     ((DAT_800a0152 != unaff_s0[1] ||
      ((DAT_800a0154 != unaff_s0[2] || (DAT_800a0156 != unaff_s0[3])))))) {
    cVar3 = FUN_800889cc();
    *(char *)(unaff_s0 + 9) = cVar3;
    if (cVar3 == '\x01') {
      unaff_s3 = unaff_s3 | 8;
    }
    if (*(char *)((int)unaff_s0 + 0x11) != '\0') {
      unaff_s3 = unaff_s3 | 0x10;
    }
    if (*(char *)(unaff_s0 + 8) != '\0') {
      unaff_s3 = unaff_s3 | 0x20;
    }
    if (DAT_800a00e7 != '\0') {
      unaff_s3 = unaff_s3 | 0x80;
    }
    sVar1 = unaff_s0[2];
    if (0x118 < sVar1) {
      if (sVar1 < 0x161) {
        SYS_OBJ_11C0();
        return;
      }
      if (sVar1 < 0x191) {
        SYS_OBJ_11C0();
        return;
      }
      if (sVar1 < 0x231) {
        SYS_OBJ_11C0();
        return;
      }
      unaff_s3 = unaff_s3 | 3;
    }
    bVar2 = unaff_s0[3] < 0x121;
    if (*(char *)(unaff_s0 + 9) == '\0') {
      bVar2 = unaff_s0[3] < 0x101;
    }
    if (!bVar2) {
      unaff_s3 = unaff_s3 | 0x24;
    }
    (**(code **)(PTR_PTR_s__Id__sys_c_v_1_129_1996_12_25_03_800a00dc + 0x10))(unaff_s3);
  }
  memcpy((uchar *)&DAT_800a0150,(uchar *)unaff_s0,0x14);
  return;
}



void SYS_OBJ_F00(undefined4 param_1)

{
  short sVar1;
  bool bVar2;
  char cVar3;
  int in_v1;
  int iVar4;
  uint uVar5;
  uint uVar6;
  uint uVar7;
  uint uVar8;
  short *unaff_s0;
  int unaff_s1;
  uint uVar9;
  uint unaff_s3;
  
  iVar4 = (int)unaff_s0[6];
  if (iVar4 != 0) {
    SYS_OBJ_F24(param_1,iVar4,in_v1 + iVar4 * 10);
    return;
  }
  uVar8 = in_v1 + 0xa00;
  uVar9 = unaff_s1 + unaff_s0[7];
  if (unaff_s0[7] == 0) {
    uVar9 = unaff_s1 + 0xf0;
  }
  if (in_v1 < 500) {
    uVar5 = 500;
  }
  else {
    uVar5 = 0xcda;
    if (in_v1 < 0xcdb) {
      SYS_OBJ_F58();
      return;
    }
  }
  uVar6 = uVar5 + 0x50;
  if (((int)(uVar5 + 0x50) <= (int)uVar8) && (uVar6 = 0xcda, (int)uVar8 < 0xcdb)) {
    uVar6 = uVar8;
  }
  if (unaff_s1 < 0x10) {
    uVar8 = 0x10;
  }
  else {
    if (*(char *)(unaff_s0 + 9) == '\0') {
      if (unaff_s1 < 0x101) {
        SYS_OBJ_FD8();
        return;
      }
    }
    else if (unaff_s1 < 0x137) {
      SYS_OBJ_FD8();
      return;
    }
    uVar8 = 0x100;
    if (*(char *)(unaff_s0 + 9) != '\0') {
      SYS_OBJ_FD8(0x136);
      return;
    }
  }
  uVar7 = uVar8 + 2;
  if ((int)(uVar8 + 2) <= (int)uVar9) {
    if (*(char *)(unaff_s0 + 9) == '\0') {
      uVar7 = uVar9;
      if ((int)uVar9 < 0x103) goto code_r0x8008ae68;
    }
    else if ((int)uVar9 < 0x139) {
      SYS_OBJ_1034(uVar8,uVar9);
      return;
    }
    uVar7 = 0x102;
    if (*(char *)(unaff_s0 + 9) != '\0') {
      SYS_OBJ_1034(uVar8,0x138);
      return;
    }
  }
code_r0x8008ae68:
  (**(code **)(PTR_PTR_s__Id__sys_c_v_1_129_1996_12_25_03_800a00dc + 0x10))
            ((uVar6 & 0xfff) << 0xc | uVar5 | 0x6000000);
  (**(code **)(PTR_PTR_s__Id__sys_c_v_1_129_1996_12_25_03_800a00dc + 0x10))
            ((uVar7 & 0x3ff) << 10 | uVar8 | 0x7000000);
  if ((((DAT_800a0160 != *(int *)(unaff_s0 + 8)) || (DAT_800a0150 != *unaff_s0)) ||
      (DAT_800a0152 != unaff_s0[1])) ||
     ((DAT_800a0154 != unaff_s0[2] || (DAT_800a0156 != unaff_s0[3])))) {
    cVar3 = FUN_800889cc();
    *(char *)(unaff_s0 + 9) = cVar3;
    if (cVar3 == '\x01') {
      unaff_s3 = unaff_s3 | 8;
    }
    if (*(char *)((int)unaff_s0 + 0x11) != '\0') {
      unaff_s3 = unaff_s3 | 0x10;
    }
    if (*(char *)(unaff_s0 + 8) != '\0') {
      unaff_s3 = unaff_s3 | 0x20;
    }
    if (DAT_800a00e7 != '\0') {
      unaff_s3 = unaff_s3 | 0x80;
    }
    sVar1 = unaff_s0[2];
    if (0x118 < sVar1) {
      if (sVar1 < 0x161) {
        SYS_OBJ_11C0();
        return;
      }
      if (sVar1 < 0x191) {
        SYS_OBJ_11C0();
        return;
      }
      if (sVar1 < 0x231) {
        SYS_OBJ_11C0();
        return;
      }
      unaff_s3 = unaff_s3 | 3;
    }
    bVar2 = unaff_s0[3] < 0x121;
    if (*(char *)(unaff_s0 + 9) == '\0') {
      bVar2 = unaff_s0[3] < 0x101;
    }
    if (!bVar2) {
      unaff_s3 = unaff_s3 | 0x24;
    }
    (**(code **)(PTR_PTR_s__Id__sys_c_v_1_129_1996_12_25_03_800a00dc + 0x10))(unaff_s3);
  }
  memcpy((uchar *)&DAT_800a0150,(uchar *)unaff_s0,0x14);
  return;
}



void SYS_OBJ_F24(undefined4 param_1,undefined4 param_2,uint param_3)

{
  short sVar1;
  bool bVar2;
  char cVar3;
  int in_v1;
  uint uVar4;
  uint uVar5;
  uint uVar6;
  uint uVar7;
  short *unaff_s0;
  int unaff_s1;
  uint uVar8;
  uint unaff_s3;
  
  uVar8 = unaff_s1 + unaff_s0[7];
  if (unaff_s0[7] == 0) {
    uVar8 = unaff_s1 + 0xf0;
  }
  if (in_v1 < 500) {
    uVar5 = 500;
  }
  else {
    uVar5 = 0xcda;
    if (in_v1 < 0xcdb) {
      SYS_OBJ_F58();
      return;
    }
  }
  uVar6 = uVar5 + 0x50;
  if (((int)(uVar5 + 0x50) <= (int)param_3) && (uVar6 = 0xcda, (int)param_3 < 0xcdb)) {
    uVar6 = param_3;
  }
  if (unaff_s1 < 0x10) {
    uVar4 = 0x10;
  }
  else {
    if (*(char *)(unaff_s0 + 9) == '\0') {
      if (unaff_s1 < 0x101) {
        SYS_OBJ_FD8();
        return;
      }
    }
    else if (unaff_s1 < 0x137) {
      SYS_OBJ_FD8();
      return;
    }
    uVar4 = 0x100;
    if (*(char *)(unaff_s0 + 9) != '\0') {
      SYS_OBJ_FD8(0x136);
      return;
    }
  }
  uVar7 = uVar4 + 2;
  if ((int)(uVar4 + 2) <= (int)uVar8) {
    if (*(char *)(unaff_s0 + 9) == '\0') {
      uVar7 = uVar8;
      if ((int)uVar8 < 0x103) goto code_r0x8008ae68;
    }
    else if ((int)uVar8 < 0x139) {
      SYS_OBJ_1034(uVar4,uVar8);
      return;
    }
    uVar7 = 0x102;
    if (*(char *)(unaff_s0 + 9) != '\0') {
      SYS_OBJ_1034(uVar4,0x138);
      return;
    }
  }
code_r0x8008ae68:
  (**(code **)(PTR_PTR_s__Id__sys_c_v_1_129_1996_12_25_03_800a00dc + 0x10))
            ((uVar6 & 0xfff) << 0xc | uVar5 | 0x6000000);
  (**(code **)(PTR_PTR_s__Id__sys_c_v_1_129_1996_12_25_03_800a00dc + 0x10))
            ((uVar7 & 0x3ff) << 10 | uVar4 | 0x7000000);
  if ((((DAT_800a0160 != *(int *)(unaff_s0 + 8)) || (DAT_800a0150 != *unaff_s0)) ||
      (DAT_800a0152 != unaff_s0[1])) ||
     ((DAT_800a0154 != unaff_s0[2] || (DAT_800a0156 != unaff_s0[3])))) {
    cVar3 = FUN_800889cc();
    *(char *)(unaff_s0 + 9) = cVar3;
    if (cVar3 == '\x01') {
      unaff_s3 = unaff_s3 | 8;
    }
    if (*(char *)((int)unaff_s0 + 0x11) != '\0') {
      unaff_s3 = unaff_s3 | 0x10;
    }
    if (*(char *)(unaff_s0 + 8) != '\0') {
      unaff_s3 = unaff_s3 | 0x20;
    }
    if (DAT_800a00e7 != '\0') {
      unaff_s3 = unaff_s3 | 0x80;
    }
    sVar1 = unaff_s0[2];
    if (0x118 < sVar1) {
      if (sVar1 < 0x161) {
        SYS_OBJ_11C0();
        return;
      }
      if (sVar1 < 0x191) {
        SYS_OBJ_11C0();
        return;
      }
      if (sVar1 < 0x231) {
        SYS_OBJ_11C0();
        return;
      }
      unaff_s3 = unaff_s3 | 3;
    }
    bVar2 = unaff_s0[3] < 0x121;
    if (*(char *)(unaff_s0 + 9) == '\0') {
      bVar2 = unaff_s0[3] < 0x101;
    }
    if (!bVar2) {
      unaff_s3 = unaff_s3 | 0x24;
    }
    (**(code **)(PTR_PTR_s__Id__sys_c_v_1_129_1996_12_25_03_800a00dc + 0x10))(unaff_s3);
  }
  memcpy((uchar *)&DAT_800a0150,(uchar *)unaff_s0,0x14);
  return;
}



void SYS_OBJ_F58(undefined4 param_1,uint param_2,uint param_3)

{
  short sVar1;
  bool bVar2;
  char cVar3;
  uint uVar4;
  uint uVar5;
  uint uVar6;
  short *unaff_s0;
  int unaff_s1;
  uint unaff_s2;
  uint unaff_s3;
  
  uVar5 = param_2 + 0x50;
  if (((int)(param_2 + 0x50) <= (int)param_3) && (uVar5 = 0xcda, (int)param_3 < 0xcdb)) {
    uVar5 = param_3;
  }
  if (unaff_s1 < 0x10) {
    uVar4 = 0x10;
  }
  else {
    if (*(char *)(unaff_s0 + 9) == '\0') {
      if (unaff_s1 < 0x101) {
        SYS_OBJ_FD8();
        return;
      }
    }
    else if (unaff_s1 < 0x137) {
      SYS_OBJ_FD8();
      return;
    }
    uVar4 = 0x100;
    if (*(char *)(unaff_s0 + 9) != '\0') {
      SYS_OBJ_FD8(0x136);
      return;
    }
  }
  uVar6 = uVar4 + 2;
  if ((int)(uVar4 + 2) <= (int)unaff_s2) {
    if (*(char *)(unaff_s0 + 9) == '\0') {
      uVar6 = unaff_s2;
      if ((int)unaff_s2 < 0x103) goto code_r0x8008ae68;
    }
    else if ((int)unaff_s2 < 0x139) {
      SYS_OBJ_1034();
      return;
    }
    uVar6 = 0x102;
    if (*(char *)(unaff_s0 + 9) != '\0') {
      SYS_OBJ_1034(uVar4,0x138);
      return;
    }
  }
code_r0x8008ae68:
  (**(code **)(PTR_PTR_s__Id__sys_c_v_1_129_1996_12_25_03_800a00dc + 0x10))
            ((uVar5 & 0xfff) << 0xc | param_2 & 0xfff | 0x6000000);
  (**(code **)(PTR_PTR_s__Id__sys_c_v_1_129_1996_12_25_03_800a00dc + 0x10))
            ((uVar6 & 0x3ff) << 10 | uVar4 | 0x7000000);
  if ((((DAT_800a0160 != *(int *)(unaff_s0 + 8)) || (DAT_800a0150 != *unaff_s0)) ||
      (DAT_800a0152 != unaff_s0[1])) ||
     ((DAT_800a0154 != unaff_s0[2] || (DAT_800a0156 != unaff_s0[3])))) {
    cVar3 = FUN_800889cc();
    *(char *)(unaff_s0 + 9) = cVar3;
    if (cVar3 == '\x01') {
      unaff_s3 = unaff_s3 | 8;
    }
    if (*(char *)((int)unaff_s0 + 0x11) != '\0') {
      unaff_s3 = unaff_s3 | 0x10;
    }
    if (*(char *)(unaff_s0 + 8) != '\0') {
      unaff_s3 = unaff_s3 | 0x20;
    }
    if (DAT_800a00e7 != '\0') {
      unaff_s3 = unaff_s3 | 0x80;
    }
    sVar1 = unaff_s0[2];
    if (0x118 < sVar1) {
      if (sVar1 < 0x161) {
        SYS_OBJ_11C0();
        return;
      }
      if (sVar1 < 0x191) {
        SYS_OBJ_11C0();
        return;
      }
      if (sVar1 < 0x231) {
        SYS_OBJ_11C0();
        return;
      }
      unaff_s3 = unaff_s3 | 3;
    }
    bVar2 = unaff_s0[3] < 0x121;
    if (*(char *)(unaff_s0 + 9) == '\0') {
      bVar2 = unaff_s0[3] < 0x101;
    }
    if (!bVar2) {
      unaff_s3 = unaff_s3 | 0x24;
    }
    (**(code **)(PTR_PTR_s__Id__sys_c_v_1_129_1996_12_25_03_800a00dc + 0x10))(unaff_s3);
  }
  memcpy((uchar *)&DAT_800a0150,(uchar *)unaff_s0,0x14);
  return;
}



void SYS_OBJ_FD8(uint param_1,undefined4 param_2,uint param_3)

{
  short sVar1;
  bool bVar2;
  char cVar3;
  uint in_v1;
  uint uVar4;
  short *unaff_s0;
  uint unaff_s2;
  uint unaff_s3;
  
  uVar4 = param_1 + 2;
  if ((int)(param_1 + 2) <= (int)unaff_s2) {
    if (*(char *)(unaff_s0 + 9) == '\0') {
      uVar4 = unaff_s2;
      if ((int)unaff_s2 < 0x103) goto code_r0x8008ae68;
    }
    else if ((int)unaff_s2 < 0x139) {
      SYS_OBJ_1034();
      return;
    }
    uVar4 = 0x102;
    if (*(char *)(unaff_s0 + 9) != '\0') {
      SYS_OBJ_1034(param_1,0x138);
      return;
    }
  }
code_r0x8008ae68:
  (**(code **)(PTR_PTR_s__Id__sys_c_v_1_129_1996_12_25_03_800a00dc + 0x10))
            ((param_3 & 0xfff) << 0xc | in_v1 & 0xfff | 0x6000000);
  (**(code **)(PTR_PTR_s__Id__sys_c_v_1_129_1996_12_25_03_800a00dc + 0x10))
            ((uVar4 & 0x3ff) << 10 | param_1 & 0x3ff | 0x7000000);
  if ((((DAT_800a0160 != *(int *)(unaff_s0 + 8)) || (DAT_800a0150 != *unaff_s0)) ||
      (DAT_800a0152 != unaff_s0[1])) ||
     ((DAT_800a0154 != unaff_s0[2] || (DAT_800a0156 != unaff_s0[3])))) {
    cVar3 = FUN_800889cc();
    *(char *)(unaff_s0 + 9) = cVar3;
    if (cVar3 == '\x01') {
      unaff_s3 = unaff_s3 | 8;
    }
    if (*(char *)((int)unaff_s0 + 0x11) != '\0') {
      unaff_s3 = unaff_s3 | 0x10;
    }
    if (*(char *)(unaff_s0 + 8) != '\0') {
      unaff_s3 = unaff_s3 | 0x20;
    }
    if (DAT_800a00e7 != '\0') {
      unaff_s3 = unaff_s3 | 0x80;
    }
    sVar1 = unaff_s0[2];
    if (0x118 < sVar1) {
      if (sVar1 < 0x161) {
        SYS_OBJ_11C0();
        return;
      }
      if (sVar1 < 0x191) {
        SYS_OBJ_11C0();
        return;
      }
      if (sVar1 < 0x231) {
        SYS_OBJ_11C0();
        return;
      }
      unaff_s3 = unaff_s3 | 3;
    }
    bVar2 = unaff_s0[3] < 0x121;
    if (*(char *)(unaff_s0 + 9) == '\0') {
      bVar2 = unaff_s0[3] < 0x101;
    }
    if (!bVar2) {
      unaff_s3 = unaff_s3 | 0x24;
    }
    (**(code **)(PTR_PTR_s__Id__sys_c_v_1_129_1996_12_25_03_800a00dc + 0x10))(unaff_s3);
  }
  memcpy((uchar *)&DAT_800a0150,(uchar *)unaff_s0,0x14);
  return;
}



void SYS_OBJ_1034(undefined4 param_1,uint param_2,uint param_3)

{
  short sVar1;
  bool bVar2;
  char cVar3;
  uint in_v1;
  short *unaff_s0;
  uint unaff_s1;
  uint unaff_s3;
  
  (**(code **)(PTR_PTR_s__Id__sys_c_v_1_129_1996_12_25_03_800a00dc + 0x10))
            ((param_3 & 0xfff) << 0xc | in_v1 & 0xfff | 0x6000000);
  (**(code **)(PTR_PTR_s__Id__sys_c_v_1_129_1996_12_25_03_800a00dc + 0x10))
            ((param_2 & 0x3ff) << 10 | unaff_s1 & 0x3ff | 0x7000000);
  if ((((DAT_800a0160 != *(int *)(unaff_s0 + 8)) || (DAT_800a0150 != *unaff_s0)) ||
      (DAT_800a0152 != unaff_s0[1])) ||
     ((DAT_800a0154 != unaff_s0[2] || (DAT_800a0156 != unaff_s0[3])))) {
    cVar3 = FUN_800889cc();
    *(char *)(unaff_s0 + 9) = cVar3;
    if (cVar3 == '\x01') {
      unaff_s3 = unaff_s3 | 8;
    }
    if (*(char *)((int)unaff_s0 + 0x11) != '\0') {
      unaff_s3 = unaff_s3 | 0x10;
    }
    if (*(char *)(unaff_s0 + 8) != '\0') {
      unaff_s3 = unaff_s3 | 0x20;
    }
    if (DAT_800a00e7 != '\0') {
      unaff_s3 = unaff_s3 | 0x80;
    }
    sVar1 = unaff_s0[2];
    if (0x118 < sVar1) {
      if (sVar1 < 0x161) {
        SYS_OBJ_11C0();
        return;
      }
      if (sVar1 < 0x191) {
        SYS_OBJ_11C0();
        return;
      }
      if (sVar1 < 0x231) {
        SYS_OBJ_11C0();
        return;
      }
      unaff_s3 = unaff_s3 | 3;
    }
    bVar2 = unaff_s0[3] < 0x121;
    if (*(char *)(unaff_s0 + 9) == '\0') {
      bVar2 = unaff_s0[3] < 0x101;
    }
    if (!bVar2) {
      unaff_s3 = unaff_s3 | 0x24;
    }
    (**(code **)(PTR_PTR_s__Id__sys_c_v_1_129_1996_12_25_03_800a00dc + 0x10))(unaff_s3);
  }
  memcpy((uchar *)&DAT_800a0150,(uchar *)unaff_s0,0x14);
  return;
}



void SYS_OBJ_11C0(void)

{
  bool bVar1;
  uchar *unaff_s0;
  uint unaff_s3;
  
  bVar1 = *(short *)(unaff_s0 + 6) < 0x121;
  if (unaff_s0[0x12] == '\0') {
    bVar1 = *(short *)(unaff_s0 + 6) < 0x101;
  }
  if (!bVar1) {
    unaff_s3 = unaff_s3 | 0x24;
  }
  (**(code **)(PTR_PTR_s__Id__sys_c_v_1_129_1996_12_25_03_800a00dc + 0x10))(unaff_s3);
  memcpy((uchar *)&DAT_800a0150,unaff_s0,0x14);
  return;
}



DISPENV * GetDispEnv(DISPENV *env)

{
  memcpy((uchar *)env,(uchar *)&DAT_800a0150,0x14);
  return env;
}



// WARNING: Unknown calling convention -- yet parameter storage is locked

int GetODE(void)

{
  uint uVar1;
  
  uVar1 = (**(code **)(PTR_PTR_s__Id__sys_c_v_1_129_1996_12_25_03_800a00dc + 0x38))();
  return uVar1 >> 0x1f;
}



void SetTexWindow(DR_TWIN *p,RECT *tw)

{
  u_long uVar1;
  
  *(undefined *)((int)&p->tag + 3) = 2;
  uVar1 = get_tw(tw);
  p->code[0] = uVar1;
  p->code[1] = 0;
  return;
}



void SetDrawArea(DR_AREA *p,RECT *r)

{
  u_long uVar1;
  
  *(undefined *)((int)&p->tag + 3) = 2;
  uVar1 = get_cs((int)r->x,(int)r->y);
  p->code[0] = uVar1;
  uVar1 = get_ce((int)(((uint)(ushort)r->x + (uint)(ushort)r->w + -1) * 0x10000) >> 0x10,
                 (int)(((uint)(ushort)r->y + (uint)(ushort)r->h + -1) * 0x10000) >> 0x10);
  p->code[1] = uVar1;
  return;
}



void SetDrawOffset(DR_OFFSET *p,u_short *ofs)

{
  u_long uVar1;
  
  *(undefined *)((int)&p->tag + 3) = 2;
  uVar1 = get_ofs((int)(short)*ofs,(int)(short)ofs[1]);
  p->code[0] = uVar1;
  p->code[1] = 0;
  return;
}



void SetPriority(int param_1,int param_2,int param_3)

{
  uint uVar1;
  
  *(undefined *)(param_1 + 3) = 2;
  uVar1 = 0xe6000000;
  if (param_2 != 0) {
    uVar1 = 0xe6000002;
  }
  if (param_3 != 0) {
    uVar1 = uVar1 | 1;
  }
  *(uint *)(param_1 + 4) = uVar1;
  *(undefined4 *)(param_1 + 8) = 0;
  return;
}



void SetDrawMode(DR_MODE *p,int dfe,int dtd,int tpage,RECT *tw)

{
  u_long uVar1;
  
  *(undefined *)((int)&p->tag + 3) = 2;
  uVar1 = get_mode(dfe,dtd,tpage & 0xffff);
  p->code[0] = uVar1;
  uVar1 = get_tw(tw);
  p->code[1] = uVar1;
  return;
}



void SetDrawEnv(DR_ENV *dr_env,DRAWENV *env)

{
  short sVar1;
  short sVar2;
  u_long uVar3;
  int iVar4;
  char cVar5;
  u_long local_30;
  u_long local_2c;
  
  uVar3 = get_cs((int)(env->clip).x,(int)(env->clip).y);
  dr_env->code[0] = uVar3;
  uVar3 = get_ce((int)(((uint)(ushort)(env->clip).w + (uint)(ushort)(env->clip).x + -1) * 0x10000)
                 >> 0x10,(int)(((uint)(ushort)(env->clip).y + (uint)(ushort)(env->clip).h + -1) *
                              0x10000) >> 0x10);
  dr_env->code[1] = uVar3;
  uVar3 = get_ofs((int)env->ofs[0],(int)env->ofs[1]);
  dr_env->code[2] = uVar3;
  uVar3 = get_mode(env->dfe,env->dtd,env->tpage);
  dr_env->code[3] = uVar3;
  uVar3 = get_tw(&env->tw);
  dr_env->code[4] = uVar3;
  dr_env->code[5] = 0xe6000000;
  cVar5 = '\a';
  if (env->isbg != '\0') {
    sVar2 = (env->clip).w;
    sVar1 = 0;
    if ((-1 < sVar2) && (sVar1 = DAT_800a00e8 + -1, (int)sVar2 <= DAT_800a00e8 + -1)) {
      sVar1 = sVar2;
    }
    iVar4 = (int)(env->clip).h;
    if (iVar4 < 0) {
      sVar2 = 0;
    }
    else {
      sVar2 = DAT_800a00ea + -1;
      if (iVar4 <= DAT_800a00ea + -1) {
        SYS_OBJ_1578(iVar4);
        return;
      }
    }
    local_2c = CONCAT22(sVar2,sVar1);
    local_30 = CONCAT22((env->clip).y - env->ofs[1],(env->clip).x - env->ofs[0]);
    dr_env->code[6] = (uint)env->b0 << 0x10 | (uint)env->g0 << 8 | 0x60000000 | (uint)env->r0;
    dr_env->code[7] = local_30;
    dr_env->code[8] = local_2c;
    cVar5 = '\n';
  }
  *(char *)((int)&dr_env->tag + 3) = cVar5 + -1;
  return;
}



void SYS_OBJ_1578(void)

{
  undefined2 in_v0;
  int in_a3;
  int unaff_s0;
  int unaff_s1;
  short param_5;
  short sStack00000012;
  undefined2 param_6;
  
  _param_6 = CONCAT22(in_v0,param_6);
  _param_5 = CONCAT22(sStack00000012 - *(short *)(unaff_s0 + 10),param_5 - *(short *)(unaff_s0 + 8))
  ;
  *(uint *)(in_a3 * 4 + unaff_s1) =
       (uint)*(byte *)(unaff_s0 + 0x1b) << 0x10 | (uint)*(byte *)(unaff_s0 + 0x1a) << 8 | 0x60000000
       | (uint)*(byte *)(unaff_s0 + 0x19);
  *(undefined4 *)((in_a3 + 1) * 4 + unaff_s1) = _param_5;
  *(undefined4 *)((in_a3 + 2) * 4 + unaff_s1) = _param_6;
  *(char *)(unaff_s1 + 3) = (char)in_a3 + '\x02';
  return;
}



void SetDrawEnv2(int param_1,undefined4 *param_2)

{
  ushort uVar1;
  ushort uVar2;
  short sVar3;
  undefined4 uVar4;
  int iVar5;
  char cVar6;
  undefined4 local_30;
  undefined4 local_2c;
  
  uVar4 = get_cs((int)(short)*(ushort *)param_2,(int)(short)*(ushort *)((int)param_2 + 2));
  *(undefined4 *)(param_1 + 4) = uVar4;
  uVar4 = get_ce((int)(((uint)*(ushort *)(param_2 + 1) + (uint)*(ushort *)param_2 + -1) * 0x10000)
                 >> 0x10,(int)(((uint)*(ushort *)((int)param_2 + 2) +
                                (uint)*(ushort *)((int)param_2 + 6) + -1) * 0x10000) >> 0x10);
  *(undefined4 *)(param_1 + 8) = uVar4;
  uVar4 = get_ofs((int)(short)*(ushort *)(param_2 + 2),(int)(short)*(ushort *)((int)param_2 + 10));
  *(undefined4 *)(param_1 + 0xc) = uVar4;
  uVar4 = get_mode(*(undefined *)((int)param_2 + 0x17),*(undefined *)((int)param_2 + 0x16),
                   *(ushort *)(param_2 + 5));
  *(undefined4 *)(param_1 + 0x10) = uVar4;
  uVar4 = get_tw(param_2 + 3);
  *(undefined4 *)(param_1 + 0x14) = uVar4;
  *(undefined4 *)(param_1 + 0x18) = 0xe6000000;
  cVar6 = '\a';
  if (*(char *)(param_2 + 6) != '\0') {
    uVar4 = *param_2;
    uVar1 = *(ushort *)(param_2 + 1);
    uVar2 = 0;
    if ((-1 < (short)uVar1) && (uVar2 = DAT_800a00e8 - 1, (int)(short)uVar1 <= DAT_800a00e8 + -1)) {
      uVar2 = uVar1;
    }
    iVar5 = (int)(short)*(ushort *)((int)param_2 + 6);
    if (iVar5 < 0) {
      sVar3 = 0;
    }
    else {
      sVar3 = DAT_800a00ea + -1;
      if (iVar5 <= DAT_800a00ea + -1) {
        SYS_OBJ_1790(iVar5);
        return;
      }
    }
    local_2c = CONCAT22(sVar3,uVar2);
    if (((*(ushort *)param_2 & 0x3f) != 0) || ((uVar2 & 0x3f) != 0)) {
      local_30 = CONCAT22(*(ushort *)((int)param_2 + 2) - *(ushort *)((int)param_2 + 10),
                          *(ushort *)param_2 - *(ushort *)(param_2 + 2));
      *(uint *)(param_1 + 0x1c) =
           (uint)*(byte *)((int)param_2 + 0x1b) << 0x10 |
           (uint)*(byte *)((int)param_2 + 0x1a) << 8 | 0x60000000 |
           (uint)*(byte *)((int)param_2 + 0x19);
      *(undefined4 *)(param_1 + 0x20) = local_30;
      *(undefined4 *)(param_1 + 0x24) = local_2c;
      SYS_OBJ_18AC();
      return;
    }
    cVar6 = '\n';
    *(uint *)(param_1 + 0x1c) =
         (uint)*(byte *)((int)param_2 + 0x1b) << 0x10 |
         (uint)*(byte *)((int)param_2 + 0x1a) << 8 | 0x2000000 |
         (uint)*(byte *)((int)param_2 + 0x19);
    *(undefined4 *)(param_1 + 0x20) = uVar4;
    *(undefined4 *)(param_1 + 0x24) = local_2c;
  }
  *(char *)(param_1 + 3) = cVar6 + -1;
  return;
}



void SYS_OBJ_1790(void)

{
  undefined2 in_v0;
  int in_t0;
  int unaff_s0;
  int unaff_s1;
  short param_5;
  short sStack00000012;
  ushort param_6;
  
  _param_6 = CONCAT22(in_v0,param_6);
  if (((_param_5 & 0x3f) == 0) && ((param_6 & 0x3f) == 0)) {
    *(uint *)(in_t0 * 4 + unaff_s1) =
         (uint)*(byte *)(unaff_s0 + 0x1b) << 0x10 |
         (uint)*(byte *)(unaff_s0 + 0x1a) << 8 | 0x2000000 | (uint)*(byte *)(unaff_s0 + 0x19);
    *(uint *)((in_t0 + 1) * 4 + unaff_s1) = _param_5;
    *(undefined4 *)((in_t0 + 2) * 4 + unaff_s1) = _param_6;
    *(char *)(unaff_s1 + 3) = (char)in_t0 + '\x02';
    return;
  }
  _param_5 = CONCAT22(sStack00000012 - *(short *)(unaff_s0 + 10),param_5 - *(short *)(unaff_s0 + 8))
  ;
  *(uint *)(in_t0 * 4 + unaff_s1) =
       (uint)*(byte *)(unaff_s0 + 0x1b) << 0x10 | (uint)*(byte *)(unaff_s0 + 0x1a) << 8 | 0x60000000
       | (uint)*(byte *)(unaff_s0 + 0x19);
  *(uint *)((in_t0 + 1) * 4 + unaff_s1) = _param_5;
  *(undefined4 *)((in_t0 + 2) * 4 + unaff_s1) = _param_6;
  SYS_OBJ_18AC();
  return;
}



void SYS_OBJ_18AC(void)

{
  char in_t0;
  int unaff_s1;
  
  *(char *)(unaff_s1 + 3) = in_t0 + -1;
  return;
}



uint get_mode(int param_1,int param_2,uint param_3)

{
  uint uVar1;
  
  if (DAT_800a00e4 - 1 < 2) {
    uVar1 = 0xe1000000;
    if (param_2 != 0) {
      uVar1 = 0xe1000800;
    }
    param_3 = param_3 & 0x27ff;
    if (param_1 != 0) {
      uVar1 = SYS_OBJ_191C();
      return uVar1;
    }
  }
  else {
    uVar1 = 0xe1000000;
    if (param_2 != 0) {
      uVar1 = 0xe1000200;
    }
    param_3 = param_3 & 0x9ff;
    if (param_1 != 0) {
      param_3 = param_3 | 0x400;
    }
  }
  return uVar1 | param_3;
}



uint SYS_OBJ_191C(void)

{
  uint in_v0;
  uint in_v1;
  
  return in_v1 | in_v0;
}



uint get_cs(short param_1,uint param_2)

{
  uint uVar1;
  int iVar2;
  
  if (param_1 < 0) {
    uVar1 = 0;
  }
  else {
    uVar1 = (int)DAT_800a00e8 - 1;
    if ((int)param_1 <= DAT_800a00e8 + -1) {
      uVar1 = SYS_OBJ_1964();
      return uVar1;
    }
  }
  if ((short)param_2 < 0) {
    param_2 = 0;
  }
  else {
    iVar2 = (int)DAT_800a00ea;
    if (iVar2 + -1 < (int)(short)param_2) {
      uVar1 = SYS_OBJ_19A4(iVar2,iVar2 + -1);
      return uVar1;
    }
  }
  if (1 < DAT_800a00e4 - 1) {
    uVar1 = SYS_OBJ_19D8();
    return uVar1;
  }
  return (param_2 & 0xfff) << 0xc | uVar1 & 0xfff | 0xe3000000;
}



uint SYS_OBJ_1964(undefined4 param_1,uint param_2)

{
  uint in_v0;
  int iVar1;
  uint uVar2;
  
  if ((short)param_2 < 0) {
    param_2 = 0;
  }
  else {
    iVar1 = (int)DAT_800a00ea;
    if (iVar1 + -1 < (int)(short)param_2) {
      uVar2 = SYS_OBJ_19A4(iVar1,iVar1 + -1);
      return uVar2;
    }
  }
  if (1 < DAT_800a00e4 - 1) {
    uVar2 = SYS_OBJ_19D8();
    return uVar2;
  }
  return (param_2 & 0xfff) << 0xc | in_v0 & 0xfff | 0xe3000000;
}



uint SYS_OBJ_19A4(undefined4 param_1,uint param_2,undefined4 param_3,uint param_4)

{
  uint uVar1;
  
  if (1 < DAT_800a00e4 - 1) {
    uVar1 = SYS_OBJ_19D8();
    return uVar1;
  }
  return (param_2 & 0xfff) << 0xc | param_4 & 0xfff | 0xe3000000;
}



uint SYS_OBJ_19D8(void)

{
  uint in_v0;
  uint in_v1;
  
  return in_v1 | in_v0 | 0xe3000000;
}



uint get_ce(short param_1,uint param_2)

{
  uint uVar1;
  int iVar2;
  
  if (param_1 < 0) {
    uVar1 = 0;
  }
  else {
    uVar1 = (int)DAT_800a00e8 - 1;
    if ((int)param_1 <= DAT_800a00e8 + -1) {
      uVar1 = SYS_OBJ_1A30();
      return uVar1;
    }
  }
  if ((short)param_2 < 0) {
    param_2 = 0;
  }
  else {
    iVar2 = (int)DAT_800a00ea;
    if (iVar2 + -1 < (int)(short)param_2) {
      uVar1 = SYS_OBJ_1A70(iVar2,iVar2 + -1);
      return uVar1;
    }
  }
  if (1 < DAT_800a00e4 - 1) {
    uVar1 = SYS_OBJ_1AA4();
    return uVar1;
  }
  return (param_2 & 0xfff) << 0xc | uVar1 & 0xfff | 0xe4000000;
}



uint SYS_OBJ_1A30(undefined4 param_1,uint param_2)

{
  uint in_v0;
  int iVar1;
  uint uVar2;
  
  if ((short)param_2 < 0) {
    param_2 = 0;
  }
  else {
    iVar1 = (int)DAT_800a00ea;
    if (iVar1 + -1 < (int)(short)param_2) {
      uVar2 = SYS_OBJ_1A70(iVar1,iVar1 + -1);
      return uVar2;
    }
  }
  if (1 < DAT_800a00e4 - 1) {
    uVar2 = SYS_OBJ_1AA4();
    return uVar2;
  }
  return (param_2 & 0xfff) << 0xc | in_v0 & 0xfff | 0xe4000000;
}



uint SYS_OBJ_1A70(undefined4 param_1,uint param_2,undefined4 param_3,uint param_4)

{
  uint uVar1;
  
  if (1 < DAT_800a00e4 - 1) {
    uVar1 = SYS_OBJ_1AA4();
    return uVar1;
  }
  return (param_2 & 0xfff) << 0xc | param_4 & 0xfff | 0xe4000000;
}



uint SYS_OBJ_1AA4(void)

{
  uint in_v0;
  uint in_v1;
  
  return in_v1 | in_v0 | 0xe4000000;
}



uint get_ofs(uint param_1,uint param_2)

{
  uint uVar1;
  
  if (1 < DAT_800a00e4 - 1) {
    uVar1 = SYS_OBJ_1AF0();
    return uVar1;
  }
  return (param_2 & 0xfff) << 0xc | param_1 & 0xfff | 0xe5000000;
}



uint SYS_OBJ_1AF0(void)

{
  uint in_v0;
  uint in_v1;
  
  return in_v1 | in_v0 | 0xe5000000;
}



uint get_tw(byte *param_1)

{
  uint uVar1;
  
  if (param_1 == (byte *)0x0) {
    uVar1 = SYS_OBJ_1B78();
    return uVar1;
  }
  return (uint)(param_1[2] >> 3) << 0xf | (uint)(*param_1 >> 3) << 10 | 0xe2000000 |
         ((int)(-(int)*(short *)(param_1 + 6) & 0xffU) >> 3) << 5 |
         (int)(-(int)*(short *)(param_1 + 4) & 0xffU) >> 3;
}



void SYS_OBJ_1B78(void)

{
  return;
}



int get_dx(short *param_1)

{
  int iVar1;
  
  if (DAT_800a00e4 == '\x01') {
    if (DAT_800a00e7 != '\0') {
      iVar1 = SYS_OBJ_1C2C((int)*param_1);
      return iVar1;
    }
    return (int)*param_1;
  }
  if (DAT_800a00e4 != '\x02') {
    iVar1 = SYS_OBJ_1C28();
    return iVar1;
  }
  if (DAT_800a00e7 != '\0') {
    iVar1 = SYS_OBJ_1BC4((int)*param_1);
    return iVar1;
  }
  iVar1 = SYS_OBJ_1C2C();
  return iVar1;
}



void SYS_OBJ_1BC4(void)

{
  SYS_OBJ_1C2C();
  return;
}



int SYS_OBJ_1C28(short *param_1)

{
  return (int)*param_1;
}



void SYS_OBJ_1C2C(void)

{
  return;
}



undefined4 _status(void)

{
  return *(undefined4 *)PTR_GPU_REG1_800a01b8;
}



int _otc(int param_1,int param_2)

{
  uint uVar1;
  int iVar2;
  
  *(uint *)PTR_DMA_DPCR_800a01d4 = *(uint *)PTR_DMA_DPCR_800a01d4 | 0x8000000;
  *(undefined4 *)PTR_DMA_OTC_CHCR_800a01d0 = 0;
  *(int *)PTR_DMA_OTC_MADR_800a01c8 = param_1 + param_2 * 4 + -4;
  *(int *)PTR_DMA_OTC_BCR_800a01cc = param_2;
  *(undefined4 *)PTR_DMA_OTC_CHCR_800a01d0 = 0x11000002;
  set_alarm();
  uVar1 = *(uint *)PTR_DMA_OTC_CHCR_800a01d0;
  while( true ) {
    if ((uVar1 & 0x1000000) == 0) {
      return param_2;
    }
    iVar2 = get_alarm();
    if (iVar2 != 0) break;
    uVar1 = *(uint *)PTR_DMA_OTC_CHCR_800a01d0;
  }
  return -1;
}



undefined4 _clr(undefined4 *param_1,uint param_2)

{
  ushort uVar1;
  undefined4 uVar2;
  uint uVar3;
  int iVar4;
  
  iVar4 = (int)(short)*(ushort *)(param_1 + 1);
  if (iVar4 < 0) {
    uVar1 = 0;
  }
  else {
    uVar1 = DAT_800a00e8 - 1;
    if (iVar4 <= DAT_800a00e8 + -1) {
      uVar2 = SYS_OBJ_1D84(iVar4,iVar4);
      return uVar2;
    }
  }
  iVar4 = (int)(short)*(ushort *)((int)param_1 + 6);
  *(ushort *)(param_1 + 1) = uVar1;
  if (iVar4 < 0) {
    uVar1 = 0;
  }
  else {
    uVar1 = DAT_800a00ea - 1;
    if (iVar4 <= DAT_800a00ea + -1) {
      uVar2 = SYS_OBJ_1DC0(iVar4);
      return uVar2;
    }
  }
  *(ushort *)((int)param_1 + 6) = uVar1;
  if (((*(ushort *)param_1 & 0x3f) == 0) && ((*(ushort *)(param_1 + 1) & 0x3f) == 0)) {
    DAT_800aca80 = 0x5ffffff;
    DAT_800aca84 = 0xe6000000;
    DAT_800aca8c = param_2 & 0xffffff | 0x2000000;
    DAT_800aca88 = *(uint *)PTR_GPU_REG1_800a01b8 & 0x7ff | (param_2 >> 0x1f) << 10 | 0xe1000000;
    DAT_800aca90 = *param_1;
    DAT_800aca94 = param_1[1];
    _cwc(&DAT_800aca80);
    return 0;
  }
  DAT_800aca80 = 0x80acaa4;
  DAT_800aca98 = param_2 & 0xffffff | 0x60000000;
  DAT_800aca90 = 0xe6000000;
  DAT_800aca84 = 0xe3000000;
  DAT_800aca88 = 0xe4ffffff;
  DAT_800aca8c = 0xe5000000;
  DAT_800aca94 = *(uint *)PTR_GPU_REG1_800a01b8 & 0x7ff | (param_2 >> 0x1f) << 10 | 0xe1000000;
  DAT_800aca9c = *param_1;
  DAT_800acaa0 = param_1[1];
  DAT_800acaa4 = 0x3ffffff;
  uVar3 = _param(3);
  DAT_800acaa8 = uVar3 | 0xe3000000;
  uVar3 = _param(4);
  DAT_800acaac = uVar3 | 0xe4000000;
  uVar3 = _param(5);
  DAT_800acab0 = uVar3 | 0xe5000000;
  uVar2 = SYS_OBJ_1F64();
  return uVar2;
}



undefined4 SYS_OBJ_1D84(void)

{
  ushort in_v0;
  undefined4 uVar1;
  uint uVar2;
  ushort uVar3;
  int iVar4;
  undefined4 *in_t0;
  uint in_t1;
  
  iVar4 = (int)(short)*(ushort *)((int)in_t0 + 6);
  *(ushort *)(in_t0 + 1) = in_v0;
  if (iVar4 < 0) {
    uVar3 = 0;
  }
  else {
    uVar3 = DAT_800a00ea - 1;
    if (iVar4 <= DAT_800a00ea + -1) {
      uVar1 = SYS_OBJ_1DC0(iVar4);
      return uVar1;
    }
  }
  *(ushort *)((int)in_t0 + 6) = uVar3;
  if (((*(ushort *)in_t0 & 0x3f) == 0) && ((*(ushort *)(in_t0 + 1) & 0x3f) == 0)) {
    DAT_800aca80 = 0x5ffffff;
    DAT_800aca84 = 0xe6000000;
    DAT_800aca8c = in_t1 & 0xffffff | 0x2000000;
    DAT_800aca88 = *(uint *)PTR_GPU_REG1_800a01b8 & 0x7ff | (in_t1 >> 0x1f) << 10 | 0xe1000000;
    DAT_800aca90 = *in_t0;
    DAT_800aca94 = in_t0[1];
    _cwc(&DAT_800aca80);
    return 0;
  }
  DAT_800aca80 = 0x80acaa4;
  DAT_800aca98 = in_t1 & 0xffffff | 0x60000000;
  DAT_800aca90 = 0xe6000000;
  DAT_800aca84 = 0xe3000000;
  DAT_800aca88 = 0xe4ffffff;
  DAT_800aca8c = 0xe5000000;
  DAT_800aca94 = *(uint *)PTR_GPU_REG1_800a01b8 & 0x7ff | (in_t1 >> 0x1f) << 10 | 0xe1000000;
  DAT_800aca9c = *in_t0;
  DAT_800acaa0 = in_t0[1];
  DAT_800acaa4 = 0x3ffffff;
  uVar2 = _param(3);
  DAT_800acaa8 = uVar2 | 0xe3000000;
  uVar2 = _param(4);
  DAT_800acaac = uVar2 | 0xe4000000;
  uVar2 = _param(5);
  DAT_800acab0 = uVar2 | 0xe5000000;
  uVar1 = SYS_OBJ_1F64();
  return uVar1;
}



undefined4 SYS_OBJ_1DC0(void)

{
  uint uVar1;
  undefined4 uVar2;
  ushort in_v1;
  undefined4 *in_t0;
  uint in_t1;
  
  *(ushort *)((int)in_t0 + 6) = in_v1;
  if (((*(ushort *)in_t0 & 0x3f) == 0) && ((*(ushort *)(in_t0 + 1) & 0x3f) == 0)) {
    DAT_800aca80 = 0x5ffffff;
    DAT_800aca84 = 0xe6000000;
    DAT_800aca8c = in_t1 & 0xffffff | 0x2000000;
    DAT_800aca88 = *(uint *)PTR_GPU_REG1_800a01b8 & 0x7ff | (in_t1 >> 0x1f) << 10 | 0xe1000000;
    DAT_800aca90 = *in_t0;
    DAT_800aca94 = in_t0[1];
    _cwc(&DAT_800aca80);
    return 0;
  }
  DAT_800aca80 = 0x80acaa4;
  DAT_800aca98 = in_t1 & 0xffffff | 0x60000000;
  DAT_800aca90 = 0xe6000000;
  DAT_800aca84 = 0xe3000000;
  DAT_800aca88 = 0xe4ffffff;
  DAT_800aca8c = 0xe5000000;
  DAT_800aca94 = *(uint *)PTR_GPU_REG1_800a01b8 & 0x7ff | (in_t1 >> 0x1f) << 10 | 0xe1000000;
  DAT_800aca9c = *in_t0;
  DAT_800acaa0 = in_t0[1];
  DAT_800acaa4 = 0x3ffffff;
  uVar1 = _param(3);
  DAT_800acaa8 = uVar1 | 0xe3000000;
  uVar1 = _param(4);
  DAT_800acaac = uVar1 | 0xe4000000;
  uVar1 = _param(5);
  DAT_800acab0 = uVar1 | 0xe5000000;
  uVar2 = SYS_OBJ_1F64();
  return uVar2;
}



undefined4 SYS_OBJ_1F64(void)

{
  _cwc(&DAT_800aca80);
  return 0;
}



// WARNING: Removing unreachable block (ram,0x8008bf28)

undefined4 _dws(undefined4 *param_1,undefined4 *param_2)

{
  undefined4 uVar1;
  int iVar2;
  uint uVar3;
  int iVar4;
  short sVar5;
  short sVar6;
  int iVar7;
  
  set_alarm();
  sVar5 = *(short *)(param_1 + 1);
  if (sVar5 < 0) {
    sVar5 = 0;
  }
  else if ((int)DAT_800a00e8 < (int)sVar5) {
    uVar1 = SYS_OBJ_1FF4((int)DAT_800a00e8);
    return uVar1;
  }
  sVar6 = *(short *)((int)param_1 + 6);
  iVar7 = (int)sVar6;
  *(short *)(param_1 + 1) = sVar5;
  if (iVar7 < 0) {
    sVar6 = 0;
    iVar2 = 0;
  }
  else {
    iVar2 = iVar7 << 0x10;
    if (DAT_800a00ea < iVar7) {
      uVar1 = SYS_OBJ_202C((int)DAT_800a00ea);
      return uVar1;
    }
  }
  *(short *)((int)param_1 + 6) = sVar6;
  iVar7 = (int)*(short *)(param_1 + 1) * (iVar2 >> 0x10) + 1;
  iVar2 = iVar7 - (iVar7 >> 0x1f) >> 5;
  if (0 < iVar7 / 2) {
    iVar7 = iVar7 / 2 + iVar2 * -0x10;
    uVar3 = *(uint *)PTR_GPU_REG1_800a01b8;
    while( true ) {
      if ((uVar3 & 0x4000000) != 0) {
        *(undefined4 *)PTR_GPU_REG1_800a01b8 = 0x4000000;
        *(undefined4 *)PTR_GPU_REG0_800a01b4 = 0x1000000;
        *(undefined4 *)PTR_GPU_REG0_800a01b4 = 0xa0000000;
        *(undefined4 *)PTR_GPU_REG0_800a01b4 = *param_1;
        *(undefined4 *)PTR_GPU_REG0_800a01b4 = param_1[1];
        while (iVar7 = iVar7 + -1, iVar7 != -1) {
          uVar1 = *param_2;
          param_2 = param_2 + 1;
          *(undefined4 *)PTR_GPU_REG0_800a01b4 = uVar1;
        }
        if (iVar2 != 0) {
          *(undefined4 *)PTR_GPU_REG1_800a01b8 = 0x4000002;
          *(undefined4 **)PTR_DMA_GPU_MADR_800a01bc = param_2;
          *(uint *)PTR_DMA_GPU_BCR_800a01c0 = iVar2 << 0x10 | 0x10;
          *(undefined4 *)PTR_DMA_GPU_CHCR_800a01c4 = 0x1000201;
        }
        return 0;
      }
      iVar4 = get_alarm();
      if (iVar4 != 0) break;
      uVar3 = *(uint *)PTR_GPU_REG1_800a01b8;
    }
    return 0xffffffff;
  }
  uVar1 = SYS_OBJ_21A4();
  return uVar1;
}



undefined4 SYS_OBJ_1FF4(void)

{
  int iVar1;
  undefined4 uVar2;
  uint uVar3;
  int iVar4;
  undefined2 in_v1;
  short sVar5;
  int iVar6;
  undefined4 *unaff_s1;
  undefined4 *unaff_s2;
  int unaff_s5;
  
  sVar5 = *(short *)((int)unaff_s1 + 6);
  iVar6 = (int)sVar5;
  *(undefined2 *)(unaff_s1 + 1) = in_v1;
  if (iVar6 < 0) {
    sVar5 = 0;
    iVar1 = 0;
  }
  else {
    iVar1 = iVar6 << 0x10;
    if (DAT_800a00ea < iVar6) {
      uVar2 = SYS_OBJ_202C((int)DAT_800a00ea);
      return uVar2;
    }
  }
  *(short *)((int)unaff_s1 + 6) = sVar5;
  iVar6 = (int)*(short *)(unaff_s1 + 1) * (iVar1 >> 0x10) + 1;
  iVar1 = iVar6 - (iVar6 >> 0x1f) >> 5;
  if (0 < iVar6 / 2) {
    iVar6 = iVar6 / 2 + iVar1 * -0x10;
    uVar3 = *(uint *)PTR_GPU_REG1_800a01b8;
    while( true ) {
      if ((uVar3 & 0x4000000) != 0) {
        uVar2 = 0xa0000000;
        *(undefined4 *)PTR_GPU_REG1_800a01b8 = 0x4000000;
        *(undefined4 *)PTR_GPU_REG0_800a01b4 = 0x1000000;
        if (unaff_s5 != 0) {
          uVar2 = 0xb0000000;
        }
        *(undefined4 *)PTR_GPU_REG0_800a01b4 = uVar2;
        *(undefined4 *)PTR_GPU_REG0_800a01b4 = *unaff_s1;
        *(undefined4 *)PTR_GPU_REG0_800a01b4 = unaff_s1[1];
        while (iVar6 = iVar6 + -1, iVar6 != -1) {
          uVar2 = *unaff_s2;
          unaff_s2 = unaff_s2 + 1;
          *(undefined4 *)PTR_GPU_REG0_800a01b4 = uVar2;
        }
        if (iVar1 != 0) {
          *(undefined4 *)PTR_GPU_REG1_800a01b8 = 0x4000002;
          *(undefined4 **)PTR_DMA_GPU_MADR_800a01bc = unaff_s2;
          *(uint *)PTR_DMA_GPU_BCR_800a01c0 = iVar1 << 0x10 | 0x10;
          *(undefined4 *)PTR_DMA_GPU_CHCR_800a01c4 = 0x1000201;
        }
        return 0;
      }
      iVar4 = get_alarm();
      if (iVar4 != 0) break;
      uVar3 = *(uint *)PTR_GPU_REG1_800a01b8;
    }
    return 0xffffffff;
  }
  uVar2 = SYS_OBJ_21A4();
  return uVar2;
}



undefined4 SYS_OBJ_202C(short param_1)

{
  undefined4 uVar1;
  uint uVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  undefined4 *unaff_s1;
  undefined4 *unaff_s2;
  int unaff_s5;
  
  *(short *)((int)unaff_s1 + 6) = param_1;
  iVar4 = (int)*(short *)(unaff_s1 + 1) * (int)param_1 + 1;
  iVar5 = iVar4 - (iVar4 >> 0x1f) >> 5;
  if (iVar4 / 2 < 1) {
    uVar1 = SYS_OBJ_21A4();
    return uVar1;
  }
  iVar4 = iVar4 / 2 + iVar5 * -0x10;
  uVar2 = *(uint *)PTR_GPU_REG1_800a01b8;
  while( true ) {
    if ((uVar2 & 0x4000000) != 0) {
      uVar1 = 0xa0000000;
      *(undefined4 *)PTR_GPU_REG1_800a01b8 = 0x4000000;
      *(undefined4 *)PTR_GPU_REG0_800a01b4 = 0x1000000;
      if (unaff_s5 != 0) {
        uVar1 = 0xb0000000;
      }
      *(undefined4 *)PTR_GPU_REG0_800a01b4 = uVar1;
      *(undefined4 *)PTR_GPU_REG0_800a01b4 = *unaff_s1;
      *(undefined4 *)PTR_GPU_REG0_800a01b4 = unaff_s1[1];
      while (iVar4 = iVar4 + -1, iVar4 != -1) {
        uVar1 = *unaff_s2;
        unaff_s2 = unaff_s2 + 1;
        *(undefined4 *)PTR_GPU_REG0_800a01b4 = uVar1;
      }
      if (iVar5 != 0) {
        *(undefined4 *)PTR_GPU_REG1_800a01b8 = 0x4000002;
        *(undefined4 **)PTR_DMA_GPU_MADR_800a01bc = unaff_s2;
        *(uint *)PTR_DMA_GPU_BCR_800a01c0 = iVar5 << 0x10 | 0x10;
        *(undefined4 *)PTR_DMA_GPU_CHCR_800a01c4 = 0x1000201;
      }
      return 0;
    }
    iVar3 = get_alarm();
    if (iVar3 != 0) break;
    uVar2 = *(uint *)PTR_GPU_REG1_800a01b8;
  }
  return 0xffffffff;
}



void SYS_OBJ_21A4(void)

{
  return;
}



undefined4 _drs(undefined4 *param_1,undefined4 *param_2)

{
  undefined4 uVar1;
  int iVar2;
  uint uVar3;
  int iVar4;
  short sVar5;
  short sVar6;
  int iVar7;
  
  set_alarm();
  sVar5 = *(short *)(param_1 + 1);
  if (sVar5 < 0) {
    sVar5 = 0;
  }
  else if ((int)DAT_800a00e8 < (int)sVar5) {
    uVar1 = SYS_OBJ_222C((int)DAT_800a00e8);
    return uVar1;
  }
  sVar6 = *(short *)((int)param_1 + 6);
  iVar7 = (int)sVar6;
  *(short *)(param_1 + 1) = sVar5;
  if (iVar7 < 0) {
    sVar6 = 0;
    iVar2 = 0;
  }
  else {
    iVar2 = iVar7 << 0x10;
    if (DAT_800a00ea < iVar7) {
      uVar1 = SYS_OBJ_2264((int)DAT_800a00ea);
      return uVar1;
    }
  }
  *(short *)((int)param_1 + 6) = sVar6;
  iVar7 = (int)*(short *)(param_1 + 1) * (iVar2 >> 0x10) + 1;
  iVar2 = iVar7 - (iVar7 >> 0x1f) >> 5;
  if (0 < iVar7 / 2) {
    iVar7 = iVar7 / 2 + iVar2 * -0x10;
    uVar3 = *(uint *)PTR_GPU_REG1_800a01b8;
    while ((uVar3 & 0x4000000) == 0) {
      iVar4 = get_alarm();
      if (iVar4 != 0) {
        return 0xffffffff;
      }
      uVar3 = *(uint *)PTR_GPU_REG1_800a01b8;
    }
    *(undefined4 *)PTR_GPU_REG1_800a01b8 = 0x4000000;
    *(undefined4 *)PTR_GPU_REG0_800a01b4 = 0x1000000;
    *(undefined4 *)PTR_GPU_REG0_800a01b4 = 0xc0000000;
    *(undefined4 *)PTR_GPU_REG0_800a01b4 = *param_1;
    *(undefined4 *)PTR_GPU_REG0_800a01b4 = param_1[1];
    uVar3 = *(uint *)PTR_GPU_REG1_800a01b8;
    while( true ) {
      if ((uVar3 & 0x8000000) != 0) {
        while (iVar7 = iVar7 + -1, iVar7 != -1) {
          *param_2 = *(undefined4 *)PTR_GPU_REG0_800a01b4;
          param_2 = param_2 + 1;
        }
        if (iVar2 != 0) {
          *(undefined4 *)PTR_GPU_REG1_800a01b8 = 0x4000003;
          *(undefined4 **)PTR_DMA_GPU_MADR_800a01bc = param_2;
          *(uint *)PTR_DMA_GPU_BCR_800a01c0 = iVar2 << 0x10 | 0x10;
          *(undefined4 *)PTR_DMA_GPU_CHCR_800a01c4 = 0x1000200;
        }
        return 0;
      }
      iVar4 = get_alarm();
      if (iVar4 != 0) break;
      uVar3 = *(uint *)PTR_GPU_REG1_800a01b8;
    }
    return 0xffffffff;
  }
  uVar1 = SYS_OBJ_242C();
  return uVar1;
}



undefined4 SYS_OBJ_222C(void)

{
  int iVar1;
  undefined4 uVar2;
  uint uVar3;
  int iVar4;
  undefined2 in_v1;
  short sVar5;
  int iVar6;
  undefined4 *unaff_s1;
  undefined4 *unaff_s2;
  
  sVar5 = *(short *)((int)unaff_s1 + 6);
  iVar6 = (int)sVar5;
  *(undefined2 *)(unaff_s1 + 1) = in_v1;
  if (iVar6 < 0) {
    sVar5 = 0;
    iVar1 = 0;
  }
  else {
    iVar1 = iVar6 << 0x10;
    if (DAT_800a00ea < iVar6) {
      uVar2 = SYS_OBJ_2264((int)DAT_800a00ea);
      return uVar2;
    }
  }
  *(short *)((int)unaff_s1 + 6) = sVar5;
  iVar6 = (int)*(short *)(unaff_s1 + 1) * (iVar1 >> 0x10) + 1;
  iVar1 = iVar6 - (iVar6 >> 0x1f) >> 5;
  if (0 < iVar6 / 2) {
    iVar6 = iVar6 / 2 + iVar1 * -0x10;
    uVar3 = *(uint *)PTR_GPU_REG1_800a01b8;
    while ((uVar3 & 0x4000000) == 0) {
      iVar4 = get_alarm();
      if (iVar4 != 0) {
        return 0xffffffff;
      }
      uVar3 = *(uint *)PTR_GPU_REG1_800a01b8;
    }
    *(undefined4 *)PTR_GPU_REG1_800a01b8 = 0x4000000;
    *(undefined4 *)PTR_GPU_REG0_800a01b4 = 0x1000000;
    *(undefined4 *)PTR_GPU_REG0_800a01b4 = 0xc0000000;
    *(undefined4 *)PTR_GPU_REG0_800a01b4 = *unaff_s1;
    *(undefined4 *)PTR_GPU_REG0_800a01b4 = unaff_s1[1];
    uVar3 = *(uint *)PTR_GPU_REG1_800a01b8;
    while( true ) {
      if ((uVar3 & 0x8000000) != 0) {
        while (iVar6 = iVar6 + -1, iVar6 != -1) {
          *unaff_s2 = *(undefined4 *)PTR_GPU_REG0_800a01b4;
          unaff_s2 = unaff_s2 + 1;
        }
        if (iVar1 != 0) {
          *(undefined4 *)PTR_GPU_REG1_800a01b8 = 0x4000003;
          *(undefined4 **)PTR_DMA_GPU_MADR_800a01bc = unaff_s2;
          *(uint *)PTR_DMA_GPU_BCR_800a01c0 = iVar1 << 0x10 | 0x10;
          *(undefined4 *)PTR_DMA_GPU_CHCR_800a01c4 = 0x1000200;
        }
        return 0;
      }
      iVar4 = get_alarm();
      if (iVar4 != 0) break;
      uVar3 = *(uint *)PTR_GPU_REG1_800a01b8;
    }
    return 0xffffffff;
  }
  uVar2 = SYS_OBJ_242C();
  return uVar2;
}



undefined4 SYS_OBJ_2264(short param_1)

{
  undefined4 uVar1;
  uint uVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  undefined4 *unaff_s1;
  undefined4 *unaff_s2;
  
  *(short *)((int)unaff_s1 + 6) = param_1;
  iVar4 = (int)*(short *)(unaff_s1 + 1) * (int)param_1 + 1;
  iVar5 = iVar4 - (iVar4 >> 0x1f) >> 5;
  if (iVar4 / 2 < 1) {
    uVar1 = SYS_OBJ_242C();
    return uVar1;
  }
  iVar4 = iVar4 / 2 + iVar5 * -0x10;
  uVar2 = *(uint *)PTR_GPU_REG1_800a01b8;
  while ((uVar2 & 0x4000000) == 0) {
    iVar3 = get_alarm();
    if (iVar3 != 0) {
      return 0xffffffff;
    }
    uVar2 = *(uint *)PTR_GPU_REG1_800a01b8;
  }
  *(undefined4 *)PTR_GPU_REG1_800a01b8 = 0x4000000;
  *(undefined4 *)PTR_GPU_REG0_800a01b4 = 0x1000000;
  *(undefined4 *)PTR_GPU_REG0_800a01b4 = 0xc0000000;
  *(undefined4 *)PTR_GPU_REG0_800a01b4 = *unaff_s1;
  *(undefined4 *)PTR_GPU_REG0_800a01b4 = unaff_s1[1];
  uVar2 = *(uint *)PTR_GPU_REG1_800a01b8;
  while( true ) {
    if ((uVar2 & 0x8000000) != 0) {
      while (iVar4 = iVar4 + -1, iVar4 != -1) {
        *unaff_s2 = *(undefined4 *)PTR_GPU_REG0_800a01b4;
        unaff_s2 = unaff_s2 + 1;
      }
      if (iVar5 != 0) {
        *(undefined4 *)PTR_GPU_REG1_800a01b8 = 0x4000003;
        *(undefined4 **)PTR_DMA_GPU_MADR_800a01bc = unaff_s2;
        *(uint *)PTR_DMA_GPU_BCR_800a01c0 = iVar5 << 0x10 | 0x10;
        *(undefined4 *)PTR_DMA_GPU_CHCR_800a01c4 = 0x1000200;
      }
      return 0;
    }
    iVar3 = get_alarm();
    if (iVar3 != 0) break;
    uVar2 = *(uint *)PTR_GPU_REG1_800a01b8;
  }
  return 0xffffffff;
}



void SYS_OBJ_242C(void)

{
  return;
}



void _ctl(uint param_1)

{
  *(uint *)PTR_GPU_REG1_800a01b8 = param_1;
  (&DAT_800acac4)[param_1 >> 0x18] = (char)param_1;
  return;
}



undefined _getctl(int param_1)

{
  return (&DAT_800acac4)[param_1];
}



undefined4 _cwb(undefined4 *param_1,int param_2)

{
  undefined4 uVar1;
  int iVar2;
  
  iVar2 = param_2 + -1;
  *(undefined4 *)PTR_GPU_REG1_800a01b8 = 0x4000000;
  if (param_2 != 0) {
    do {
      uVar1 = *param_1;
      param_1 = param_1 + 1;
      iVar2 = iVar2 + -1;
      *(undefined4 *)PTR_GPU_REG0_800a01b4 = uVar1;
    } while (iVar2 != -1);
  }
  return 0;
}



void _cwc(undefined4 param_1)

{
  *(undefined4 *)PTR_GPU_REG1_800a01b8 = 0x4000002;
  *(undefined4 *)PTR_DMA_GPU_MADR_800a01bc = param_1;
  *(undefined4 *)PTR_DMA_GPU_BCR_800a01c0 = 0;
  *(undefined4 *)PTR_DMA_GPU_CHCR_800a01c4 = 0x1000401;
  return;
}



uint _param(uint param_1)

{
  *(uint *)PTR_GPU_REG1_800a01b8 = param_1 | 0x10000000;
  return *(uint *)PTR_GPU_REG0_800a01b4 & 0xffffff;
}



void _addque(undefined4 param_1,undefined4 param_2,undefined4 param_3)

{
  _addque2(param_1,param_2,0,param_3);
  return;
}



void _addque2(void)

{
  set_alarm();
  SYS_OBJ_25C8();
  return;
}



uint SYS_OBJ_25C8(void)

{
  uint uVar1;
  int iVar2;
  undefined4 uVar3;
  undefined4 *unaff_s0;
  int unaff_s1;
  undefined4 unaff_s2;
  code *unaff_s3;
  
  while ((DAT_800a01e8 + 1 & 0x3f) == DAT_800a01ec) {
    iVar2 = get_alarm();
    if (iVar2 != 0) {
      return 0xffffffff;
    }
    _exeque();
  }
  DAT_800a01f0 = SetIntrMask(0);
  DAT_800a00ec = 1;
  if ((DAT_800a00e5 == '\0') ||
     (((DAT_800a01e8 == DAT_800a01ec && ((*(uint *)PTR_DMA_GPU_CHCR_800a01c4 & 0x1000000) == 0)) &&
      (DAT_800a00f0 == 0)))) {
    do {
    } while ((*(uint *)PTR_GPU_REG1_800a01b8 & 0x4000000) == 0);
    (*unaff_s3)();
    DAT_800a01d8 = unaff_s3;
    DAT_800a01dc = unaff_s0;
    DAT_800a01e0 = unaff_s2;
    SetIntrMask(DAT_800a01f0);
    uVar1 = SYS_OBJ_283C();
    return uVar1;
  }
  DMACallback(2,_exeque);
  if (unaff_s1 == 0) {
    *(undefined4 **)(&DAT_800acc24 + DAT_800a01e8 * 0x60) = unaff_s0;
    *(undefined4 *)(&DAT_800acc28 + DAT_800a01e8 * 0x60) = unaff_s2;
    *(code **)(&DAT_800acc20 + DAT_800a01e8 * 0x60) = unaff_s3;
    DAT_800a01e8 = DAT_800a01e8 + 1 & 0x3f;
    SetIntrMask(DAT_800a01f0);
    _exeque();
    return DAT_800a01e8 - DAT_800a01ec & 0x3f;
  }
  if (unaff_s1 < 0) {
    unaff_s1 = unaff_s1 + 3;
  }
  if (0 < unaff_s1 >> 2) {
    uVar3 = *unaff_s0;
    iVar2 = DAT_800a01e8 * 0x60;
    *(undefined4 *)(&DAT_800acc2c + iVar2) = uVar3;
    uVar1 = SYS_OBJ_26EC(&DAT_800acc2c + iVar2,uVar3,1,unaff_s0 + 1);
    return uVar1;
  }
  *(undefined **)(&DAT_800acc24 + DAT_800a01e8 * 0x60) = &DAT_800acc2c + DAT_800a01e8 * 0x60;
  uVar1 = SYS_OBJ_27A8();
  return uVar1;
}



void SYS_OBJ_26EC(undefined4 param_1,undefined4 param_2,int param_3,undefined4 *param_4)

{
  int in_v0;
  undefined4 *puVar1;
  undefined4 uVar2;
  int in_t0;
  
  if (in_v0 < 0) {
    in_v0 = in_v0 + 3;
  }
  if (param_3 < in_v0 >> 2) {
    uVar2 = *param_4;
    puVar1 = (undefined4 *)(param_3 * 4 + DAT_800a01e8 * 0x60 + in_t0);
    *puVar1 = uVar2;
    SYS_OBJ_26EC(puVar1,uVar2,param_3 + 1,param_4 + 1);
    return;
  }
  *(undefined **)(&DAT_800acc24 + DAT_800a01e8 * 0x60) = &DAT_800acc2c + DAT_800a01e8 * 0x60;
  SYS_OBJ_27A8();
  return;
}



uint SYS_OBJ_27A8(void)

{
  undefined4 unaff_s2;
  undefined4 unaff_s3;
  
  *(undefined4 *)(&DAT_800acc28 + DAT_800a01e8 * 0x60) = unaff_s2;
  *(undefined4 *)(&DAT_800acc20 + DAT_800a01e8 * 0x60) = unaff_s3;
  DAT_800a01e8 = DAT_800a01e8 + 1 & 0x3f;
  SetIntrMask(DAT_800a01f0);
  _exeque();
  return DAT_800a01e8 - DAT_800a01ec & 0x3f;
}



void SYS_OBJ_283C(void)

{
  return;
}



uint _exeque(void)

{
  uint uVar1;
  
  uVar1 = 1;
  if ((*(uint *)PTR_DMA_GPU_CHCR_800a01c4 & 0x1000000) == 0) {
    DAT_800a01f4 = SetIntrMask(0);
    if (DAT_800a01e8 != DAT_800a01ec) {
      uVar1 = *(uint *)PTR_DMA_GPU_CHCR_800a01c4;
      while ((uVar1 & 0x1000000) == 0) {
        if (((DAT_800a01ec + 1 & 0x3f) == DAT_800a01e8) && (DAT_800a00f0 == (code *)0x0)) {
          DMACallback(2,0);
        }
        uVar1 = *(uint *)PTR_GPU_REG1_800a01b8;
        while ((uVar1 & 0x4000000) == 0) {
          uVar1 = *(uint *)PTR_GPU_REG1_800a01b8;
        }
        (**(code **)(&DAT_800acc20 + DAT_800a01ec * 0x60))
                  (*(undefined4 *)(&DAT_800acc24 + DAT_800a01ec * 0x60),
                   *(undefined4 *)(&DAT_800acc28 + DAT_800a01ec * 0x60));
        DAT_800a01d8 = *(undefined4 *)(&DAT_800acc20 + DAT_800a01ec * 0x60);
        DAT_800a01dc = *(undefined4 *)(&DAT_800acc24 + DAT_800a01ec * 0x60);
        DAT_800a01e0 = *(undefined4 *)(&DAT_800acc28 + DAT_800a01ec * 0x60);
        DAT_800a01ec = DAT_800a01ec + 1 & 0x3f;
        if (DAT_800a01e8 == DAT_800a01ec) break;
        uVar1 = *(uint *)PTR_DMA_GPU_CHCR_800a01c4;
      }
    }
    SetIntrMask(DAT_800a01f4);
    if ((((DAT_800a01e8 == DAT_800a01ec) && ((*(uint *)PTR_DMA_GPU_CHCR_800a01c4 & 0x1000000) == 0))
        && (DAT_800a00ec != 0)) && (DAT_800a00f0 != (code *)0x0)) {
      DAT_800a00ec = 0;
      (*DAT_800a00f0)();
    }
    uVar1 = DAT_800a01e8 - DAT_800a01ec & 0x3f;
  }
  return uVar1;
}



undefined4 _reset(uint param_1)

{
  undefined4 uVar1;
  uint uVar2;
  
  DAT_800a01f8 = SetIntrMask(0);
  DAT_800a01ec = 0;
  DAT_800a01e8 = 0;
  uVar2 = param_1 & 7;
  if (uVar2 != 1) {
    if (uVar2 < 2) {
      if (uVar2 != 0) {
        uVar1 = SYS_OBJ_2C6C();
        return uVar1;
      }
SYS_OBJ_2BBC:
      *(undefined4 *)PTR_DMA_GPU_CHCR_800a01c4 = 0x401;
      *(uint *)PTR_DMA_DPCR_800a01d4 = *(uint *)PTR_DMA_DPCR_800a01d4 | 0x800;
      *(undefined4 *)PTR_GPU_REG1_800a01b8 = 0;
      memset(&DAT_800acac4,'\0',0x100);
      memset(&DAT_800acc20,'\0',0x1800);
      uVar1 = SYS_OBJ_2C6C();
      return uVar1;
    }
    if (uVar2 != 3) {
      if (uVar2 == 5) goto SYS_OBJ_2BBC;
      goto code_r0x8008caa0;
    }
  }
  *(undefined4 *)PTR_DMA_GPU_CHCR_800a01c4 = 0x401;
  *(uint *)PTR_DMA_DPCR_800a01d4 = *(uint *)PTR_DMA_DPCR_800a01d4 | 0x800;
  *(undefined4 *)PTR_GPU_REG1_800a01b8 = 0x2000000;
  *(undefined4 *)PTR_GPU_REG1_800a01b8 = 0x1000000;
code_r0x8008caa0:
  SetIntrMask(DAT_800a01f8);
  uVar1 = 0;
  if ((param_1 & 7) == 0) {
    uVar1 = _version(param_1);
  }
  return uVar1;
}



undefined4 SYS_OBJ_2C6C(void)

{
  undefined4 uVar1;
  uint unaff_s0;
  
  SetIntrMask(DAT_800a01f8);
  uVar1 = 0;
  if ((unaff_s0 & 7) == 0) {
    uVar1 = _version();
  }
  return uVar1;
}



uint _sync(int param_1)

{
  uint uVar1;
  
  if (param_1 == 0) {
    set_alarm();
    uVar1 = SYS_OBJ_2CDC();
    return uVar1;
  }
  uVar1 = DAT_800a01e8 - DAT_800a01ec & 0x3f;
  if (uVar1 != 0) {
    _exeque();
  }
  if ((((*(uint *)PTR_DMA_GPU_CHCR_800a01c4 & 0x1000000) != 0) ||
      ((*(uint *)PTR_GPU_REG1_800a01b8 & 0x4000000) == 0)) && (uVar1 == 0)) {
    uVar1 = SYS_OBJ_2DD8();
    return uVar1;
  }
  return uVar1;
}



undefined4 SYS_OBJ_2CC4(void)

{
  int iVar1;
  undefined4 uVar2;
  
  _exeque();
  iVar1 = get_alarm();
  if (iVar1 == 0) {
    if (DAT_800a01e8 != DAT_800a01ec) {
      uVar2 = SYS_OBJ_2CC4();
      return uVar2;
    }
    do {
      if (((*(uint *)PTR_DMA_GPU_CHCR_800a01c4 & 0x1000000) == 0) &&
         ((*(uint *)PTR_GPU_REG1_800a01b8 & 0x4000000) != 0)) {
        uVar2 = SYS_OBJ_2DD8();
        return uVar2;
      }
      iVar1 = get_alarm();
    } while (iVar1 == 0);
  }
  return 0xffffffff;
}



undefined4 SYS_OBJ_2CDC(void)

{
  undefined4 uVar1;
  int iVar2;
  
  if (DAT_800a01e8 != DAT_800a01ec) {
    uVar1 = SYS_OBJ_2CC4();
    return uVar1;
  }
  while (((*(uint *)PTR_DMA_GPU_CHCR_800a01c4 & 0x1000000) != 0 ||
         ((*(uint *)PTR_GPU_REG1_800a01b8 & 0x4000000) == 0))) {
    iVar2 = get_alarm();
    if (iVar2 != 0) {
      return 0xffffffff;
    }
  }
  uVar1 = SYS_OBJ_2DD8();
  return uVar1;
}



void SYS_OBJ_2DD8(void)

{
  return;
}



void set_alarm(void)

{
  int iVar1;
  
  iVar1 = VSync(-1);
  DAT_800a01fc = iVar1 + 0xf0;
  DAT_800a0200 = 0;
  return;
}



undefined4 get_alarm(void)

{
  int iVar1;
  int iVar2;
  undefined4 uVar3;
  
  iVar2 = VSync(-1);
  iVar1 = DAT_800a0200;
  if ((iVar2 <= DAT_800a01fc) && (DAT_800a0200 = DAT_800a0200 + 1, iVar1 < 0xf0001)) {
    return 0;
  }
  printf("GPU timeout:que=%d,stat=%08x,chcr=%08x,madr=%08x,",DAT_800a01e8 - DAT_800a01ec & 0x3f,
         *(undefined4 *)PTR_GPU_REG1_800a01b8,*(undefined4 *)PTR_DMA_GPU_CHCR_800a01c4,
         *(undefined4 *)PTR_DMA_GPU_MADR_800a01bc);
  printf("func=(%08x)(%08x,%08x)\n",DAT_800a01d8,DAT_800a01dc,DAT_800a01e0);
  DAT_800a01f8 = SetIntrMask(0);
  DAT_800a01ec = 0;
  DAT_800a01e8 = 0;
  *(undefined4 *)PTR_DMA_GPU_CHCR_800a01c4 = 0x401;
  *(uint *)PTR_DMA_DPCR_800a01d4 = *(uint *)PTR_DMA_DPCR_800a01d4 | 0x800;
  *(undefined4 *)PTR_GPU_REG1_800a01b8 = 0x2000000;
  *(undefined4 *)PTR_GPU_REG1_800a01b8 = 0x1000000;
  SetIntrMask(DAT_800a01f8);
  uVar3 = SYS_OBJ_2F7C();
  return uVar3;
}



void SYS_OBJ_2F7C(void)

{
  return;
}



undefined4 _version(uint param_1)

{
  undefined4 uVar1;
  
  *(undefined4 *)PTR_GPU_REG1_800a01b8 = 0x10000007;
  if ((*(uint *)PTR_GPU_REG0_800a01b4 & 0xffffff) == 2) {
    if ((param_1 & 8) != 0) {
      *(undefined4 *)PTR_GPU_REG1_800a01b8 = 0x9000001;
      uVar1 = SYS_OBJ_3060();
      return uVar1;
    }
    return 3;
  }
  *(uint *)PTR_GPU_REG0_800a01b4 = *(uint *)PTR_GPU_REG1_800a01b8 & 0x3fff | 0xe1001000;
  if ((*(uint *)PTR_GPU_REG1_800a01b8 & 0x1000) == 0) {
    uVar1 = SYS_OBJ_3060();
    return uVar1;
  }
  if ((param_1 & 8) == 0) {
    uVar1 = SYS_OBJ_3060();
    return uVar1;
  }
  *(undefined4 *)PTR_GPU_REG1_800a01b8 = 0x20000504;
  uVar1 = SYS_OBJ_3060();
  return uVar1;
}



void SYS_OBJ_3060(void)

{
  return;
}



void * memset(uchar *param_1,uchar param_2,int param_3)

{
  void *pvVar1;
  
  pvVar1 = (void *)(param_3 + -1);
  if (param_3 != 0) {
    do {
      *param_1 = param_2;
      pvVar1 = (void *)((int)pvVar1 + -1);
      param_1 = param_1 + 1;
    } while (pvVar1 != (void *)0xffffffff);
  }
  return pvVar1;
}



void GPU_cw(void)

{
  (*(code *)&LAB_000000a0)();
  return;
}



int ccos(int a)

{
  int iVar1;
  uint uVar2;
  uint uVar3;
  undefined auStack_10 [4];
  uint local_c;
  
  if (a < 0) {
    a = -a;
  }
  iVar1 = a;
  if (a < 0) {
    iVar1 = a + 0xfff;
  }
  uVar3 = a + (iVar1 >> 0xc) * -0x1000;
  if (uVar3 < 0x400) {
    csincos(uVar3,auStack_10,&local_c);
    iVar1 = COR_02_OBJ_B4();
    return iVar1;
  }
  if (uVar3 - 0x400 < 0x400) {
    iVar1 = COR_02_OBJ_78(0x7ff - uVar3);
    return iVar1;
  }
  if (uVar3 - 0x800 < 0x400) {
    csincos(uVar3 - 0x800,auStack_10,&local_c);
    iVar1 = COR_02_OBJ_B4();
    return iVar1;
  }
  uVar2 = (uint)(uVar3 - 0xc00 < 0x400);
  if (uVar2 != 0) {
    csincos(0xfff - uVar3,auStack_10,&local_c);
    uVar2 = local_c;
  }
  return uVar2;
}



void COR_02_OBJ_78(undefined4 param_1)

{
  csincos(param_1,&stack0x00000010,&stack0x00000014);
  COR_02_OBJ_B4();
  return;
}



void COR_02_OBJ_B4(void)

{
  return;
}



void csincos(int param_1,int *param_2,int *param_3)

{
  int *piVar1;
  uint uVar2;
  int *piVar3;
  int *piVar4;
  int *piVar5;
  int local_60 [6];
  int local_48;
  int local_40 [6];
  int local_28;
  int local_20 [6];
  int local_8;
  
  piVar1 = local_60;
  uVar2 = 0;
  piVar5 = local_20;
  piVar4 = &DAT_800a0204;
  piVar3 = local_40;
  local_60[0] = 0x9b7;
  local_40[0] = 0;
  local_20[0] = param_1;
  do {
    piVar5 = piVar5 + 1;
    piVar3 = piVar3 + 1;
    if (-1 < piVar1[0x10]) {
      piVar1[1] = *piVar1 - (piVar1[8] >> (uVar2 & 0x1f));
      *piVar3 = piVar1[8] + (*piVar1 >> (uVar2 & 0x1f));
      COR_01_OBJ_AC();
      return;
    }
    piVar1[1] = *piVar1 + (piVar1[8] >> (uVar2 & 0x1f));
    *piVar3 = piVar1[8] - (*piVar1 >> (uVar2 & 0x1f));
    *piVar5 = piVar1[0x10] + *piVar4;
    piVar4 = piVar4 + 1;
    uVar2 = uVar2 + 1;
    piVar1 = piVar1 + 1;
  } while ((int)uVar2 < 6);
  *param_3 = local_48 - (local_8 * local_28 >> 0xc);
  *param_2 = local_28 + (local_8 * local_48 >> 0xc);
  return;
}



void COR_01_OBJ_AC(undefined4 param_1,int *param_2,int *param_3,int *param_4,undefined4 param_5,
                  undefined4 param_6,int param_7)

{
  int in_v0;
  int *piVar1;
  uint in_t0;
  int *in_t1;
  int *in_t2;
  int *in_t3;
  int param_11;
  int param_12;
  
  while( true ) {
    *in_t3 = in_v0;
    in_t3 = in_t3 + 1;
    in_t2 = in_t2 + 1;
    in_t1 = in_t1 + 1;
    in_t0 = in_t0 + 1;
    piVar1 = param_4 + 1;
    if (5 < (int)in_t0) {
      *param_3 = param_7 - (param_12 * param_11 >> 0xc);
      *param_2 = param_11 + (param_12 * param_7 >> 0xc);
      return;
    }
    if (-1 < param_4[0x11]) break;
    param_4[2] = *piVar1 + (param_4[9] >> (in_t0 & 0x1f));
    *in_t1 = param_4[9] - (*piVar1 >> (in_t0 & 0x1f));
    in_v0 = param_4[0x11] + *in_t2;
    param_4 = piVar1;
  }
  param_4[2] = *piVar1 - (param_4[9] >> (in_t0 & 0x1f));
  *in_t1 = param_4[9] + (*piVar1 >> (in_t0 & 0x1f));
  COR_01_OBJ_AC();
  return;
}



uint csin_1(uint param_1)

{
  uint uVar1;
  int local_10;
  undefined auStack_c [4];
  
  if (0x3ff < param_1) {
    if (0x3ff < param_1 - 0x400) {
      if (param_1 - 0x800 < 0x400) {
        csincos(param_1 - 0x800,&local_10,auStack_c);
        uVar1 = COR_03_OBJ_90();
        return uVar1;
      }
      uVar1 = (uint)(param_1 - 0xc00 < 0x400);
      if (uVar1 != 0) {
        csincos(0xfff - param_1,&local_10,auStack_c);
        uVar1 = -local_10;
      }
      return uVar1;
    }
    param_1 = 0x7ff - param_1;
  }
  csincos(param_1,&local_10,auStack_c);
  uVar1 = COR_03_OBJ_90();
  return uVar1;
}



void COR_03_OBJ_90(void)

{
  return;
}



int csin(int a)

{
  int iVar1;
  int iVar2;
  uint uVar3;
  uint uVar4;
  int in_a1;
  int local_10;
  undefined auStack_c [4];
  
  if (-1 < a) {
    uVar3 = a + (a >> 0xc) * -0x1000;
    if (0x3ff < uVar3) {
      if (0x3ff < uVar3 - 0x400) {
        uVar4 = uVar3 - 0x800;
        if (0x3ff < uVar4) {
          if (0x3ff < uVar3 - 0xc00) {
            return in_a1;
          }
          uVar4 = 0xfff - uVar3;
        }
        csincos(uVar4,&local_10,auStack_c);
        return -local_10;
      }
      uVar3 = 0x7ff - uVar3;
    }
    csincos(uVar3,&local_10,auStack_c);
    iVar2 = COR_03_OBJ_1C8();
    return iVar2;
  }
  iVar2 = -a;
  iVar1 = iVar2;
  if (0 < a) {
    iVar1 = iVar2 + 0xfff;
  }
  uVar3 = iVar2 + (iVar1 >> 0xc) * -0x1000;
  if (uVar3 < 0x400) {
COR_03_OBJ_EC:
    csincos(uVar3,&local_10,auStack_c);
    iVar2 = COR_03_OBJ_1C8();
    return iVar2;
  }
  if (uVar3 - 0x400 < 0x400) {
    uVar3 = 0x7ff - uVar3;
    goto COR_03_OBJ_EC;
  }
  uVar4 = uVar3 - 0x800;
  if (0x3ff < uVar4) {
    if (0x3ff < uVar3 - 0xc00) goto COR_03_OBJ_140;
    uVar4 = 0xfff - uVar3;
  }
  csincos(uVar4,&local_10,auStack_c);
COR_03_OBJ_140:
  iVar2 = COR_03_OBJ_1C8();
  return iVar2;
}



void COR_03_OBJ_1C8(void)

{
  return;
}



// WARNING: Removing unreachable block (ram,0x8008d3d8)

undefined4 csqrt_1(int param_1)

{
  undefined4 uVar1;
  int iVar2;
  int *piVar3;
  int iVar4;
  int local_3c [8];
  int local_1c [4];
  int local_c;
  
  iVar4 = 1;
  piVar3 = local_3c;
  local_3c[0] = param_1 + 0x5d50ad;
  local_1c[0] = param_1 + -0x5d50ad;
  do {
    if (iVar4 != 4) {
      iVar2 = piVar3[8] >> iVar4;
      if (piVar3[8] < 0) {
        piVar3[1] = *piVar3 + iVar2;
        local_1c[iVar4] = piVar3[8] + (*piVar3 >> iVar4);
        uVar1 = COR_05_OBJ_134();
        return uVar1;
      }
      piVar3[1] = *piVar3 - iVar2;
      local_1c[iVar4] = piVar3[8] - (*piVar3 >> iVar4);
      uVar1 = COR_05_OBJ_134();
      return uVar1;
    }
    iVar4 = local_3c[3] >> 4;
    if (local_1c[3] < 0) {
      local_3c[3] = local_3c[3] + (local_1c[3] >> 4);
      local_1c[3] = local_1c[3] + iVar4;
      if (-1 < local_1c[3]) {
        local_3c[4] = local_3c[3] - (local_1c[3] >> 4);
        uVar1 = COR_05_OBJ_130();
        return uVar1;
      }
    }
    else {
      local_3c[3] = local_3c[3] - (local_1c[3] >> 4);
      local_1c[3] = local_1c[3] - iVar4;
      if (-1 < local_1c[3]) {
        local_3c[4] = local_3c[3] - (local_1c[3] >> 4);
        uVar1 = COR_05_OBJ_130();
        return uVar1;
      }
    }
    local_3c[4] = local_3c[3] + (local_1c[3] >> 4);
    local_c = local_1c[3] + (local_3c[3] >> 4);
    iVar4 = 5;
    piVar3 = piVar3 + 1;
  } while( true );
}



undefined4
COR_05_OBJ_130(undefined4 param_1,undefined4 param_2,int *param_3,int param_4,int param_5,
              undefined4 param_6,undefined4 param_7,undefined4 param_8)

{
  undefined4 uVar1;
  int in_v0;
  int iVar2;
  int *piVar3;
  uint uVar4;
  int in_t0;
  int in_stack_00000030;
  int param_11;
  
  while( true ) {
    uVar4 = param_4 + 1;
    piVar3 = param_3 + 1;
    if (6 < (int)uVar4) {
      return param_8;
    }
    param_11 = in_v0;
    if (uVar4 != 4) break;
    iVar2 = in_stack_00000030 >> 4;
    if (in_stack_00000030 < 0) {
      in_stack_00000030 = in_stack_00000030 + (param_5 >> 4);
      if (-1 < in_stack_00000030) {
        uVar1 = COR_05_OBJ_130();
        return uVar1;
      }
    }
    else {
      iVar2 = -iVar2;
      in_stack_00000030 = in_stack_00000030 - (param_5 >> 4);
      if (-1 < in_stack_00000030) {
        uVar1 = COR_05_OBJ_130();
        return uVar1;
      }
    }
    param_5 = param_5 + iVar2;
    in_v0 = in_stack_00000030 + (param_5 >> 4);
    param_4 = 4;
    param_3 = piVar3;
  }
  iVar2 = param_3[9];
  if (-1 < iVar2) {
    param_3[2] = *piVar3 - (iVar2 >> (uVar4 & 0x1f));
    *(int *)(in_t0 + uVar4 * 4) = param_3[9] - (*piVar3 >> (uVar4 & 0x1f));
    uVar1 = COR_05_OBJ_134();
    return uVar1;
  }
  param_3[2] = *piVar3 + (iVar2 >> (uVar4 & 0x1f));
  *(int *)(in_t0 + uVar4 * 4) = param_3[9] + (*piVar3 >> (uVar4 & 0x1f));
  uVar1 = COR_05_OBJ_134();
  return uVar1;
}



undefined4
COR_05_OBJ_134(undefined4 param_1,undefined4 param_2,int *param_3,int param_4,int param_5,
              undefined4 param_6,undefined4 param_7,undefined4 param_8)

{
  undefined4 uVar1;
  int iVar2;
  int *piVar3;
  uint uVar4;
  int in_t0;
  int param_11;
  
  while( true ) {
    uVar4 = param_4 + 1;
    piVar3 = param_3 + 1;
    if (6 < (int)uVar4) {
      return param_8;
    }
    if (uVar4 != 4) break;
    iVar2 = param_11 >> 4;
    if (param_11 < 0) {
      param_11 = param_11 + (param_5 >> 4);
      if (-1 < param_11) {
        uVar1 = COR_05_OBJ_130();
        return uVar1;
      }
    }
    else {
      iVar2 = -iVar2;
      param_11 = param_11 - (param_5 >> 4);
      if (-1 < param_11) {
        uVar1 = COR_05_OBJ_130();
        return uVar1;
      }
    }
    param_5 = param_5 + iVar2;
    param_4 = 4;
    param_3 = piVar3;
  }
  iVar2 = param_3[9];
  if (-1 < iVar2) {
    param_3[2] = *piVar3 - (iVar2 >> (uVar4 & 0x1f));
    *(int *)(in_t0 + uVar4 * 4) = param_3[9] - (*piVar3 >> (uVar4 & 0x1f));
    uVar1 = COR_05_OBJ_134();
    return uVar1;
  }
  param_3[2] = *piVar3 + (iVar2 >> (uVar4 & 0x1f));
  *(int *)(in_t0 + uVar4 * 4) = param_3[9] + (*piVar3 >> (uVar4 & 0x1f));
  uVar1 = COR_05_OBJ_134();
  return uVar1;
}



int csqrt(int a)

{
  int iVar1;
  long lVar2;
  uint uVar3;
  
  if (a == 0) {
    iVar1 = COR_05_OBJ_1D8();
    return iVar1;
  }
  lVar2 = Lzc(a);
  uVar3 = 8 - lVar2 >> 1;
  if (-1 < 8 - lVar2) {
    iVar1 = COR_05_OBJ_1AC(a >> ((uVar3 & 0xf) << 1));
    return iVar1;
  }
  iVar1 = a << ((uVar3 + 1) * -2 & 0x1f);
  if ((int)(uVar3 - 5) < 0) {
    csqrt_1(iVar1);
    iVar1 = COR_05_OBJ_1D8();
    return iVar1;
  }
  iVar1 = csqrt_1(iVar1);
  return iVar1 << (uVar3 - 5 & 0x1f);
}



int COR_05_OBJ_1AC(void)

{
  int iVar1;
  int unaff_s0;
  
  if ((int)(&DAT_fffffffa + unaff_s0) < 0) {
    csqrt_1();
    iVar1 = COR_05_OBJ_1D8();
    return iVar1;
  }
  iVar1 = csqrt_1();
  return iVar1 << ((uint)(&DAT_fffffffa + unaff_s0) & 0x1f);
}



void COR_05_OBJ_1D8(void)

{
  return;
}



int catan(int a)

{
  int iVar1;
  int *piVar2;
  uint uVar3;
  int *piVar4;
  int *piVar5;
  int *piVar6;
  int local_a8 [14];
  int local_70 [14];
  int local_38 [12];
  int iStack_8;
  
  piVar2 = local_a8;
  uVar3 = 0;
  piVar6 = local_38;
  piVar5 = &DAT_800a021c;
  piVar4 = local_70;
  local_a8[0] = 0x1000;
  local_70[0] = a;
  local_38[0] = 0;
  do {
    piVar6 = piVar6 + 1;
    piVar4 = piVar4 + 1;
    iVar1 = piVar2[0xe];
    if (iVar1 < 0) {
      piVar2[1] = *piVar2 - (iVar1 >> (uVar3 & 0x1f));
      *piVar4 = piVar2[0xe] + (*piVar2 >> (uVar3 & 0x1f));
      iVar1 = COR_06_OBJ_A4();
      return iVar1;
    }
    piVar2[1] = *piVar2 + (iVar1 >> (uVar3 & 0x1f));
    *piVar4 = piVar2[0xe] - (*piVar2 >> (uVar3 & 0x1f));
    *piVar6 = piVar2[0x1c] + *piVar5;
    piVar5 = piVar5 + 1;
    uVar3 = uVar3 + 1;
    piVar2 = piVar2 + 1;
  } while ((int)uVar3 < 0xc);
  return iStack_8;
}



undefined4 COR_06_OBJ_A4(undefined4 param_1,int *param_2,uint param_3,int *param_4)

{
  undefined4 uVar1;
  int in_v0;
  int iVar2;
  int *piVar3;
  int *in_t0;
  int *in_t1;
  undefined4 param_11;
  
  while( true ) {
    *in_t1 = in_v0;
    in_t1 = in_t1 + 1;
    in_t0 = in_t0 + 1;
    param_4 = param_4 + 1;
    param_3 = param_3 + 1;
    piVar3 = param_2 + 1;
    if (0xb < (int)param_3) {
      return param_11;
    }
    iVar2 = param_2[0xf];
    if (iVar2 < 0) break;
    param_2[2] = *piVar3 + (iVar2 >> (param_3 & 0x1f));
    *param_4 = param_2[0xf] - (*piVar3 >> (param_3 & 0x1f));
    in_v0 = param_2[0x1d] + *in_t0;
    param_2 = piVar3;
  }
  param_2[2] = *piVar3 - (iVar2 >> (param_3 & 0x1f));
  *param_4 = param_2[0xf] + (*piVar3 >> (param_3 & 0x1f));
  uVar1 = COR_06_OBJ_A4();
  return uVar1;
}



// WARNING: Unknown calling convention -- yet parameter storage is locked

void InitGeom(void)

{
  undefined4 unaff_retaddr;
  
  DAT_800a024c = unaff_retaddr;
  _patch_gte();
  setCopReg(0,Status,Status | 0x40000000,0);
  gte_ldZSF3(0x155);
  gte_ldZSF4(0x100);
  gte_ldH(1000);
  gte_ldDQA(0xffffef9e);
  gte_ldDQB(0x1400000);
  gte_ldOFX(0);
  gte_ldOFY(0);
  return;
}



void SetRotMatrix(MATRIX *m)

{
  gte_ldR11R12(*(undefined4 *)m->m[0]);
  gte_ldR13R21(*(undefined4 *)(m->m[0] + 2));
  gte_ldR22R23(*(undefined4 *)(m->m[1] + 1));
  gte_ldR31R32(*(undefined4 *)m->m[2]);
  gte_ldR33(*(undefined4 *)(m->m[2] + 2));
  return;
}



void SetTransMatrix(MATRIX *m)

{
  gte_ldtr(m->t[0],m->t[1],m->t[2]);
  return;
}



void LightColor(VECTOR *_2,VECTOR *_3)

{
  gte_ldlvl(_2);
  gte_lc_b();
  gte_stlvl(_3);
  return;
}



void DpqColorLight(VECTOR *_2,CVECTOR *_3,long p,CVECTOR *v2)

{
  gte_ldlvl(_2);
  gte_ldrgb(_3);
  gte_ldIR0(p);
  gte_dpcl_b();
  gte_strgb(v2);
  return;
}



void DpqColor3(CVECTOR *_2,CVECTOR *_3,CVECTOR *v2,long p,CVECTOR *v3,CVECTOR *v4,CVECTOR *v5)

{
  undefined auStackX_0 [16];
  
  gte_ldrgb3(_2,_3,v2);
  gte_ldIR0(p);
  gte_dpct_b();
  gte_strgb3(*(CVECTOR **)((int)register0x00000074 + 0x10),
             *(CVECTOR **)((int)register0x00000074 + 0x14),
             *(CVECTOR **)((int)register0x00000074 + 0x18));
  return;
}



void Intpl(VECTOR *_2,long p,CVECTOR *_3)

{
  gte_ldlvl(_2);
  gte_ldIR0(p);
  gte_intpl_b();
  gte_strgb(_3);
  return;
}



VECTOR * Square12(VECTOR *_2,VECTOR *_3)

{
  gte_ldlvl(_2);
  gte_sqr12_b();
  gte_stlvnl(_3);
  return _3;
}



VECTOR * Square0(VECTOR *_2,VECTOR *_3)

{
  gte_ldlvl(_2);
  gte_sqr0_b(0);
  gte_stlvnl(_3);
  return _3;
}



long AverageZ3(long sz0,long sz1,long sz2)

{
  long lVar1;
  
  gte_ldsz3(sz0,sz1,sz2);
  gte_avsz3_b();
  lVar1 = gte_stOTZ();
  return lVar1;
}



long AverageZ4(long sz0,long sz1,long sz2,long sz3)

{
  long lVar1;
  
  gte_ldsz4(sz0,sz1,sz2,sz3);
  gte_avsz4_b();
  lVar1 = gte_stOTZ();
  return lVar1;
}



void OuterProduct12(VECTOR *_2,VECTOR *_3,VECTOR *v2)

{
  undefined4 uVar1;
  undefined4 uVar2;
  undefined4 uVar3;
  
  uVar1 = gte_stR11R12();
  uVar2 = gte_stR22R23();
  uVar3 = gte_stR33();
  gte_ldR11R12(_2->vx);
  gte_ldR22R23(_2->vy);
  gte_ldR33(_2->vz);
  gte_ldopv2(_3);
  gte_op12_b();
  gte_stlvnl(v2);
  gte_ldR11R12(uVar1);
  gte_ldR22R23(uVar2);
  gte_ldR33(uVar3);
  return;
}



void OuterProduct0(VECTOR *_2,VECTOR *_3,VECTOR *v2)

{
  undefined4 uVar1;
  undefined4 uVar2;
  undefined4 uVar3;
  
  uVar1 = gte_stR11R12();
  uVar2 = gte_stR22R23();
  uVar3 = gte_stR33();
  gte_ldR11R12(_2->vx);
  gte_ldR22R23(_2->vy);
  gte_ldR33(_2->vz);
  gte_ldopv2(_3);
  gte_op0_b(0);
  gte_stlvnl(v2);
  gte_ldR11R12(uVar1);
  gte_ldR22R23(uVar2);
  gte_ldR33(uVar3);
  return;
}



long Lzc(long data)

{
  long lVar1;
  
  gte_ldLZCS(data);
  lVar1 = gte_stLZCR();
  return lVar1;
}



void RotTrans(SVECTOR *_2,VECTOR *_3,long *flag)

{
  long lVar1;
  
  gte_ldv0(_2);
  copFunction(2,0x480012);
  gte_stlvnl(_3);
  lVar1 = gte_stFLAG();
  *flag = lVar1;
  return;
}



MATRIX * RotMatrixZ(long r,MATRIX *m)

{
  MATRIX *pMVar1;
  int iVar2;
  int iVar3;
  int iVar4;
  int iVar5;
  int iVar6;
  int iVar7;
  int iVar8;
  int iVar9;
  
  if (-1 < r) {
    iVar3 = (int)(short)*(int *)(&DAT_800a025c + (r & 0xfffU) * 4);
    iVar2 = *(int *)(&DAT_800a025c + (r & 0xfffU) * 4) >> 0x10;
    iVar4 = (int)m->m[0][0];
    iVar7 = (int)m->m[1][0];
    iVar5 = (int)m->m[0][1];
    iVar8 = (int)m->m[1][1];
    iVar6 = (int)m->m[0][2];
    iVar9 = (int)m->m[1][2];
    m->m[0][0] = (short)(iVar2 * iVar4 - iVar3 * iVar7 >> 0xc);
    m->m[0][1] = (short)(iVar2 * iVar5 - iVar3 * iVar8 >> 0xc);
    m->m[0][2] = (short)(iVar2 * iVar6 - iVar3 * iVar9 >> 0xc);
    m->m[1][0] = (short)(iVar3 * iVar4 + iVar2 * iVar7 >> 0xc);
    m->m[1][1] = (short)(iVar3 * iVar5 + iVar2 * iVar8 >> 0xc);
    m->m[1][2] = (short)(iVar3 * iVar6 + iVar2 * iVar9 >> 0xc);
    return m;
  }
  pMVar1 = (MATRIX *)FGO_06_OBJ_64();
  return pMVar1;
}



void FGO_06_OBJ_64(undefined4 param_1,short *param_2)

{
  short sVar1;
  short sVar2;
  short sVar3;
  int in_t0;
  int in_t1;
  
  sVar1 = *param_2;
  sVar2 = param_2[1];
  sVar3 = param_2[2];
  *param_2 = (short)(in_t0 * sVar1 - in_t1 * param_2[3] >> 0xc);
  param_2[1] = (short)(in_t0 * sVar2 - in_t1 * param_2[4] >> 0xc);
  param_2[2] = (short)(in_t0 * sVar3 - in_t1 * param_2[5] >> 0xc);
  param_2[3] = (short)(in_t1 * sVar1 + in_t0 * param_2[3] >> 0xc);
  param_2[4] = (short)(in_t1 * sVar2 + in_t0 * param_2[4] >> 0xc);
  param_2[5] = (short)(in_t1 * sVar3 + in_t0 * param_2[5] >> 0xc);
  return;
}



void _patch_gte(void)

{
  int iVar1;
  undefined4 *puVar2;
  undefined4 uVar3;
  undefined4 *puVar4;
  undefined4 unaff_retaddr;
  
  DAT_800a61bc = unaff_retaddr;
  FUN_8008676c();
  iVar1 = (*(code *)&SUB_000000b0)();
  puVar4 = &PATCHGTE_OBJ_68;
  puVar2 = *(undefined4 **)(iVar1 + 0x18);
  do {
    uVar3 = *puVar4;
    puVar4 = puVar4 + 1;
    *puVar2 = uVar3;
    puVar2 = puVar2 + 1;
  } while (puVar4 != (undefined4 *)DecDCTReset);
  FlushCache();
  FUN_8008677c();
  return;
}



void DecDCTReset(int mode)

{
  if (mode == 0) {
    ResetCallback();
  }
  MDEC_reset(mode);
  return;
}



DECDCTENV * DecDCTGetEnv(DECDCTENV *env)

{
  undefined4 uVar1;
  int iVar2;
  undefined4 *puVar3;
  DECDCTENV *pDVar4;
  u_char *puVar5;
  short *psVar6;
  
  puVar3 = &DAT_800a4260;
  iVar2 = 0xf;
  pDVar4 = env;
  do {
    uVar1 = *puVar3;
    puVar3 = puVar3 + 1;
    iVar2 = iVar2 + -1;
    *(undefined4 *)pDVar4->iq_y = uVar1;
    pDVar4 = (DECDCTENV *)(pDVar4->iq_y + 4);
  } while (iVar2 != -1);
  puVar5 = env->iq_c;
  puVar3 = &DAT_800a42a0;
  iVar2 = 0xf;
  do {
    uVar1 = *puVar3;
    puVar3 = puVar3 + 1;
    iVar2 = iVar2 + -1;
    *(undefined4 *)puVar5 = uVar1;
    puVar5 = puVar5 + 4;
  } while (iVar2 != -1);
  psVar6 = env->dct;
  puVar3 = &DAT_800a42e4;
  iVar2 = 0x1f;
  do {
    uVar1 = *puVar3;
    puVar3 = puVar3 + 1;
    iVar2 = iVar2 + -1;
    *(undefined4 *)psVar6 = uVar1;
    psVar6 = psVar6 + 2;
  } while (iVar2 != -1);
  return env;
}



DECDCTENV * DecDCTPutEnv(DECDCTENV *env)

{
  undefined4 uVar1;
  int iVar2;
  DECDCTENV *pDVar3;
  u_char *puVar4;
  undefined4 *puVar5;
  
  puVar5 = &DAT_800a4260;
  iVar2 = 0xf;
  pDVar3 = env;
  do {
    puVar4 = pDVar3->iq_y;
    pDVar3 = (DECDCTENV *)(pDVar3->iq_y + 4);
    iVar2 = iVar2 + -1;
    *puVar5 = *(undefined4 *)puVar4;
    puVar5 = puVar5 + 1;
  } while (iVar2 != -1);
  puVar5 = &DAT_800a42a0;
  puVar4 = env->iq_c;
  iVar2 = 0xf;
  do {
    uVar1 = *(undefined4 *)puVar4;
    puVar4 = puVar4 + 4;
    iVar2 = iVar2 + -1;
    *puVar5 = uVar1;
    puVar5 = puVar5 + 1;
  } while (iVar2 != -1);
  MDEC_in(&DAT_800a425c,0x20);
  MDEC_in(&DAT_800a42e0,0x20);
  return env;
}



int DecDCTBufSize(u_long *bs)

{
  return (uint)*(ushort *)bs;
}



void DecDCTin(u_long *buf,int mode)

{
  if ((mode & 1U) != 0) {
    LIBPRESS_OBJ_19C();
    return;
  }
  *buf = *buf | 0x8000000;
  if ((mode & 2U) != 0) {
    LIBPRESS_OBJ_1C8();
    return;
  }
  *buf = *buf & 0xfdffffff;
  MDEC_in(buf,*(undefined2 *)buf);
  return;
}



void LIBPRESS_OBJ_19C(uint *param_1,uint param_2)

{
  uint in_v0;
  
  *param_1 = in_v0;
  if ((param_2 & 2) != 0) {
    LIBPRESS_OBJ_1C8();
    return;
  }
  *param_1 = *param_1 & 0xfdffffff;
  MDEC_in(param_1,*(undefined2 *)param_1);
  return;
}



void LIBPRESS_OBJ_1C8(undefined4 *param_1)

{
  undefined4 in_v0;
  
  *param_1 = in_v0;
  MDEC_in(param_1,*(undefined2 *)param_1);
  return;
}



// Possible SSNOFF.OBJ/SsSetNoiseOff
// Possible SSQUIT.OBJ/SsQuit
// Possible _OP_VDEL.OBJ/__builtin_vec_delete
// Possible _OP_VNEW.OBJ/__builtin_vec_new
// Possible GS_106.OBJ/GsSetProjection
// Possible SEND.OBJ/SendPAD

void DecDCTout(u_long *buf,int size)

{
  MDEC_out();
  return;
}



int DecDCTinSync(int mode)

{
  int iVar1;
  uint uVar2;
  
  if (mode == 0) {
    MDEC_in_sync();
    iVar1 = LIBPRESS_OBJ_234();
    return iVar1;
  }
  uVar2 = MDEC_status();
  return uVar2 >> 0x1d & 1;
}



void LIBPRESS_OBJ_234(void)

{
  return;
}



int DecDCToutSync(int mode)

{
  int iVar1;
  uint uVar2;
  
  if (mode == 0) {
    MDEC_out_sync();
    iVar1 = LIBPRESS_OBJ_270();
    return iVar1;
  }
  uVar2 = MDEC_status();
  return uVar2 >> 0x18 & 1;
}



void LIBPRESS_OBJ_270(void)

{
  return;
}



int DecDCTinCallback(func *func)

{
  int iVar1;
  
  iVar1 = DMACallback(0,func);
  return iVar1;
}



int DecDCToutCallback(func *func)

{
  int iVar1;
  
  iVar1 = DMACallback(1,func);
  return iVar1;
}



void MDEC_reset(int param_1)

{
  if (param_1 == 0) {
    *(undefined4 *)PTR_MDEC_REG1_800a43a0 = 0x80000000;
    *(undefined4 *)PTR_DMA_MDEC_IN_CHCR_800a4374 = 0;
    *(undefined4 *)PTR_DMA_MDEC_OUT_CHCR_800a4380 = 0;
    *(undefined4 *)PTR_MDEC_REG1_800a43a0 = 0x60000000;
    MDEC_in(&DAT_800a425c,0x20);
    MDEC_in(&DAT_800a42e0,0x20);
    LIBPRESS_OBJ_3B4();
    return;
  }
  if (param_1 != 1) {
    LIBPRESS_OBJ_3A4();
    return;
  }
  *(undefined4 *)PTR_MDEC_REG1_800a43a0 = 0x80000000;
  *(undefined4 *)PTR_DMA_MDEC_IN_CHCR_800a4374 = 0;
  *(undefined4 *)PTR_DMA_MDEC_OUT_CHCR_800a4380 = 0;
  *(undefined4 *)PTR_MDEC_REG1_800a43a0 = 0x60000000;
  LIBPRESS_OBJ_3B4();
  return;
}



void LIBPRESS_OBJ_3A4(void)

{
  printf("MDEC_rest:bad option(%d)\n");
  return;
}



void LIBPRESS_OBJ_3B4(void)

{
  return;
}



void MDEC_in(undefined4 *param_1,uint param_2)

{
  MDEC_in_sync();
  *(uint *)PTR_DMA_DPCR_800a43a4 = *(uint *)PTR_DMA_DPCR_800a43a4 | 0x88;
  *(undefined4 **)PTR_DMA_MDEC_IN_MADR_800a436c = param_1 + 1;
  *(uint *)PTR_DMA_MDEC_IN_BCR_800a4370 = (param_2 >> 5) << 0x10 | 0x20;
  *(undefined4 *)PTR_MDEC_REG0_800a439c = *param_1;
  *(undefined4 *)PTR_DMA_MDEC_IN_CHCR_800a4374 = 0x1000201;
  return;
}



void MDEC_out(undefined4 param_1,uint param_2)

{
  MDEC_out_sync();
  *(uint *)PTR_DMA_DPCR_800a43a4 = *(uint *)PTR_DMA_DPCR_800a43a4 | 0x88;
  *(undefined4 *)PTR_DMA_MDEC_OUT_CHCR_800a4380 = 0;
  *(undefined4 *)PTR_DMA_MDEC_OUT_MADR_800a4378 = param_1;
  *(uint *)PTR_DMA_MDEC_OUT_BCR_800a437c = (param_2 >> 5) << 0x10 | 0x20;
  *(undefined4 *)PTR_DMA_MDEC_OUT_CHCR_800a4380 = 0x1000200;
  return;
}



undefined4 MDEC_in_sync(void)

{
  uint uVar1;
  undefined4 uVar2;
  int local_10;
  
  local_10 = 0x100000;
  uVar1 = *(uint *)PTR_MDEC_REG1_800a43a0;
  while( true ) {
    if ((uVar1 & 0x20000000) == 0) {
      return 0;
    }
    local_10 = local_10 + -1;
    if (local_10 == -1) break;
    uVar1 = *(uint *)PTR_MDEC_REG1_800a43a0;
  }
  timeout("MDEC_in_sync");
  uVar2 = LIBPRESS_OBJ_570();
  return uVar2;
}



void LIBPRESS_OBJ_570(void)

{
  return;
}



undefined4 MDEC_out_sync(void)

{
  uint uVar1;
  undefined4 uVar2;
  int local_10;
  
  local_10 = 0x100000;
  uVar1 = *(uint *)PTR_DMA_MDEC_OUT_CHCR_800a4380;
  while( true ) {
    if ((uVar1 & 0x1000000) == 0) {
      return 0;
    }
    local_10 = local_10 + -1;
    if (local_10 == -1) break;
    uVar1 = *(uint *)PTR_DMA_MDEC_OUT_CHCR_800a4380;
  }
  timeout("MDEC_out_sync");
  uVar2 = LIBPRESS_OBJ_608();
  return uVar2;
}



void LIBPRESS_OBJ_608(void)

{
  return;
}



undefined4 MDEC_status(void)

{
  return *(undefined4 *)PTR_MDEC_REG1_800a43a0;
}



undefined4 timeout(undefined4 param_1)

{
  uint uVar1;
  
  printf("%s timeout:\n",param_1);
  uVar1 = *(uint *)PTR_MDEC_REG1_800a43a0;
  printf("\t DMA=(%d,%d), ADDR=(0x%08x->0x%08x)\n",
         *(uint *)PTR_DMA_MDEC_IN_CHCR_800a4374 >> 0x18 & 1,
         *(uint *)PTR_DMA_MDEC_OUT_CHCR_800a4380 >> 0x18 & 1,
         *(undefined4 *)PTR_DMA_MDEC_IN_MADR_800a436c,*(undefined4 *)PTR_DMA_MDEC_OUT_MADR_800a4378)
  ;
  printf("\t FIFO=(%d,%d),BUSY=%d,DREQ=(%d,%d),RGB24=%d,STP=%d\n",~uVar1 >> 0x1f,uVar1 >> 0x1e & 1,
         uVar1 >> 0x1d & 1,uVar1 >> 0x1c & 1,uVar1 >> 0x1b & 1,uVar1 >> 0x19 & 1,uVar1 >> 0x17 & 1);
  *(undefined4 *)PTR_MDEC_REG1_800a43a0 = 0x80000000;
  *(undefined4 *)PTR_DMA_MDEC_IN_CHCR_800a4374 = 0;
  *(undefined4 *)PTR_DMA_MDEC_OUT_CHCR_800a4380 = 0;
  *(undefined4 *)PTR_MDEC_REG1_800a43a0 = 0x60000000;
  return 0;
}



int DecDCTvlcSize2(int size)

{
  int iVar1;
  
  iVar1 = VLC_C_OBJ_0;
  if (0 < size + -1) {
    VLC_C_OBJ_0 = size << 1;
    return iVar1;
  }
  VLC_C_OBJ_0 = 0xffffff;
  return iVar1;
}



int DecDCTvlc2(u_long *bs,u_long *buf,u_short *table)

{
  bool bVar1;
  undefined2 uVar2;
  undefined2 uVar3;
  undefined2 uVar4;
  undefined2 *puVar5;
  u_short *puVar6;
  uint uVar7;
  uint uVar8;
  u_long *puVar9;
  undefined2 *puVar10;
  undefined2 *puVar11;
  uint uVar12;
  uint uVar13;
  uint uVar14;
  uint uVar15;
  int asset_magic_bytes;
  uint uVar16;
  undefined2 *puVar17;
  int iVar18;
  int iVar19;
  int iVar20;
  ushort vlc_ptr_;
  
  if (bs == (u_long *)0x0) {
    puVar17 = DAT_8008e58c + VLC_C_OBJ_0;
    uVar7 = DAT_8008e590;
    uVar8 = DAT_8008e594;
    puVar9 = VLC_C_OBJ_370;
    puVar5 = DAT_8008e58c;
    asset_magic_bytes = DAT_8008e598;
    uVar16 = DAT_8008e59c;
    iVar18 = DAT_8008e5a0;
    iVar19 = DAT_8008e5a4;
    iVar20 = DAT_8008e5a8;
    goto VLC_C_OBJ_200;
  }
  iVar18 = 0;
  iVar19 = 0;
                    // With the input bs of 00 2F 00 38 03 00 02 00 12 07 E6 5D
                    // 
                    // 00 2F is loaded into t0
                    // 00 38 into t1
                    // 03 00 into t4
                    // 02 00 into t2
                    // 12 07 into v0
                    // e6 5d into v1
  iVar20 = 0;
  puVar17 = (undefined2 *)((int)buf + VLC_C_OBJ_0 * 2);
                    // potentially takes blb and decodes?
  uVar2 = *(undefined2 *)((int)bs + 2);
                    // takes 0x9 - 0xd
  uVar3 = *(undefined2 *)(bs + 2);
  uVar4 = *(undefined2 *)((int)bs + 10);
                    // loads the 5th byte
                    // 
  asset_magic_bytes = (uint)*(ushort *)(bs + 1) << 10;
  uVar16 = (uint)(-1 < (int)(*(ushort *)((int)bs + 6) - 3));
  puVar9 = bs + 3;
  uVar8 = 0;
  *(undefined2 *)buf = *(undefined2 *)bs;
  *(undefined2 *)((int)buf + 2) = uVar2;
  uVar14 = CONCAT22(uVar3,uVar4);
  puVar11 = (undefined2 *)((int)buf + 2);
VLC_C_OBJ_E4:
  if (uVar16 == 0) {
    if (uVar14 >> 0x16 == 0x1ff) goto VLC_C_OBJ_308;
    uVar7 = uVar14 << 10;
    uVar13 = uVar8 + 10;
    uVar8 = uVar13 & 0xf;
    if ((uVar13 & 0x10) != 0) {
      vlc_ptr_ = *(ushort *)puVar9;
      puVar9 = (u_long *)((int)puVar9 + 2);
      uVar7 = uVar7 | (uint)vlc_ptr_ << uVar8;
    }
    puVar11[1] = (ushort)asset_magic_bytes | (ushort)(uVar14 >> 0x16);
  }
  else {
    if (uVar14 >> 0x16 == 0x3ff) {
VLC_C_OBJ_308:
      asset_magic_bytes = 0x40;
      do {
        puVar11 = puVar11 + 1;
        *puVar11 = 0xfe00;
        bVar1 = asset_magic_bytes != 0;
        asset_magic_bytes = asset_magic_bytes + -1;
      } while (bVar1);
      setCopReg(0,Status,Status | 0x20000,0);
      return 0;
    }
    puVar6 = table + 0x200;
    if (-1 < (int)(uVar16 - 3)) {
      puVar6 = table;
    }
    uVar13 = (uint)puVar6[(uVar14 >> 0x18) * 2];
    uVar15 = (uint)(puVar6 + (uVar14 >> 0x18) * 2)[1];
    uVar12 = 0;
    uVar7 = uVar14 << (uVar13 & 0x1f);
    if (uVar15 != 0) {
      uVar12 = uVar7 >> (0x20 - uVar15 & 0x1f);
      bVar1 = -1 < (int)uVar7;
      uVar7 = uVar7 << (uVar15 & 0x1f);
      if (bVar1) {
        uVar12 = uVar12 - (0xffffffffU >> (0x20 - uVar15 & 0x1f));
      }
      uVar8 = uVar8 + uVar15;
    }
    uVar13 = uVar8 + uVar13;
    uVar8 = uVar13 & 0xf;
    if ((uVar13 & 0x10) != 0) {
      vlc_ptr_ = *(ushort *)puVar9;
      puVar9 = (u_long *)((int)puVar9 + 2);
      uVar7 = uVar7 | (uint)vlc_ptr_ << uVar8;
    }
    uVar14 = iVar20 + uVar12;
    if ((int)(uVar16 - 2) < 1) {
      uVar14 = iVar19 + uVar12;
      if (uVar16 == 2) {
        iVar19 = iVar19 + uVar12;
      }
      else {
        uVar14 = iVar18 + uVar12;
        iVar18 = iVar18 + uVar12;
      }
    }
    else {
      iVar20 = iVar20 + uVar12;
    }
    bVar1 = uVar16 == 6;
    puVar11[1] = (ushort)asset_magic_bytes | (ushort)((uVar14 & 0xff) << 2);
    uVar16 = uVar16 + 1;
    if (bVar1) {
      uVar16 = 1;
    }
  }
  puVar5 = puVar11 + 2;
  if (-1 < (int)puVar11 + (2 - (int)puVar17)) {
    VLC_C_OBJ_370 = puVar9;
    DAT_8008e58c = puVar11 + 2;
    DAT_8008e590 = uVar7;
    DAT_8008e594 = uVar8;
    DAT_8008e598 = asset_magic_bytes;
    DAT_8008e59c = uVar16;
    DAT_8008e5a0 = iVar18;
    DAT_8008e5a4 = iVar19;
    DAT_8008e5a8 = iVar20;
    return 1;
  }
VLC_C_OBJ_200:
  puVar10 = puVar5;
  uVar13 = *(uint *)(table + (uVar7 >> 0x13) * 4 + 0x400);
  if (uVar13 == 0) {
    uVar7 = uVar7 << 8;
    uVar14 = uVar8 + 8;
    uVar8 = uVar14 & 0xf;
    if ((uVar14 & 0x10) != 0) {
      vlc_ptr_ = *(ushort *)puVar9;
      puVar9 = (u_long *)((int)puVar9 + 2);
      uVar7 = uVar7 | (uint)vlc_ptr_ << uVar8;
    }
    uVar13 = *(uint *)(table + (uVar7 >> 0x17) * 2 + 0x8400);
    uVar12 = 0;
  }
  else {
    uVar12 = *(uint *)((int)(table + (uVar7 >> 0x13) * 4 + 0x400) + 4);
  }
  uVar7 = uVar7 << (uVar13 & 0x1f);
  uVar14 = uVar8 + (uVar13 & 0xff);
  uVar8 = uVar14 & 0xf;
  if ((uVar14 & 0x10) != 0) {
    vlc_ptr_ = *(ushort *)puVar9;
    puVar9 = (u_long *)((int)puVar9 + 2);
    uVar7 = uVar7 | (uint)vlc_ptr_ << uVar8;
  }
  puVar11 = puVar10;
  if (uVar13 >> 0x10 == 0x7c1f) goto VLC_C_OBJ_2E4;
  *puVar10 = (short)(uVar13 >> 0x10);
  uVar14 = uVar7;
  if (uVar13 >> 0x10 != 0xfe00) goto code_r0x8008e4b4;
  goto VLC_C_OBJ_E4;
code_r0x8008e4b4:
  puVar11 = puVar10 + 1;
  puVar5 = puVar11;
  if (uVar12 != 0) {
    if ((uVar12 & 0xffff) != 0x7c1f) {
      *puVar11 = (short)uVar12;
      if ((uVar12 & 0xffff) == 0xfe00) goto VLC_C_OBJ_E4;
      uVar13 = uVar12 >> 0x10;
      puVar11 = puVar10 + 2;
      puVar5 = puVar11;
      if (uVar13 == 0) goto VLC_C_OBJ_200;
      if (uVar13 != 0x7c1f) {
        *puVar11 = (short)(uVar12 >> 0x10);
        if (uVar13 != 0xfe00) {
          puVar5 = puVar10 + 3;
          goto VLC_C_OBJ_200;
        }
        goto VLC_C_OBJ_E4;
      }
    }
VLC_C_OBJ_2E4:
    *puVar11 = (short)(uVar7 >> 0x10);
    vlc_ptr_ = *(ushort *)puVar9;
    puVar9 = (u_long *)((int)puVar9 + 2);
    uVar7 = uVar7 << 0x10 | (uint)vlc_ptr_ << uVar8;
    puVar5 = puVar11 + 1;
  }
  goto VLC_C_OBJ_200;
}



void DecDCTvlcBuild(u_short *table)

{
  byte bVar1;
  uint uVar2;
  int iVar3;
  ushort *puVar4;
  int iVar5;
  byte *pbVar6;
  byte *pbVar7;
  
  iVar3 = 0;
  pbVar6 = &DAT_800a43a8;
  while( true ) {
    bVar1 = *pbVar6;
    uVar2 = (uint)bVar1;
    pbVar7 = pbVar6 + 1;
    if (uVar2 < 0xf0) {
      if (iVar3 == 0) {
        do {
          bVar1 = *pbVar7;
          pbVar7 = pbVar7 + 1;
          uVar2 = uVar2 - 1;
          *(byte *)table = bVar1;
          table = (u_short *)((int)table + 1);
        } while (-1 < (int)uVar2);
        BUILD_OBJ_B0();
        return;
      }
      do {
        uVar2 = uVar2 - 1;
        *(undefined *)table = *(undefined *)((int)table - iVar3);
        table = (u_short *)((int)table + 1);
      } while (-1 < (int)uVar2);
      BUILD_OBJ_B0();
      return;
    }
    if (uVar2 == 0xf0) break;
    pbVar6 = pbVar6 + 2;
    iVar3 = CONCAT11(bVar1,*pbVar7) - 0xf0ff;
    iVar5 = 4;
    if (iVar3 == 0xf00) {
      puVar4 = table + 4;
      do {
        iVar5 = iVar5 + 1;
        *puVar4 = *puVar4 ^ puVar4[-4];
        puVar4 = puVar4 + 1;
      } while (iVar5 < 0x8800);
      return;
    }
  }
  BUILD_OBJ_B0();
  return;
}



void BUILD_OBJ_20(int param_1,undefined4 param_2,byte *param_3,byte *param_4)

{
  byte bVar1;
  uint uVar2;
  int in_v1;
  ushort *puVar3;
  int iVar4;
  byte *pbVar5;
  int in_t0;
  int in_t1;
  uint in_t2;
  
  while( true ) {
    bVar1 = *param_4;
    uVar2 = (uint)bVar1;
    pbVar5 = param_4 + 1;
    if (uVar2 < 0xf0) {
      if (in_v1 == 0) {
        do {
          bVar1 = *pbVar5;
          pbVar5 = pbVar5 + 1;
          uVar2 = uVar2 - 1;
          *param_3 = bVar1;
          param_3 = param_3 + 1;
        } while (-1 < (int)uVar2);
        BUILD_OBJ_B0();
        return;
      }
      do {
        uVar2 = uVar2 - 1;
        *param_3 = param_3[-in_v1];
        param_3 = param_3 + 1;
      } while (-1 < (int)uVar2);
      BUILD_OBJ_B0();
      return;
    }
    if (uVar2 == in_t2) break;
    param_4 = param_4 + 2;
    in_v1 = (uint)CONCAT11(bVar1,*pbVar5) + in_t0;
    iVar4 = 4;
    if (in_v1 == in_t1) {
      puVar3 = (ushort *)(param_1 + 8);
      do {
        iVar4 = iVar4 + 1;
        *puVar3 = *puVar3 ^ puVar3[-4];
        puVar3 = puVar3 + 1;
      } while (iVar4 < 0x8800);
      return;
    }
  }
  BUILD_OBJ_B0();
  return;
}



// this function is the first to start loading info at 0x800bc4b4 and 0x800af450
// 
// it recieves a pointer to the start of the game blb data in the first param
// 
// second param is initially set to 0x7
// 
// third param is also pointing to the gamedata
// 
// fourth is set to 0x800a43a8

void BUILD_OBJ_B0(int game_blb_base,undefined4 param_2,byte *param_3,byte *param_4)

{
  byte bVar1;
  uint uVar2;
  int in_v1;
  ushort *puVar3;
  int byte_idx;
  byte *pbVar4;
  int in_t0;
  int in_t1;
  uint in_t2;
  
  while( true ) {
    byte_idx = 4;
    if (in_v1 == in_t1) {
      puVar3 = (ushort *)(game_blb_base + 8);
      do {
        byte_idx = byte_idx + 1;
        *puVar3 = *puVar3 ^ puVar3[-4];
        puVar3 = puVar3 + 1;
      } while (byte_idx < 0x8800);
      return;
    }
    bVar1 = *param_4;
    uVar2 = (uint)bVar1;
    pbVar4 = param_4 + 1;
    if (uVar2 < 0xf0) break;
    if (uVar2 == in_t2) {
      BUILD_OBJ_B0();
      return;
    }
    param_4 = param_4 + 2;
    in_v1 = (uint)CONCAT11(bVar1,*pbVar4) + in_t0;
  }
  if (in_v1 == 0) {
    do {
      bVar1 = *pbVar4;
      pbVar4 = pbVar4 + 1;
      uVar2 = uVar2 - 1;
      *param_3 = bVar1;
      param_3 = param_3 + 1;
    } while (-1 < (int)uVar2);
    BUILD_OBJ_B0();
    return;
  }
  do {
    uVar2 = uVar2 - 1;
    *param_3 = param_3[-in_v1];
    param_3 = param_3 + 1;
  } while (-1 < (int)uVar2);
  BUILD_OBJ_B0();
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address
// Possible SNMAIN.OBJ/__SN_ENTRY_POINT

void start(void)

{
  undefined4 *puVar1;
  code *pcVar2;
  undefined4 unaff_s0;
  undefined **ppuVar3;
  undefined4 unaff_s1;
  int iVar4;
  uint uVar5;
  undefined4 unaff_retaddr;
  undefined4 uVar6;
  
  puVar1 = &DAT_800a6188;
  do {
    *puVar1 = 0;
    puVar1 = puVar1 + 1;
  } while (puVar1 < &DAT_800ae448);
  uVar5 = DAT_800a6114 - 8U | 0x80000000;
  DAT_800a51c0 = ((DAT_800a6114 - 8U) - DAT_800a6118) - 0xae448;
  DAT_800a51bc = &DAT_800ae448;
  DAT_800a61cc = unaff_retaddr;
  InitHeap((ulong *)&DAT_800ae44c,DAT_800a51c0);
  uVar6 = 0x8008e738;
  main();
  iVar4 = _u_char;
  trap(1);
  *(undefined4 *)(uVar5 - 0xc) = unaff_s0;
  *(undefined4 *)(uVar5 - 8) = unaff_s1;
  *(undefined4 *)(uVar5 - 4) = uVar6;
  if (iVar4 == 0) {
    _u_char = 1;
    ppuVar3 = &PTR_FUN_8009082c;
    iVar4 = 4;
    do {
      pcVar2 = (code *)*ppuVar3;
      ppuVar3 = (code **)ppuVar3 + 1;
      iVar4 = iVar4 + -1;
      (*pcVar2)();
    } while (iVar4 != 0);
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void __main(void)

{
  code *func;
  undefined **func_ptr;
  int func_count;
  
  if (_u_char == 0) {
    _u_char = 1;
    func_ptr = &PTR_FUN_8009082c;
                    // executes (in order)
                    // FUN_80015430
                    // FUN_800196fc
                    // UndefinedFunction_80025c00
                    // FUN_80082F14
    func_count = 4;
    do {
      func = (code *)*func_ptr;
      func_ptr = (code **)func_ptr + 1;
      func_count = func_count + -1;
      (*func)();
    } while (func_count != 0);
  }
  return;
}



// WARNING: Globals starting with '_' overlap smaller symbols at the same address

void __do_global_dtors(void)

{
  code *pcVar1;
  undefined **ppuVar2;
  int iVar3;
  
  if (_u_char != 0) {
    ppuVar2 = &PTR_FUN_8009083c;
    iVar3 = 3;
    do {
      pcVar1 = (code *)*ppuVar2;
      ppuVar2 = (code **)ppuVar2 + 1;
      iVar3 = iVar3 + -1;
      (*pcVar1)();
    } while (iVar3 != 0);
  }
  return;
}



void InitHeap(ulong *param_1,ulong param_2)

{
  (*(code *)&LAB_000000a0)();
  return;
}



void __builtin_delete(void *param_1)

{
  if (param_1 != (void *)0x0) {
    free(param_1);
  }
  return;
}



void free(void *param_1)

{
  (*(code *)&LAB_000000a0)();
  return;
}



// Possible UT_ROFF.OBJ/SsUtReverbOff
// Possible S_I.OBJ/SpuInit

void init_sound(void)

{
  _SpuInit();
  return;
}



// WARNING: Unknown calling convention -- yet parameter storage is locked

void _SpuInit(void)

{
  undefined2 *puVar1;
  int iVar2;
  int in_a0;
  
  ResetCallback();
  _spu_init();
  if (in_a0 == 0) {
    iVar2 = 0x17;
    puVar1 = &DAT_800a5246;
    do {
      *puVar1 = 0xc000;
      iVar2 = iVar2 + -1;
      puVar1 = puVar1 + -1;
    } while (-1 < iVar2);
  }
  SpuStart();
  DAT_800a51f0 = 0;
  DAT_800a51f4 = 0;
  DAT_800a5200 = 0;
  DAT_800a5204 = 0;
  DAT_800a5206 = 0;
  DAT_800a5208 = 0;
  DAT_800a520c = 0;
  DAT_800a51f8 = DAT_800a56b8;
  _spu_FsetRXX(0xd1,DAT_800a56b8,0);
  DAT_800a56ac = 0;
  DAT_800a56b0 = 0;
  DAT_800a56b4 = 0;
  DAT_800a51ec = 0;
  DAT_800a566c = 0;
  DAT_800a51e8 = 0;
  DAT_800a5214 = 0;
  DAT_800a5210 = 0;
  DAT_800a5648 = 0;
  return;
}



// WARNING: Unknown calling convention -- yet parameter storage is locked

void SpuStart(void)

{
  if (DAT_800a564c == 0) {
    DAT_800a564c = 1;
    FUN_8008676c();
    _SpuDataCallback(_spu_FiDMA);
    DAT_800a51e4 = OpenEvent(0xf0000009,0x20,0x2000,0);
    EnableEvent();
    FUN_8008677c();
  }
  return;
}



void OpenEvent(void)

{
  (*(code *)&SUB_000000b0)();
  return;
}



void EnableEvent(void)

{
  (*(code *)&SUB_000000b0)();
  return;
}



undefined4 _spu_init(int param_1)

{
  undefined *puVar1;
  undefined *puVar2;
  undefined4 uVar3;
  uint uVar4;
  int iVar5;
  undefined2 *puVar6;
  
  *(uint *)PTR_DMA_DPCR_800a5660 = *(uint *)PTR_DMA_DPCR_800a5660 | 0xb0000;
  puVar1 = PTR_VOICE_00_LEFT_RIGHT_800a5650;
  DAT_800a566c = 0;
  DAT_800a5670 = 0;
  DAT_800a5668 = 0;
  *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x180) = 0;
  *(undefined2 *)(puVar1 + 0x182) = 0;
  *(undefined2 *)(puVar1 + 0x1aa) = 0;
  _spu_Fw1ts();
  puVar1 = PTR_VOICE_00_LEFT_RIGHT_800a5650;
  *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x180) = 0;
  *(undefined2 *)(puVar1 + 0x182) = 0;
  puVar2 = PTR_VOICE_00_LEFT_RIGHT_800a5650;
  if ((*(ushort *)(puVar1 + 0x1ae) & 0x7ff) != 0) {
    uVar4 = 1;
    do {
      if (0xf00 < uVar4) {
        printf("SPU:T/O [%s]\n","wait (reset)");
        uVar3 = SPU_OBJ_DC(0);
        return uVar3;
      }
      uVar4 = uVar4 + 1;
    } while ((*(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1ae) & 0x7ff) != 0);
  }
  iVar5 = 0;
  puVar6 = &DAT_800acbe8;
  DAT_800a5674 = 2;
  DAT_800a5678 = 3;
  DAT_800a567c = 8;
  DAT_800a5680 = 7;
  *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1ac) = 4;
  *(undefined2 *)(puVar2 + 0x184) = 0;
  *(undefined2 *)(puVar2 + 0x186) = 0;
  *(undefined2 *)(puVar2 + 0x18c) = 0xffff;
  *(undefined2 *)(puVar2 + 0x18e) = 0xffff;
  *(undefined2 *)(puVar2 + 0x198) = 0;
  *(undefined2 *)(puVar2 + 0x19a) = 0;
  do {
    *puVar6 = 0;
    puVar1 = PTR_VOICE_00_LEFT_RIGHT_800a5650;
    iVar5 = iVar5 + 1;
    puVar6 = puVar6 + 1;
  } while (iVar5 < 10);
  if (param_1 == 0) {
    DAT_800a5668 = 0x200;
    *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 400) = 0;
    *(undefined2 *)(puVar1 + 0x192) = 0;
    *(undefined2 *)(puVar1 + 0x194) = 0;
    *(undefined2 *)(puVar1 + 0x196) = 0;
    *(undefined2 *)(puVar1 + 0x1b0) = 0;
    *(undefined2 *)(puVar1 + 0x1b2) = 0;
    *(undefined2 *)(puVar1 + 0x1b4) = 0;
    *(undefined2 *)(puVar1 + 0x1b6) = 0;
    _spu_FwriteByIO(&DAT_800a5690,0x10);
    iVar5 = 0;
    puVar6 = (undefined2 *)PTR_VOICE_00_LEFT_RIGHT_800a5650;
    do {
      *puVar6 = 0;
      puVar6[1] = 0;
      puVar6[2] = 0x3fff;
      puVar6[3] = 0x200;
      puVar6[4] = 0;
      puVar6[5] = 0;
      puVar1 = PTR_VOICE_00_LEFT_RIGHT_800a5650;
      iVar5 = iVar5 + 1;
      puVar6 = puVar6 + 8;
    } while (iVar5 < 0x18);
    *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x188) = 0xffff;
    *(undefined2 *)(puVar1 + 0x18a) = 0xff;
    _spu_Fw1ts();
    _spu_Fw1ts();
    _spu_Fw1ts();
    _spu_Fw1ts();
    puVar1 = PTR_VOICE_00_LEFT_RIGHT_800a5650;
    *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x18c) = 0xffff;
    *(undefined2 *)(puVar1 + 0x18e) = 0xff;
    _spu_Fw1ts();
    _spu_Fw1ts();
    _spu_Fw1ts();
    _spu_Fw1ts();
  }
  DAT_800a5684 = 1;
  *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) = 0xc000;
  DAT_800a5688 = 0;
  DAT_800a568c = 0;
  return 0;
}



undefined4 SPU_OBJ_DC(int param_1)

{
  undefined *puVar1;
  int iVar2;
  undefined2 *puVar3;
  int unaff_s0;
  
  puVar1 = PTR_VOICE_00_LEFT_RIGHT_800a5650;
  puVar3 = &DAT_800acbe8;
  DAT_800a5674 = 2;
  DAT_800a5678 = 3;
  DAT_800a567c = 8;
  DAT_800a5680 = 7;
  *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1ac) = 4;
  *(undefined2 *)(puVar1 + 0x184) = 0;
  *(undefined2 *)(puVar1 + 0x186) = 0;
  *(undefined2 *)(puVar1 + 0x18c) = 0xffff;
  *(undefined2 *)(puVar1 + 0x18e) = 0xffff;
  *(undefined2 *)(puVar1 + 0x198) = 0;
  *(undefined2 *)(puVar1 + 0x19a) = 0;
  do {
    *puVar3 = 0;
    puVar1 = PTR_VOICE_00_LEFT_RIGHT_800a5650;
    param_1 = param_1 + 1;
    puVar3 = puVar3 + 1;
  } while (param_1 < 10);
  if (unaff_s0 == 0) {
    DAT_800a5668 = 0x200;
    *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 400) = 0;
    *(undefined2 *)(puVar1 + 0x192) = 0;
    *(undefined2 *)(puVar1 + 0x194) = 0;
    *(undefined2 *)(puVar1 + 0x196) = 0;
    *(undefined2 *)(puVar1 + 0x1b0) = 0;
    *(undefined2 *)(puVar1 + 0x1b2) = 0;
    *(undefined2 *)(puVar1 + 0x1b4) = 0;
    *(undefined2 *)(puVar1 + 0x1b6) = 0;
    _spu_FwriteByIO(&DAT_800a5690,0x10);
    iVar2 = 0;
    puVar3 = (undefined2 *)PTR_VOICE_00_LEFT_RIGHT_800a5650;
    do {
      *puVar3 = 0;
      puVar3[1] = 0;
      puVar3[2] = 0x3fff;
      puVar3[3] = 0x200;
      puVar3[4] = 0;
      puVar3[5] = 0;
      puVar1 = PTR_VOICE_00_LEFT_RIGHT_800a5650;
      iVar2 = iVar2 + 1;
      puVar3 = puVar3 + 8;
    } while (iVar2 < 0x18);
    *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x188) = 0xffff;
    *(undefined2 *)(puVar1 + 0x18a) = 0xff;
    _spu_Fw1ts();
    _spu_Fw1ts();
    _spu_Fw1ts();
    _spu_Fw1ts();
    puVar1 = PTR_VOICE_00_LEFT_RIGHT_800a5650;
    *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x18c) = 0xffff;
    *(undefined2 *)(puVar1 + 0x18e) = 0xff;
    _spu_Fw1ts();
    _spu_Fw1ts();
    _spu_Fw1ts();
    _spu_Fw1ts();
  }
  DAT_800a5684 = 1;
  *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) = 0xc000;
  DAT_800a5688 = 0;
  DAT_800a568c = 0;
  return 0;
}



void _spu_FwriteByIO(undefined2 *param_1,uint param_2)

{
  ushort uVar1;
  undefined2 uVar2;
  ushort uVar3;
  bool bVar4;
  undefined *puVar5;
  int iVar6;
  uint uVar7;
  uint uVar8;
  
  uVar1 = *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1ae);
  *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1a6) = DAT_800a5668;
  _spu_Fw1ts();
  bVar4 = param_2 < 0x41;
  if (param_2 != 0) {
    do {
      puVar5 = PTR_VOICE_00_LEFT_RIGHT_800a5650;
      uVar8 = 0x40;
      if (bVar4) {
        uVar8 = param_2;
      }
      iVar6 = 0;
      if (0 < (int)uVar8) {
        do {
          uVar2 = *param_1;
          param_1 = param_1 + 1;
          iVar6 = iVar6 + 2;
          *(undefined2 *)(puVar5 + 0x1a8) = uVar2;
        } while (iVar6 < (int)uVar8);
      }
      *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) =
           *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) & 0xffcf | 0x10;
      _spu_Fw1ts();
      if ((*(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1ae) & 0x400) != 0) {
        uVar7 = 1;
        do {
          if (0xf00 < uVar7) {
            printf("SPU:T/O [%s]\n","wait (wrdy H -> L)");
            SPU_OBJ_3AC();
            return;
          }
          uVar7 = uVar7 + 1;
        } while ((*(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1ae) & 0x400) != 0);
      }
      param_2 = param_2 - uVar8;
      _spu_Fw1ts();
      _spu_Fw1ts();
      bVar4 = param_2 < 0x41;
    } while (param_2 != 0);
  }
  puVar5 = PTR_VOICE_00_LEFT_RIGHT_800a5650;
  *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) =
       *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) & 0xffcf;
  uVar3 = *(ushort *)(puVar5 + 0x1ae);
  uVar8 = 1;
  while( true ) {
    if ((uVar3 & 0x7ff) == (uVar1 & 0x7ff)) {
      return;
    }
    if (0xf00 < uVar8) break;
    uVar3 = *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1ae);
    uVar8 = uVar8 + 1;
  }
  printf("SPU:T/O [%s]\n","wait (dmaf clear/W)");
  SPU_OBJ_440();
  return;
}



void SPU_OBJ_3AC(void)

{
  undefined2 uVar1;
  ushort uVar2;
  undefined *puVar3;
  int iVar4;
  uint uVar5;
  uint unaff_s0;
  uint unaff_s1;
  undefined2 *unaff_s2;
  ushort unaff_s3;
  
  do {
    do {
      unaff_s1 = unaff_s1 - unaff_s0;
      _spu_Fw1ts();
      _spu_Fw1ts();
      puVar3 = PTR_VOICE_00_LEFT_RIGHT_800a5650;
      if (unaff_s1 == 0) {
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) =
             *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) & 0xffcf;
        uVar2 = *(ushort *)(puVar3 + 0x1ae);
        uVar5 = 1;
        while( true ) {
          if ((uVar2 & 0x7ff) == unaff_s3) {
            return;
          }
          if (0xf00 < uVar5) break;
          uVar2 = *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1ae);
          uVar5 = uVar5 + 1;
        }
        printf("SPU:T/O [%s]\n","wait (dmaf clear/W)");
        SPU_OBJ_440();
        return;
      }
      unaff_s0 = 0x40;
      if (unaff_s1 < 0x41) {
        unaff_s0 = unaff_s1;
      }
      iVar4 = 0;
      if (0 < (int)unaff_s0) {
        do {
          uVar1 = *unaff_s2;
          unaff_s2 = unaff_s2 + 1;
          iVar4 = iVar4 + 2;
          *(undefined2 *)(puVar3 + 0x1a8) = uVar1;
        } while (iVar4 < (int)unaff_s0);
      }
      *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) =
           *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) & 0xffcf | 0x10;
      _spu_Fw1ts();
    } while ((*(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1ae) & 0x400) == 0);
    uVar5 = 1;
    do {
      if (0xf00 < uVar5) {
        printf("SPU:T/O [%s]\n","wait (wrdy H -> L)");
        SPU_OBJ_3AC();
        return;
      }
      uVar5 = uVar5 + 1;
    } while ((*(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1ae) & 0x400) != 0);
  } while( true );
}



void SPU_OBJ_440(void)

{
  return;
}



void _spu_FiDMA(void)

{
  undefined *puVar1;
  uint uVar2;
  
  if (DAT_800a56a0 == 0) {
    _spu_Fw1ts();
  }
  puVar1 = PTR_VOICE_00_LEFT_RIGHT_800a5650;
  *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) =
       *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) & 0xffcf;
  if ((*(ushort *)(puVar1 + 0x1aa) & 0x30) != 0) {
    uVar2 = 1;
    do {
      if (0xf00 < uVar2) break;
      uVar2 = uVar2 + 1;
    } while ((*(ushort *)(puVar1 + 0x1aa) & 0x30) != 0);
  }
  if (DAT_800a5688 == (code *)0x0) {
    DeliverEvent(0xf0000009,0x20);
    return;
  }
  (*DAT_800a5688)();
  SPU_OBJ_510();
  return;
}



void SPU_OBJ_510(void)

{
  return;
}



void _spu_Fr_(undefined4 param_1,undefined2 param_2,int param_3)

{
  *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1a6) = param_2;
  _spu_Fw1ts();
  *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) =
       *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) | 0x30;
  _spu_Fw1ts();
  _spu_FsetDelayR();
  *(undefined4 *)PTR_DMA_SPU_MADR_800a5654 = param_1;
  *(uint *)PTR_DMA_SPU_BCR_800a5658 = param_3 << 0x10 | 0x10;
  DAT_800a56a0 = 1;
  *(undefined4 *)PTR_DMA_SPU_CHCR_800a565c = 0x1000200;
  return;
}



undefined4 _spu_t(int param_1,uint param_2,uint param_3)

{
  ushort uVar1;
  undefined4 uVar2;
  uint uVar3;
  ushort uVar4;
  
  if (param_1 == 1) {
    DAT_800a56a0 = 0;
    if (*(short *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1a6) != DAT_800a5668) {
      uVar3 = 1;
      do {
        if (0xf00 < uVar3) {
          DAT_800a56a0 = 0;
          return 0xfffffffe;
        }
        uVar3 = uVar3 + 1;
      } while (*(short *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1a6) != DAT_800a5668);
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) =
         *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) & 0xffcf | 0x20;
    uVar2 = SPU_OBJ_848();
    return uVar2;
  }
  if (param_1 < 2) {
    if (param_1 != 0) {
      uVar2 = SPU_OBJ_848();
      return uVar2;
    }
    DAT_800a56a0 = 1;
    if (*(short *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1a6) != DAT_800a5668) {
      uVar3 = 1;
      do {
        if (0xf00 < uVar3) {
          DAT_800a56a0 = 1;
          return 0xfffffffe;
        }
        uVar3 = uVar3 + 1;
      } while (*(short *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1a6) != DAT_800a5668);
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) =
         *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) | 0x30;
    uVar2 = SPU_OBJ_848();
    return uVar2;
  }
  if (param_1 == 2) {
    DAT_800a5668 = (short)(param_2 >> (DAT_800a5678 & 0x1f));
    *(short *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1a6) = DAT_800a5668;
    uVar2 = SPU_OBJ_848();
    return uVar2;
  }
  if (param_1 == 3) {
    uVar4 = 0x20;
    if (DAT_800a56a0 == 1) {
      uVar4 = 0x30;
    }
    uVar3 = 1;
    uVar1 = *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa);
    while ((uVar1 & 0x30) != uVar4) {
      if (0xf00 < uVar3) {
        return 0xfffffffe;
      }
      uVar3 = uVar3 + 1;
      uVar1 = *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa);
    }
    if (DAT_800a56a0 != 1) {
      _spu_FsetDelayW();
      DAT_800a56a8 = (param_3 >> 6) + (uint)((param_3 & 0x3f) != 0);
      DAT_800a56a4 = param_2;
      *(uint *)PTR_DMA_SPU_MADR_800a5654 = param_2;
      *(uint *)PTR_DMA_SPU_BCR_800a5658 = DAT_800a56a8 << 0x10 | 0x10;
      uVar2 = 0x1000201;
      if (DAT_800a56a0 == 1) {
        uVar2 = 0x1000200;
      }
      *(undefined4 *)PTR_DMA_SPU_CHCR_800a565c = uVar2;
      return 0;
    }
    _spu_FsetDelayR();
    uVar2 = SPU_OBJ_7C0();
    return uVar2;
  }
  uVar2 = SPU_OBJ_848();
  return uVar2;
}



undefined4 SPU_OBJ_7C0(undefined4 param_1,undefined4 param_2,uint param_3)

{
  uint *unaff_s0;
  
  DAT_800a56a4 = unaff_s0[-1];
  DAT_800a56a8 = (*unaff_s0 >> 6) + (uint)((*unaff_s0 & 0x3f) != 0);
  *(uint *)PTR_DMA_SPU_MADR_800a5654 = DAT_800a56a4;
  *(uint *)PTR_DMA_SPU_BCR_800a5658 = DAT_800a56a8 << 0x10 | 0x10;
  param_3 = param_3 | 0x201;
  if (DAT_800a56a0 == 1) {
    param_3 = 0x1000200;
  }
  *(uint *)PTR_DMA_SPU_CHCR_800a565c = param_3;
  return 0;
}



void SPU_OBJ_848(void)

{
  return;
}



undefined4 _spu_Fw(undefined4 param_1,undefined4 param_2)

{
  undefined4 uVar1;
  
  if (DAT_800a566c == 0) {
    _spu_t(2,(uint)DAT_800a5668 << (DAT_800a5678 & 0x1f));
    _spu_t(1);
    _spu_t(3,param_1,param_2);
    uVar1 = SPU_OBJ_8CC();
    return uVar1;
  }
  _spu_FwriteByIO(param_1,param_2);
  return param_2;
}



void SPU_OBJ_8CC(void)

{
  return;
}



undefined4 _spu_Fr(undefined4 param_1,undefined4 param_2)

{
  _spu_t(2,(uint)DAT_800a5668 << (DAT_800a5678 & 0x1f));
  _spu_t(0);
  _spu_t(3,param_1,param_2);
  return param_2;
}



void _spu_FsetRXX(int param_1,uint param_2,int param_3)

{
  if (param_3 == 0) {
    *(short *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + param_1 * 2) = (short)param_2;
    SPU_OBJ_98C();
    return;
  }
  *(short *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + param_1 * 2) =
       (short)(param_2 >> (DAT_800a5678 & 0x1f));
  return;
}



void SPU_OBJ_98C(void)

{
  return;
}



uint _spu_FsetRXXa(int param_1,uint param_2)

{
  uint uVar1;
  
  if (DAT_800a5674 != 0) {
    if (DAT_800a567c == 0) {
      trap(0x1c00);
    }
    if (param_2 % DAT_800a567c != 0) {
      param_2 = param_2 + DAT_800a567c & ~DAT_800a5680;
    }
  }
  if (param_1 != -2) {
    if (param_1 == -1) {
      uVar1 = SPU_OBJ_A30();
      return uVar1;
    }
    *(short *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + param_1 * 2) =
         (short)(param_2 >> (DAT_800a5678 & 0x1f));
    return param_2;
  }
  uVar1 = SPU_OBJ_A30();
  return uVar1;
}



void SPU_OBJ_A30(void)

{
  return;
}



uint _spu_FgetRXXa(int param_1,int param_2)

{
  uint uVar1;
  
  if (param_2 != -1) {
    uVar1 = SPU_OBJ_A6C();
    return uVar1;
  }
  return (uint)*(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + param_1 * 2);
}



void SPU_OBJ_A6C(void)

{
  return;
}



void _spu_FsetPCR(int param_1)

{
  *(uint *)PTR_DMA_DPCR_800a5660 = *(uint *)PTR_DMA_DPCR_800a5660 & 0xfff8ffff;
  if (param_1 != 0) {
    SPU_OBJ_AC4(0x30000);
    return;
  }
  *(uint *)PTR_DMA_DPCR_800a5660 = *(uint *)PTR_DMA_DPCR_800a5660 | 0x50000;
  return;
}



void SPU_OBJ_AC4(uint param_1)

{
  uint *in_v0;
  uint in_v1;
  
  *in_v0 = in_v1 | param_1;
  return;
}



void _spu_FsetDelayW(void)

{
  *(uint *)PTR_SPU_DELAY_800a5664 = *(uint *)PTR_SPU_DELAY_800a5664 & 0xf0ffffff | 0x20000000;
  return;
}



void _spu_FsetDelayR(void)

{
  *(uint *)PTR_SPU_DELAY_800a5664 = *(uint *)PTR_SPU_DELAY_800a5664 & 0xf0ffffff | 0x22000000;
  return;
}



void _spu_Fw1ts(void)

{
  SPU_OBJ_B74();
  return;
}



void SPU_OBJ_B74(void)

{
  int local_res0;
  
  for (; local_res0 < 0x3c; local_res0 = local_res0 + 1) {
  }
  return;
}



void _SpuDataCallback(undefined4 param_1)

{
  DMACallback(4,param_1);
  return;
}



void CloseEvent(void)

{
  (*(code *)&SUB_000000b0)();
  return;
}



void DisableEvent(void)

{
  (*(code *)&SUB_000000b0)();
  return;
}



void SpuSetVoiceAttr(SpuVoiceAttr *arg)

{
  _SpuRSetVoiceAttr((long)arg,0,(SpuVoiceAttr *)0x17);
  return;
}



void SpuSetKey(long on_off,ulong voice_bit)

{
  undefined *puVar1;
  uint uVar2;
  ushort uVar3;
  ushort uVar4;
  
  puVar1 = PTR_VOICE_00_LEFT_RIGHT_800a5650;
  uVar2 = voice_bit & 0xffffff;
  uVar3 = (ushort)uVar2;
  uVar4 = (ushort)(uVar2 >> 0x10);
  if (on_off == 0) {
    if ((DAT_800a5648 & 1) == 0) {
      *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x18c) = uVar3;
      *(ushort *)(puVar1 + 0x18e) = uVar4;
      DAT_800a51e8 = DAT_800a51e8 & ~uVar2;
    }
    else {
      DAT_800a5214 = DAT_800a5214 | 1;
      DAT_800a5210 = DAT_800a5210 & ~uVar2;
      if ((DAT_800acbe8 & uVar2) != 0) {
        DAT_800acbe8 = DAT_800acbe8 & (ushort)~uVar2;
      }
      DAT_800acbec = uVar3;
      DAT_800acbee = uVar4;
      if (((uint)DAT_800acbea & uVar2 >> 0x10) != 0) {
        DAT_800acbea = DAT_800acbea & ~uVar4;
        S_SK_OBJ_1F4();
        return;
      }
    }
  }
  else if (on_off == 1) {
    if ((DAT_800a5648 & 1) == 0) {
      *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x188) = uVar3;
      *(ushort *)(puVar1 + 0x18a) = uVar4;
      S_SK_OBJ_1EC();
      return;
    }
    DAT_800a5214 = DAT_800a5214 | 1;
    DAT_800a5210 = DAT_800a5210 | uVar2;
    if ((DAT_800acbec & uVar2) != 0) {
      DAT_800acbec = DAT_800acbec & ~uVar3;
    }
    DAT_800acbe8 = uVar3;
    DAT_800acbea = uVar4;
    if (((uint)DAT_800acbee & uVar2 >> 0x10) != 0) {
      DAT_800acbee = DAT_800acbee & ~uVar4;
      S_SK_OBJ_1F4();
      return;
    }
  }
  return;
}



void S_SK_OBJ_1EC(void)

{
  undefined4 in_v0;
  
  DAT_800a51e8 = in_v0;
  return;
}



void S_SK_OBJ_1F4(void)

{
  return;
}



// WARNING: Removing unreachable block (ram,0x8008f8cc)
// WARNING: Removing unreachable block (ram,0x8008f908)
// WARNING: Removing unreachable block (ram,0x8008f8f8)
// WARNING: Removing unreachable block (ram,0x8008f900)
// WARNING: Removing unreachable block (ram,0x8008f910)

long SpuGetKeyStatus(ulong voice_bit)

{
  uint uVar1;
  long lVar2;
  uint uVar3;
  
  uVar3 = 0;
  uVar1 = 1;
  do {
    if ((voice_bit & uVar1) != 0) {
      lVar2 = S_GKS_OBJ_2C(voice_bit,uVar3);
      return lVar2;
    }
    uVar3 = uVar3 + 1;
    uVar1 = 1 << (uVar3 & 0x1f);
  } while ((int)uVar3 < 0x18);
  lVar2 = S_GKS_OBJ_8C();
  return lVar2;
}



int S_GKS_OBJ_2C(undefined4 param_1,uint param_2)

{
  int iVar1;
  
  if (param_2 == 0xffffffff) {
    iVar1 = S_GKS_OBJ_8C();
    return iVar1;
  }
  if ((DAT_800a51e8 & 1 << (param_2 & 0x1f)) == 0) {
    iVar1 = (uint)(*(short *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + param_2 * 0x10 + 0xc) != 0) << 1;
  }
  else {
    iVar1 = 3;
    if (*(short *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + param_2 * 0x10 + 0xc) != 0) {
      iVar1 = S_GKS_OBJ_8C();
      return iVar1;
    }
  }
  return iVar1;
}



void S_GKS_OBJ_8C(void)

{
  return;
}



// Possible S_W.OBJ/SpuWrite

ulong SpuRead(uchar *addr,ulong size)

{
  if (0x7eff0 < size) {
    size = 0x7eff0;
  }
  _spu_Fw(addr,size);
  if (DAT_800a5688 == 0) {
    DAT_800a5684 = 0;
  }
  return size;
}



ulong SpuSetTransferStartAddr(ulong addr)

{
  ulong uVar1;
  
  if (addr - 0x1010 < 0x7efe9) {
    DAT_800a5668 = _spu_FsetRXXa(0xffffffff);
    uVar1 = S_STSA_OBJ_48();
    return uVar1;
  }
  return 0;
}



void S_STSA_OBJ_48(void)

{
  return;
}



long SpuSetTransferMode(long mode)

{
  long lVar1;
  
  if ((mode != 0) && (mode == 1)) {
    lVar1 = S_STM_OBJ_1C();
    return lVar1;
  }
  DAT_800a51ec = mode;
  DAT_800a566c = 0;
  return 0;
}



void S_STM_OBJ_1C(undefined4 param_1)

{
  undefined4 in_v0;
  
  DAT_800a51ec = param_1;
  DAT_800a566c = in_v0;
  return;
}



long SpuIsTransferCompleted(long flag)

{
  bool bVar1;
  long lVar2;
  int iVar3;
  
  if ((DAT_800a51ec != 1) && (DAT_800a5684 != 1)) {
    iVar3 = TestEvent(DAT_800a51e4);
    if (flag == 1) {
      bVar1 = iVar3 == 0;
      iVar3 = 1;
      if (bVar1) {
        do {
          iVar3 = TestEvent(DAT_800a51e4);
        } while (iVar3 == 0);
        lVar2 = S_ITC_OBJ_88();
        return lVar2;
      }
    }
    else if (iVar3 != 1) {
      return iVar3;
    }
    DAT_800a5684 = iVar3;
    return iVar3;
  }
  lVar2 = S_ITC_OBJ_90();
  return lVar2;
}



void S_ITC_OBJ_88(void)

{
  undefined4 in_v0;
  
  DAT_800a5684 = in_v0;
  return;
}



void S_ITC_OBJ_90(void)

{
  return;
}



void TestEvent(void)

{
  (*(code *)&SUB_000000b0)();
  return;
}



void SpuSetCommonAttr(SpuCommonAttr *attr)

{
  bool bVar1;
  ushort uVar2;
  ushort uVar3;
  ushort uVar4;
  uint uVar5;
  
  uVar3 = 0;
  uVar5 = attr->mask;
  bVar1 = uVar5 == 0;
  uVar4 = 0;
  if (bVar1) {
S_SCA_OBJ_30:
    switch((attr->mvolmode).left) {
    default:
S_SCA_OBJ_94:
      uVar3 = (attr->mvol).left;
      uVar2 = 0;
      break;
    case 1:
      uVar2 = 0x8000;
      break;
    case 2:
      uVar2 = 0x9000;
      break;
    case 3:
      uVar2 = 0xa000;
      break;
    case 4:
      uVar2 = 0xb000;
      break;
    case 5:
      uVar2 = 0xc000;
      break;
    case 6:
      uVar2 = 0xd000;
      break;
    case 7:
      uVar2 = 0xe000;
    }
    if (uVar2 != 0) {
      uVar3 = (attr->mvol).left;
      if (0x7f < (short)uVar3) {
        S_SCA_OBJ_CC(attr,uVar2,0x7f);
        return;
      }
      if ((short)uVar3 < 0) {
        uVar3 = 0;
      }
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x180) = uVar3 & 0x7fff | uVar2;
  }
  else if ((uVar5 & 1) != 0) {
    if ((uVar5 & 4) != 0) goto S_SCA_OBJ_30;
    goto S_SCA_OBJ_94;
  }
  if (bVar1) {
S_SCA_OBJ_F8:
    switch((attr->mvolmode).right) {
    default:
      goto S_SCA_OBJ_15C;
    case 1:
      uVar3 = 0x8000;
      break;
    case 2:
      uVar3 = 0x9000;
      break;
    case 3:
      uVar3 = 0xa000;
      break;
    case 4:
      uVar3 = 0xb000;
      break;
    case 5:
      uVar3 = 0xc000;
      break;
    case 6:
      uVar3 = 0xd000;
      break;
    case 7:
      uVar3 = 0xe000;
    }
  }
  else {
    if ((uVar5 & 2) == 0) goto S_SCA_OBJ_1A8;
    if ((uVar5 & 8) != 0) goto S_SCA_OBJ_F8;
S_SCA_OBJ_15C:
    uVar4 = (attr->mvol).right;
    uVar3 = 0;
  }
  if (uVar3 != 0) {
    uVar4 = (attr->mvol).right;
    if (0x7f < (short)uVar4) {
      S_SCA_OBJ_194();
      return;
    }
    if ((short)uVar4 < 0) {
      uVar4 = 0;
    }
  }
  *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x182) = uVar4 & 0x7fff | uVar3;
S_SCA_OBJ_1A8:
  if ((bVar1) || ((uVar5 & 0x40) != 0)) {
    *(short *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1b0) = (attr->cd).volume.left;
  }
  if ((bVar1) || ((uVar5 & 0x80) != 0)) {
    *(short *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1b2) = (attr->cd).volume.right;
  }
  if ((bVar1) || ((uVar5 & 0x400) != 0)) {
    *(short *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1b4) = (attr->ext).volume.left;
  }
  if ((bVar1) || ((uVar5 & 0x800) != 0)) {
    *(short *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1b6) = (attr->ext).volume.right;
  }
  if ((bVar1) || ((uVar5 & 0x100) != 0)) {
    if ((attr->cd).reverb == 0) {
      S_SCA_OBJ_288();
      return;
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) =
         *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) | 4;
  }
  if ((bVar1) || ((uVar5 & 0x200) != 0)) {
    if ((attr->cd).mix == 0) {
      S_SCA_OBJ_2DC();
      return;
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) =
         *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) | 1;
  }
  if ((bVar1) || ((uVar5 & 0x1000) != 0)) {
    if ((attr->ext).reverb == 0) {
      S_SCA_OBJ_330();
      return;
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) =
         *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) | 8;
  }
  if ((bVar1) || ((uVar5 & 0x2000) != 0)) {
    if ((attr->ext).mix == 0) {
      S_SCA_OBJ_384();
      return;
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) =
         *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) | 2;
  }
  return;
}



void S_SCA_OBJ_5C(int param_1)

{
  ushort uVar1;
  ushort in_t0;
  uint in_t1;
  int in_t2;
  
  uVar1 = *(ushort *)(param_1 + 4);
  if (0x7f < (short)uVar1) {
    S_SCA_OBJ_CC(param_1,0x8000,0x7f);
    return;
  }
  if ((short)uVar1 < 0) {
    uVar1 = 0;
  }
  *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x180) = uVar1 & 0x7fff | 0x8000;
  if (in_t2 == 0) {
    if ((in_t1 & 2) == 0) goto S_SCA_OBJ_1A8;
    if ((in_t1 & 8) != 0) goto S_SCA_OBJ_F8;
S_SCA_OBJ_15C:
    in_t0 = *(ushort *)(param_1 + 6);
    uVar1 = 0;
  }
  else {
S_SCA_OBJ_F8:
    switch(*(undefined2 *)(param_1 + 10)) {
    default:
      goto S_SCA_OBJ_15C;
    case 1:
      uVar1 = 0x8000;
      break;
    case 2:
      uVar1 = 0x9000;
      break;
    case 3:
      uVar1 = 0xa000;
      break;
    case 4:
      uVar1 = 0xb000;
      break;
    case 5:
      uVar1 = 0xc000;
      break;
    case 6:
      uVar1 = 0xd000;
      break;
    case 7:
      uVar1 = 0xe000;
    }
  }
  if (uVar1 != 0) {
    in_t0 = *(ushort *)(param_1 + 6);
    if (0x7f < (short)in_t0) {
      S_SCA_OBJ_194();
      return;
    }
    if ((short)in_t0 < 0) {
      in_t0 = 0;
    }
  }
  *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x182) = in_t0 & 0x7fff | uVar1;
S_SCA_OBJ_1A8:
  if ((in_t2 != 0) || ((in_t1 & 0x40) != 0)) {
    *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1b0) = *(undefined2 *)(param_1 + 0x10);
  }
  if ((in_t2 != 0) || ((in_t1 & 0x80) != 0)) {
    *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1b2) = *(undefined2 *)(param_1 + 0x12);
  }
  if ((in_t2 != 0) || ((in_t1 & 0x400) != 0)) {
    *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1b4) = *(undefined2 *)(param_1 + 0x1c);
  }
  if ((in_t2 != 0) || ((in_t1 & 0x800) != 0)) {
    *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1b6) = *(undefined2 *)(param_1 + 0x1e);
  }
  if ((in_t2 != 0) || ((in_t1 & 0x100) != 0)) {
    if (*(int *)(param_1 + 0x14) == 0) {
      S_SCA_OBJ_288();
      return;
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) =
         *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) | 4;
  }
  if ((in_t2 != 0) || ((in_t1 & 0x200) != 0)) {
    if (*(int *)(param_1 + 0x18) == 0) {
      S_SCA_OBJ_2DC();
      return;
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) =
         *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) | 1;
  }
  if ((in_t2 != 0) || ((in_t1 & 0x1000) != 0)) {
    if (*(int *)(param_1 + 0x20) == 0) {
      S_SCA_OBJ_330();
      return;
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) =
         *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) | 8;
  }
  if ((in_t2 != 0) || ((in_t1 & 0x2000) != 0)) {
    if (*(int *)(param_1 + 0x24) == 0) {
      S_SCA_OBJ_384();
      return;
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) =
         *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) | 2;
  }
  return;
}



void S_SCA_OBJ_64(int param_1)

{
  ushort uVar1;
  ushort in_t0;
  uint in_t1;
  int in_t2;
  
  uVar1 = *(ushort *)(param_1 + 4);
  if (0x7f < (short)uVar1) {
    S_SCA_OBJ_CC(param_1,0x9000,0x7f);
    return;
  }
  if ((short)uVar1 < 0) {
    uVar1 = 0;
  }
  *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x180) = uVar1 & 0x7fff | 0x9000;
  if (in_t2 == 0) {
    if ((in_t1 & 2) == 0) goto S_SCA_OBJ_1A8;
    if ((in_t1 & 8) != 0) goto S_SCA_OBJ_F8;
S_SCA_OBJ_15C:
    in_t0 = *(ushort *)(param_1 + 6);
    uVar1 = 0;
  }
  else {
S_SCA_OBJ_F8:
    switch(*(undefined2 *)(param_1 + 10)) {
    default:
      goto S_SCA_OBJ_15C;
    case 1:
      uVar1 = 0x8000;
      break;
    case 2:
      uVar1 = 0x9000;
      break;
    case 3:
      uVar1 = 0xa000;
      break;
    case 4:
      uVar1 = 0xb000;
      break;
    case 5:
      uVar1 = 0xc000;
      break;
    case 6:
      uVar1 = 0xd000;
      break;
    case 7:
      uVar1 = 0xe000;
    }
  }
  if (uVar1 != 0) {
    in_t0 = *(ushort *)(param_1 + 6);
    if (0x7f < (short)in_t0) {
      S_SCA_OBJ_194();
      return;
    }
    if ((short)in_t0 < 0) {
      in_t0 = 0;
    }
  }
  *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x182) = in_t0 & 0x7fff | uVar1;
S_SCA_OBJ_1A8:
  if ((in_t2 != 0) || ((in_t1 & 0x40) != 0)) {
    *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1b0) = *(undefined2 *)(param_1 + 0x10);
  }
  if ((in_t2 != 0) || ((in_t1 & 0x80) != 0)) {
    *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1b2) = *(undefined2 *)(param_1 + 0x12);
  }
  if ((in_t2 != 0) || ((in_t1 & 0x400) != 0)) {
    *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1b4) = *(undefined2 *)(param_1 + 0x1c);
  }
  if ((in_t2 != 0) || ((in_t1 & 0x800) != 0)) {
    *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1b6) = *(undefined2 *)(param_1 + 0x1e);
  }
  if ((in_t2 != 0) || ((in_t1 & 0x100) != 0)) {
    if (*(int *)(param_1 + 0x14) == 0) {
      S_SCA_OBJ_288();
      return;
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) =
         *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) | 4;
  }
  if ((in_t2 != 0) || ((in_t1 & 0x200) != 0)) {
    if (*(int *)(param_1 + 0x18) == 0) {
      S_SCA_OBJ_2DC();
      return;
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) =
         *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) | 1;
  }
  if ((in_t2 != 0) || ((in_t1 & 0x1000) != 0)) {
    if (*(int *)(param_1 + 0x20) == 0) {
      S_SCA_OBJ_330();
      return;
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) =
         *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) | 8;
  }
  if ((in_t2 != 0) || ((in_t1 & 0x2000) != 0)) {
    if (*(int *)(param_1 + 0x24) == 0) {
      S_SCA_OBJ_384();
      return;
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) =
         *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) | 2;
  }
  return;
}



void S_SCA_OBJ_6C(int param_1)

{
  ushort uVar1;
  ushort in_t0;
  uint in_t1;
  int in_t2;
  
  uVar1 = *(ushort *)(param_1 + 4);
  if (0x7f < (short)uVar1) {
    S_SCA_OBJ_CC(param_1,0xa000,0x7f);
    return;
  }
  if ((short)uVar1 < 0) {
    uVar1 = 0;
  }
  *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x180) = uVar1 & 0x7fff | 0xa000;
  if (in_t2 == 0) {
    if ((in_t1 & 2) == 0) goto S_SCA_OBJ_1A8;
    if ((in_t1 & 8) != 0) goto S_SCA_OBJ_F8;
S_SCA_OBJ_15C:
    in_t0 = *(ushort *)(param_1 + 6);
    uVar1 = 0;
  }
  else {
S_SCA_OBJ_F8:
    switch(*(undefined2 *)(param_1 + 10)) {
    default:
      goto S_SCA_OBJ_15C;
    case 1:
      uVar1 = 0x8000;
      break;
    case 2:
      uVar1 = 0x9000;
      break;
    case 3:
      uVar1 = 0xa000;
      break;
    case 4:
      uVar1 = 0xb000;
      break;
    case 5:
      uVar1 = 0xc000;
      break;
    case 6:
      uVar1 = 0xd000;
      break;
    case 7:
      uVar1 = 0xe000;
    }
  }
  if (uVar1 != 0) {
    in_t0 = *(ushort *)(param_1 + 6);
    if (0x7f < (short)in_t0) {
      S_SCA_OBJ_194();
      return;
    }
    if ((short)in_t0 < 0) {
      in_t0 = 0;
    }
  }
  *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x182) = in_t0 & 0x7fff | uVar1;
S_SCA_OBJ_1A8:
  if ((in_t2 != 0) || ((in_t1 & 0x40) != 0)) {
    *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1b0) = *(undefined2 *)(param_1 + 0x10);
  }
  if ((in_t2 != 0) || ((in_t1 & 0x80) != 0)) {
    *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1b2) = *(undefined2 *)(param_1 + 0x12);
  }
  if ((in_t2 != 0) || ((in_t1 & 0x400) != 0)) {
    *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1b4) = *(undefined2 *)(param_1 + 0x1c);
  }
  if ((in_t2 != 0) || ((in_t1 & 0x800) != 0)) {
    *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1b6) = *(undefined2 *)(param_1 + 0x1e);
  }
  if ((in_t2 != 0) || ((in_t1 & 0x100) != 0)) {
    if (*(int *)(param_1 + 0x14) == 0) {
      S_SCA_OBJ_288();
      return;
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) =
         *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) | 4;
  }
  if ((in_t2 != 0) || ((in_t1 & 0x200) != 0)) {
    if (*(int *)(param_1 + 0x18) == 0) {
      S_SCA_OBJ_2DC();
      return;
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) =
         *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) | 1;
  }
  if ((in_t2 != 0) || ((in_t1 & 0x1000) != 0)) {
    if (*(int *)(param_1 + 0x20) == 0) {
      S_SCA_OBJ_330();
      return;
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) =
         *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) | 8;
  }
  if ((in_t2 != 0) || ((in_t1 & 0x2000) != 0)) {
    if (*(int *)(param_1 + 0x24) == 0) {
      S_SCA_OBJ_384();
      return;
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) =
         *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) | 2;
  }
  return;
}



void S_SCA_OBJ_74(int param_1)

{
  ushort uVar1;
  ushort in_t0;
  uint in_t1;
  int in_t2;
  
  uVar1 = *(ushort *)(param_1 + 4);
  if (0x7f < (short)uVar1) {
    S_SCA_OBJ_CC(param_1,0xb000,0x7f);
    return;
  }
  if ((short)uVar1 < 0) {
    uVar1 = 0;
  }
  *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x180) = uVar1 & 0x7fff | 0xb000;
  if (in_t2 == 0) {
    if ((in_t1 & 2) == 0) goto S_SCA_OBJ_1A8;
    if ((in_t1 & 8) != 0) goto S_SCA_OBJ_F8;
S_SCA_OBJ_15C:
    in_t0 = *(ushort *)(param_1 + 6);
    uVar1 = 0;
  }
  else {
S_SCA_OBJ_F8:
    switch(*(undefined2 *)(param_1 + 10)) {
    default:
      goto S_SCA_OBJ_15C;
    case 1:
      uVar1 = 0x8000;
      break;
    case 2:
      uVar1 = 0x9000;
      break;
    case 3:
      uVar1 = 0xa000;
      break;
    case 4:
      uVar1 = 0xb000;
      break;
    case 5:
      uVar1 = 0xc000;
      break;
    case 6:
      uVar1 = 0xd000;
      break;
    case 7:
      uVar1 = 0xe000;
    }
  }
  if (uVar1 != 0) {
    in_t0 = *(ushort *)(param_1 + 6);
    if (0x7f < (short)in_t0) {
      S_SCA_OBJ_194();
      return;
    }
    if ((short)in_t0 < 0) {
      in_t0 = 0;
    }
  }
  *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x182) = in_t0 & 0x7fff | uVar1;
S_SCA_OBJ_1A8:
  if ((in_t2 != 0) || ((in_t1 & 0x40) != 0)) {
    *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1b0) = *(undefined2 *)(param_1 + 0x10);
  }
  if ((in_t2 != 0) || ((in_t1 & 0x80) != 0)) {
    *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1b2) = *(undefined2 *)(param_1 + 0x12);
  }
  if ((in_t2 != 0) || ((in_t1 & 0x400) != 0)) {
    *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1b4) = *(undefined2 *)(param_1 + 0x1c);
  }
  if ((in_t2 != 0) || ((in_t1 & 0x800) != 0)) {
    *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1b6) = *(undefined2 *)(param_1 + 0x1e);
  }
  if ((in_t2 != 0) || ((in_t1 & 0x100) != 0)) {
    if (*(int *)(param_1 + 0x14) == 0) {
      S_SCA_OBJ_288();
      return;
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) =
         *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) | 4;
  }
  if ((in_t2 != 0) || ((in_t1 & 0x200) != 0)) {
    if (*(int *)(param_1 + 0x18) == 0) {
      S_SCA_OBJ_2DC();
      return;
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) =
         *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) | 1;
  }
  if ((in_t2 != 0) || ((in_t1 & 0x1000) != 0)) {
    if (*(int *)(param_1 + 0x20) == 0) {
      S_SCA_OBJ_330();
      return;
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) =
         *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) | 8;
  }
  if ((in_t2 != 0) || ((in_t1 & 0x2000) != 0)) {
    if (*(int *)(param_1 + 0x24) == 0) {
      S_SCA_OBJ_384();
      return;
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) =
         *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) | 2;
  }
  return;
}



void S_SCA_OBJ_7C(int param_1)

{
  ushort uVar1;
  ushort in_t0;
  uint in_t1;
  int in_t2;
  
  uVar1 = *(ushort *)(param_1 + 4);
  if (0x7f < (short)uVar1) {
    S_SCA_OBJ_CC(param_1,0xc000,0x7f);
    return;
  }
  if ((short)uVar1 < 0) {
    uVar1 = 0;
  }
  *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x180) = uVar1 & 0x7fff | 0xc000;
  if (in_t2 == 0) {
    if ((in_t1 & 2) == 0) goto S_SCA_OBJ_1A8;
    if ((in_t1 & 8) != 0) goto S_SCA_OBJ_F8;
S_SCA_OBJ_15C:
    in_t0 = *(ushort *)(param_1 + 6);
    uVar1 = 0;
  }
  else {
S_SCA_OBJ_F8:
    switch(*(undefined2 *)(param_1 + 10)) {
    default:
      goto S_SCA_OBJ_15C;
    case 1:
      uVar1 = 0x8000;
      break;
    case 2:
      uVar1 = 0x9000;
      break;
    case 3:
      uVar1 = 0xa000;
      break;
    case 4:
      uVar1 = 0xb000;
      break;
    case 5:
      uVar1 = 0xc000;
      break;
    case 6:
      uVar1 = 0xd000;
      break;
    case 7:
      uVar1 = 0xe000;
    }
  }
  if (uVar1 != 0) {
    in_t0 = *(ushort *)(param_1 + 6);
    if (0x7f < (short)in_t0) {
      S_SCA_OBJ_194();
      return;
    }
    if ((short)in_t0 < 0) {
      in_t0 = 0;
    }
  }
  *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x182) = in_t0 & 0x7fff | uVar1;
S_SCA_OBJ_1A8:
  if ((in_t2 != 0) || ((in_t1 & 0x40) != 0)) {
    *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1b0) = *(undefined2 *)(param_1 + 0x10);
  }
  if ((in_t2 != 0) || ((in_t1 & 0x80) != 0)) {
    *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1b2) = *(undefined2 *)(param_1 + 0x12);
  }
  if ((in_t2 != 0) || ((in_t1 & 0x400) != 0)) {
    *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1b4) = *(undefined2 *)(param_1 + 0x1c);
  }
  if ((in_t2 != 0) || ((in_t1 & 0x800) != 0)) {
    *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1b6) = *(undefined2 *)(param_1 + 0x1e);
  }
  if ((in_t2 != 0) || ((in_t1 & 0x100) != 0)) {
    if (*(int *)(param_1 + 0x14) == 0) {
      S_SCA_OBJ_288();
      return;
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) =
         *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) | 4;
  }
  if ((in_t2 != 0) || ((in_t1 & 0x200) != 0)) {
    if (*(int *)(param_1 + 0x18) == 0) {
      S_SCA_OBJ_2DC();
      return;
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) =
         *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) | 1;
  }
  if ((in_t2 != 0) || ((in_t1 & 0x1000) != 0)) {
    if (*(int *)(param_1 + 0x20) == 0) {
      S_SCA_OBJ_330();
      return;
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) =
         *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) | 8;
  }
  if ((in_t2 != 0) || ((in_t1 & 0x2000) != 0)) {
    if (*(int *)(param_1 + 0x24) == 0) {
      S_SCA_OBJ_384();
      return;
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) =
         *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) | 2;
  }
  return;
}



void S_SCA_OBJ_84(int param_1)

{
  ushort uVar1;
  ushort in_t0;
  uint in_t1;
  int in_t2;
  
  uVar1 = *(ushort *)(param_1 + 4);
  if (0x7f < (short)uVar1) {
    S_SCA_OBJ_CC(param_1,0xd000,0x7f);
    return;
  }
  if ((short)uVar1 < 0) {
    uVar1 = 0;
  }
  *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x180) = uVar1 & 0x7fff | 0xd000;
  if (in_t2 == 0) {
    if ((in_t1 & 2) == 0) goto S_SCA_OBJ_1A8;
    if ((in_t1 & 8) != 0) goto S_SCA_OBJ_F8;
S_SCA_OBJ_15C:
    in_t0 = *(ushort *)(param_1 + 6);
    uVar1 = 0;
  }
  else {
S_SCA_OBJ_F8:
    switch(*(undefined2 *)(param_1 + 10)) {
    default:
      goto S_SCA_OBJ_15C;
    case 1:
      uVar1 = 0x8000;
      break;
    case 2:
      uVar1 = 0x9000;
      break;
    case 3:
      uVar1 = 0xa000;
      break;
    case 4:
      uVar1 = 0xb000;
      break;
    case 5:
      uVar1 = 0xc000;
      break;
    case 6:
      uVar1 = 0xd000;
      break;
    case 7:
      uVar1 = 0xe000;
    }
  }
  if (uVar1 != 0) {
    in_t0 = *(ushort *)(param_1 + 6);
    if (0x7f < (short)in_t0) {
      S_SCA_OBJ_194();
      return;
    }
    if ((short)in_t0 < 0) {
      in_t0 = 0;
    }
  }
  *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x182) = in_t0 & 0x7fff | uVar1;
S_SCA_OBJ_1A8:
  if ((in_t2 != 0) || ((in_t1 & 0x40) != 0)) {
    *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1b0) = *(undefined2 *)(param_1 + 0x10);
  }
  if ((in_t2 != 0) || ((in_t1 & 0x80) != 0)) {
    *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1b2) = *(undefined2 *)(param_1 + 0x12);
  }
  if ((in_t2 != 0) || ((in_t1 & 0x400) != 0)) {
    *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1b4) = *(undefined2 *)(param_1 + 0x1c);
  }
  if ((in_t2 != 0) || ((in_t1 & 0x800) != 0)) {
    *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1b6) = *(undefined2 *)(param_1 + 0x1e);
  }
  if ((in_t2 != 0) || ((in_t1 & 0x100) != 0)) {
    if (*(int *)(param_1 + 0x14) == 0) {
      S_SCA_OBJ_288();
      return;
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) =
         *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) | 4;
  }
  if ((in_t2 != 0) || ((in_t1 & 0x200) != 0)) {
    if (*(int *)(param_1 + 0x18) == 0) {
      S_SCA_OBJ_2DC();
      return;
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) =
         *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) | 1;
  }
  if ((in_t2 != 0) || ((in_t1 & 0x1000) != 0)) {
    if (*(int *)(param_1 + 0x20) == 0) {
      S_SCA_OBJ_330();
      return;
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) =
         *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) | 8;
  }
  if ((in_t2 != 0) || ((in_t1 & 0x2000) != 0)) {
    if (*(int *)(param_1 + 0x24) == 0) {
      S_SCA_OBJ_384();
      return;
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) =
         *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) | 2;
  }
  return;
}



void S_SCA_OBJ_8C(int param_1)

{
  ushort uVar1;
  ushort in_t0;
  uint in_t1;
  int in_t2;
  
  uVar1 = *(ushort *)(param_1 + 4);
  if (0x7f < (short)uVar1) {
    S_SCA_OBJ_CC(param_1,0xe000,0x7f);
    return;
  }
  if ((short)uVar1 < 0) {
    uVar1 = 0;
  }
  *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x180) = uVar1 & 0x7fff | 0xe000;
  if (in_t2 == 0) {
    if ((in_t1 & 2) == 0) goto S_SCA_OBJ_1A8;
    if ((in_t1 & 8) != 0) goto S_SCA_OBJ_F8;
S_SCA_OBJ_15C:
    in_t0 = *(ushort *)(param_1 + 6);
    uVar1 = 0;
  }
  else {
S_SCA_OBJ_F8:
    switch(*(undefined2 *)(param_1 + 10)) {
    default:
      goto S_SCA_OBJ_15C;
    case 1:
      uVar1 = 0x8000;
      break;
    case 2:
      uVar1 = 0x9000;
      break;
    case 3:
      uVar1 = 0xa000;
      break;
    case 4:
      uVar1 = 0xb000;
      break;
    case 5:
      uVar1 = 0xc000;
      break;
    case 6:
      uVar1 = 0xd000;
      break;
    case 7:
      uVar1 = 0xe000;
    }
  }
  if (uVar1 != 0) {
    in_t0 = *(ushort *)(param_1 + 6);
    if (0x7f < (short)in_t0) {
      S_SCA_OBJ_194();
      return;
    }
    if ((short)in_t0 < 0) {
      in_t0 = 0;
    }
  }
  *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x182) = in_t0 & 0x7fff | uVar1;
S_SCA_OBJ_1A8:
  if ((in_t2 != 0) || ((in_t1 & 0x40) != 0)) {
    *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1b0) = *(undefined2 *)(param_1 + 0x10);
  }
  if ((in_t2 != 0) || ((in_t1 & 0x80) != 0)) {
    *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1b2) = *(undefined2 *)(param_1 + 0x12);
  }
  if ((in_t2 != 0) || ((in_t1 & 0x400) != 0)) {
    *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1b4) = *(undefined2 *)(param_1 + 0x1c);
  }
  if ((in_t2 != 0) || ((in_t1 & 0x800) != 0)) {
    *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1b6) = *(undefined2 *)(param_1 + 0x1e);
  }
  if ((in_t2 != 0) || ((in_t1 & 0x100) != 0)) {
    if (*(int *)(param_1 + 0x14) == 0) {
      S_SCA_OBJ_288();
      return;
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) =
         *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) | 4;
  }
  if ((in_t2 != 0) || ((in_t1 & 0x200) != 0)) {
    if (*(int *)(param_1 + 0x18) == 0) {
      S_SCA_OBJ_2DC();
      return;
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) =
         *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) | 1;
  }
  if ((in_t2 != 0) || ((in_t1 & 0x1000) != 0)) {
    if (*(int *)(param_1 + 0x20) == 0) {
      S_SCA_OBJ_330();
      return;
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) =
         *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) | 8;
  }
  if ((in_t2 != 0) || ((in_t1 & 0x2000) != 0)) {
    if (*(int *)(param_1 + 0x24) == 0) {
      S_SCA_OBJ_384();
      return;
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) =
         *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) | 2;
  }
  return;
}



// WARNING: Removing unreachable block (ram,0x8008fb60)
// WARNING: Removing unreachable block (ram,0x8008fb74)
// WARNING: Removing unreachable block (ram,0x8008fb7c)
// WARNING: Removing unreachable block (ram,0x8008fb84)
// WARNING: Removing unreachable block (ram,0x8008fb88)

void S_SCA_OBJ_94(int param_1)

{
  ushort uVar1;
  ushort in_t0;
  uint in_t1;
  int in_t2;
  
  *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x180) = *(ushort *)(param_1 + 4) & 0x7fff;
  if (in_t2 == 0) {
    if ((in_t1 & 2) == 0) goto S_SCA_OBJ_1A8;
    if ((in_t1 & 8) != 0) goto S_SCA_OBJ_F8;
S_SCA_OBJ_15C:
    in_t0 = *(ushort *)(param_1 + 6);
    uVar1 = 0;
  }
  else {
S_SCA_OBJ_F8:
    switch(*(undefined2 *)(param_1 + 10)) {
    default:
      goto S_SCA_OBJ_15C;
    case 1:
      uVar1 = 0x8000;
      break;
    case 2:
      uVar1 = 0x9000;
      break;
    case 3:
      uVar1 = 0xa000;
      break;
    case 4:
      uVar1 = 0xb000;
      break;
    case 5:
      uVar1 = 0xc000;
      break;
    case 6:
      uVar1 = 0xd000;
      break;
    case 7:
      uVar1 = 0xe000;
    }
  }
  if (uVar1 != 0) {
    in_t0 = *(ushort *)(param_1 + 6);
    if (0x7f < (short)in_t0) {
      S_SCA_OBJ_194();
      return;
    }
    if ((short)in_t0 < 0) {
      in_t0 = 0;
    }
  }
  *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x182) = in_t0 & 0x7fff | uVar1;
S_SCA_OBJ_1A8:
  if ((in_t2 != 0) || ((in_t1 & 0x40) != 0)) {
    *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1b0) = *(undefined2 *)(param_1 + 0x10);
  }
  if ((in_t2 != 0) || ((in_t1 & 0x80) != 0)) {
    *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1b2) = *(undefined2 *)(param_1 + 0x12);
  }
  if ((in_t2 != 0) || ((in_t1 & 0x400) != 0)) {
    *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1b4) = *(undefined2 *)(param_1 + 0x1c);
  }
  if ((in_t2 != 0) || ((in_t1 & 0x800) != 0)) {
    *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1b6) = *(undefined2 *)(param_1 + 0x1e);
  }
  if ((in_t2 != 0) || ((in_t1 & 0x100) != 0)) {
    if (*(int *)(param_1 + 0x14) == 0) {
      S_SCA_OBJ_288();
      return;
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) =
         *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) | 4;
  }
  if ((in_t2 != 0) || ((in_t1 & 0x200) != 0)) {
    if (*(int *)(param_1 + 0x18) == 0) {
      S_SCA_OBJ_2DC();
      return;
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) =
         *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) | 1;
  }
  if ((in_t2 != 0) || ((in_t1 & 0x1000) != 0)) {
    if (*(int *)(param_1 + 0x20) == 0) {
      S_SCA_OBJ_330();
      return;
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) =
         *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) | 8;
  }
  if ((in_t2 != 0) || ((in_t1 & 0x2000) != 0)) {
    if (*(int *)(param_1 + 0x24) == 0) {
      S_SCA_OBJ_384();
      return;
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) =
         *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) | 2;
  }
  return;
}



void S_SCA_OBJ_9C(int param_1,int param_2,ushort param_3)

{
  ushort uVar1;
  ushort in_t0;
  uint in_t1;
  int in_t2;
  
  if (param_2 != 0) {
    param_3 = *(ushort *)(param_1 + 4);
    if (0x7f < (short)param_3) {
      S_SCA_OBJ_CC(param_1,param_2,0x7f);
      return;
    }
    if ((short)param_3 < 0) {
      param_3 = 0;
    }
  }
  *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x180) = param_3 & 0x7fff | (ushort)param_2;
  if (in_t2 == 0) {
    if ((in_t1 & 2) == 0) goto S_SCA_OBJ_1A8;
    if ((in_t1 & 8) != 0) goto S_SCA_OBJ_F8;
S_SCA_OBJ_15C:
    in_t0 = *(ushort *)(param_1 + 6);
    uVar1 = 0;
  }
  else {
S_SCA_OBJ_F8:
    switch(*(undefined2 *)(param_1 + 10)) {
    default:
      goto S_SCA_OBJ_15C;
    case 1:
      uVar1 = 0x8000;
      break;
    case 2:
      uVar1 = 0x9000;
      break;
    case 3:
      uVar1 = 0xa000;
      break;
    case 4:
      uVar1 = 0xb000;
      break;
    case 5:
      uVar1 = 0xc000;
      break;
    case 6:
      uVar1 = 0xd000;
      break;
    case 7:
      uVar1 = 0xe000;
    }
  }
  if (uVar1 != 0) {
    in_t0 = *(ushort *)(param_1 + 6);
    if (0x7f < (short)in_t0) {
      S_SCA_OBJ_194();
      return;
    }
    if ((short)in_t0 < 0) {
      in_t0 = 0;
    }
  }
  *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x182) = in_t0 & 0x7fff | uVar1;
S_SCA_OBJ_1A8:
  if ((in_t2 != 0) || ((in_t1 & 0x40) != 0)) {
    *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1b0) = *(undefined2 *)(param_1 + 0x10);
  }
  if ((in_t2 != 0) || ((in_t1 & 0x80) != 0)) {
    *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1b2) = *(undefined2 *)(param_1 + 0x12);
  }
  if ((in_t2 != 0) || ((in_t1 & 0x400) != 0)) {
    *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1b4) = *(undefined2 *)(param_1 + 0x1c);
  }
  if ((in_t2 != 0) || ((in_t1 & 0x800) != 0)) {
    *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1b6) = *(undefined2 *)(param_1 + 0x1e);
  }
  if ((in_t2 != 0) || ((in_t1 & 0x100) != 0)) {
    if (*(int *)(param_1 + 0x14) == 0) {
      S_SCA_OBJ_288();
      return;
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) =
         *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) | 4;
  }
  if ((in_t2 != 0) || ((in_t1 & 0x200) != 0)) {
    if (*(int *)(param_1 + 0x18) == 0) {
      S_SCA_OBJ_2DC();
      return;
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) =
         *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) | 1;
  }
  if ((in_t2 != 0) || ((in_t1 & 0x1000) != 0)) {
    if (*(int *)(param_1 + 0x20) == 0) {
      S_SCA_OBJ_330();
      return;
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) =
         *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) | 8;
  }
  if ((in_t2 != 0) || ((in_t1 & 0x2000) != 0)) {
    if (*(int *)(param_1 + 0x24) == 0) {
      S_SCA_OBJ_384();
      return;
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) =
         *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) | 2;
  }
  return;
}



void S_SCA_OBJ_CC(int param_1,ushort param_2,ushort param_3)

{
  ushort uVar1;
  ushort in_t0;
  uint in_t1;
  int in_t2;
  
  *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x180) = param_3 & 0x7fff | param_2;
  if (in_t2 == 0) {
    if ((in_t1 & 2) == 0) goto S_SCA_OBJ_1A8;
    if ((in_t1 & 8) != 0) goto S_SCA_OBJ_F8;
S_SCA_OBJ_15C:
    in_t0 = *(ushort *)(param_1 + 6);
    uVar1 = 0;
  }
  else {
S_SCA_OBJ_F8:
    switch(*(undefined2 *)(param_1 + 10)) {
    default:
      goto S_SCA_OBJ_15C;
    case 1:
      uVar1 = 0x8000;
      break;
    case 2:
      uVar1 = 0x9000;
      break;
    case 3:
      uVar1 = 0xa000;
      break;
    case 4:
      uVar1 = 0xb000;
      break;
    case 5:
      uVar1 = 0xc000;
      break;
    case 6:
      uVar1 = 0xd000;
      break;
    case 7:
      uVar1 = 0xe000;
    }
  }
  if (uVar1 != 0) {
    in_t0 = *(ushort *)(param_1 + 6);
    if (0x7f < (short)in_t0) {
      S_SCA_OBJ_194();
      return;
    }
    if ((short)in_t0 < 0) {
      in_t0 = 0;
    }
  }
  *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x182) = in_t0 & 0x7fff | uVar1;
S_SCA_OBJ_1A8:
  if ((in_t2 != 0) || ((in_t1 & 0x40) != 0)) {
    *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1b0) = *(undefined2 *)(param_1 + 0x10);
  }
  if ((in_t2 != 0) || ((in_t1 & 0x80) != 0)) {
    *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1b2) = *(undefined2 *)(param_1 + 0x12);
  }
  if ((in_t2 != 0) || ((in_t1 & 0x400) != 0)) {
    *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1b4) = *(undefined2 *)(param_1 + 0x1c);
  }
  if ((in_t2 != 0) || ((in_t1 & 0x800) != 0)) {
    *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1b6) = *(undefined2 *)(param_1 + 0x1e);
  }
  if ((in_t2 != 0) || ((in_t1 & 0x100) != 0)) {
    if (*(int *)(param_1 + 0x14) == 0) {
      S_SCA_OBJ_288();
      return;
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) =
         *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) | 4;
  }
  if ((in_t2 != 0) || ((in_t1 & 0x200) != 0)) {
    if (*(int *)(param_1 + 0x18) == 0) {
      S_SCA_OBJ_2DC();
      return;
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) =
         *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) | 1;
  }
  if ((in_t2 != 0) || ((in_t1 & 0x1000) != 0)) {
    if (*(int *)(param_1 + 0x20) == 0) {
      S_SCA_OBJ_330();
      return;
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) =
         *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) | 8;
  }
  if ((in_t2 != 0) || ((in_t1 & 0x2000) != 0)) {
    if (*(int *)(param_1 + 0x24) == 0) {
      S_SCA_OBJ_384();
      return;
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) =
         *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) | 2;
  }
  return;
}



void S_SCA_OBJ_124(int param_1)

{
  ushort uVar1;
  uint in_t1;
  int in_t2;
  
  uVar1 = *(ushort *)(param_1 + 6);
  if (0x7f < (short)uVar1) {
    S_SCA_OBJ_194();
    return;
  }
  if ((short)uVar1 < 0) {
    uVar1 = 0;
  }
  *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x182) = uVar1 & 0x7fff | 0x8000;
  if ((in_t2 != 0) || ((in_t1 & 0x40) != 0)) {
    *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1b0) = *(undefined2 *)(param_1 + 0x10);
  }
  if ((in_t2 != 0) || ((in_t1 & 0x80) != 0)) {
    *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1b2) = *(undefined2 *)(param_1 + 0x12);
  }
  if ((in_t2 != 0) || ((in_t1 & 0x400) != 0)) {
    *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1b4) = *(undefined2 *)(param_1 + 0x1c);
  }
  if ((in_t2 != 0) || ((in_t1 & 0x800) != 0)) {
    *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1b6) = *(undefined2 *)(param_1 + 0x1e);
  }
  if ((in_t2 != 0) || ((in_t1 & 0x100) != 0)) {
    if (*(int *)(param_1 + 0x14) == 0) {
      S_SCA_OBJ_288();
      return;
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) =
         *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) | 4;
  }
  if ((in_t2 != 0) || ((in_t1 & 0x200) != 0)) {
    if (*(int *)(param_1 + 0x18) == 0) {
      S_SCA_OBJ_2DC();
      return;
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) =
         *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) | 1;
  }
  if ((in_t2 != 0) || ((in_t1 & 0x1000) != 0)) {
    if (*(int *)(param_1 + 0x20) == 0) {
      S_SCA_OBJ_330();
      return;
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) =
         *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) | 8;
  }
  if ((in_t2 != 0) || ((in_t1 & 0x2000) != 0)) {
    if (*(int *)(param_1 + 0x24) == 0) {
      S_SCA_OBJ_384();
      return;
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) =
         *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) | 2;
  }
  return;
}



void S_SCA_OBJ_12C(int param_1)

{
  ushort uVar1;
  uint in_t1;
  int in_t2;
  
  uVar1 = *(ushort *)(param_1 + 6);
  if (0x7f < (short)uVar1) {
    S_SCA_OBJ_194();
    return;
  }
  if ((short)uVar1 < 0) {
    uVar1 = 0;
  }
  *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x182) = uVar1 & 0x7fff | 0x9000;
  if ((in_t2 != 0) || ((in_t1 & 0x40) != 0)) {
    *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1b0) = *(undefined2 *)(param_1 + 0x10);
  }
  if ((in_t2 != 0) || ((in_t1 & 0x80) != 0)) {
    *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1b2) = *(undefined2 *)(param_1 + 0x12);
  }
  if ((in_t2 != 0) || ((in_t1 & 0x400) != 0)) {
    *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1b4) = *(undefined2 *)(param_1 + 0x1c);
  }
  if ((in_t2 != 0) || ((in_t1 & 0x800) != 0)) {
    *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1b6) = *(undefined2 *)(param_1 + 0x1e);
  }
  if ((in_t2 != 0) || ((in_t1 & 0x100) != 0)) {
    if (*(int *)(param_1 + 0x14) == 0) {
      S_SCA_OBJ_288();
      return;
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) =
         *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) | 4;
  }
  if ((in_t2 != 0) || ((in_t1 & 0x200) != 0)) {
    if (*(int *)(param_1 + 0x18) == 0) {
      S_SCA_OBJ_2DC();
      return;
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) =
         *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) | 1;
  }
  if ((in_t2 != 0) || ((in_t1 & 0x1000) != 0)) {
    if (*(int *)(param_1 + 0x20) == 0) {
      S_SCA_OBJ_330();
      return;
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) =
         *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) | 8;
  }
  if ((in_t2 != 0) || ((in_t1 & 0x2000) != 0)) {
    if (*(int *)(param_1 + 0x24) == 0) {
      S_SCA_OBJ_384();
      return;
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) =
         *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) | 2;
  }
  return;
}



void S_SCA_OBJ_134(int param_1)

{
  ushort uVar1;
  uint in_t1;
  int in_t2;
  
  uVar1 = *(ushort *)(param_1 + 6);
  if (0x7f < (short)uVar1) {
    S_SCA_OBJ_194();
    return;
  }
  if ((short)uVar1 < 0) {
    uVar1 = 0;
  }
  *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x182) = uVar1 & 0x7fff | 0xa000;
  if ((in_t2 != 0) || ((in_t1 & 0x40) != 0)) {
    *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1b0) = *(undefined2 *)(param_1 + 0x10);
  }
  if ((in_t2 != 0) || ((in_t1 & 0x80) != 0)) {
    *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1b2) = *(undefined2 *)(param_1 + 0x12);
  }
  if ((in_t2 != 0) || ((in_t1 & 0x400) != 0)) {
    *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1b4) = *(undefined2 *)(param_1 + 0x1c);
  }
  if ((in_t2 != 0) || ((in_t1 & 0x800) != 0)) {
    *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1b6) = *(undefined2 *)(param_1 + 0x1e);
  }
  if ((in_t2 != 0) || ((in_t1 & 0x100) != 0)) {
    if (*(int *)(param_1 + 0x14) == 0) {
      S_SCA_OBJ_288();
      return;
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) =
         *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) | 4;
  }
  if ((in_t2 != 0) || ((in_t1 & 0x200) != 0)) {
    if (*(int *)(param_1 + 0x18) == 0) {
      S_SCA_OBJ_2DC();
      return;
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) =
         *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) | 1;
  }
  if ((in_t2 != 0) || ((in_t1 & 0x1000) != 0)) {
    if (*(int *)(param_1 + 0x20) == 0) {
      S_SCA_OBJ_330();
      return;
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) =
         *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) | 8;
  }
  if ((in_t2 != 0) || ((in_t1 & 0x2000) != 0)) {
    if (*(int *)(param_1 + 0x24) == 0) {
      S_SCA_OBJ_384();
      return;
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) =
         *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) | 2;
  }
  return;
}



void S_SCA_OBJ_13C(int param_1)

{
  ushort uVar1;
  uint in_t1;
  int in_t2;
  
  uVar1 = *(ushort *)(param_1 + 6);
  if (0x7f < (short)uVar1) {
    S_SCA_OBJ_194();
    return;
  }
  if ((short)uVar1 < 0) {
    uVar1 = 0;
  }
  *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x182) = uVar1 & 0x7fff | 0xb000;
  if ((in_t2 != 0) || ((in_t1 & 0x40) != 0)) {
    *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1b0) = *(undefined2 *)(param_1 + 0x10);
  }
  if ((in_t2 != 0) || ((in_t1 & 0x80) != 0)) {
    *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1b2) = *(undefined2 *)(param_1 + 0x12);
  }
  if ((in_t2 != 0) || ((in_t1 & 0x400) != 0)) {
    *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1b4) = *(undefined2 *)(param_1 + 0x1c);
  }
  if ((in_t2 != 0) || ((in_t1 & 0x800) != 0)) {
    *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1b6) = *(undefined2 *)(param_1 + 0x1e);
  }
  if ((in_t2 != 0) || ((in_t1 & 0x100) != 0)) {
    if (*(int *)(param_1 + 0x14) == 0) {
      S_SCA_OBJ_288();
      return;
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) =
         *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) | 4;
  }
  if ((in_t2 != 0) || ((in_t1 & 0x200) != 0)) {
    if (*(int *)(param_1 + 0x18) == 0) {
      S_SCA_OBJ_2DC();
      return;
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) =
         *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) | 1;
  }
  if ((in_t2 != 0) || ((in_t1 & 0x1000) != 0)) {
    if (*(int *)(param_1 + 0x20) == 0) {
      S_SCA_OBJ_330();
      return;
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) =
         *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) | 8;
  }
  if ((in_t2 != 0) || ((in_t1 & 0x2000) != 0)) {
    if (*(int *)(param_1 + 0x24) == 0) {
      S_SCA_OBJ_384();
      return;
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) =
         *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) | 2;
  }
  return;
}



void S_SCA_OBJ_144(int param_1)

{
  ushort uVar1;
  uint in_t1;
  int in_t2;
  
  uVar1 = *(ushort *)(param_1 + 6);
  if (0x7f < (short)uVar1) {
    S_SCA_OBJ_194();
    return;
  }
  if ((short)uVar1 < 0) {
    uVar1 = 0;
  }
  *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x182) = uVar1 & 0x7fff | 0xc000;
  if ((in_t2 != 0) || ((in_t1 & 0x40) != 0)) {
    *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1b0) = *(undefined2 *)(param_1 + 0x10);
  }
  if ((in_t2 != 0) || ((in_t1 & 0x80) != 0)) {
    *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1b2) = *(undefined2 *)(param_1 + 0x12);
  }
  if ((in_t2 != 0) || ((in_t1 & 0x400) != 0)) {
    *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1b4) = *(undefined2 *)(param_1 + 0x1c);
  }
  if ((in_t2 != 0) || ((in_t1 & 0x800) != 0)) {
    *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1b6) = *(undefined2 *)(param_1 + 0x1e);
  }
  if ((in_t2 != 0) || ((in_t1 & 0x100) != 0)) {
    if (*(int *)(param_1 + 0x14) == 0) {
      S_SCA_OBJ_288();
      return;
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) =
         *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) | 4;
  }
  if ((in_t2 != 0) || ((in_t1 & 0x200) != 0)) {
    if (*(int *)(param_1 + 0x18) == 0) {
      S_SCA_OBJ_2DC();
      return;
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) =
         *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) | 1;
  }
  if ((in_t2 != 0) || ((in_t1 & 0x1000) != 0)) {
    if (*(int *)(param_1 + 0x20) == 0) {
      S_SCA_OBJ_330();
      return;
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) =
         *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) | 8;
  }
  if ((in_t2 != 0) || ((in_t1 & 0x2000) != 0)) {
    if (*(int *)(param_1 + 0x24) == 0) {
      S_SCA_OBJ_384();
      return;
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) =
         *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) | 2;
  }
  return;
}



void S_SCA_OBJ_14C(int param_1)

{
  ushort uVar1;
  uint in_t1;
  int in_t2;
  
  uVar1 = *(ushort *)(param_1 + 6);
  if (0x7f < (short)uVar1) {
    S_SCA_OBJ_194();
    return;
  }
  if ((short)uVar1 < 0) {
    uVar1 = 0;
  }
  *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x182) = uVar1 & 0x7fff | 0xd000;
  if ((in_t2 != 0) || ((in_t1 & 0x40) != 0)) {
    *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1b0) = *(undefined2 *)(param_1 + 0x10);
  }
  if ((in_t2 != 0) || ((in_t1 & 0x80) != 0)) {
    *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1b2) = *(undefined2 *)(param_1 + 0x12);
  }
  if ((in_t2 != 0) || ((in_t1 & 0x400) != 0)) {
    *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1b4) = *(undefined2 *)(param_1 + 0x1c);
  }
  if ((in_t2 != 0) || ((in_t1 & 0x800) != 0)) {
    *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1b6) = *(undefined2 *)(param_1 + 0x1e);
  }
  if ((in_t2 != 0) || ((in_t1 & 0x100) != 0)) {
    if (*(int *)(param_1 + 0x14) == 0) {
      S_SCA_OBJ_288();
      return;
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) =
         *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) | 4;
  }
  if ((in_t2 != 0) || ((in_t1 & 0x200) != 0)) {
    if (*(int *)(param_1 + 0x18) == 0) {
      S_SCA_OBJ_2DC();
      return;
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) =
         *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) | 1;
  }
  if ((in_t2 != 0) || ((in_t1 & 0x1000) != 0)) {
    if (*(int *)(param_1 + 0x20) == 0) {
      S_SCA_OBJ_330();
      return;
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) =
         *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) | 8;
  }
  if ((in_t2 != 0) || ((in_t1 & 0x2000) != 0)) {
    if (*(int *)(param_1 + 0x24) == 0) {
      S_SCA_OBJ_384();
      return;
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) =
         *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) | 2;
  }
  return;
}



void S_SCA_OBJ_154(int param_1)

{
  ushort uVar1;
  uint in_t1;
  int in_t2;
  
  uVar1 = *(ushort *)(param_1 + 6);
  if (0x7f < (short)uVar1) {
    S_SCA_OBJ_194();
    return;
  }
  if ((short)uVar1 < 0) {
    uVar1 = 0;
  }
  *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x182) = uVar1 & 0x7fff | 0xe000;
  if ((in_t2 != 0) || ((in_t1 & 0x40) != 0)) {
    *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1b0) = *(undefined2 *)(param_1 + 0x10);
  }
  if ((in_t2 != 0) || ((in_t1 & 0x80) != 0)) {
    *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1b2) = *(undefined2 *)(param_1 + 0x12);
  }
  if ((in_t2 != 0) || ((in_t1 & 0x400) != 0)) {
    *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1b4) = *(undefined2 *)(param_1 + 0x1c);
  }
  if ((in_t2 != 0) || ((in_t1 & 0x800) != 0)) {
    *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1b6) = *(undefined2 *)(param_1 + 0x1e);
  }
  if ((in_t2 != 0) || ((in_t1 & 0x100) != 0)) {
    if (*(int *)(param_1 + 0x14) == 0) {
      S_SCA_OBJ_288();
      return;
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) =
         *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) | 4;
  }
  if ((in_t2 != 0) || ((in_t1 & 0x200) != 0)) {
    if (*(int *)(param_1 + 0x18) == 0) {
      S_SCA_OBJ_2DC();
      return;
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) =
         *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) | 1;
  }
  if ((in_t2 != 0) || ((in_t1 & 0x1000) != 0)) {
    if (*(int *)(param_1 + 0x20) == 0) {
      S_SCA_OBJ_330();
      return;
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) =
         *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) | 8;
  }
  if ((in_t2 != 0) || ((in_t1 & 0x2000) != 0)) {
    if (*(int *)(param_1 + 0x24) == 0) {
      S_SCA_OBJ_384();
      return;
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) =
         *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) | 2;
  }
  return;
}



// WARNING: Removing unreachable block (ram,0x8008fc28)
// WARNING: Removing unreachable block (ram,0x8008fc3c)
// WARNING: Removing unreachable block (ram,0x8008fc44)
// WARNING: Removing unreachable block (ram,0x8008fc4c)
// WARNING: Removing unreachable block (ram,0x8008fc50)

void S_SCA_OBJ_15C(int param_1)

{
  uint in_t1;
  int in_t2;
  
  *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x182) = *(ushort *)(param_1 + 6) & 0x7fff;
  if ((in_t2 != 0) || ((in_t1 & 0x40) != 0)) {
    *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1b0) = *(undefined2 *)(param_1 + 0x10);
  }
  if ((in_t2 != 0) || ((in_t1 & 0x80) != 0)) {
    *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1b2) = *(undefined2 *)(param_1 + 0x12);
  }
  if ((in_t2 != 0) || ((in_t1 & 0x400) != 0)) {
    *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1b4) = *(undefined2 *)(param_1 + 0x1c);
  }
  if ((in_t2 != 0) || ((in_t1 & 0x800) != 0)) {
    *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1b6) = *(undefined2 *)(param_1 + 0x1e);
  }
  if ((in_t2 != 0) || ((in_t1 & 0x100) != 0)) {
    if (*(int *)(param_1 + 0x14) == 0) {
      S_SCA_OBJ_288();
      return;
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) =
         *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) | 4;
  }
  if ((in_t2 != 0) || ((in_t1 & 0x200) != 0)) {
    if (*(int *)(param_1 + 0x18) == 0) {
      S_SCA_OBJ_2DC();
      return;
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) =
         *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) | 1;
  }
  if ((in_t2 != 0) || ((in_t1 & 0x1000) != 0)) {
    if (*(int *)(param_1 + 0x20) == 0) {
      S_SCA_OBJ_330();
      return;
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) =
         *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) | 8;
  }
  if ((in_t2 != 0) || ((in_t1 & 0x2000) != 0)) {
    if (*(int *)(param_1 + 0x24) == 0) {
      S_SCA_OBJ_384();
      return;
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) =
         *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) | 2;
  }
  return;
}



void S_SCA_OBJ_164(int param_1,int param_2)

{
  ushort uVar1;
  ushort in_t0;
  uint in_t1;
  int in_t2;
  
  uVar1 = in_t0 & 0x7fff;
  if (param_2 != 0) {
    uVar1 = *(ushort *)(param_1 + 6);
    if (0x7f < (short)uVar1) {
      S_SCA_OBJ_194();
      return;
    }
    if ((short)uVar1 < 0) {
      uVar1 = 0;
    }
    uVar1 = uVar1 & 0x7fff;
  }
  *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x182) = uVar1 | (ushort)param_2;
  if ((in_t2 != 0) || ((in_t1 & 0x40) != 0)) {
    *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1b0) = *(undefined2 *)(param_1 + 0x10);
  }
  if ((in_t2 != 0) || ((in_t1 & 0x80) != 0)) {
    *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1b2) = *(undefined2 *)(param_1 + 0x12);
  }
  if ((in_t2 != 0) || ((in_t1 & 0x400) != 0)) {
    *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1b4) = *(undefined2 *)(param_1 + 0x1c);
  }
  if ((in_t2 != 0) || ((in_t1 & 0x800) != 0)) {
    *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1b6) = *(undefined2 *)(param_1 + 0x1e);
  }
  if ((in_t2 != 0) || ((in_t1 & 0x100) != 0)) {
    if (*(int *)(param_1 + 0x14) == 0) {
      S_SCA_OBJ_288();
      return;
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) =
         *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) | 4;
  }
  if ((in_t2 != 0) || ((in_t1 & 0x200) != 0)) {
    if (*(int *)(param_1 + 0x18) == 0) {
      S_SCA_OBJ_2DC();
      return;
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) =
         *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) | 1;
  }
  if ((in_t2 != 0) || ((in_t1 & 0x1000) != 0)) {
    if (*(int *)(param_1 + 0x20) == 0) {
      S_SCA_OBJ_330();
      return;
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) =
         *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) | 8;
  }
  if ((in_t2 != 0) || ((in_t1 & 0x2000) != 0)) {
    if (*(int *)(param_1 + 0x24) == 0) {
      S_SCA_OBJ_384();
      return;
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) =
         *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) | 2;
  }
  return;
}



void S_SCA_OBJ_194(int param_1,ushort param_2)

{
  ushort in_t0;
  uint in_t1;
  int in_t2;
  
  *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x182) = in_t0 & 0x7fff | param_2;
  if ((in_t2 != 0) || ((in_t1 & 0x40) != 0)) {
    *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1b0) = *(undefined2 *)(param_1 + 0x10);
  }
  if ((in_t2 != 0) || ((in_t1 & 0x80) != 0)) {
    *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1b2) = *(undefined2 *)(param_1 + 0x12);
  }
  if ((in_t2 != 0) || ((in_t1 & 0x400) != 0)) {
    *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1b4) = *(undefined2 *)(param_1 + 0x1c);
  }
  if ((in_t2 != 0) || ((in_t1 & 0x800) != 0)) {
    *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1b6) = *(undefined2 *)(param_1 + 0x1e);
  }
  if ((in_t2 != 0) || ((in_t1 & 0x100) != 0)) {
    if (*(int *)(param_1 + 0x14) == 0) {
      S_SCA_OBJ_288();
      return;
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) =
         *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) | 4;
  }
  if ((in_t2 != 0) || ((in_t1 & 0x200) != 0)) {
    if (*(int *)(param_1 + 0x18) == 0) {
      S_SCA_OBJ_2DC();
      return;
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) =
         *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) | 1;
  }
  if ((in_t2 != 0) || ((in_t1 & 0x1000) != 0)) {
    if (*(int *)(param_1 + 0x20) == 0) {
      S_SCA_OBJ_330();
      return;
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) =
         *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) | 8;
  }
  if ((in_t2 != 0) || ((in_t1 & 0x2000) != 0)) {
    if (*(int *)(param_1 + 0x24) == 0) {
      S_SCA_OBJ_384();
      return;
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) =
         *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) | 2;
  }
  return;
}



void S_SCA_OBJ_288(int param_1)

{
  int in_v0;
  undefined2 in_v1;
  uint in_t1;
  int in_t2;
  
  *(undefined2 *)(in_v0 + 0x1aa) = in_v1;
  if ((in_t2 != 0) || ((in_t1 & 0x200) != 0)) {
    if (*(int *)(param_1 + 0x18) == 0) {
      S_SCA_OBJ_2DC();
      return;
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) =
         *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) | 1;
  }
  if ((in_t2 != 0) || ((in_t1 & 0x1000) != 0)) {
    if (*(int *)(param_1 + 0x20) == 0) {
      S_SCA_OBJ_330();
      return;
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) =
         *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) | 8;
  }
  if ((in_t2 != 0) || ((in_t1 & 0x2000) != 0)) {
    if (*(int *)(param_1 + 0x24) == 0) {
      S_SCA_OBJ_384();
      return;
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) =
         *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) | 2;
  }
  return;
}



void S_SCA_OBJ_2DC(int param_1)

{
  int in_v0;
  undefined2 in_v1;
  uint in_t1;
  int in_t2;
  
  *(undefined2 *)(in_v0 + 0x1aa) = in_v1;
  if ((in_t2 != 0) || ((in_t1 & 0x1000) != 0)) {
    if (*(int *)(param_1 + 0x20) == 0) {
      S_SCA_OBJ_330();
      return;
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) =
         *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) | 8;
  }
  if ((in_t2 != 0) || ((in_t1 & 0x2000) != 0)) {
    if (*(int *)(param_1 + 0x24) == 0) {
      S_SCA_OBJ_384();
      return;
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) =
         *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) | 2;
  }
  return;
}



void S_SCA_OBJ_330(int param_1)

{
  int in_v0;
  undefined2 in_v1;
  uint in_t1;
  int in_t2;
  
  *(undefined2 *)(in_v0 + 0x1aa) = in_v1;
  if ((in_t2 != 0) || ((in_t1 & 0x2000) != 0)) {
    if (*(int *)(param_1 + 0x24) == 0) {
      S_SCA_OBJ_384();
      return;
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) =
         *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1aa) | 2;
  }
  return;
}



void S_SCA_OBJ_384(void)

{
  int in_v0;
  undefined2 in_v1;
  
  *(undefined2 *)(in_v0 + 0x1aa) = in_v1;
  return;
}



long _SpuRSetVoiceAttr(long min_,long max_,SpuVoiceAttr *arg)

{
  bool bVar1;
  bool bVar2;
  undefined2 uVar3;
  long lVar4;
  uint uVar5;
  uint uVar6;
  int iVar7;
  ushort uVar8;
  int in_a3;
  uint uVar9;
  uint uVar10;
  uint uVar11;
  
  uVar11 = 0;
  uVar10 = 0;
  uVar9 = *(uint *)(min_ + 4);
  bVar1 = (SpuVoiceAttr *)max_ == arg;
  bVar2 = uVar9 == 0;
  if (max_ < 0) {
    max_ = 0;
  }
  if (max_ < 0x18) {
    if (0x17 < (int)arg) {
      arg = (SpuVoiceAttr *)0x17;
    }
    if ((-1 < (int)arg) && (max_ <= (int)arg)) {
      do {
        if ((int)((int)&arg->voice + 1) <= max_) {
          if (in_a3 == 0) {
            _spu_Fw1ts();
          }
          return 0;
        }
        if ((bVar1) || ((*(uint *)min_ & 1 << (max_ & 0x1fU)) != 0)) {
          if ((bVar2) || ((uVar9 & 0x10) != 0)) {
            *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + max_ * 0x10 + 4) =
                 *(undefined2 *)(min_ + 0x14);
          }
          if ((bVar2) || ((uVar9 & 0x40) != 0)) {
            (&DAT_800a5218)[max_] = *(undefined2 *)(min_ + 0x18);
          }
          if ((bVar2) || ((uVar9 & 0x20) != 0)) {
            uVar3 = _spu_note2pitch((ushort)(&DAT_800a5218)[max_] >> 8,(&DAT_800a5218)[max_] & 0xff,
                                    *(ushort *)(min_ + 0x16) >> 8,*(ushort *)(min_ + 0x16) & 0xff);
            *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + max_ * 0x10 + 4) = uVar3;
          }
          if ((bVar2) || ((uVar9 & 0x20000) != 0)) {
            *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + max_ * 0x10 + 8) =
                 *(undefined2 *)(min_ + 0x3a);
          }
          if ((bVar2) || ((uVar9 & 0x40000) != 0)) {
            *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + max_ * 0x10 + 10) =
                 *(undefined2 *)(min_ + 0x3c);
          }
          if (bVar2) {
SR_SV_OBJ_1C0:
            switch(*(undefined2 *)(min_ + 0xc)) {
            default:
SR_SV_OBJ_224:
              uVar11 = (uint)*(ushort *)(min_ + 8);
              uVar8 = 0;
              break;
            case 1:
              uVar8 = 0x8000;
              break;
            case 2:
              uVar8 = 0x9000;
              break;
            case 3:
              uVar8 = 0xa000;
              break;
            case 4:
              uVar8 = 0xb000;
              break;
            case 5:
              uVar8 = 0xc000;
              break;
            case 6:
              uVar8 = 0xd000;
              break;
            case 7:
              uVar8 = 0xe000;
            }
            if (uVar8 != 0) {
              uVar11 = (uint)*(short *)(min_ + 8);
              if (0x7f < (int)uVar11) {
                lVar4 = SR_SV_OBJ_25C();
                return lVar4;
              }
              if ((int)uVar11 < 0) {
                uVar11 = 0;
              }
            }
            *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + max_ * 0x10) =
                 (ushort)uVar11 & 0x7fff | uVar8;
          }
          else if ((uVar9 & 1) != 0) {
            if ((uVar9 & 4) != 0) goto SR_SV_OBJ_1C0;
            goto SR_SV_OBJ_224;
          }
          if (bVar2) {
SR_SV_OBJ_290:
            switch(*(undefined2 *)(min_ + 0xe)) {
            default:
SR_SV_OBJ_2F4:
              uVar10 = (uint)*(ushort *)(min_ + 10);
              uVar8 = 0;
              break;
            case 1:
              uVar8 = 0x8000;
              break;
            case 2:
              uVar8 = 0x9000;
              break;
            case 3:
              uVar8 = 0xa000;
              break;
            case 4:
              uVar8 = 0xb000;
              break;
            case 5:
              uVar8 = 0xc000;
              break;
            case 6:
              uVar8 = 0xd000;
              break;
            case 7:
              uVar8 = 0xe000;
            }
            if (uVar8 != 0) {
              uVar10 = (uint)*(short *)(min_ + 10);
              if (0x7f < (int)uVar10) {
                lVar4 = SR_SV_OBJ_32C();
                return lVar4;
              }
              if ((int)uVar10 < 0) {
                uVar10 = 0;
              }
            }
            *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + max_ * 0x10 + 2) =
                 (ushort)uVar10 & 0x7fff | uVar8;
          }
          else if ((uVar9 & 2) != 0) {
            if ((uVar9 & 8) != 0) goto SR_SV_OBJ_290;
            goto SR_SV_OBJ_2F4;
          }
          if ((bVar2) || ((uVar9 & 0x10000) != 0)) {
            _spu_FsetRXXa(max_ << 3 | 7,*(undefined4 *)(min_ + 0x20));
          }
          if ((bVar2) || ((uVar9 & 0x80) != 0)) {
            _spu_FsetRXXa(max_ << 3 | 3,*(undefined4 *)(min_ + 0x1c));
          }
          if (bVar2) {
SR_SV_OBJ_39C:
            if ((*(int *)(min_ + 0x24) != 1) && (*(int *)(min_ + 0x24) == 5)) {
              lVar4 = SR_SV_OBJ_3C0();
              return lVar4;
            }
code_r0x80090210:
            uVar5 = (uint)*(ushort *)(min_ + 0x30);
            if (0x7f < uVar5) {
              uVar5 = 0x7f;
            }
            *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + max_ * 0x10 + 8) =
                 *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + max_ * 0x10 + 8) & 0xff |
                 (ushort)(uVar5 << 8);
          }
          else if ((uVar9 & 0x800) != 0) {
            if ((uVar9 & 0x100) != 0) goto SR_SV_OBJ_39C;
            goto code_r0x80090210;
          }
          if ((bVar2) || ((uVar9 & 0x1000) != 0)) {
            uVar5 = (uint)*(ushort *)(min_ + 0x32);
            if (0xf < uVar5) {
              uVar5 = 0xf;
            }
            *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + max_ * 0x10 + 8) =
                 *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + max_ * 0x10 + 8) & 0xff0f |
                 (ushort)(uVar5 << 4);
          }
          if ((bVar2) || ((uVar9 & 0x8000) != 0)) {
            uVar8 = *(ushort *)(min_ + 0x38);
            if (0xf < uVar8) {
              uVar8 = 0xf;
            }
            *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + max_ * 0x10 + 8) =
                 uVar8 | *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + max_ * 0x10 + 8) & 0xfff0;
          }
          if (bVar2) {
SR_SV_OBJ_4C4:
            iVar7 = *(int *)(min_ + 0x28);
            if (iVar7 == 3) {
              uVar5 = 0x100;
            }
            else if (iVar7 < 4) {
              uVar5 = 0;
              if (iVar7 != 1) {
                lVar4 = SR_SV_OBJ_514();
                return lVar4;
              }
            }
            else {
              if (iVar7 == 5) {
                lVar4 = SR_SV_OBJ_514();
                return lVar4;
              }
              uVar5 = 0x300;
              if (iVar7 != 7) {
                lVar4 = SR_SV_OBJ_514();
                return lVar4;
              }
            }
code_r0x80090364:
            uVar6 = (uint)*(ushort *)(min_ + 0x34);
            if (0x7f < uVar6) {
              uVar6 = 0x7f;
            }
            *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + max_ * 0x10 + 10) =
                 *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + max_ * 0x10 + 10) & 0x3f |
                 (ushort)((uVar6 | uVar5) << 6);
          }
          else if ((uVar9 & 0x2000) != 0) {
            uVar5 = 0;
            if ((uVar9 & 0x200) != 0) goto SR_SV_OBJ_4C4;
            goto code_r0x80090364;
          }
          if (bVar2) {
SR_SV_OBJ_574:
            if ((*(int *)(min_ + 0x2c) != 3) && (*(int *)(min_ + 0x2c) == 7)) {
              lVar4 = SR_SV_OBJ_598();
              return lVar4;
            }
          }
          else {
            if ((uVar9 & 0x4000) == 0) goto SR_SV_OBJ_5DC;
            if ((uVar9 & 0x400) != 0) goto SR_SV_OBJ_574;
          }
          uVar8 = *(ushort *)(min_ + 0x36);
          if (0x1f < uVar8) {
            uVar8 = 0x1f;
          }
          *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + max_ * 0x10 + 10) =
               *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + max_ * 0x10 + 10) & 0xffc0 | uVar8;
        }
SR_SV_OBJ_5DC:
        max_ = max_ + 1;
      } while( true );
    }
  }
  lVar4 = SR_SV_OBJ_608();
  return lVar4;
}



undefined4 SR_SV_OBJ_1EC(void)

{
  undefined2 uVar1;
  undefined4 uVar2;
  uint uVar3;
  uint uVar4;
  ushort uVar5;
  uint *unaff_s0;
  uint unaff_s1;
  int unaff_s2;
  uint unaff_s3;
  uint unaff_s4;
  uint unaff_s5;
  uint unaff_s6;
  int unaff_s7;
  int unaff_s8;
  int in_stack_00000010;
  
code_r0x8009003c:
  uVar5 = 0x8000;
SR_SV_OBJ_22C:
  do {
    if (uVar5 != 0) {
      unaff_s6 = (uint)*(short *)(unaff_s0 + 2);
      if (0x7f < (int)unaff_s6) {
        uVar2 = SR_SV_OBJ_25C();
        return uVar2;
      }
      if ((int)unaff_s6 < 0) {
        unaff_s6 = 0;
      }
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2) = (ushort)unaff_s6 & 0x7fff | uVar5
    ;
    do {
      if (unaff_s2 == 0) {
        if ((unaff_s1 & 2) != 0) {
          if ((unaff_s1 & 8) != 0) goto SR_SV_OBJ_290;
          goto SR_SV_OBJ_2F4;
        }
      }
      else {
SR_SV_OBJ_290:
        switch(*(undefined2 *)((int)unaff_s0 + 0xe)) {
        default:
SR_SV_OBJ_2F4:
          unaff_s5 = (uint)*(ushort *)((int)unaff_s0 + 10);
          uVar5 = 0;
          break;
        case 1:
          uVar5 = 0x8000;
          break;
        case 2:
          uVar5 = 0x9000;
          break;
        case 3:
          uVar5 = 0xa000;
          break;
        case 4:
          uVar5 = 0xb000;
          break;
        case 5:
          uVar5 = 0xc000;
          break;
        case 6:
          uVar5 = 0xd000;
          break;
        case 7:
          uVar5 = 0xe000;
        }
        if (uVar5 != 0) {
          unaff_s5 = (uint)*(short *)((int)unaff_s0 + 10);
          if (0x7f < (int)unaff_s5) {
            uVar2 = SR_SV_OBJ_32C();
            return uVar2;
          }
          if ((int)unaff_s5 < 0) {
            unaff_s5 = 0;
          }
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 2) =
             (ushort)unaff_s5 & 0x7fff | uVar5;
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x10000) != 0)) {
        _spu_FsetRXXa(unaff_s3 | 7,unaff_s0[8]);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x80) != 0)) {
        _spu_FsetRXXa(unaff_s3 | 3,unaff_s0[7]);
      }
      if (unaff_s2 == 0) {
        if ((unaff_s1 & 0x800) != 0) {
          if ((unaff_s1 & 0x100) != 0) goto SR_SV_OBJ_39C;
          goto code_r0x80090210;
        }
      }
      else {
SR_SV_OBJ_39C:
        if ((unaff_s0[9] != 1) && (unaff_s0[9] == 5)) {
          uVar2 = SR_SV_OBJ_3C0();
          return uVar2;
        }
code_r0x80090210:
        uVar3 = (uint)*(ushort *)(unaff_s0 + 0xc);
        if (0x7f < uVar3) {
          uVar3 = 0x7f;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) =
             *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) & 0xff |
             (ushort)(uVar3 << 8);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x1000) != 0)) {
        uVar3 = (uint)*(ushort *)((int)unaff_s0 + 0x32);
        if (0xf < uVar3) {
          uVar3 = 0xf;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) =
             *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) & 0xff0f |
             (ushort)(uVar3 << 4);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x8000) != 0)) {
        uVar5 = *(ushort *)(unaff_s0 + 0xe);
        if (0xf < uVar5) {
          uVar5 = 0xf;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) =
             uVar5 | *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) & 0xfff0;
      }
      if (unaff_s2 == 0) {
        if ((unaff_s1 & 0x2000) != 0) {
          uVar3 = 0;
          if ((unaff_s1 & 0x200) != 0) goto SR_SV_OBJ_4C4;
          goto code_r0x80090364;
        }
      }
      else {
SR_SV_OBJ_4C4:
        uVar4 = unaff_s0[10];
        if (uVar4 == 3) {
          uVar3 = 0x100;
        }
        else if ((int)uVar4 < 4) {
          uVar3 = 0;
          if (uVar4 != 1) {
            uVar2 = SR_SV_OBJ_514();
            return uVar2;
          }
        }
        else {
          if (uVar4 == 5) {
            uVar2 = SR_SV_OBJ_514();
            return uVar2;
          }
          uVar3 = 0x300;
          if (uVar4 != 7) {
            uVar2 = SR_SV_OBJ_514();
            return uVar2;
          }
        }
code_r0x80090364:
        uVar4 = (uint)*(ushort *)(unaff_s0 + 0xd);
        if (0x7f < uVar4) {
          uVar4 = 0x7f;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 10) =
             *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 10) & 0x3f |
             (ushort)((uVar4 | uVar3) << 6);
      }
      if (unaff_s2 == 0) {
        if ((unaff_s1 & 0x4000) != 0) {
          if ((unaff_s1 & 0x400) != 0) goto SR_SV_OBJ_574;
          goto code_r0x800903e8;
        }
      }
      else {
SR_SV_OBJ_574:
        if ((unaff_s0[0xb] != 3) && (unaff_s0[0xb] == 7)) {
          uVar2 = SR_SV_OBJ_598();
          return uVar2;
        }
code_r0x800903e8:
        uVar5 = *(ushort *)((int)unaff_s0 + 0x36);
        if (0x1f < uVar5) {
          uVar5 = 0x1f;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 10) =
             *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 10) & 0xffc0 | uVar5;
      }
      do {
        unaff_s4 = unaff_s4 + 1;
        if (unaff_s7 <= (int)unaff_s4) {
          if (in_stack_00000010 == 0) {
            _spu_Fw1ts();
          }
          return 0;
        }
      } while ((unaff_s8 == 0) && ((*unaff_s0 & 1 << (unaff_s4 & 0x1f)) == 0));
      unaff_s3 = unaff_s4 * 8;
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x10) != 0)) {
        *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 4) =
             *(undefined2 *)(unaff_s0 + 5);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x40) != 0)) {
        (&DAT_800a5218)[unaff_s4] = *(undefined2 *)(unaff_s0 + 6);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x20) != 0)) {
        uVar1 = _spu_note2pitch((ushort)(&DAT_800a5218)[unaff_s4] >> 8,
                                (&DAT_800a5218)[unaff_s4] & 0xff,
                                *(ushort *)((int)unaff_s0 + 0x16) >> 8,
                                *(ushort *)((int)unaff_s0 + 0x16) & 0xff);
        *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 4) = uVar1;
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x20000) != 0)) {
        *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 8) =
             *(undefined2 *)((int)unaff_s0 + 0x3a);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x40000) != 0)) {
        *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 10) =
             *(undefined2 *)(unaff_s0 + 0xf);
      }
      if (unaff_s2 != 0) goto SR_SV_OBJ_1C0;
    } while ((unaff_s1 & 1) == 0);
    if ((unaff_s1 & 4) == 0) {
SR_SV_OBJ_224:
      unaff_s6 = (uint)*(ushort *)(unaff_s0 + 2);
      uVar5 = 0;
      goto SR_SV_OBJ_22C;
    }
SR_SV_OBJ_1C0:
    switch(*(undefined2 *)(unaff_s0 + 3)) {
    default:
      goto SR_SV_OBJ_224;
    case 1:
      goto code_r0x8009003c;
    case 2:
      uVar5 = 0x9000;
      break;
    case 3:
      uVar5 = 0xa000;
      break;
    case 4:
      uVar5 = 0xb000;
      break;
    case 5:
      uVar5 = 0xc000;
      break;
    case 6:
      uVar5 = 0xd000;
      break;
    case 7:
      uVar5 = 0xe000;
    }
  } while( true );
}



undefined4 SR_SV_OBJ_1F4(void)

{
  undefined2 uVar1;
  undefined4 uVar2;
  uint uVar3;
  uint uVar4;
  ushort uVar5;
  uint *unaff_s0;
  uint unaff_s1;
  int unaff_s2;
  uint unaff_s3;
  uint unaff_s4;
  uint unaff_s5;
  uint unaff_s6;
  int unaff_s7;
  int unaff_s8;
  int in_stack_00000010;
  
code_r0x80090044:
  uVar5 = 0x9000;
SR_SV_OBJ_22C:
  do {
    if (uVar5 != 0) {
      unaff_s6 = (uint)*(short *)(unaff_s0 + 2);
      if (0x7f < (int)unaff_s6) {
        uVar2 = SR_SV_OBJ_25C();
        return uVar2;
      }
      if ((int)unaff_s6 < 0) {
        unaff_s6 = 0;
      }
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2) = (ushort)unaff_s6 & 0x7fff | uVar5
    ;
    do {
      if (unaff_s2 == 0) {
        if ((unaff_s1 & 2) != 0) {
          if ((unaff_s1 & 8) != 0) goto SR_SV_OBJ_290;
          goto SR_SV_OBJ_2F4;
        }
      }
      else {
SR_SV_OBJ_290:
        switch(*(undefined2 *)((int)unaff_s0 + 0xe)) {
        default:
SR_SV_OBJ_2F4:
          unaff_s5 = (uint)*(ushort *)((int)unaff_s0 + 10);
          uVar5 = 0;
          break;
        case 1:
          uVar5 = 0x8000;
          break;
        case 2:
          uVar5 = 0x9000;
          break;
        case 3:
          uVar5 = 0xa000;
          break;
        case 4:
          uVar5 = 0xb000;
          break;
        case 5:
          uVar5 = 0xc000;
          break;
        case 6:
          uVar5 = 0xd000;
          break;
        case 7:
          uVar5 = 0xe000;
        }
        if (uVar5 != 0) {
          unaff_s5 = (uint)*(short *)((int)unaff_s0 + 10);
          if (0x7f < (int)unaff_s5) {
            uVar2 = SR_SV_OBJ_32C();
            return uVar2;
          }
          if ((int)unaff_s5 < 0) {
            unaff_s5 = 0;
          }
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 2) =
             (ushort)unaff_s5 & 0x7fff | uVar5;
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x10000) != 0)) {
        _spu_FsetRXXa(unaff_s3 | 7,unaff_s0[8]);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x80) != 0)) {
        _spu_FsetRXXa(unaff_s3 | 3,unaff_s0[7]);
      }
      if (unaff_s2 == 0) {
        if ((unaff_s1 & 0x800) != 0) {
          if ((unaff_s1 & 0x100) != 0) goto SR_SV_OBJ_39C;
          goto code_r0x80090210;
        }
      }
      else {
SR_SV_OBJ_39C:
        if ((unaff_s0[9] != 1) && (unaff_s0[9] == 5)) {
          uVar2 = SR_SV_OBJ_3C0();
          return uVar2;
        }
code_r0x80090210:
        uVar3 = (uint)*(ushort *)(unaff_s0 + 0xc);
        if (0x7f < uVar3) {
          uVar3 = 0x7f;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) =
             *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) & 0xff |
             (ushort)(uVar3 << 8);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x1000) != 0)) {
        uVar3 = (uint)*(ushort *)((int)unaff_s0 + 0x32);
        if (0xf < uVar3) {
          uVar3 = 0xf;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) =
             *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) & 0xff0f |
             (ushort)(uVar3 << 4);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x8000) != 0)) {
        uVar5 = *(ushort *)(unaff_s0 + 0xe);
        if (0xf < uVar5) {
          uVar5 = 0xf;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) =
             uVar5 | *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) & 0xfff0;
      }
      if (unaff_s2 == 0) {
        if ((unaff_s1 & 0x2000) != 0) {
          uVar3 = 0;
          if ((unaff_s1 & 0x200) != 0) goto SR_SV_OBJ_4C4;
          goto code_r0x80090364;
        }
      }
      else {
SR_SV_OBJ_4C4:
        uVar4 = unaff_s0[10];
        if (uVar4 == 3) {
          uVar3 = 0x100;
        }
        else if ((int)uVar4 < 4) {
          uVar3 = 0;
          if (uVar4 != 1) {
            uVar2 = SR_SV_OBJ_514();
            return uVar2;
          }
        }
        else {
          if (uVar4 == 5) {
            uVar2 = SR_SV_OBJ_514();
            return uVar2;
          }
          uVar3 = 0x300;
          if (uVar4 != 7) {
            uVar2 = SR_SV_OBJ_514();
            return uVar2;
          }
        }
code_r0x80090364:
        uVar4 = (uint)*(ushort *)(unaff_s0 + 0xd);
        if (0x7f < uVar4) {
          uVar4 = 0x7f;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 10) =
             *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 10) & 0x3f |
             (ushort)((uVar4 | uVar3) << 6);
      }
      if (unaff_s2 == 0) {
        if ((unaff_s1 & 0x4000) != 0) {
          if ((unaff_s1 & 0x400) != 0) goto SR_SV_OBJ_574;
          goto code_r0x800903e8;
        }
      }
      else {
SR_SV_OBJ_574:
        if ((unaff_s0[0xb] != 3) && (unaff_s0[0xb] == 7)) {
          uVar2 = SR_SV_OBJ_598();
          return uVar2;
        }
code_r0x800903e8:
        uVar5 = *(ushort *)((int)unaff_s0 + 0x36);
        if (0x1f < uVar5) {
          uVar5 = 0x1f;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 10) =
             *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 10) & 0xffc0 | uVar5;
      }
      do {
        unaff_s4 = unaff_s4 + 1;
        if (unaff_s7 <= (int)unaff_s4) {
          if (in_stack_00000010 == 0) {
            _spu_Fw1ts();
          }
          return 0;
        }
      } while ((unaff_s8 == 0) && ((*unaff_s0 & 1 << (unaff_s4 & 0x1f)) == 0));
      unaff_s3 = unaff_s4 * 8;
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x10) != 0)) {
        *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 4) =
             *(undefined2 *)(unaff_s0 + 5);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x40) != 0)) {
        (&DAT_800a5218)[unaff_s4] = *(undefined2 *)(unaff_s0 + 6);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x20) != 0)) {
        uVar1 = _spu_note2pitch((ushort)(&DAT_800a5218)[unaff_s4] >> 8,
                                (&DAT_800a5218)[unaff_s4] & 0xff,
                                *(ushort *)((int)unaff_s0 + 0x16) >> 8,
                                *(ushort *)((int)unaff_s0 + 0x16) & 0xff);
        *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 4) = uVar1;
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x20000) != 0)) {
        *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 8) =
             *(undefined2 *)((int)unaff_s0 + 0x3a);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x40000) != 0)) {
        *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 10) =
             *(undefined2 *)(unaff_s0 + 0xf);
      }
      if (unaff_s2 != 0) goto SR_SV_OBJ_1C0;
    } while ((unaff_s1 & 1) == 0);
    if ((unaff_s1 & 4) == 0) {
SR_SV_OBJ_224:
      unaff_s6 = (uint)*(ushort *)(unaff_s0 + 2);
      uVar5 = 0;
      goto SR_SV_OBJ_22C;
    }
SR_SV_OBJ_1C0:
    switch(*(undefined2 *)(unaff_s0 + 3)) {
    default:
      goto SR_SV_OBJ_224;
    case 1:
      uVar5 = 0x8000;
      break;
    case 2:
      goto code_r0x80090044;
    case 3:
      uVar5 = 0xa000;
      break;
    case 4:
      uVar5 = 0xb000;
      break;
    case 5:
      uVar5 = 0xc000;
      break;
    case 6:
      uVar5 = 0xd000;
      break;
    case 7:
      uVar5 = 0xe000;
    }
  } while( true );
}



undefined4 SR_SV_OBJ_1FC(void)

{
  undefined2 uVar1;
  undefined4 uVar2;
  uint uVar3;
  uint uVar4;
  ushort uVar5;
  uint *unaff_s0;
  uint unaff_s1;
  int unaff_s2;
  uint unaff_s3;
  uint unaff_s4;
  uint unaff_s5;
  uint unaff_s6;
  int unaff_s7;
  int unaff_s8;
  int in_stack_00000010;
  
code_r0x8009004c:
  uVar5 = 0xa000;
SR_SV_OBJ_22C:
  do {
    if (uVar5 != 0) {
      unaff_s6 = (uint)*(short *)(unaff_s0 + 2);
      if (0x7f < (int)unaff_s6) {
        uVar2 = SR_SV_OBJ_25C();
        return uVar2;
      }
      if ((int)unaff_s6 < 0) {
        unaff_s6 = 0;
      }
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2) = (ushort)unaff_s6 & 0x7fff | uVar5
    ;
    do {
      if (unaff_s2 == 0) {
        if ((unaff_s1 & 2) != 0) {
          if ((unaff_s1 & 8) != 0) goto SR_SV_OBJ_290;
          goto SR_SV_OBJ_2F4;
        }
      }
      else {
SR_SV_OBJ_290:
        switch(*(undefined2 *)((int)unaff_s0 + 0xe)) {
        default:
SR_SV_OBJ_2F4:
          unaff_s5 = (uint)*(ushort *)((int)unaff_s0 + 10);
          uVar5 = 0;
          break;
        case 1:
          uVar5 = 0x8000;
          break;
        case 2:
          uVar5 = 0x9000;
          break;
        case 3:
          uVar5 = 0xa000;
          break;
        case 4:
          uVar5 = 0xb000;
          break;
        case 5:
          uVar5 = 0xc000;
          break;
        case 6:
          uVar5 = 0xd000;
          break;
        case 7:
          uVar5 = 0xe000;
        }
        if (uVar5 != 0) {
          unaff_s5 = (uint)*(short *)((int)unaff_s0 + 10);
          if (0x7f < (int)unaff_s5) {
            uVar2 = SR_SV_OBJ_32C();
            return uVar2;
          }
          if ((int)unaff_s5 < 0) {
            unaff_s5 = 0;
          }
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 2) =
             (ushort)unaff_s5 & 0x7fff | uVar5;
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x10000) != 0)) {
        _spu_FsetRXXa(unaff_s3 | 7,unaff_s0[8]);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x80) != 0)) {
        _spu_FsetRXXa(unaff_s3 | 3,unaff_s0[7]);
      }
      if (unaff_s2 == 0) {
        if ((unaff_s1 & 0x800) != 0) {
          if ((unaff_s1 & 0x100) != 0) goto SR_SV_OBJ_39C;
          goto code_r0x80090210;
        }
      }
      else {
SR_SV_OBJ_39C:
        if ((unaff_s0[9] != 1) && (unaff_s0[9] == 5)) {
          uVar2 = SR_SV_OBJ_3C0();
          return uVar2;
        }
code_r0x80090210:
        uVar3 = (uint)*(ushort *)(unaff_s0 + 0xc);
        if (0x7f < uVar3) {
          uVar3 = 0x7f;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) =
             *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) & 0xff |
             (ushort)(uVar3 << 8);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x1000) != 0)) {
        uVar3 = (uint)*(ushort *)((int)unaff_s0 + 0x32);
        if (0xf < uVar3) {
          uVar3 = 0xf;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) =
             *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) & 0xff0f |
             (ushort)(uVar3 << 4);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x8000) != 0)) {
        uVar5 = *(ushort *)(unaff_s0 + 0xe);
        if (0xf < uVar5) {
          uVar5 = 0xf;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) =
             uVar5 | *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) & 0xfff0;
      }
      if (unaff_s2 == 0) {
        if ((unaff_s1 & 0x2000) != 0) {
          uVar3 = 0;
          if ((unaff_s1 & 0x200) != 0) goto SR_SV_OBJ_4C4;
          goto code_r0x80090364;
        }
      }
      else {
SR_SV_OBJ_4C4:
        uVar4 = unaff_s0[10];
        if (uVar4 == 3) {
          uVar3 = 0x100;
        }
        else if ((int)uVar4 < 4) {
          uVar3 = 0;
          if (uVar4 != 1) {
            uVar2 = SR_SV_OBJ_514();
            return uVar2;
          }
        }
        else {
          if (uVar4 == 5) {
            uVar2 = SR_SV_OBJ_514();
            return uVar2;
          }
          uVar3 = 0x300;
          if (uVar4 != 7) {
            uVar2 = SR_SV_OBJ_514();
            return uVar2;
          }
        }
code_r0x80090364:
        uVar4 = (uint)*(ushort *)(unaff_s0 + 0xd);
        if (0x7f < uVar4) {
          uVar4 = 0x7f;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 10) =
             *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 10) & 0x3f |
             (ushort)((uVar4 | uVar3) << 6);
      }
      if (unaff_s2 == 0) {
        if ((unaff_s1 & 0x4000) != 0) {
          if ((unaff_s1 & 0x400) != 0) goto SR_SV_OBJ_574;
          goto code_r0x800903e8;
        }
      }
      else {
SR_SV_OBJ_574:
        if ((unaff_s0[0xb] != 3) && (unaff_s0[0xb] == 7)) {
          uVar2 = SR_SV_OBJ_598();
          return uVar2;
        }
code_r0x800903e8:
        uVar5 = *(ushort *)((int)unaff_s0 + 0x36);
        if (0x1f < uVar5) {
          uVar5 = 0x1f;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 10) =
             *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 10) & 0xffc0 | uVar5;
      }
      do {
        unaff_s4 = unaff_s4 + 1;
        if (unaff_s7 <= (int)unaff_s4) {
          if (in_stack_00000010 == 0) {
            _spu_Fw1ts();
          }
          return 0;
        }
      } while ((unaff_s8 == 0) && ((*unaff_s0 & 1 << (unaff_s4 & 0x1f)) == 0));
      unaff_s3 = unaff_s4 * 8;
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x10) != 0)) {
        *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 4) =
             *(undefined2 *)(unaff_s0 + 5);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x40) != 0)) {
        (&DAT_800a5218)[unaff_s4] = *(undefined2 *)(unaff_s0 + 6);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x20) != 0)) {
        uVar1 = _spu_note2pitch((ushort)(&DAT_800a5218)[unaff_s4] >> 8,
                                (&DAT_800a5218)[unaff_s4] & 0xff,
                                *(ushort *)((int)unaff_s0 + 0x16) >> 8,
                                *(ushort *)((int)unaff_s0 + 0x16) & 0xff);
        *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 4) = uVar1;
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x20000) != 0)) {
        *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 8) =
             *(undefined2 *)((int)unaff_s0 + 0x3a);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x40000) != 0)) {
        *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 10) =
             *(undefined2 *)(unaff_s0 + 0xf);
      }
      if (unaff_s2 != 0) goto SR_SV_OBJ_1C0;
    } while ((unaff_s1 & 1) == 0);
    if ((unaff_s1 & 4) == 0) {
SR_SV_OBJ_224:
      unaff_s6 = (uint)*(ushort *)(unaff_s0 + 2);
      uVar5 = 0;
      goto SR_SV_OBJ_22C;
    }
SR_SV_OBJ_1C0:
    switch(*(undefined2 *)(unaff_s0 + 3)) {
    default:
      goto SR_SV_OBJ_224;
    case 1:
      uVar5 = 0x8000;
      break;
    case 2:
      uVar5 = 0x9000;
      break;
    case 3:
      goto code_r0x8009004c;
    case 4:
      uVar5 = 0xb000;
      break;
    case 5:
      uVar5 = 0xc000;
      break;
    case 6:
      uVar5 = 0xd000;
      break;
    case 7:
      uVar5 = 0xe000;
    }
  } while( true );
}



undefined4 SR_SV_OBJ_204(void)

{
  undefined2 uVar1;
  undefined4 uVar2;
  uint uVar3;
  uint uVar4;
  ushort uVar5;
  uint *unaff_s0;
  uint unaff_s1;
  int unaff_s2;
  uint unaff_s3;
  uint unaff_s4;
  uint unaff_s5;
  uint unaff_s6;
  int unaff_s7;
  int unaff_s8;
  int in_stack_00000010;
  
code_r0x80090054:
  uVar5 = 0xb000;
SR_SV_OBJ_22C:
  do {
    if (uVar5 != 0) {
      unaff_s6 = (uint)*(short *)(unaff_s0 + 2);
      if (0x7f < (int)unaff_s6) {
        uVar2 = SR_SV_OBJ_25C();
        return uVar2;
      }
      if ((int)unaff_s6 < 0) {
        unaff_s6 = 0;
      }
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2) = (ushort)unaff_s6 & 0x7fff | uVar5
    ;
    do {
      if (unaff_s2 == 0) {
        if ((unaff_s1 & 2) != 0) {
          if ((unaff_s1 & 8) != 0) goto SR_SV_OBJ_290;
          goto SR_SV_OBJ_2F4;
        }
      }
      else {
SR_SV_OBJ_290:
        switch(*(undefined2 *)((int)unaff_s0 + 0xe)) {
        default:
SR_SV_OBJ_2F4:
          unaff_s5 = (uint)*(ushort *)((int)unaff_s0 + 10);
          uVar5 = 0;
          break;
        case 1:
          uVar5 = 0x8000;
          break;
        case 2:
          uVar5 = 0x9000;
          break;
        case 3:
          uVar5 = 0xa000;
          break;
        case 4:
          uVar5 = 0xb000;
          break;
        case 5:
          uVar5 = 0xc000;
          break;
        case 6:
          uVar5 = 0xd000;
          break;
        case 7:
          uVar5 = 0xe000;
        }
        if (uVar5 != 0) {
          unaff_s5 = (uint)*(short *)((int)unaff_s0 + 10);
          if (0x7f < (int)unaff_s5) {
            uVar2 = SR_SV_OBJ_32C();
            return uVar2;
          }
          if ((int)unaff_s5 < 0) {
            unaff_s5 = 0;
          }
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 2) =
             (ushort)unaff_s5 & 0x7fff | uVar5;
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x10000) != 0)) {
        _spu_FsetRXXa(unaff_s3 | 7,unaff_s0[8]);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x80) != 0)) {
        _spu_FsetRXXa(unaff_s3 | 3,unaff_s0[7]);
      }
      if (unaff_s2 == 0) {
        if ((unaff_s1 & 0x800) != 0) {
          if ((unaff_s1 & 0x100) != 0) goto SR_SV_OBJ_39C;
          goto code_r0x80090210;
        }
      }
      else {
SR_SV_OBJ_39C:
        if ((unaff_s0[9] != 1) && (unaff_s0[9] == 5)) {
          uVar2 = SR_SV_OBJ_3C0();
          return uVar2;
        }
code_r0x80090210:
        uVar3 = (uint)*(ushort *)(unaff_s0 + 0xc);
        if (0x7f < uVar3) {
          uVar3 = 0x7f;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) =
             *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) & 0xff |
             (ushort)(uVar3 << 8);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x1000) != 0)) {
        uVar3 = (uint)*(ushort *)((int)unaff_s0 + 0x32);
        if (0xf < uVar3) {
          uVar3 = 0xf;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) =
             *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) & 0xff0f |
             (ushort)(uVar3 << 4);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x8000) != 0)) {
        uVar5 = *(ushort *)(unaff_s0 + 0xe);
        if (0xf < uVar5) {
          uVar5 = 0xf;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) =
             uVar5 | *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) & 0xfff0;
      }
      if (unaff_s2 == 0) {
        if ((unaff_s1 & 0x2000) != 0) {
          uVar3 = 0;
          if ((unaff_s1 & 0x200) != 0) goto SR_SV_OBJ_4C4;
          goto code_r0x80090364;
        }
      }
      else {
SR_SV_OBJ_4C4:
        uVar4 = unaff_s0[10];
        if (uVar4 == 3) {
          uVar3 = 0x100;
        }
        else if ((int)uVar4 < 4) {
          uVar3 = 0;
          if (uVar4 != 1) {
            uVar2 = SR_SV_OBJ_514();
            return uVar2;
          }
        }
        else {
          if (uVar4 == 5) {
            uVar2 = SR_SV_OBJ_514();
            return uVar2;
          }
          uVar3 = 0x300;
          if (uVar4 != 7) {
            uVar2 = SR_SV_OBJ_514();
            return uVar2;
          }
        }
code_r0x80090364:
        uVar4 = (uint)*(ushort *)(unaff_s0 + 0xd);
        if (0x7f < uVar4) {
          uVar4 = 0x7f;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 10) =
             *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 10) & 0x3f |
             (ushort)((uVar4 | uVar3) << 6);
      }
      if (unaff_s2 == 0) {
        if ((unaff_s1 & 0x4000) != 0) {
          if ((unaff_s1 & 0x400) != 0) goto SR_SV_OBJ_574;
          goto code_r0x800903e8;
        }
      }
      else {
SR_SV_OBJ_574:
        if ((unaff_s0[0xb] != 3) && (unaff_s0[0xb] == 7)) {
          uVar2 = SR_SV_OBJ_598();
          return uVar2;
        }
code_r0x800903e8:
        uVar5 = *(ushort *)((int)unaff_s0 + 0x36);
        if (0x1f < uVar5) {
          uVar5 = 0x1f;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 10) =
             *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 10) & 0xffc0 | uVar5;
      }
      do {
        unaff_s4 = unaff_s4 + 1;
        if (unaff_s7 <= (int)unaff_s4) {
          if (in_stack_00000010 == 0) {
            _spu_Fw1ts();
          }
          return 0;
        }
      } while ((unaff_s8 == 0) && ((*unaff_s0 & 1 << (unaff_s4 & 0x1f)) == 0));
      unaff_s3 = unaff_s4 * 8;
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x10) != 0)) {
        *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 4) =
             *(undefined2 *)(unaff_s0 + 5);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x40) != 0)) {
        (&DAT_800a5218)[unaff_s4] = *(undefined2 *)(unaff_s0 + 6);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x20) != 0)) {
        uVar1 = _spu_note2pitch((ushort)(&DAT_800a5218)[unaff_s4] >> 8,
                                (&DAT_800a5218)[unaff_s4] & 0xff,
                                *(ushort *)((int)unaff_s0 + 0x16) >> 8,
                                *(ushort *)((int)unaff_s0 + 0x16) & 0xff);
        *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 4) = uVar1;
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x20000) != 0)) {
        *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 8) =
             *(undefined2 *)((int)unaff_s0 + 0x3a);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x40000) != 0)) {
        *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 10) =
             *(undefined2 *)(unaff_s0 + 0xf);
      }
      if (unaff_s2 != 0) goto SR_SV_OBJ_1C0;
    } while ((unaff_s1 & 1) == 0);
    if ((unaff_s1 & 4) == 0) {
SR_SV_OBJ_224:
      unaff_s6 = (uint)*(ushort *)(unaff_s0 + 2);
      uVar5 = 0;
      goto SR_SV_OBJ_22C;
    }
SR_SV_OBJ_1C0:
    switch(*(undefined2 *)(unaff_s0 + 3)) {
    default:
      goto SR_SV_OBJ_224;
    case 1:
      uVar5 = 0x8000;
      break;
    case 2:
      uVar5 = 0x9000;
      break;
    case 3:
      uVar5 = 0xa000;
      break;
    case 4:
      goto code_r0x80090054;
    case 5:
      uVar5 = 0xc000;
      break;
    case 6:
      uVar5 = 0xd000;
      break;
    case 7:
      uVar5 = 0xe000;
    }
  } while( true );
}



undefined4 SR_SV_OBJ_20C(void)

{
  undefined2 uVar1;
  undefined4 uVar2;
  uint uVar3;
  uint uVar4;
  ushort uVar5;
  uint *unaff_s0;
  uint unaff_s1;
  int unaff_s2;
  uint unaff_s3;
  uint unaff_s4;
  uint unaff_s5;
  uint unaff_s6;
  int unaff_s7;
  int unaff_s8;
  int in_stack_00000010;
  
code_r0x8009005c:
  uVar5 = 0xc000;
SR_SV_OBJ_22C:
  do {
    if (uVar5 != 0) {
      unaff_s6 = (uint)*(short *)(unaff_s0 + 2);
      if (0x7f < (int)unaff_s6) {
        uVar2 = SR_SV_OBJ_25C();
        return uVar2;
      }
      if ((int)unaff_s6 < 0) {
        unaff_s6 = 0;
      }
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2) = (ushort)unaff_s6 & 0x7fff | uVar5
    ;
    do {
      if (unaff_s2 == 0) {
        if ((unaff_s1 & 2) != 0) {
          if ((unaff_s1 & 8) != 0) goto SR_SV_OBJ_290;
          goto SR_SV_OBJ_2F4;
        }
      }
      else {
SR_SV_OBJ_290:
        switch(*(undefined2 *)((int)unaff_s0 + 0xe)) {
        default:
SR_SV_OBJ_2F4:
          unaff_s5 = (uint)*(ushort *)((int)unaff_s0 + 10);
          uVar5 = 0;
          break;
        case 1:
          uVar5 = 0x8000;
          break;
        case 2:
          uVar5 = 0x9000;
          break;
        case 3:
          uVar5 = 0xa000;
          break;
        case 4:
          uVar5 = 0xb000;
          break;
        case 5:
          uVar5 = 0xc000;
          break;
        case 6:
          uVar5 = 0xd000;
          break;
        case 7:
          uVar5 = 0xe000;
        }
        if (uVar5 != 0) {
          unaff_s5 = (uint)*(short *)((int)unaff_s0 + 10);
          if (0x7f < (int)unaff_s5) {
            uVar2 = SR_SV_OBJ_32C();
            return uVar2;
          }
          if ((int)unaff_s5 < 0) {
            unaff_s5 = 0;
          }
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 2) =
             (ushort)unaff_s5 & 0x7fff | uVar5;
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x10000) != 0)) {
        _spu_FsetRXXa(unaff_s3 | 7,unaff_s0[8]);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x80) != 0)) {
        _spu_FsetRXXa(unaff_s3 | 3,unaff_s0[7]);
      }
      if (unaff_s2 == 0) {
        if ((unaff_s1 & 0x800) != 0) {
          if ((unaff_s1 & 0x100) != 0) goto SR_SV_OBJ_39C;
          goto code_r0x80090210;
        }
      }
      else {
SR_SV_OBJ_39C:
        if ((unaff_s0[9] != 1) && (unaff_s0[9] == 5)) {
          uVar2 = SR_SV_OBJ_3C0();
          return uVar2;
        }
code_r0x80090210:
        uVar3 = (uint)*(ushort *)(unaff_s0 + 0xc);
        if (0x7f < uVar3) {
          uVar3 = 0x7f;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) =
             *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) & 0xff |
             (ushort)(uVar3 << 8);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x1000) != 0)) {
        uVar3 = (uint)*(ushort *)((int)unaff_s0 + 0x32);
        if (0xf < uVar3) {
          uVar3 = 0xf;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) =
             *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) & 0xff0f |
             (ushort)(uVar3 << 4);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x8000) != 0)) {
        uVar5 = *(ushort *)(unaff_s0 + 0xe);
        if (0xf < uVar5) {
          uVar5 = 0xf;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) =
             uVar5 | *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) & 0xfff0;
      }
      if (unaff_s2 == 0) {
        if ((unaff_s1 & 0x2000) != 0) {
          uVar3 = 0;
          if ((unaff_s1 & 0x200) != 0) goto SR_SV_OBJ_4C4;
          goto code_r0x80090364;
        }
      }
      else {
SR_SV_OBJ_4C4:
        uVar4 = unaff_s0[10];
        if (uVar4 == 3) {
          uVar3 = 0x100;
        }
        else if ((int)uVar4 < 4) {
          uVar3 = 0;
          if (uVar4 != 1) {
            uVar2 = SR_SV_OBJ_514();
            return uVar2;
          }
        }
        else {
          if (uVar4 == 5) {
            uVar2 = SR_SV_OBJ_514();
            return uVar2;
          }
          uVar3 = 0x300;
          if (uVar4 != 7) {
            uVar2 = SR_SV_OBJ_514();
            return uVar2;
          }
        }
code_r0x80090364:
        uVar4 = (uint)*(ushort *)(unaff_s0 + 0xd);
        if (0x7f < uVar4) {
          uVar4 = 0x7f;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 10) =
             *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 10) & 0x3f |
             (ushort)((uVar4 | uVar3) << 6);
      }
      if (unaff_s2 == 0) {
        if ((unaff_s1 & 0x4000) != 0) {
          if ((unaff_s1 & 0x400) != 0) goto SR_SV_OBJ_574;
          goto code_r0x800903e8;
        }
      }
      else {
SR_SV_OBJ_574:
        if ((unaff_s0[0xb] != 3) && (unaff_s0[0xb] == 7)) {
          uVar2 = SR_SV_OBJ_598();
          return uVar2;
        }
code_r0x800903e8:
        uVar5 = *(ushort *)((int)unaff_s0 + 0x36);
        if (0x1f < uVar5) {
          uVar5 = 0x1f;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 10) =
             *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 10) & 0xffc0 | uVar5;
      }
      do {
        unaff_s4 = unaff_s4 + 1;
        if (unaff_s7 <= (int)unaff_s4) {
          if (in_stack_00000010 == 0) {
            _spu_Fw1ts();
          }
          return 0;
        }
      } while ((unaff_s8 == 0) && ((*unaff_s0 & 1 << (unaff_s4 & 0x1f)) == 0));
      unaff_s3 = unaff_s4 * 8;
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x10) != 0)) {
        *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 4) =
             *(undefined2 *)(unaff_s0 + 5);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x40) != 0)) {
        (&DAT_800a5218)[unaff_s4] = *(undefined2 *)(unaff_s0 + 6);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x20) != 0)) {
        uVar1 = _spu_note2pitch((ushort)(&DAT_800a5218)[unaff_s4] >> 8,
                                (&DAT_800a5218)[unaff_s4] & 0xff,
                                *(ushort *)((int)unaff_s0 + 0x16) >> 8,
                                *(ushort *)((int)unaff_s0 + 0x16) & 0xff);
        *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 4) = uVar1;
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x20000) != 0)) {
        *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 8) =
             *(undefined2 *)((int)unaff_s0 + 0x3a);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x40000) != 0)) {
        *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 10) =
             *(undefined2 *)(unaff_s0 + 0xf);
      }
      if (unaff_s2 != 0) goto SR_SV_OBJ_1C0;
    } while ((unaff_s1 & 1) == 0);
    if ((unaff_s1 & 4) == 0) {
SR_SV_OBJ_224:
      unaff_s6 = (uint)*(ushort *)(unaff_s0 + 2);
      uVar5 = 0;
      goto SR_SV_OBJ_22C;
    }
SR_SV_OBJ_1C0:
    switch(*(undefined2 *)(unaff_s0 + 3)) {
    default:
      goto SR_SV_OBJ_224;
    case 1:
      uVar5 = 0x8000;
      break;
    case 2:
      uVar5 = 0x9000;
      break;
    case 3:
      uVar5 = 0xa000;
      break;
    case 4:
      uVar5 = 0xb000;
      break;
    case 5:
      goto code_r0x8009005c;
    case 6:
      uVar5 = 0xd000;
      break;
    case 7:
      uVar5 = 0xe000;
    }
  } while( true );
}



undefined4 SR_SV_OBJ_214(void)

{
  undefined2 uVar1;
  undefined4 uVar2;
  uint uVar3;
  uint uVar4;
  ushort uVar5;
  uint *unaff_s0;
  uint unaff_s1;
  int unaff_s2;
  uint unaff_s3;
  uint unaff_s4;
  uint unaff_s5;
  uint unaff_s6;
  int unaff_s7;
  int unaff_s8;
  int in_stack_00000010;
  
code_r0x80090064:
  uVar5 = 0xd000;
SR_SV_OBJ_22C:
  do {
    if (uVar5 != 0) {
      unaff_s6 = (uint)*(short *)(unaff_s0 + 2);
      if (0x7f < (int)unaff_s6) {
        uVar2 = SR_SV_OBJ_25C();
        return uVar2;
      }
      if ((int)unaff_s6 < 0) {
        unaff_s6 = 0;
      }
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2) = (ushort)unaff_s6 & 0x7fff | uVar5
    ;
    do {
      if (unaff_s2 == 0) {
        if ((unaff_s1 & 2) != 0) {
          if ((unaff_s1 & 8) != 0) goto SR_SV_OBJ_290;
          goto SR_SV_OBJ_2F4;
        }
      }
      else {
SR_SV_OBJ_290:
        switch(*(undefined2 *)((int)unaff_s0 + 0xe)) {
        default:
SR_SV_OBJ_2F4:
          unaff_s5 = (uint)*(ushort *)((int)unaff_s0 + 10);
          uVar5 = 0;
          break;
        case 1:
          uVar5 = 0x8000;
          break;
        case 2:
          uVar5 = 0x9000;
          break;
        case 3:
          uVar5 = 0xa000;
          break;
        case 4:
          uVar5 = 0xb000;
          break;
        case 5:
          uVar5 = 0xc000;
          break;
        case 6:
          uVar5 = 0xd000;
          break;
        case 7:
          uVar5 = 0xe000;
        }
        if (uVar5 != 0) {
          unaff_s5 = (uint)*(short *)((int)unaff_s0 + 10);
          if (0x7f < (int)unaff_s5) {
            uVar2 = SR_SV_OBJ_32C();
            return uVar2;
          }
          if ((int)unaff_s5 < 0) {
            unaff_s5 = 0;
          }
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 2) =
             (ushort)unaff_s5 & 0x7fff | uVar5;
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x10000) != 0)) {
        _spu_FsetRXXa(unaff_s3 | 7,unaff_s0[8]);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x80) != 0)) {
        _spu_FsetRXXa(unaff_s3 | 3,unaff_s0[7]);
      }
      if (unaff_s2 == 0) {
        if ((unaff_s1 & 0x800) != 0) {
          if ((unaff_s1 & 0x100) != 0) goto SR_SV_OBJ_39C;
          goto code_r0x80090210;
        }
      }
      else {
SR_SV_OBJ_39C:
        if ((unaff_s0[9] != 1) && (unaff_s0[9] == 5)) {
          uVar2 = SR_SV_OBJ_3C0();
          return uVar2;
        }
code_r0x80090210:
        uVar3 = (uint)*(ushort *)(unaff_s0 + 0xc);
        if (0x7f < uVar3) {
          uVar3 = 0x7f;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) =
             *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) & 0xff |
             (ushort)(uVar3 << 8);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x1000) != 0)) {
        uVar3 = (uint)*(ushort *)((int)unaff_s0 + 0x32);
        if (0xf < uVar3) {
          uVar3 = 0xf;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) =
             *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) & 0xff0f |
             (ushort)(uVar3 << 4);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x8000) != 0)) {
        uVar5 = *(ushort *)(unaff_s0 + 0xe);
        if (0xf < uVar5) {
          uVar5 = 0xf;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) =
             uVar5 | *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) & 0xfff0;
      }
      if (unaff_s2 == 0) {
        if ((unaff_s1 & 0x2000) != 0) {
          uVar3 = 0;
          if ((unaff_s1 & 0x200) != 0) goto SR_SV_OBJ_4C4;
          goto code_r0x80090364;
        }
      }
      else {
SR_SV_OBJ_4C4:
        uVar4 = unaff_s0[10];
        if (uVar4 == 3) {
          uVar3 = 0x100;
        }
        else if ((int)uVar4 < 4) {
          uVar3 = 0;
          if (uVar4 != 1) {
            uVar2 = SR_SV_OBJ_514();
            return uVar2;
          }
        }
        else {
          if (uVar4 == 5) {
            uVar2 = SR_SV_OBJ_514();
            return uVar2;
          }
          uVar3 = 0x300;
          if (uVar4 != 7) {
            uVar2 = SR_SV_OBJ_514();
            return uVar2;
          }
        }
code_r0x80090364:
        uVar4 = (uint)*(ushort *)(unaff_s0 + 0xd);
        if (0x7f < uVar4) {
          uVar4 = 0x7f;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 10) =
             *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 10) & 0x3f |
             (ushort)((uVar4 | uVar3) << 6);
      }
      if (unaff_s2 == 0) {
        if ((unaff_s1 & 0x4000) != 0) {
          if ((unaff_s1 & 0x400) != 0) goto SR_SV_OBJ_574;
          goto code_r0x800903e8;
        }
      }
      else {
SR_SV_OBJ_574:
        if ((unaff_s0[0xb] != 3) && (unaff_s0[0xb] == 7)) {
          uVar2 = SR_SV_OBJ_598();
          return uVar2;
        }
code_r0x800903e8:
        uVar5 = *(ushort *)((int)unaff_s0 + 0x36);
        if (0x1f < uVar5) {
          uVar5 = 0x1f;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 10) =
             *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 10) & 0xffc0 | uVar5;
      }
      do {
        unaff_s4 = unaff_s4 + 1;
        if (unaff_s7 <= (int)unaff_s4) {
          if (in_stack_00000010 == 0) {
            _spu_Fw1ts();
          }
          return 0;
        }
      } while ((unaff_s8 == 0) && ((*unaff_s0 & 1 << (unaff_s4 & 0x1f)) == 0));
      unaff_s3 = unaff_s4 * 8;
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x10) != 0)) {
        *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 4) =
             *(undefined2 *)(unaff_s0 + 5);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x40) != 0)) {
        (&DAT_800a5218)[unaff_s4] = *(undefined2 *)(unaff_s0 + 6);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x20) != 0)) {
        uVar1 = _spu_note2pitch((ushort)(&DAT_800a5218)[unaff_s4] >> 8,
                                (&DAT_800a5218)[unaff_s4] & 0xff,
                                *(ushort *)((int)unaff_s0 + 0x16) >> 8,
                                *(ushort *)((int)unaff_s0 + 0x16) & 0xff);
        *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 4) = uVar1;
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x20000) != 0)) {
        *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 8) =
             *(undefined2 *)((int)unaff_s0 + 0x3a);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x40000) != 0)) {
        *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 10) =
             *(undefined2 *)(unaff_s0 + 0xf);
      }
      if (unaff_s2 != 0) goto SR_SV_OBJ_1C0;
    } while ((unaff_s1 & 1) == 0);
    if ((unaff_s1 & 4) == 0) {
SR_SV_OBJ_224:
      unaff_s6 = (uint)*(ushort *)(unaff_s0 + 2);
      uVar5 = 0;
      goto SR_SV_OBJ_22C;
    }
SR_SV_OBJ_1C0:
    switch(*(undefined2 *)(unaff_s0 + 3)) {
    default:
      goto SR_SV_OBJ_224;
    case 1:
      uVar5 = 0x8000;
      break;
    case 2:
      uVar5 = 0x9000;
      break;
    case 3:
      uVar5 = 0xa000;
      break;
    case 4:
      uVar5 = 0xb000;
      break;
    case 5:
      uVar5 = 0xc000;
      break;
    case 6:
      goto code_r0x80090064;
    case 7:
      uVar5 = 0xe000;
    }
  } while( true );
}



undefined4 SR_SV_OBJ_21C(void)

{
  undefined2 uVar1;
  undefined4 uVar2;
  uint uVar3;
  uint uVar4;
  ushort uVar5;
  uint *unaff_s0;
  uint unaff_s1;
  int unaff_s2;
  uint unaff_s3;
  uint unaff_s4;
  uint unaff_s5;
  uint unaff_s6;
  int unaff_s7;
  int unaff_s8;
  int in_stack_00000010;
  
code_r0x8009006c:
  uVar5 = 0xe000;
SR_SV_OBJ_22C:
  do {
    if (uVar5 != 0) {
      unaff_s6 = (uint)*(short *)(unaff_s0 + 2);
      if (0x7f < (int)unaff_s6) {
        uVar2 = SR_SV_OBJ_25C();
        return uVar2;
      }
      if ((int)unaff_s6 < 0) {
        unaff_s6 = 0;
      }
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2) = (ushort)unaff_s6 & 0x7fff | uVar5
    ;
    do {
      if (unaff_s2 == 0) {
        if ((unaff_s1 & 2) != 0) {
          if ((unaff_s1 & 8) != 0) goto SR_SV_OBJ_290;
          goto SR_SV_OBJ_2F4;
        }
      }
      else {
SR_SV_OBJ_290:
        switch(*(undefined2 *)((int)unaff_s0 + 0xe)) {
        default:
SR_SV_OBJ_2F4:
          unaff_s5 = (uint)*(ushort *)((int)unaff_s0 + 10);
          uVar5 = 0;
          break;
        case 1:
          uVar5 = 0x8000;
          break;
        case 2:
          uVar5 = 0x9000;
          break;
        case 3:
          uVar5 = 0xa000;
          break;
        case 4:
          uVar5 = 0xb000;
          break;
        case 5:
          uVar5 = 0xc000;
          break;
        case 6:
          uVar5 = 0xd000;
          break;
        case 7:
          uVar5 = 0xe000;
        }
        if (uVar5 != 0) {
          unaff_s5 = (uint)*(short *)((int)unaff_s0 + 10);
          if (0x7f < (int)unaff_s5) {
            uVar2 = SR_SV_OBJ_32C();
            return uVar2;
          }
          if ((int)unaff_s5 < 0) {
            unaff_s5 = 0;
          }
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 2) =
             (ushort)unaff_s5 & 0x7fff | uVar5;
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x10000) != 0)) {
        _spu_FsetRXXa(unaff_s3 | 7,unaff_s0[8]);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x80) != 0)) {
        _spu_FsetRXXa(unaff_s3 | 3,unaff_s0[7]);
      }
      if (unaff_s2 == 0) {
        if ((unaff_s1 & 0x800) != 0) {
          if ((unaff_s1 & 0x100) != 0) goto SR_SV_OBJ_39C;
          goto code_r0x80090210;
        }
      }
      else {
SR_SV_OBJ_39C:
        if ((unaff_s0[9] != 1) && (unaff_s0[9] == 5)) {
          uVar2 = SR_SV_OBJ_3C0();
          return uVar2;
        }
code_r0x80090210:
        uVar3 = (uint)*(ushort *)(unaff_s0 + 0xc);
        if (0x7f < uVar3) {
          uVar3 = 0x7f;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) =
             *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) & 0xff |
             (ushort)(uVar3 << 8);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x1000) != 0)) {
        uVar3 = (uint)*(ushort *)((int)unaff_s0 + 0x32);
        if (0xf < uVar3) {
          uVar3 = 0xf;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) =
             *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) & 0xff0f |
             (ushort)(uVar3 << 4);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x8000) != 0)) {
        uVar5 = *(ushort *)(unaff_s0 + 0xe);
        if (0xf < uVar5) {
          uVar5 = 0xf;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) =
             uVar5 | *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) & 0xfff0;
      }
      if (unaff_s2 == 0) {
        if ((unaff_s1 & 0x2000) != 0) {
          uVar3 = 0;
          if ((unaff_s1 & 0x200) != 0) goto SR_SV_OBJ_4C4;
          goto code_r0x80090364;
        }
      }
      else {
SR_SV_OBJ_4C4:
        uVar4 = unaff_s0[10];
        if (uVar4 == 3) {
          uVar3 = 0x100;
        }
        else if ((int)uVar4 < 4) {
          uVar3 = 0;
          if (uVar4 != 1) {
            uVar2 = SR_SV_OBJ_514();
            return uVar2;
          }
        }
        else {
          if (uVar4 == 5) {
            uVar2 = SR_SV_OBJ_514();
            return uVar2;
          }
          uVar3 = 0x300;
          if (uVar4 != 7) {
            uVar2 = SR_SV_OBJ_514();
            return uVar2;
          }
        }
code_r0x80090364:
        uVar4 = (uint)*(ushort *)(unaff_s0 + 0xd);
        if (0x7f < uVar4) {
          uVar4 = 0x7f;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 10) =
             *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 10) & 0x3f |
             (ushort)((uVar4 | uVar3) << 6);
      }
      if (unaff_s2 == 0) {
        if ((unaff_s1 & 0x4000) != 0) {
          if ((unaff_s1 & 0x400) != 0) goto SR_SV_OBJ_574;
          goto code_r0x800903e8;
        }
      }
      else {
SR_SV_OBJ_574:
        if ((unaff_s0[0xb] != 3) && (unaff_s0[0xb] == 7)) {
          uVar2 = SR_SV_OBJ_598();
          return uVar2;
        }
code_r0x800903e8:
        uVar5 = *(ushort *)((int)unaff_s0 + 0x36);
        if (0x1f < uVar5) {
          uVar5 = 0x1f;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 10) =
             *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 10) & 0xffc0 | uVar5;
      }
      do {
        unaff_s4 = unaff_s4 + 1;
        if (unaff_s7 <= (int)unaff_s4) {
          if (in_stack_00000010 == 0) {
            _spu_Fw1ts();
          }
          return 0;
        }
      } while ((unaff_s8 == 0) && ((*unaff_s0 & 1 << (unaff_s4 & 0x1f)) == 0));
      unaff_s3 = unaff_s4 * 8;
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x10) != 0)) {
        *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 4) =
             *(undefined2 *)(unaff_s0 + 5);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x40) != 0)) {
        (&DAT_800a5218)[unaff_s4] = *(undefined2 *)(unaff_s0 + 6);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x20) != 0)) {
        uVar1 = _spu_note2pitch((ushort)(&DAT_800a5218)[unaff_s4] >> 8,
                                (&DAT_800a5218)[unaff_s4] & 0xff,
                                *(ushort *)((int)unaff_s0 + 0x16) >> 8,
                                *(ushort *)((int)unaff_s0 + 0x16) & 0xff);
        *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 4) = uVar1;
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x20000) != 0)) {
        *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 8) =
             *(undefined2 *)((int)unaff_s0 + 0x3a);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x40000) != 0)) {
        *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 10) =
             *(undefined2 *)(unaff_s0 + 0xf);
      }
      if (unaff_s2 != 0) goto SR_SV_OBJ_1C0;
    } while ((unaff_s1 & 1) == 0);
    if ((unaff_s1 & 4) == 0) {
SR_SV_OBJ_224:
      unaff_s6 = (uint)*(ushort *)(unaff_s0 + 2);
      uVar5 = 0;
      goto SR_SV_OBJ_22C;
    }
SR_SV_OBJ_1C0:
    switch(*(undefined2 *)(unaff_s0 + 3)) {
    default:
      goto SR_SV_OBJ_224;
    case 1:
      uVar5 = 0x8000;
      break;
    case 2:
      uVar5 = 0x9000;
      break;
    case 3:
      uVar5 = 0xa000;
      break;
    case 4:
      uVar5 = 0xb000;
      break;
    case 5:
      uVar5 = 0xc000;
      break;
    case 6:
      uVar5 = 0xd000;
      break;
    case 7:
      goto code_r0x8009006c;
    }
  } while( true );
}



undefined4 SR_SV_OBJ_224(void)

{
  undefined2 uVar1;
  undefined4 uVar2;
  uint uVar3;
  uint uVar4;
  ushort uVar5;
  uint *unaff_s0;
  uint unaff_s1;
  int unaff_s2;
  uint unaff_s3;
  uint unaff_s4;
  uint unaff_s5;
  uint uVar6;
  int unaff_s7;
  int unaff_s8;
  int in_stack_00000010;
  
code_r0x80090074:
  do {
    uVar6 = (uint)*(ushort *)(unaff_s0 + 2);
    uVar5 = 0;
SR_SV_OBJ_22C:
    if (uVar5 != 0) {
      uVar6 = (uint)*(short *)(unaff_s0 + 2);
      if (0x7f < (int)uVar6) {
        uVar2 = SR_SV_OBJ_25C();
        return uVar2;
      }
      if ((int)uVar6 < 0) {
        uVar6 = 0;
      }
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2) = (ushort)uVar6 & 0x7fff | uVar5;
    do {
      if (unaff_s2 == 0) {
        if ((unaff_s1 & 2) != 0) {
          if ((unaff_s1 & 8) != 0) goto SR_SV_OBJ_290;
          goto SR_SV_OBJ_2F4;
        }
      }
      else {
SR_SV_OBJ_290:
        switch(*(undefined2 *)((int)unaff_s0 + 0xe)) {
        default:
SR_SV_OBJ_2F4:
          unaff_s5 = (uint)*(ushort *)((int)unaff_s0 + 10);
          uVar5 = 0;
          break;
        case 1:
          uVar5 = 0x8000;
          break;
        case 2:
          uVar5 = 0x9000;
          break;
        case 3:
          uVar5 = 0xa000;
          break;
        case 4:
          uVar5 = 0xb000;
          break;
        case 5:
          uVar5 = 0xc000;
          break;
        case 6:
          uVar5 = 0xd000;
          break;
        case 7:
          uVar5 = 0xe000;
        }
        if (uVar5 != 0) {
          unaff_s5 = (uint)*(short *)((int)unaff_s0 + 10);
          if (0x7f < (int)unaff_s5) {
            uVar2 = SR_SV_OBJ_32C();
            return uVar2;
          }
          if ((int)unaff_s5 < 0) {
            unaff_s5 = 0;
          }
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 2) =
             (ushort)unaff_s5 & 0x7fff | uVar5;
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x10000) != 0)) {
        _spu_FsetRXXa(unaff_s3 | 7,unaff_s0[8]);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x80) != 0)) {
        _spu_FsetRXXa(unaff_s3 | 3,unaff_s0[7]);
      }
      if (unaff_s2 == 0) {
        if ((unaff_s1 & 0x800) != 0) {
          if ((unaff_s1 & 0x100) != 0) goto SR_SV_OBJ_39C;
          goto code_r0x80090210;
        }
      }
      else {
SR_SV_OBJ_39C:
        if ((unaff_s0[9] != 1) && (unaff_s0[9] == 5)) {
          uVar2 = SR_SV_OBJ_3C0();
          return uVar2;
        }
code_r0x80090210:
        uVar3 = (uint)*(ushort *)(unaff_s0 + 0xc);
        if (0x7f < uVar3) {
          uVar3 = 0x7f;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) =
             *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) & 0xff |
             (ushort)(uVar3 << 8);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x1000) != 0)) {
        uVar3 = (uint)*(ushort *)((int)unaff_s0 + 0x32);
        if (0xf < uVar3) {
          uVar3 = 0xf;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) =
             *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) & 0xff0f |
             (ushort)(uVar3 << 4);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x8000) != 0)) {
        uVar5 = *(ushort *)(unaff_s0 + 0xe);
        if (0xf < uVar5) {
          uVar5 = 0xf;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) =
             uVar5 | *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) & 0xfff0;
      }
      if (unaff_s2 == 0) {
        if ((unaff_s1 & 0x2000) != 0) {
          uVar3 = 0;
          if ((unaff_s1 & 0x200) != 0) goto SR_SV_OBJ_4C4;
          goto code_r0x80090364;
        }
      }
      else {
SR_SV_OBJ_4C4:
        uVar4 = unaff_s0[10];
        if (uVar4 == 3) {
          uVar3 = 0x100;
        }
        else if ((int)uVar4 < 4) {
          uVar3 = 0;
          if (uVar4 != 1) {
            uVar2 = SR_SV_OBJ_514();
            return uVar2;
          }
        }
        else {
          if (uVar4 == 5) {
            uVar2 = SR_SV_OBJ_514();
            return uVar2;
          }
          uVar3 = 0x300;
          if (uVar4 != 7) {
            uVar2 = SR_SV_OBJ_514();
            return uVar2;
          }
        }
code_r0x80090364:
        uVar4 = (uint)*(ushort *)(unaff_s0 + 0xd);
        if (0x7f < uVar4) {
          uVar4 = 0x7f;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 10) =
             *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 10) & 0x3f |
             (ushort)((uVar4 | uVar3) << 6);
      }
      if (unaff_s2 == 0) {
        if ((unaff_s1 & 0x4000) != 0) {
          if ((unaff_s1 & 0x400) != 0) goto SR_SV_OBJ_574;
          goto code_r0x800903e8;
        }
      }
      else {
SR_SV_OBJ_574:
        if ((unaff_s0[0xb] != 3) && (unaff_s0[0xb] == 7)) {
          uVar2 = SR_SV_OBJ_598();
          return uVar2;
        }
code_r0x800903e8:
        uVar5 = *(ushort *)((int)unaff_s0 + 0x36);
        if (0x1f < uVar5) {
          uVar5 = 0x1f;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 10) =
             *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 10) & 0xffc0 | uVar5;
      }
      do {
        unaff_s4 = unaff_s4 + 1;
        if (unaff_s7 <= (int)unaff_s4) {
          if (in_stack_00000010 == 0) {
            _spu_Fw1ts();
          }
          return 0;
        }
      } while ((unaff_s8 == 0) && ((*unaff_s0 & 1 << (unaff_s4 & 0x1f)) == 0));
      unaff_s3 = unaff_s4 * 8;
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x10) != 0)) {
        *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 4) =
             *(undefined2 *)(unaff_s0 + 5);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x40) != 0)) {
        (&DAT_800a5218)[unaff_s4] = *(undefined2 *)(unaff_s0 + 6);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x20) != 0)) {
        uVar1 = _spu_note2pitch((ushort)(&DAT_800a5218)[unaff_s4] >> 8,
                                (&DAT_800a5218)[unaff_s4] & 0xff,
                                *(ushort *)((int)unaff_s0 + 0x16) >> 8,
                                *(ushort *)((int)unaff_s0 + 0x16) & 0xff);
        *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 4) = uVar1;
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x20000) != 0)) {
        *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 8) =
             *(undefined2 *)((int)unaff_s0 + 0x3a);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x40000) != 0)) {
        *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 10) =
             *(undefined2 *)(unaff_s0 + 0xf);
      }
      if (unaff_s2 != 0) goto SR_SV_OBJ_1C0;
    } while ((unaff_s1 & 1) == 0);
  } while ((unaff_s1 & 4) == 0);
SR_SV_OBJ_1C0:
  switch(*(undefined2 *)(unaff_s0 + 3)) {
  default:
    goto code_r0x80090074;
  case 1:
    uVar5 = 0x8000;
    break;
  case 2:
    uVar5 = 0x9000;
    break;
  case 3:
    uVar5 = 0xa000;
    break;
  case 4:
    uVar5 = 0xb000;
    break;
  case 5:
    uVar5 = 0xc000;
    break;
  case 6:
    uVar5 = 0xd000;
    break;
  case 7:
    uVar5 = 0xe000;
  }
  goto SR_SV_OBJ_22C;
}



undefined4
SR_SV_OBJ_22C(undefined4 param_1,int param_2,undefined4 param_3,undefined4 param_4,int param_5)

{
  undefined2 uVar1;
  undefined4 uVar2;
  uint uVar3;
  uint uVar4;
  ushort uVar5;
  uint *unaff_s0;
  uint unaff_s1;
  int unaff_s2;
  uint unaff_s3;
  uint unaff_s4;
  uint unaff_s5;
  uint unaff_s6;
  int unaff_s7;
  int unaff_s8;
  
code_r0x8009007c:
  do {
    if (param_2 != 0) {
      unaff_s6 = (uint)*(short *)(unaff_s0 + 2);
      if (0x7f < (int)unaff_s6) {
        uVar2 = SR_SV_OBJ_25C();
        return uVar2;
      }
      if ((int)unaff_s6 < 0) {
        unaff_s6 = 0;
      }
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2) =
         (ushort)unaff_s6 & 0x7fff | (ushort)param_2;
    do {
      if (unaff_s2 == 0) {
        if ((unaff_s1 & 2) != 0) {
          if ((unaff_s1 & 8) != 0) goto SR_SV_OBJ_290;
          goto SR_SV_OBJ_2F4;
        }
      }
      else {
SR_SV_OBJ_290:
        switch(*(undefined2 *)((int)unaff_s0 + 0xe)) {
        default:
SR_SV_OBJ_2F4:
          unaff_s5 = (uint)*(ushort *)((int)unaff_s0 + 10);
          uVar5 = 0;
          break;
        case 1:
          uVar5 = 0x8000;
          break;
        case 2:
          uVar5 = 0x9000;
          break;
        case 3:
          uVar5 = 0xa000;
          break;
        case 4:
          uVar5 = 0xb000;
          break;
        case 5:
          uVar5 = 0xc000;
          break;
        case 6:
          uVar5 = 0xd000;
          break;
        case 7:
          uVar5 = 0xe000;
        }
        if (uVar5 != 0) {
          unaff_s5 = (uint)*(short *)((int)unaff_s0 + 10);
          if (0x7f < (int)unaff_s5) {
            uVar2 = SR_SV_OBJ_32C();
            return uVar2;
          }
          if ((int)unaff_s5 < 0) {
            unaff_s5 = 0;
          }
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 2) =
             (ushort)unaff_s5 & 0x7fff | uVar5;
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x10000) != 0)) {
        _spu_FsetRXXa(unaff_s3 | 7,unaff_s0[8]);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x80) != 0)) {
        _spu_FsetRXXa(unaff_s3 | 3,unaff_s0[7]);
      }
      if (unaff_s2 == 0) {
        if ((unaff_s1 & 0x800) != 0) {
          if ((unaff_s1 & 0x100) != 0) goto SR_SV_OBJ_39C;
          goto code_r0x80090210;
        }
      }
      else {
SR_SV_OBJ_39C:
        if ((unaff_s0[9] != 1) && (unaff_s0[9] == 5)) {
          uVar2 = SR_SV_OBJ_3C0();
          return uVar2;
        }
code_r0x80090210:
        uVar3 = (uint)*(ushort *)(unaff_s0 + 0xc);
        if (0x7f < uVar3) {
          uVar3 = 0x7f;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) =
             *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) & 0xff |
             (ushort)(uVar3 << 8);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x1000) != 0)) {
        uVar3 = (uint)*(ushort *)((int)unaff_s0 + 0x32);
        if (0xf < uVar3) {
          uVar3 = 0xf;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) =
             *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) & 0xff0f |
             (ushort)(uVar3 << 4);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x8000) != 0)) {
        uVar5 = *(ushort *)(unaff_s0 + 0xe);
        if (0xf < uVar5) {
          uVar5 = 0xf;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) =
             uVar5 | *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) & 0xfff0;
      }
      if (unaff_s2 == 0) {
        if ((unaff_s1 & 0x2000) != 0) {
          uVar3 = 0;
          if ((unaff_s1 & 0x200) != 0) goto SR_SV_OBJ_4C4;
          goto code_r0x80090364;
        }
      }
      else {
SR_SV_OBJ_4C4:
        uVar4 = unaff_s0[10];
        if (uVar4 == 3) {
          uVar3 = 0x100;
        }
        else if ((int)uVar4 < 4) {
          uVar3 = 0;
          if (uVar4 != 1) {
            uVar2 = SR_SV_OBJ_514();
            return uVar2;
          }
        }
        else {
          if (uVar4 == 5) {
            uVar2 = SR_SV_OBJ_514();
            return uVar2;
          }
          uVar3 = 0x300;
          if (uVar4 != 7) {
            uVar2 = SR_SV_OBJ_514();
            return uVar2;
          }
        }
code_r0x80090364:
        uVar4 = (uint)*(ushort *)(unaff_s0 + 0xd);
        if (0x7f < uVar4) {
          uVar4 = 0x7f;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 10) =
             *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 10) & 0x3f |
             (ushort)((uVar4 | uVar3) << 6);
      }
      if (unaff_s2 == 0) {
        if ((unaff_s1 & 0x4000) != 0) {
          if ((unaff_s1 & 0x400) != 0) goto SR_SV_OBJ_574;
          goto code_r0x800903e8;
        }
      }
      else {
SR_SV_OBJ_574:
        if ((unaff_s0[0xb] != 3) && (unaff_s0[0xb] == 7)) {
          uVar2 = SR_SV_OBJ_598();
          return uVar2;
        }
code_r0x800903e8:
        uVar5 = *(ushort *)((int)unaff_s0 + 0x36);
        if (0x1f < uVar5) {
          uVar5 = 0x1f;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 10) =
             *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 10) & 0xffc0 | uVar5;
      }
      do {
        unaff_s4 = unaff_s4 + 1;
        if (unaff_s7 <= (int)unaff_s4) {
          if (param_5 == 0) {
            _spu_Fw1ts();
          }
          return 0;
        }
      } while ((unaff_s8 == 0) && ((*unaff_s0 & 1 << (unaff_s4 & 0x1f)) == 0));
      unaff_s3 = unaff_s4 * 8;
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x10) != 0)) {
        *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 4) =
             *(undefined2 *)(unaff_s0 + 5);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x40) != 0)) {
        (&DAT_800a5218)[unaff_s4] = *(undefined2 *)(unaff_s0 + 6);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x20) != 0)) {
        uVar1 = _spu_note2pitch((ushort)(&DAT_800a5218)[unaff_s4] >> 8,
                                (&DAT_800a5218)[unaff_s4] & 0xff,
                                *(ushort *)((int)unaff_s0 + 0x16) >> 8,
                                *(ushort *)((int)unaff_s0 + 0x16) & 0xff);
        *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 4) = uVar1;
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x20000) != 0)) {
        *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 8) =
             *(undefined2 *)((int)unaff_s0 + 0x3a);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x40000) != 0)) {
        *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 10) =
             *(undefined2 *)(unaff_s0 + 0xf);
      }
      if (unaff_s2 != 0) goto SR_SV_OBJ_1C0;
    } while ((unaff_s1 & 1) == 0);
    if ((unaff_s1 & 4) == 0) {
SR_SV_OBJ_224:
      unaff_s6 = (uint)*(ushort *)(unaff_s0 + 2);
      param_2 = 0;
      goto code_r0x8009007c;
    }
SR_SV_OBJ_1C0:
    switch(*(undefined2 *)(unaff_s0 + 3)) {
    default:
      goto SR_SV_OBJ_224;
    case 1:
      param_2 = 0x8000;
      break;
    case 2:
      param_2 = 0x9000;
      break;
    case 3:
      param_2 = 0xa000;
      break;
    case 4:
      param_2 = 0xb000;
      break;
    case 5:
      param_2 = 0xc000;
      break;
    case 6:
      param_2 = 0xd000;
      break;
    case 7:
      param_2 = 0xe000;
    }
  } while( true );
}



undefined4
SR_SV_OBJ_25C(undefined4 param_1,ushort param_2,undefined4 param_3,undefined4 param_4,int param_5)

{
  undefined2 uVar1;
  undefined4 uVar2;
  uint uVar3;
  uint uVar4;
  ushort uVar5;
  uint *unaff_s0;
  uint unaff_s1;
  int unaff_s2;
  uint unaff_s3;
  uint unaff_s4;
  uint unaff_s5;
  uint unaff_s6;
  int unaff_s7;
  int unaff_s8;
  
  do {
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2) =
         (ushort)unaff_s6 & 0x7fff | param_2;
    do {
      if (unaff_s2 == 0) {
        if ((unaff_s1 & 2) != 0) {
          if ((unaff_s1 & 8) != 0) goto SR_SV_OBJ_290;
          goto SR_SV_OBJ_2F4;
        }
      }
      else {
SR_SV_OBJ_290:
        switch(*(undefined2 *)((int)unaff_s0 + 0xe)) {
        default:
SR_SV_OBJ_2F4:
          unaff_s5 = (uint)*(ushort *)((int)unaff_s0 + 10);
          uVar5 = 0;
          break;
        case 1:
          uVar5 = 0x8000;
          break;
        case 2:
          uVar5 = 0x9000;
          break;
        case 3:
          uVar5 = 0xa000;
          break;
        case 4:
          uVar5 = 0xb000;
          break;
        case 5:
          uVar5 = 0xc000;
          break;
        case 6:
          uVar5 = 0xd000;
          break;
        case 7:
          uVar5 = 0xe000;
        }
        if (uVar5 != 0) {
          unaff_s5 = (uint)*(short *)((int)unaff_s0 + 10);
          if (0x7f < (int)unaff_s5) {
            uVar2 = SR_SV_OBJ_32C();
            return uVar2;
          }
          if ((int)unaff_s5 < 0) {
            unaff_s5 = 0;
          }
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 2) =
             (ushort)unaff_s5 & 0x7fff | uVar5;
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x10000) != 0)) {
        _spu_FsetRXXa(unaff_s3 | 7,unaff_s0[8]);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x80) != 0)) {
        _spu_FsetRXXa(unaff_s3 | 3,unaff_s0[7]);
      }
      if (unaff_s2 == 0) {
        if ((unaff_s1 & 0x800) != 0) {
          if ((unaff_s1 & 0x100) != 0) goto SR_SV_OBJ_39C;
          goto code_r0x80090210;
        }
      }
      else {
SR_SV_OBJ_39C:
        if ((unaff_s0[9] != 1) && (unaff_s0[9] == 5)) {
          uVar2 = SR_SV_OBJ_3C0();
          return uVar2;
        }
code_r0x80090210:
        uVar3 = (uint)*(ushort *)(unaff_s0 + 0xc);
        if (0x7f < uVar3) {
          uVar3 = 0x7f;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) =
             *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) & 0xff |
             (ushort)(uVar3 << 8);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x1000) != 0)) {
        uVar3 = (uint)*(ushort *)((int)unaff_s0 + 0x32);
        if (0xf < uVar3) {
          uVar3 = 0xf;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) =
             *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) & 0xff0f |
             (ushort)(uVar3 << 4);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x8000) != 0)) {
        uVar5 = *(ushort *)(unaff_s0 + 0xe);
        if (0xf < uVar5) {
          uVar5 = 0xf;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) =
             uVar5 | *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) & 0xfff0;
      }
      if (unaff_s2 == 0) {
        if ((unaff_s1 & 0x2000) != 0) {
          uVar3 = 0;
          if ((unaff_s1 & 0x200) != 0) goto SR_SV_OBJ_4C4;
          goto code_r0x80090364;
        }
      }
      else {
SR_SV_OBJ_4C4:
        uVar4 = unaff_s0[10];
        if (uVar4 == 3) {
          uVar3 = 0x100;
        }
        else if ((int)uVar4 < 4) {
          uVar3 = 0;
          if (uVar4 != 1) {
            uVar2 = SR_SV_OBJ_514();
            return uVar2;
          }
        }
        else {
          if (uVar4 == 5) {
            uVar2 = SR_SV_OBJ_514();
            return uVar2;
          }
          uVar3 = 0x300;
          if (uVar4 != 7) {
            uVar2 = SR_SV_OBJ_514();
            return uVar2;
          }
        }
code_r0x80090364:
        uVar4 = (uint)*(ushort *)(unaff_s0 + 0xd);
        if (0x7f < uVar4) {
          uVar4 = 0x7f;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 10) =
             *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 10) & 0x3f |
             (ushort)((uVar4 | uVar3) << 6);
      }
      if (unaff_s2 == 0) {
        if ((unaff_s1 & 0x4000) != 0) {
          if ((unaff_s1 & 0x400) != 0) goto SR_SV_OBJ_574;
          goto code_r0x800903e8;
        }
      }
      else {
SR_SV_OBJ_574:
        if ((unaff_s0[0xb] != 3) && (unaff_s0[0xb] == 7)) {
          uVar2 = SR_SV_OBJ_598();
          return uVar2;
        }
code_r0x800903e8:
        uVar5 = *(ushort *)((int)unaff_s0 + 0x36);
        if (0x1f < uVar5) {
          uVar5 = 0x1f;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 10) =
             *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 10) & 0xffc0 | uVar5;
      }
      do {
        unaff_s4 = unaff_s4 + 1;
        if (unaff_s7 <= (int)unaff_s4) {
          if (param_5 == 0) {
            _spu_Fw1ts();
          }
          return 0;
        }
      } while ((unaff_s8 == 0) && ((*unaff_s0 & 1 << (unaff_s4 & 0x1f)) == 0));
      unaff_s3 = unaff_s4 * 8;
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x10) != 0)) {
        *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 4) =
             *(undefined2 *)(unaff_s0 + 5);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x40) != 0)) {
        (&DAT_800a5218)[unaff_s4] = *(undefined2 *)(unaff_s0 + 6);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x20) != 0)) {
        uVar1 = _spu_note2pitch((ushort)(&DAT_800a5218)[unaff_s4] >> 8,
                                (&DAT_800a5218)[unaff_s4] & 0xff,
                                *(ushort *)((int)unaff_s0 + 0x16) >> 8,
                                *(ushort *)((int)unaff_s0 + 0x16) & 0xff);
        *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 4) = uVar1;
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x20000) != 0)) {
        *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 8) =
             *(undefined2 *)((int)unaff_s0 + 0x3a);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x40000) != 0)) {
        *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 10) =
             *(undefined2 *)(unaff_s0 + 0xf);
      }
      if (unaff_s2 != 0) goto SR_SV_OBJ_1C0;
    } while ((unaff_s1 & 1) == 0);
    if ((unaff_s1 & 4) == 0) {
SR_SV_OBJ_224:
      unaff_s6 = (uint)*(ushort *)(unaff_s0 + 2);
      param_2 = 0;
    }
    else {
SR_SV_OBJ_1C0:
      switch(*(undefined2 *)(unaff_s0 + 3)) {
      default:
        goto SR_SV_OBJ_224;
      case 1:
        param_2 = 0x8000;
        break;
      case 2:
        param_2 = 0x9000;
        break;
      case 3:
        param_2 = 0xa000;
        break;
      case 4:
        param_2 = 0xb000;
        break;
      case 5:
        param_2 = 0xc000;
        break;
      case 6:
        param_2 = 0xd000;
        break;
      case 7:
        param_2 = 0xe000;
      }
    }
    if (param_2 != 0) {
      unaff_s6 = (uint)*(short *)(unaff_s0 + 2);
      if (0x7f < (int)unaff_s6) {
        uVar2 = SR_SV_OBJ_25C();
        return uVar2;
      }
      if ((int)unaff_s6 < 0) {
        unaff_s6 = 0;
      }
    }
  } while( true );
}



undefined4 SR_SV_OBJ_2BC(void)

{
  undefined2 uVar1;
  undefined4 uVar2;
  uint uVar3;
  uint uVar4;
  ushort uVar5;
  uint *unaff_s0;
  uint unaff_s1;
  int unaff_s2;
  uint unaff_s3;
  uint unaff_s4;
  uint unaff_s5;
  uint unaff_s6;
  int unaff_s7;
  int unaff_s8;
  int in_stack_00000010;
  
code_r0x8009010c:
  uVar5 = 0x8000;
SR_SV_OBJ_2FC:
  do {
    if (uVar5 != 0) {
      unaff_s5 = (uint)*(short *)((int)unaff_s0 + 10);
      if (0x7f < (int)unaff_s5) {
        uVar2 = SR_SV_OBJ_32C();
        return uVar2;
      }
      if ((int)unaff_s5 < 0) {
        unaff_s5 = 0;
      }
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 2) =
         (ushort)unaff_s5 & 0x7fff | uVar5;
    do {
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x10000) != 0)) {
        _spu_FsetRXXa(unaff_s3 | 7,unaff_s0[8]);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x80) != 0)) {
        _spu_FsetRXXa(unaff_s3 | 3,unaff_s0[7]);
      }
      if (unaff_s2 == 0) {
        if ((unaff_s1 & 0x800) != 0) {
          if ((unaff_s1 & 0x100) != 0) goto SR_SV_OBJ_39C;
          goto code_r0x80090210;
        }
      }
      else {
SR_SV_OBJ_39C:
        if ((unaff_s0[9] != 1) && (unaff_s0[9] == 5)) {
          uVar2 = SR_SV_OBJ_3C0();
          return uVar2;
        }
code_r0x80090210:
        uVar3 = (uint)*(ushort *)(unaff_s0 + 0xc);
        if (0x7f < uVar3) {
          uVar3 = 0x7f;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) =
             *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) & 0xff |
             (ushort)(uVar3 << 8);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x1000) != 0)) {
        uVar3 = (uint)*(ushort *)((int)unaff_s0 + 0x32);
        if (0xf < uVar3) {
          uVar3 = 0xf;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) =
             *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) & 0xff0f |
             (ushort)(uVar3 << 4);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x8000) != 0)) {
        uVar5 = *(ushort *)(unaff_s0 + 0xe);
        if (0xf < uVar5) {
          uVar5 = 0xf;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) =
             uVar5 | *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) & 0xfff0;
      }
      if (unaff_s2 == 0) {
        if ((unaff_s1 & 0x2000) != 0) {
          uVar3 = 0;
          if ((unaff_s1 & 0x200) != 0) goto SR_SV_OBJ_4C4;
          goto code_r0x80090364;
        }
      }
      else {
SR_SV_OBJ_4C4:
        uVar4 = unaff_s0[10];
        if (uVar4 == 3) {
          uVar3 = 0x100;
        }
        else if ((int)uVar4 < 4) {
          uVar3 = 0;
          if (uVar4 != 1) {
            uVar2 = SR_SV_OBJ_514();
            return uVar2;
          }
        }
        else {
          if (uVar4 == 5) {
            uVar2 = SR_SV_OBJ_514();
            return uVar2;
          }
          uVar3 = 0x300;
          if (uVar4 != 7) {
            uVar2 = SR_SV_OBJ_514();
            return uVar2;
          }
        }
code_r0x80090364:
        uVar4 = (uint)*(ushort *)(unaff_s0 + 0xd);
        if (0x7f < uVar4) {
          uVar4 = 0x7f;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 10) =
             *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 10) & 0x3f |
             (ushort)((uVar4 | uVar3) << 6);
      }
      if (unaff_s2 == 0) {
        if ((unaff_s1 & 0x4000) != 0) {
          if ((unaff_s1 & 0x400) != 0) goto SR_SV_OBJ_574;
          goto code_r0x800903e8;
        }
      }
      else {
SR_SV_OBJ_574:
        if ((unaff_s0[0xb] != 3) && (unaff_s0[0xb] == 7)) {
          uVar2 = SR_SV_OBJ_598();
          return uVar2;
        }
code_r0x800903e8:
        uVar5 = *(ushort *)((int)unaff_s0 + 0x36);
        if (0x1f < uVar5) {
          uVar5 = 0x1f;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 10) =
             *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 10) & 0xffc0 | uVar5;
      }
      do {
        unaff_s4 = unaff_s4 + 1;
        if (unaff_s7 <= (int)unaff_s4) {
          if (in_stack_00000010 == 0) {
            _spu_Fw1ts();
          }
          return 0;
        }
      } while ((unaff_s8 == 0) && ((*unaff_s0 & 1 << (unaff_s4 & 0x1f)) == 0));
      unaff_s3 = unaff_s4 * 8;
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x10) != 0)) {
        *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 4) =
             *(undefined2 *)(unaff_s0 + 5);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x40) != 0)) {
        (&DAT_800a5218)[unaff_s4] = *(undefined2 *)(unaff_s0 + 6);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x20) != 0)) {
        uVar1 = _spu_note2pitch((ushort)(&DAT_800a5218)[unaff_s4] >> 8,
                                (&DAT_800a5218)[unaff_s4] & 0xff,
                                *(ushort *)((int)unaff_s0 + 0x16) >> 8,
                                *(ushort *)((int)unaff_s0 + 0x16) & 0xff);
        *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 4) = uVar1;
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x20000) != 0)) {
        *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 8) =
             *(undefined2 *)((int)unaff_s0 + 0x3a);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x40000) != 0)) {
        *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 10) =
             *(undefined2 *)(unaff_s0 + 0xf);
      }
      if (unaff_s2 == 0) {
        if ((unaff_s1 & 1) != 0) {
          if ((unaff_s1 & 4) != 0) goto SR_SV_OBJ_1C0;
          goto SR_SV_OBJ_224;
        }
      }
      else {
SR_SV_OBJ_1C0:
        switch(*(undefined2 *)(unaff_s0 + 3)) {
        default:
SR_SV_OBJ_224:
          unaff_s6 = (uint)*(ushort *)(unaff_s0 + 2);
          uVar5 = 0;
          break;
        case 1:
          uVar5 = 0x8000;
          break;
        case 2:
          uVar5 = 0x9000;
          break;
        case 3:
          uVar5 = 0xa000;
          break;
        case 4:
          uVar5 = 0xb000;
          break;
        case 5:
          uVar5 = 0xc000;
          break;
        case 6:
          uVar5 = 0xd000;
          break;
        case 7:
          uVar5 = 0xe000;
        }
        if (uVar5 != 0) {
          unaff_s6 = (uint)*(short *)(unaff_s0 + 2);
          if (0x7f < (int)unaff_s6) {
            uVar2 = SR_SV_OBJ_25C();
            return uVar2;
          }
          if ((int)unaff_s6 < 0) {
            unaff_s6 = 0;
          }
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10) =
             (ushort)unaff_s6 & 0x7fff | uVar5;
      }
      if (unaff_s2 != 0) goto SR_SV_OBJ_290;
    } while ((unaff_s1 & 2) == 0);
    if ((unaff_s1 & 8) == 0) {
SR_SV_OBJ_2F4:
      unaff_s5 = (uint)*(ushort *)((int)unaff_s0 + 10);
      uVar5 = 0;
      goto SR_SV_OBJ_2FC;
    }
SR_SV_OBJ_290:
    switch(*(undefined2 *)((int)unaff_s0 + 0xe)) {
    default:
      goto SR_SV_OBJ_2F4;
    case 1:
      goto code_r0x8009010c;
    case 2:
      uVar5 = 0x9000;
      break;
    case 3:
      uVar5 = 0xa000;
      break;
    case 4:
      uVar5 = 0xb000;
      break;
    case 5:
      uVar5 = 0xc000;
      break;
    case 6:
      uVar5 = 0xd000;
      break;
    case 7:
      uVar5 = 0xe000;
    }
  } while( true );
}



undefined4 SR_SV_OBJ_2C4(void)

{
  undefined2 uVar1;
  undefined4 uVar2;
  uint uVar3;
  uint uVar4;
  ushort uVar5;
  uint *unaff_s0;
  uint unaff_s1;
  int unaff_s2;
  uint unaff_s3;
  uint unaff_s4;
  uint unaff_s5;
  uint unaff_s6;
  int unaff_s7;
  int unaff_s8;
  int in_stack_00000010;
  
code_r0x80090114:
  uVar5 = 0x9000;
SR_SV_OBJ_2FC:
  do {
    if (uVar5 != 0) {
      unaff_s5 = (uint)*(short *)((int)unaff_s0 + 10);
      if (0x7f < (int)unaff_s5) {
        uVar2 = SR_SV_OBJ_32C();
        return uVar2;
      }
      if ((int)unaff_s5 < 0) {
        unaff_s5 = 0;
      }
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 2) =
         (ushort)unaff_s5 & 0x7fff | uVar5;
    do {
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x10000) != 0)) {
        _spu_FsetRXXa(unaff_s3 | 7,unaff_s0[8]);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x80) != 0)) {
        _spu_FsetRXXa(unaff_s3 | 3,unaff_s0[7]);
      }
      if (unaff_s2 == 0) {
        if ((unaff_s1 & 0x800) != 0) {
          if ((unaff_s1 & 0x100) != 0) goto SR_SV_OBJ_39C;
          goto code_r0x80090210;
        }
      }
      else {
SR_SV_OBJ_39C:
        if ((unaff_s0[9] != 1) && (unaff_s0[9] == 5)) {
          uVar2 = SR_SV_OBJ_3C0();
          return uVar2;
        }
code_r0x80090210:
        uVar3 = (uint)*(ushort *)(unaff_s0 + 0xc);
        if (0x7f < uVar3) {
          uVar3 = 0x7f;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) =
             *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) & 0xff |
             (ushort)(uVar3 << 8);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x1000) != 0)) {
        uVar3 = (uint)*(ushort *)((int)unaff_s0 + 0x32);
        if (0xf < uVar3) {
          uVar3 = 0xf;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) =
             *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) & 0xff0f |
             (ushort)(uVar3 << 4);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x8000) != 0)) {
        uVar5 = *(ushort *)(unaff_s0 + 0xe);
        if (0xf < uVar5) {
          uVar5 = 0xf;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) =
             uVar5 | *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) & 0xfff0;
      }
      if (unaff_s2 == 0) {
        if ((unaff_s1 & 0x2000) != 0) {
          uVar3 = 0;
          if ((unaff_s1 & 0x200) != 0) goto SR_SV_OBJ_4C4;
          goto code_r0x80090364;
        }
      }
      else {
SR_SV_OBJ_4C4:
        uVar4 = unaff_s0[10];
        if (uVar4 == 3) {
          uVar3 = 0x100;
        }
        else if ((int)uVar4 < 4) {
          uVar3 = 0;
          if (uVar4 != 1) {
            uVar2 = SR_SV_OBJ_514();
            return uVar2;
          }
        }
        else {
          if (uVar4 == 5) {
            uVar2 = SR_SV_OBJ_514();
            return uVar2;
          }
          uVar3 = 0x300;
          if (uVar4 != 7) {
            uVar2 = SR_SV_OBJ_514();
            return uVar2;
          }
        }
code_r0x80090364:
        uVar4 = (uint)*(ushort *)(unaff_s0 + 0xd);
        if (0x7f < uVar4) {
          uVar4 = 0x7f;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 10) =
             *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 10) & 0x3f |
             (ushort)((uVar4 | uVar3) << 6);
      }
      if (unaff_s2 == 0) {
        if ((unaff_s1 & 0x4000) != 0) {
          if ((unaff_s1 & 0x400) != 0) goto SR_SV_OBJ_574;
          goto code_r0x800903e8;
        }
      }
      else {
SR_SV_OBJ_574:
        if ((unaff_s0[0xb] != 3) && (unaff_s0[0xb] == 7)) {
          uVar2 = SR_SV_OBJ_598();
          return uVar2;
        }
code_r0x800903e8:
        uVar5 = *(ushort *)((int)unaff_s0 + 0x36);
        if (0x1f < uVar5) {
          uVar5 = 0x1f;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 10) =
             *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 10) & 0xffc0 | uVar5;
      }
      do {
        unaff_s4 = unaff_s4 + 1;
        if (unaff_s7 <= (int)unaff_s4) {
          if (in_stack_00000010 == 0) {
            _spu_Fw1ts();
          }
          return 0;
        }
      } while ((unaff_s8 == 0) && ((*unaff_s0 & 1 << (unaff_s4 & 0x1f)) == 0));
      unaff_s3 = unaff_s4 * 8;
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x10) != 0)) {
        *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 4) =
             *(undefined2 *)(unaff_s0 + 5);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x40) != 0)) {
        (&DAT_800a5218)[unaff_s4] = *(undefined2 *)(unaff_s0 + 6);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x20) != 0)) {
        uVar1 = _spu_note2pitch((ushort)(&DAT_800a5218)[unaff_s4] >> 8,
                                (&DAT_800a5218)[unaff_s4] & 0xff,
                                *(ushort *)((int)unaff_s0 + 0x16) >> 8,
                                *(ushort *)((int)unaff_s0 + 0x16) & 0xff);
        *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 4) = uVar1;
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x20000) != 0)) {
        *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 8) =
             *(undefined2 *)((int)unaff_s0 + 0x3a);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x40000) != 0)) {
        *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 10) =
             *(undefined2 *)(unaff_s0 + 0xf);
      }
      if (unaff_s2 == 0) {
        if ((unaff_s1 & 1) != 0) {
          if ((unaff_s1 & 4) != 0) goto SR_SV_OBJ_1C0;
          goto SR_SV_OBJ_224;
        }
      }
      else {
SR_SV_OBJ_1C0:
        switch(*(undefined2 *)(unaff_s0 + 3)) {
        default:
SR_SV_OBJ_224:
          unaff_s6 = (uint)*(ushort *)(unaff_s0 + 2);
          uVar5 = 0;
          break;
        case 1:
          uVar5 = 0x8000;
          break;
        case 2:
          uVar5 = 0x9000;
          break;
        case 3:
          uVar5 = 0xa000;
          break;
        case 4:
          uVar5 = 0xb000;
          break;
        case 5:
          uVar5 = 0xc000;
          break;
        case 6:
          uVar5 = 0xd000;
          break;
        case 7:
          uVar5 = 0xe000;
        }
        if (uVar5 != 0) {
          unaff_s6 = (uint)*(short *)(unaff_s0 + 2);
          if (0x7f < (int)unaff_s6) {
            uVar2 = SR_SV_OBJ_25C();
            return uVar2;
          }
          if ((int)unaff_s6 < 0) {
            unaff_s6 = 0;
          }
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10) =
             (ushort)unaff_s6 & 0x7fff | uVar5;
      }
      if (unaff_s2 != 0) goto SR_SV_OBJ_290;
    } while ((unaff_s1 & 2) == 0);
    if ((unaff_s1 & 8) == 0) {
SR_SV_OBJ_2F4:
      unaff_s5 = (uint)*(ushort *)((int)unaff_s0 + 10);
      uVar5 = 0;
      goto SR_SV_OBJ_2FC;
    }
SR_SV_OBJ_290:
    switch(*(undefined2 *)((int)unaff_s0 + 0xe)) {
    default:
      goto SR_SV_OBJ_2F4;
    case 1:
      uVar5 = 0x8000;
      break;
    case 2:
      goto code_r0x80090114;
    case 3:
      uVar5 = 0xa000;
      break;
    case 4:
      uVar5 = 0xb000;
      break;
    case 5:
      uVar5 = 0xc000;
      break;
    case 6:
      uVar5 = 0xd000;
      break;
    case 7:
      uVar5 = 0xe000;
    }
  } while( true );
}



undefined4 SR_SV_OBJ_2CC(void)

{
  undefined2 uVar1;
  undefined4 uVar2;
  uint uVar3;
  uint uVar4;
  ushort uVar5;
  uint *unaff_s0;
  uint unaff_s1;
  int unaff_s2;
  uint unaff_s3;
  uint unaff_s4;
  uint unaff_s5;
  uint unaff_s6;
  int unaff_s7;
  int unaff_s8;
  int in_stack_00000010;
  
code_r0x8009011c:
  uVar5 = 0xa000;
SR_SV_OBJ_2FC:
  do {
    if (uVar5 != 0) {
      unaff_s5 = (uint)*(short *)((int)unaff_s0 + 10);
      if (0x7f < (int)unaff_s5) {
        uVar2 = SR_SV_OBJ_32C();
        return uVar2;
      }
      if ((int)unaff_s5 < 0) {
        unaff_s5 = 0;
      }
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 2) =
         (ushort)unaff_s5 & 0x7fff | uVar5;
    do {
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x10000) != 0)) {
        _spu_FsetRXXa(unaff_s3 | 7,unaff_s0[8]);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x80) != 0)) {
        _spu_FsetRXXa(unaff_s3 | 3,unaff_s0[7]);
      }
      if (unaff_s2 == 0) {
        if ((unaff_s1 & 0x800) != 0) {
          if ((unaff_s1 & 0x100) != 0) goto SR_SV_OBJ_39C;
          goto code_r0x80090210;
        }
      }
      else {
SR_SV_OBJ_39C:
        if ((unaff_s0[9] != 1) && (unaff_s0[9] == 5)) {
          uVar2 = SR_SV_OBJ_3C0();
          return uVar2;
        }
code_r0x80090210:
        uVar3 = (uint)*(ushort *)(unaff_s0 + 0xc);
        if (0x7f < uVar3) {
          uVar3 = 0x7f;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) =
             *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) & 0xff |
             (ushort)(uVar3 << 8);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x1000) != 0)) {
        uVar3 = (uint)*(ushort *)((int)unaff_s0 + 0x32);
        if (0xf < uVar3) {
          uVar3 = 0xf;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) =
             *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) & 0xff0f |
             (ushort)(uVar3 << 4);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x8000) != 0)) {
        uVar5 = *(ushort *)(unaff_s0 + 0xe);
        if (0xf < uVar5) {
          uVar5 = 0xf;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) =
             uVar5 | *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) & 0xfff0;
      }
      if (unaff_s2 == 0) {
        if ((unaff_s1 & 0x2000) != 0) {
          uVar3 = 0;
          if ((unaff_s1 & 0x200) != 0) goto SR_SV_OBJ_4C4;
          goto code_r0x80090364;
        }
      }
      else {
SR_SV_OBJ_4C4:
        uVar4 = unaff_s0[10];
        if (uVar4 == 3) {
          uVar3 = 0x100;
        }
        else if ((int)uVar4 < 4) {
          uVar3 = 0;
          if (uVar4 != 1) {
            uVar2 = SR_SV_OBJ_514();
            return uVar2;
          }
        }
        else {
          if (uVar4 == 5) {
            uVar2 = SR_SV_OBJ_514();
            return uVar2;
          }
          uVar3 = 0x300;
          if (uVar4 != 7) {
            uVar2 = SR_SV_OBJ_514();
            return uVar2;
          }
        }
code_r0x80090364:
        uVar4 = (uint)*(ushort *)(unaff_s0 + 0xd);
        if (0x7f < uVar4) {
          uVar4 = 0x7f;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 10) =
             *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 10) & 0x3f |
             (ushort)((uVar4 | uVar3) << 6);
      }
      if (unaff_s2 == 0) {
        if ((unaff_s1 & 0x4000) != 0) {
          if ((unaff_s1 & 0x400) != 0) goto SR_SV_OBJ_574;
          goto code_r0x800903e8;
        }
      }
      else {
SR_SV_OBJ_574:
        if ((unaff_s0[0xb] != 3) && (unaff_s0[0xb] == 7)) {
          uVar2 = SR_SV_OBJ_598();
          return uVar2;
        }
code_r0x800903e8:
        uVar5 = *(ushort *)((int)unaff_s0 + 0x36);
        if (0x1f < uVar5) {
          uVar5 = 0x1f;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 10) =
             *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 10) & 0xffc0 | uVar5;
      }
      do {
        unaff_s4 = unaff_s4 + 1;
        if (unaff_s7 <= (int)unaff_s4) {
          if (in_stack_00000010 == 0) {
            _spu_Fw1ts();
          }
          return 0;
        }
      } while ((unaff_s8 == 0) && ((*unaff_s0 & 1 << (unaff_s4 & 0x1f)) == 0));
      unaff_s3 = unaff_s4 * 8;
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x10) != 0)) {
        *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 4) =
             *(undefined2 *)(unaff_s0 + 5);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x40) != 0)) {
        (&DAT_800a5218)[unaff_s4] = *(undefined2 *)(unaff_s0 + 6);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x20) != 0)) {
        uVar1 = _spu_note2pitch((ushort)(&DAT_800a5218)[unaff_s4] >> 8,
                                (&DAT_800a5218)[unaff_s4] & 0xff,
                                *(ushort *)((int)unaff_s0 + 0x16) >> 8,
                                *(ushort *)((int)unaff_s0 + 0x16) & 0xff);
        *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 4) = uVar1;
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x20000) != 0)) {
        *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 8) =
             *(undefined2 *)((int)unaff_s0 + 0x3a);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x40000) != 0)) {
        *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 10) =
             *(undefined2 *)(unaff_s0 + 0xf);
      }
      if (unaff_s2 == 0) {
        if ((unaff_s1 & 1) != 0) {
          if ((unaff_s1 & 4) != 0) goto SR_SV_OBJ_1C0;
          goto SR_SV_OBJ_224;
        }
      }
      else {
SR_SV_OBJ_1C0:
        switch(*(undefined2 *)(unaff_s0 + 3)) {
        default:
SR_SV_OBJ_224:
          unaff_s6 = (uint)*(ushort *)(unaff_s0 + 2);
          uVar5 = 0;
          break;
        case 1:
          uVar5 = 0x8000;
          break;
        case 2:
          uVar5 = 0x9000;
          break;
        case 3:
          uVar5 = 0xa000;
          break;
        case 4:
          uVar5 = 0xb000;
          break;
        case 5:
          uVar5 = 0xc000;
          break;
        case 6:
          uVar5 = 0xd000;
          break;
        case 7:
          uVar5 = 0xe000;
        }
        if (uVar5 != 0) {
          unaff_s6 = (uint)*(short *)(unaff_s0 + 2);
          if (0x7f < (int)unaff_s6) {
            uVar2 = SR_SV_OBJ_25C();
            return uVar2;
          }
          if ((int)unaff_s6 < 0) {
            unaff_s6 = 0;
          }
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10) =
             (ushort)unaff_s6 & 0x7fff | uVar5;
      }
      if (unaff_s2 != 0) goto SR_SV_OBJ_290;
    } while ((unaff_s1 & 2) == 0);
    if ((unaff_s1 & 8) == 0) {
SR_SV_OBJ_2F4:
      unaff_s5 = (uint)*(ushort *)((int)unaff_s0 + 10);
      uVar5 = 0;
      goto SR_SV_OBJ_2FC;
    }
SR_SV_OBJ_290:
    switch(*(undefined2 *)((int)unaff_s0 + 0xe)) {
    default:
      goto SR_SV_OBJ_2F4;
    case 1:
      uVar5 = 0x8000;
      break;
    case 2:
      uVar5 = 0x9000;
      break;
    case 3:
      goto code_r0x8009011c;
    case 4:
      uVar5 = 0xb000;
      break;
    case 5:
      uVar5 = 0xc000;
      break;
    case 6:
      uVar5 = 0xd000;
      break;
    case 7:
      uVar5 = 0xe000;
    }
  } while( true );
}



undefined4 SR_SV_OBJ_2D4(void)

{
  undefined2 uVar1;
  undefined4 uVar2;
  uint uVar3;
  uint uVar4;
  ushort uVar5;
  uint *unaff_s0;
  uint unaff_s1;
  int unaff_s2;
  uint unaff_s3;
  uint unaff_s4;
  uint unaff_s5;
  uint unaff_s6;
  int unaff_s7;
  int unaff_s8;
  int in_stack_00000010;
  
code_r0x80090124:
  uVar5 = 0xb000;
SR_SV_OBJ_2FC:
  do {
    if (uVar5 != 0) {
      unaff_s5 = (uint)*(short *)((int)unaff_s0 + 10);
      if (0x7f < (int)unaff_s5) {
        uVar2 = SR_SV_OBJ_32C();
        return uVar2;
      }
      if ((int)unaff_s5 < 0) {
        unaff_s5 = 0;
      }
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 2) =
         (ushort)unaff_s5 & 0x7fff | uVar5;
    do {
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x10000) != 0)) {
        _spu_FsetRXXa(unaff_s3 | 7,unaff_s0[8]);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x80) != 0)) {
        _spu_FsetRXXa(unaff_s3 | 3,unaff_s0[7]);
      }
      if (unaff_s2 == 0) {
        if ((unaff_s1 & 0x800) != 0) {
          if ((unaff_s1 & 0x100) != 0) goto SR_SV_OBJ_39C;
          goto code_r0x80090210;
        }
      }
      else {
SR_SV_OBJ_39C:
        if ((unaff_s0[9] != 1) && (unaff_s0[9] == 5)) {
          uVar2 = SR_SV_OBJ_3C0();
          return uVar2;
        }
code_r0x80090210:
        uVar3 = (uint)*(ushort *)(unaff_s0 + 0xc);
        if (0x7f < uVar3) {
          uVar3 = 0x7f;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) =
             *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) & 0xff |
             (ushort)(uVar3 << 8);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x1000) != 0)) {
        uVar3 = (uint)*(ushort *)((int)unaff_s0 + 0x32);
        if (0xf < uVar3) {
          uVar3 = 0xf;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) =
             *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) & 0xff0f |
             (ushort)(uVar3 << 4);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x8000) != 0)) {
        uVar5 = *(ushort *)(unaff_s0 + 0xe);
        if (0xf < uVar5) {
          uVar5 = 0xf;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) =
             uVar5 | *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) & 0xfff0;
      }
      if (unaff_s2 == 0) {
        if ((unaff_s1 & 0x2000) != 0) {
          uVar3 = 0;
          if ((unaff_s1 & 0x200) != 0) goto SR_SV_OBJ_4C4;
          goto code_r0x80090364;
        }
      }
      else {
SR_SV_OBJ_4C4:
        uVar4 = unaff_s0[10];
        if (uVar4 == 3) {
          uVar3 = 0x100;
        }
        else if ((int)uVar4 < 4) {
          uVar3 = 0;
          if (uVar4 != 1) {
            uVar2 = SR_SV_OBJ_514();
            return uVar2;
          }
        }
        else {
          if (uVar4 == 5) {
            uVar2 = SR_SV_OBJ_514();
            return uVar2;
          }
          uVar3 = 0x300;
          if (uVar4 != 7) {
            uVar2 = SR_SV_OBJ_514();
            return uVar2;
          }
        }
code_r0x80090364:
        uVar4 = (uint)*(ushort *)(unaff_s0 + 0xd);
        if (0x7f < uVar4) {
          uVar4 = 0x7f;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 10) =
             *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 10) & 0x3f |
             (ushort)((uVar4 | uVar3) << 6);
      }
      if (unaff_s2 == 0) {
        if ((unaff_s1 & 0x4000) != 0) {
          if ((unaff_s1 & 0x400) != 0) goto SR_SV_OBJ_574;
          goto code_r0x800903e8;
        }
      }
      else {
SR_SV_OBJ_574:
        if ((unaff_s0[0xb] != 3) && (unaff_s0[0xb] == 7)) {
          uVar2 = SR_SV_OBJ_598();
          return uVar2;
        }
code_r0x800903e8:
        uVar5 = *(ushort *)((int)unaff_s0 + 0x36);
        if (0x1f < uVar5) {
          uVar5 = 0x1f;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 10) =
             *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 10) & 0xffc0 | uVar5;
      }
      do {
        unaff_s4 = unaff_s4 + 1;
        if (unaff_s7 <= (int)unaff_s4) {
          if (in_stack_00000010 == 0) {
            _spu_Fw1ts();
          }
          return 0;
        }
      } while ((unaff_s8 == 0) && ((*unaff_s0 & 1 << (unaff_s4 & 0x1f)) == 0));
      unaff_s3 = unaff_s4 * 8;
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x10) != 0)) {
        *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 4) =
             *(undefined2 *)(unaff_s0 + 5);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x40) != 0)) {
        (&DAT_800a5218)[unaff_s4] = *(undefined2 *)(unaff_s0 + 6);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x20) != 0)) {
        uVar1 = _spu_note2pitch((ushort)(&DAT_800a5218)[unaff_s4] >> 8,
                                (&DAT_800a5218)[unaff_s4] & 0xff,
                                *(ushort *)((int)unaff_s0 + 0x16) >> 8,
                                *(ushort *)((int)unaff_s0 + 0x16) & 0xff);
        *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 4) = uVar1;
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x20000) != 0)) {
        *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 8) =
             *(undefined2 *)((int)unaff_s0 + 0x3a);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x40000) != 0)) {
        *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 10) =
             *(undefined2 *)(unaff_s0 + 0xf);
      }
      if (unaff_s2 == 0) {
        if ((unaff_s1 & 1) != 0) {
          if ((unaff_s1 & 4) != 0) goto SR_SV_OBJ_1C0;
          goto SR_SV_OBJ_224;
        }
      }
      else {
SR_SV_OBJ_1C0:
        switch(*(undefined2 *)(unaff_s0 + 3)) {
        default:
SR_SV_OBJ_224:
          unaff_s6 = (uint)*(ushort *)(unaff_s0 + 2);
          uVar5 = 0;
          break;
        case 1:
          uVar5 = 0x8000;
          break;
        case 2:
          uVar5 = 0x9000;
          break;
        case 3:
          uVar5 = 0xa000;
          break;
        case 4:
          uVar5 = 0xb000;
          break;
        case 5:
          uVar5 = 0xc000;
          break;
        case 6:
          uVar5 = 0xd000;
          break;
        case 7:
          uVar5 = 0xe000;
        }
        if (uVar5 != 0) {
          unaff_s6 = (uint)*(short *)(unaff_s0 + 2);
          if (0x7f < (int)unaff_s6) {
            uVar2 = SR_SV_OBJ_25C();
            return uVar2;
          }
          if ((int)unaff_s6 < 0) {
            unaff_s6 = 0;
          }
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10) =
             (ushort)unaff_s6 & 0x7fff | uVar5;
      }
      if (unaff_s2 != 0) goto SR_SV_OBJ_290;
    } while ((unaff_s1 & 2) == 0);
    if ((unaff_s1 & 8) == 0) {
SR_SV_OBJ_2F4:
      unaff_s5 = (uint)*(ushort *)((int)unaff_s0 + 10);
      uVar5 = 0;
      goto SR_SV_OBJ_2FC;
    }
SR_SV_OBJ_290:
    switch(*(undefined2 *)((int)unaff_s0 + 0xe)) {
    default:
      goto SR_SV_OBJ_2F4;
    case 1:
      uVar5 = 0x8000;
      break;
    case 2:
      uVar5 = 0x9000;
      break;
    case 3:
      uVar5 = 0xa000;
      break;
    case 4:
      goto code_r0x80090124;
    case 5:
      uVar5 = 0xc000;
      break;
    case 6:
      uVar5 = 0xd000;
      break;
    case 7:
      uVar5 = 0xe000;
    }
  } while( true );
}



undefined4 SR_SV_OBJ_2DC(void)

{
  undefined2 uVar1;
  undefined4 uVar2;
  uint uVar3;
  uint uVar4;
  ushort uVar5;
  uint *unaff_s0;
  uint unaff_s1;
  int unaff_s2;
  uint unaff_s3;
  uint unaff_s4;
  uint unaff_s5;
  uint unaff_s6;
  int unaff_s7;
  int unaff_s8;
  int in_stack_00000010;
  
code_r0x8009012c:
  uVar5 = 0xc000;
SR_SV_OBJ_2FC:
  do {
    if (uVar5 != 0) {
      unaff_s5 = (uint)*(short *)((int)unaff_s0 + 10);
      if (0x7f < (int)unaff_s5) {
        uVar2 = SR_SV_OBJ_32C();
        return uVar2;
      }
      if ((int)unaff_s5 < 0) {
        unaff_s5 = 0;
      }
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 2) =
         (ushort)unaff_s5 & 0x7fff | uVar5;
    do {
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x10000) != 0)) {
        _spu_FsetRXXa(unaff_s3 | 7,unaff_s0[8]);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x80) != 0)) {
        _spu_FsetRXXa(unaff_s3 | 3,unaff_s0[7]);
      }
      if (unaff_s2 == 0) {
        if ((unaff_s1 & 0x800) != 0) {
          if ((unaff_s1 & 0x100) != 0) goto SR_SV_OBJ_39C;
          goto code_r0x80090210;
        }
      }
      else {
SR_SV_OBJ_39C:
        if ((unaff_s0[9] != 1) && (unaff_s0[9] == 5)) {
          uVar2 = SR_SV_OBJ_3C0();
          return uVar2;
        }
code_r0x80090210:
        uVar3 = (uint)*(ushort *)(unaff_s0 + 0xc);
        if (0x7f < uVar3) {
          uVar3 = 0x7f;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) =
             *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) & 0xff |
             (ushort)(uVar3 << 8);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x1000) != 0)) {
        uVar3 = (uint)*(ushort *)((int)unaff_s0 + 0x32);
        if (0xf < uVar3) {
          uVar3 = 0xf;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) =
             *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) & 0xff0f |
             (ushort)(uVar3 << 4);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x8000) != 0)) {
        uVar5 = *(ushort *)(unaff_s0 + 0xe);
        if (0xf < uVar5) {
          uVar5 = 0xf;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) =
             uVar5 | *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) & 0xfff0;
      }
      if (unaff_s2 == 0) {
        if ((unaff_s1 & 0x2000) != 0) {
          uVar3 = 0;
          if ((unaff_s1 & 0x200) != 0) goto SR_SV_OBJ_4C4;
          goto code_r0x80090364;
        }
      }
      else {
SR_SV_OBJ_4C4:
        uVar4 = unaff_s0[10];
        if (uVar4 == 3) {
          uVar3 = 0x100;
        }
        else if ((int)uVar4 < 4) {
          uVar3 = 0;
          if (uVar4 != 1) {
            uVar2 = SR_SV_OBJ_514();
            return uVar2;
          }
        }
        else {
          if (uVar4 == 5) {
            uVar2 = SR_SV_OBJ_514();
            return uVar2;
          }
          uVar3 = 0x300;
          if (uVar4 != 7) {
            uVar2 = SR_SV_OBJ_514();
            return uVar2;
          }
        }
code_r0x80090364:
        uVar4 = (uint)*(ushort *)(unaff_s0 + 0xd);
        if (0x7f < uVar4) {
          uVar4 = 0x7f;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 10) =
             *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 10) & 0x3f |
             (ushort)((uVar4 | uVar3) << 6);
      }
      if (unaff_s2 == 0) {
        if ((unaff_s1 & 0x4000) != 0) {
          if ((unaff_s1 & 0x400) != 0) goto SR_SV_OBJ_574;
          goto code_r0x800903e8;
        }
      }
      else {
SR_SV_OBJ_574:
        if ((unaff_s0[0xb] != 3) && (unaff_s0[0xb] == 7)) {
          uVar2 = SR_SV_OBJ_598();
          return uVar2;
        }
code_r0x800903e8:
        uVar5 = *(ushort *)((int)unaff_s0 + 0x36);
        if (0x1f < uVar5) {
          uVar5 = 0x1f;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 10) =
             *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 10) & 0xffc0 | uVar5;
      }
      do {
        unaff_s4 = unaff_s4 + 1;
        if (unaff_s7 <= (int)unaff_s4) {
          if (in_stack_00000010 == 0) {
            _spu_Fw1ts();
          }
          return 0;
        }
      } while ((unaff_s8 == 0) && ((*unaff_s0 & 1 << (unaff_s4 & 0x1f)) == 0));
      unaff_s3 = unaff_s4 * 8;
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x10) != 0)) {
        *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 4) =
             *(undefined2 *)(unaff_s0 + 5);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x40) != 0)) {
        (&DAT_800a5218)[unaff_s4] = *(undefined2 *)(unaff_s0 + 6);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x20) != 0)) {
        uVar1 = _spu_note2pitch((ushort)(&DAT_800a5218)[unaff_s4] >> 8,
                                (&DAT_800a5218)[unaff_s4] & 0xff,
                                *(ushort *)((int)unaff_s0 + 0x16) >> 8,
                                *(ushort *)((int)unaff_s0 + 0x16) & 0xff);
        *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 4) = uVar1;
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x20000) != 0)) {
        *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 8) =
             *(undefined2 *)((int)unaff_s0 + 0x3a);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x40000) != 0)) {
        *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 10) =
             *(undefined2 *)(unaff_s0 + 0xf);
      }
      if (unaff_s2 == 0) {
        if ((unaff_s1 & 1) != 0) {
          if ((unaff_s1 & 4) != 0) goto SR_SV_OBJ_1C0;
          goto SR_SV_OBJ_224;
        }
      }
      else {
SR_SV_OBJ_1C0:
        switch(*(undefined2 *)(unaff_s0 + 3)) {
        default:
SR_SV_OBJ_224:
          unaff_s6 = (uint)*(ushort *)(unaff_s0 + 2);
          uVar5 = 0;
          break;
        case 1:
          uVar5 = 0x8000;
          break;
        case 2:
          uVar5 = 0x9000;
          break;
        case 3:
          uVar5 = 0xa000;
          break;
        case 4:
          uVar5 = 0xb000;
          break;
        case 5:
          uVar5 = 0xc000;
          break;
        case 6:
          uVar5 = 0xd000;
          break;
        case 7:
          uVar5 = 0xe000;
        }
        if (uVar5 != 0) {
          unaff_s6 = (uint)*(short *)(unaff_s0 + 2);
          if (0x7f < (int)unaff_s6) {
            uVar2 = SR_SV_OBJ_25C();
            return uVar2;
          }
          if ((int)unaff_s6 < 0) {
            unaff_s6 = 0;
          }
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10) =
             (ushort)unaff_s6 & 0x7fff | uVar5;
      }
      if (unaff_s2 != 0) goto SR_SV_OBJ_290;
    } while ((unaff_s1 & 2) == 0);
    if ((unaff_s1 & 8) == 0) {
SR_SV_OBJ_2F4:
      unaff_s5 = (uint)*(ushort *)((int)unaff_s0 + 10);
      uVar5 = 0;
      goto SR_SV_OBJ_2FC;
    }
SR_SV_OBJ_290:
    switch(*(undefined2 *)((int)unaff_s0 + 0xe)) {
    default:
      goto SR_SV_OBJ_2F4;
    case 1:
      uVar5 = 0x8000;
      break;
    case 2:
      uVar5 = 0x9000;
      break;
    case 3:
      uVar5 = 0xa000;
      break;
    case 4:
      uVar5 = 0xb000;
      break;
    case 5:
      goto code_r0x8009012c;
    case 6:
      uVar5 = 0xd000;
      break;
    case 7:
      uVar5 = 0xe000;
    }
  } while( true );
}



undefined4 SR_SV_OBJ_2E4(void)

{
  undefined2 uVar1;
  undefined4 uVar2;
  uint uVar3;
  uint uVar4;
  ushort uVar5;
  uint *unaff_s0;
  uint unaff_s1;
  int unaff_s2;
  uint unaff_s3;
  uint unaff_s4;
  uint unaff_s5;
  uint unaff_s6;
  int unaff_s7;
  int unaff_s8;
  int in_stack_00000010;
  
code_r0x80090134:
  uVar5 = 0xd000;
SR_SV_OBJ_2FC:
  do {
    if (uVar5 != 0) {
      unaff_s5 = (uint)*(short *)((int)unaff_s0 + 10);
      if (0x7f < (int)unaff_s5) {
        uVar2 = SR_SV_OBJ_32C();
        return uVar2;
      }
      if ((int)unaff_s5 < 0) {
        unaff_s5 = 0;
      }
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 2) =
         (ushort)unaff_s5 & 0x7fff | uVar5;
    do {
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x10000) != 0)) {
        _spu_FsetRXXa(unaff_s3 | 7,unaff_s0[8]);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x80) != 0)) {
        _spu_FsetRXXa(unaff_s3 | 3,unaff_s0[7]);
      }
      if (unaff_s2 == 0) {
        if ((unaff_s1 & 0x800) != 0) {
          if ((unaff_s1 & 0x100) != 0) goto SR_SV_OBJ_39C;
          goto code_r0x80090210;
        }
      }
      else {
SR_SV_OBJ_39C:
        if ((unaff_s0[9] != 1) && (unaff_s0[9] == 5)) {
          uVar2 = SR_SV_OBJ_3C0();
          return uVar2;
        }
code_r0x80090210:
        uVar3 = (uint)*(ushort *)(unaff_s0 + 0xc);
        if (0x7f < uVar3) {
          uVar3 = 0x7f;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) =
             *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) & 0xff |
             (ushort)(uVar3 << 8);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x1000) != 0)) {
        uVar3 = (uint)*(ushort *)((int)unaff_s0 + 0x32);
        if (0xf < uVar3) {
          uVar3 = 0xf;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) =
             *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) & 0xff0f |
             (ushort)(uVar3 << 4);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x8000) != 0)) {
        uVar5 = *(ushort *)(unaff_s0 + 0xe);
        if (0xf < uVar5) {
          uVar5 = 0xf;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) =
             uVar5 | *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) & 0xfff0;
      }
      if (unaff_s2 == 0) {
        if ((unaff_s1 & 0x2000) != 0) {
          uVar3 = 0;
          if ((unaff_s1 & 0x200) != 0) goto SR_SV_OBJ_4C4;
          goto code_r0x80090364;
        }
      }
      else {
SR_SV_OBJ_4C4:
        uVar4 = unaff_s0[10];
        if (uVar4 == 3) {
          uVar3 = 0x100;
        }
        else if ((int)uVar4 < 4) {
          uVar3 = 0;
          if (uVar4 != 1) {
            uVar2 = SR_SV_OBJ_514();
            return uVar2;
          }
        }
        else {
          if (uVar4 == 5) {
            uVar2 = SR_SV_OBJ_514();
            return uVar2;
          }
          uVar3 = 0x300;
          if (uVar4 != 7) {
            uVar2 = SR_SV_OBJ_514();
            return uVar2;
          }
        }
code_r0x80090364:
        uVar4 = (uint)*(ushort *)(unaff_s0 + 0xd);
        if (0x7f < uVar4) {
          uVar4 = 0x7f;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 10) =
             *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 10) & 0x3f |
             (ushort)((uVar4 | uVar3) << 6);
      }
      if (unaff_s2 == 0) {
        if ((unaff_s1 & 0x4000) != 0) {
          if ((unaff_s1 & 0x400) != 0) goto SR_SV_OBJ_574;
          goto code_r0x800903e8;
        }
      }
      else {
SR_SV_OBJ_574:
        if ((unaff_s0[0xb] != 3) && (unaff_s0[0xb] == 7)) {
          uVar2 = SR_SV_OBJ_598();
          return uVar2;
        }
code_r0x800903e8:
        uVar5 = *(ushort *)((int)unaff_s0 + 0x36);
        if (0x1f < uVar5) {
          uVar5 = 0x1f;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 10) =
             *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 10) & 0xffc0 | uVar5;
      }
      do {
        unaff_s4 = unaff_s4 + 1;
        if (unaff_s7 <= (int)unaff_s4) {
          if (in_stack_00000010 == 0) {
            _spu_Fw1ts();
          }
          return 0;
        }
      } while ((unaff_s8 == 0) && ((*unaff_s0 & 1 << (unaff_s4 & 0x1f)) == 0));
      unaff_s3 = unaff_s4 * 8;
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x10) != 0)) {
        *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 4) =
             *(undefined2 *)(unaff_s0 + 5);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x40) != 0)) {
        (&DAT_800a5218)[unaff_s4] = *(undefined2 *)(unaff_s0 + 6);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x20) != 0)) {
        uVar1 = _spu_note2pitch((ushort)(&DAT_800a5218)[unaff_s4] >> 8,
                                (&DAT_800a5218)[unaff_s4] & 0xff,
                                *(ushort *)((int)unaff_s0 + 0x16) >> 8,
                                *(ushort *)((int)unaff_s0 + 0x16) & 0xff);
        *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 4) = uVar1;
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x20000) != 0)) {
        *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 8) =
             *(undefined2 *)((int)unaff_s0 + 0x3a);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x40000) != 0)) {
        *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 10) =
             *(undefined2 *)(unaff_s0 + 0xf);
      }
      if (unaff_s2 == 0) {
        if ((unaff_s1 & 1) != 0) {
          if ((unaff_s1 & 4) != 0) goto SR_SV_OBJ_1C0;
          goto SR_SV_OBJ_224;
        }
      }
      else {
SR_SV_OBJ_1C0:
        switch(*(undefined2 *)(unaff_s0 + 3)) {
        default:
SR_SV_OBJ_224:
          unaff_s6 = (uint)*(ushort *)(unaff_s0 + 2);
          uVar5 = 0;
          break;
        case 1:
          uVar5 = 0x8000;
          break;
        case 2:
          uVar5 = 0x9000;
          break;
        case 3:
          uVar5 = 0xa000;
          break;
        case 4:
          uVar5 = 0xb000;
          break;
        case 5:
          uVar5 = 0xc000;
          break;
        case 6:
          uVar5 = 0xd000;
          break;
        case 7:
          uVar5 = 0xe000;
        }
        if (uVar5 != 0) {
          unaff_s6 = (uint)*(short *)(unaff_s0 + 2);
          if (0x7f < (int)unaff_s6) {
            uVar2 = SR_SV_OBJ_25C();
            return uVar2;
          }
          if ((int)unaff_s6 < 0) {
            unaff_s6 = 0;
          }
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10) =
             (ushort)unaff_s6 & 0x7fff | uVar5;
      }
      if (unaff_s2 != 0) goto SR_SV_OBJ_290;
    } while ((unaff_s1 & 2) == 0);
    if ((unaff_s1 & 8) == 0) {
SR_SV_OBJ_2F4:
      unaff_s5 = (uint)*(ushort *)((int)unaff_s0 + 10);
      uVar5 = 0;
      goto SR_SV_OBJ_2FC;
    }
SR_SV_OBJ_290:
    switch(*(undefined2 *)((int)unaff_s0 + 0xe)) {
    default:
      goto SR_SV_OBJ_2F4;
    case 1:
      uVar5 = 0x8000;
      break;
    case 2:
      uVar5 = 0x9000;
      break;
    case 3:
      uVar5 = 0xa000;
      break;
    case 4:
      uVar5 = 0xb000;
      break;
    case 5:
      uVar5 = 0xc000;
      break;
    case 6:
      goto code_r0x80090134;
    case 7:
      uVar5 = 0xe000;
    }
  } while( true );
}



undefined4 SR_SV_OBJ_2EC(void)

{
  undefined2 uVar1;
  undefined4 uVar2;
  uint uVar3;
  uint uVar4;
  ushort uVar5;
  uint *unaff_s0;
  uint unaff_s1;
  int unaff_s2;
  uint unaff_s3;
  uint unaff_s4;
  uint unaff_s5;
  uint unaff_s6;
  int unaff_s7;
  int unaff_s8;
  int in_stack_00000010;
  
code_r0x8009013c:
  uVar5 = 0xe000;
SR_SV_OBJ_2FC:
  do {
    if (uVar5 != 0) {
      unaff_s5 = (uint)*(short *)((int)unaff_s0 + 10);
      if (0x7f < (int)unaff_s5) {
        uVar2 = SR_SV_OBJ_32C();
        return uVar2;
      }
      if ((int)unaff_s5 < 0) {
        unaff_s5 = 0;
      }
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 2) =
         (ushort)unaff_s5 & 0x7fff | uVar5;
    do {
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x10000) != 0)) {
        _spu_FsetRXXa(unaff_s3 | 7,unaff_s0[8]);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x80) != 0)) {
        _spu_FsetRXXa(unaff_s3 | 3,unaff_s0[7]);
      }
      if (unaff_s2 == 0) {
        if ((unaff_s1 & 0x800) != 0) {
          if ((unaff_s1 & 0x100) != 0) goto SR_SV_OBJ_39C;
          goto code_r0x80090210;
        }
      }
      else {
SR_SV_OBJ_39C:
        if ((unaff_s0[9] != 1) && (unaff_s0[9] == 5)) {
          uVar2 = SR_SV_OBJ_3C0();
          return uVar2;
        }
code_r0x80090210:
        uVar3 = (uint)*(ushort *)(unaff_s0 + 0xc);
        if (0x7f < uVar3) {
          uVar3 = 0x7f;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) =
             *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) & 0xff |
             (ushort)(uVar3 << 8);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x1000) != 0)) {
        uVar3 = (uint)*(ushort *)((int)unaff_s0 + 0x32);
        if (0xf < uVar3) {
          uVar3 = 0xf;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) =
             *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) & 0xff0f |
             (ushort)(uVar3 << 4);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x8000) != 0)) {
        uVar5 = *(ushort *)(unaff_s0 + 0xe);
        if (0xf < uVar5) {
          uVar5 = 0xf;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) =
             uVar5 | *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) & 0xfff0;
      }
      if (unaff_s2 == 0) {
        if ((unaff_s1 & 0x2000) != 0) {
          uVar3 = 0;
          if ((unaff_s1 & 0x200) != 0) goto SR_SV_OBJ_4C4;
          goto code_r0x80090364;
        }
      }
      else {
SR_SV_OBJ_4C4:
        uVar4 = unaff_s0[10];
        if (uVar4 == 3) {
          uVar3 = 0x100;
        }
        else if ((int)uVar4 < 4) {
          uVar3 = 0;
          if (uVar4 != 1) {
            uVar2 = SR_SV_OBJ_514();
            return uVar2;
          }
        }
        else {
          if (uVar4 == 5) {
            uVar2 = SR_SV_OBJ_514();
            return uVar2;
          }
          uVar3 = 0x300;
          if (uVar4 != 7) {
            uVar2 = SR_SV_OBJ_514();
            return uVar2;
          }
        }
code_r0x80090364:
        uVar4 = (uint)*(ushort *)(unaff_s0 + 0xd);
        if (0x7f < uVar4) {
          uVar4 = 0x7f;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 10) =
             *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 10) & 0x3f |
             (ushort)((uVar4 | uVar3) << 6);
      }
      if (unaff_s2 == 0) {
        if ((unaff_s1 & 0x4000) != 0) {
          if ((unaff_s1 & 0x400) != 0) goto SR_SV_OBJ_574;
          goto code_r0x800903e8;
        }
      }
      else {
SR_SV_OBJ_574:
        if ((unaff_s0[0xb] != 3) && (unaff_s0[0xb] == 7)) {
          uVar2 = SR_SV_OBJ_598();
          return uVar2;
        }
code_r0x800903e8:
        uVar5 = *(ushort *)((int)unaff_s0 + 0x36);
        if (0x1f < uVar5) {
          uVar5 = 0x1f;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 10) =
             *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 10) & 0xffc0 | uVar5;
      }
      do {
        unaff_s4 = unaff_s4 + 1;
        if (unaff_s7 <= (int)unaff_s4) {
          if (in_stack_00000010 == 0) {
            _spu_Fw1ts();
          }
          return 0;
        }
      } while ((unaff_s8 == 0) && ((*unaff_s0 & 1 << (unaff_s4 & 0x1f)) == 0));
      unaff_s3 = unaff_s4 * 8;
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x10) != 0)) {
        *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 4) =
             *(undefined2 *)(unaff_s0 + 5);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x40) != 0)) {
        (&DAT_800a5218)[unaff_s4] = *(undefined2 *)(unaff_s0 + 6);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x20) != 0)) {
        uVar1 = _spu_note2pitch((ushort)(&DAT_800a5218)[unaff_s4] >> 8,
                                (&DAT_800a5218)[unaff_s4] & 0xff,
                                *(ushort *)((int)unaff_s0 + 0x16) >> 8,
                                *(ushort *)((int)unaff_s0 + 0x16) & 0xff);
        *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 4) = uVar1;
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x20000) != 0)) {
        *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 8) =
             *(undefined2 *)((int)unaff_s0 + 0x3a);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x40000) != 0)) {
        *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 10) =
             *(undefined2 *)(unaff_s0 + 0xf);
      }
      if (unaff_s2 == 0) {
        if ((unaff_s1 & 1) != 0) {
          if ((unaff_s1 & 4) != 0) goto SR_SV_OBJ_1C0;
          goto SR_SV_OBJ_224;
        }
      }
      else {
SR_SV_OBJ_1C0:
        switch(*(undefined2 *)(unaff_s0 + 3)) {
        default:
SR_SV_OBJ_224:
          unaff_s6 = (uint)*(ushort *)(unaff_s0 + 2);
          uVar5 = 0;
          break;
        case 1:
          uVar5 = 0x8000;
          break;
        case 2:
          uVar5 = 0x9000;
          break;
        case 3:
          uVar5 = 0xa000;
          break;
        case 4:
          uVar5 = 0xb000;
          break;
        case 5:
          uVar5 = 0xc000;
          break;
        case 6:
          uVar5 = 0xd000;
          break;
        case 7:
          uVar5 = 0xe000;
        }
        if (uVar5 != 0) {
          unaff_s6 = (uint)*(short *)(unaff_s0 + 2);
          if (0x7f < (int)unaff_s6) {
            uVar2 = SR_SV_OBJ_25C();
            return uVar2;
          }
          if ((int)unaff_s6 < 0) {
            unaff_s6 = 0;
          }
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10) =
             (ushort)unaff_s6 & 0x7fff | uVar5;
      }
      if (unaff_s2 != 0) goto SR_SV_OBJ_290;
    } while ((unaff_s1 & 2) == 0);
    if ((unaff_s1 & 8) == 0) {
SR_SV_OBJ_2F4:
      unaff_s5 = (uint)*(ushort *)((int)unaff_s0 + 10);
      uVar5 = 0;
      goto SR_SV_OBJ_2FC;
    }
SR_SV_OBJ_290:
    switch(*(undefined2 *)((int)unaff_s0 + 0xe)) {
    default:
      goto SR_SV_OBJ_2F4;
    case 1:
      uVar5 = 0x8000;
      break;
    case 2:
      uVar5 = 0x9000;
      break;
    case 3:
      uVar5 = 0xa000;
      break;
    case 4:
      uVar5 = 0xb000;
      break;
    case 5:
      uVar5 = 0xc000;
      break;
    case 6:
      uVar5 = 0xd000;
      break;
    case 7:
      goto code_r0x8009013c;
    }
  } while( true );
}



undefined4 SR_SV_OBJ_2F4(void)

{
  undefined2 uVar1;
  undefined4 uVar2;
  uint uVar3;
  uint uVar4;
  ushort uVar5;
  uint *unaff_s0;
  uint unaff_s1;
  int unaff_s2;
  uint unaff_s3;
  uint unaff_s4;
  uint uVar6;
  uint unaff_s6;
  int unaff_s7;
  int unaff_s8;
  int in_stack_00000010;
  
code_r0x80090144:
  do {
    uVar6 = (uint)*(ushort *)((int)unaff_s0 + 10);
    uVar5 = 0;
SR_SV_OBJ_2FC:
    if (uVar5 != 0) {
      uVar6 = (uint)*(short *)((int)unaff_s0 + 10);
      if (0x7f < (int)uVar6) {
        uVar2 = SR_SV_OBJ_32C();
        return uVar2;
      }
      if ((int)uVar6 < 0) {
        uVar6 = 0;
      }
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 2) =
         (ushort)uVar6 & 0x7fff | uVar5;
    do {
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x10000) != 0)) {
        _spu_FsetRXXa(unaff_s3 | 7,unaff_s0[8]);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x80) != 0)) {
        _spu_FsetRXXa(unaff_s3 | 3,unaff_s0[7]);
      }
      if (unaff_s2 == 0) {
        if ((unaff_s1 & 0x800) != 0) {
          if ((unaff_s1 & 0x100) != 0) goto SR_SV_OBJ_39C;
          goto code_r0x80090210;
        }
      }
      else {
SR_SV_OBJ_39C:
        if ((unaff_s0[9] != 1) && (unaff_s0[9] == 5)) {
          uVar2 = SR_SV_OBJ_3C0();
          return uVar2;
        }
code_r0x80090210:
        uVar3 = (uint)*(ushort *)(unaff_s0 + 0xc);
        if (0x7f < uVar3) {
          uVar3 = 0x7f;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) =
             *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) & 0xff |
             (ushort)(uVar3 << 8);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x1000) != 0)) {
        uVar3 = (uint)*(ushort *)((int)unaff_s0 + 0x32);
        if (0xf < uVar3) {
          uVar3 = 0xf;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) =
             *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) & 0xff0f |
             (ushort)(uVar3 << 4);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x8000) != 0)) {
        uVar5 = *(ushort *)(unaff_s0 + 0xe);
        if (0xf < uVar5) {
          uVar5 = 0xf;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) =
             uVar5 | *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) & 0xfff0;
      }
      if (unaff_s2 == 0) {
        if ((unaff_s1 & 0x2000) != 0) {
          uVar3 = 0;
          if ((unaff_s1 & 0x200) != 0) goto SR_SV_OBJ_4C4;
          goto code_r0x80090364;
        }
      }
      else {
SR_SV_OBJ_4C4:
        uVar4 = unaff_s0[10];
        if (uVar4 == 3) {
          uVar3 = 0x100;
        }
        else if ((int)uVar4 < 4) {
          uVar3 = 0;
          if (uVar4 != 1) {
            uVar2 = SR_SV_OBJ_514();
            return uVar2;
          }
        }
        else {
          if (uVar4 == 5) {
            uVar2 = SR_SV_OBJ_514();
            return uVar2;
          }
          uVar3 = 0x300;
          if (uVar4 != 7) {
            uVar2 = SR_SV_OBJ_514();
            return uVar2;
          }
        }
code_r0x80090364:
        uVar4 = (uint)*(ushort *)(unaff_s0 + 0xd);
        if (0x7f < uVar4) {
          uVar4 = 0x7f;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 10) =
             *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 10) & 0x3f |
             (ushort)((uVar4 | uVar3) << 6);
      }
      if (unaff_s2 == 0) {
        if ((unaff_s1 & 0x4000) != 0) {
          if ((unaff_s1 & 0x400) != 0) goto SR_SV_OBJ_574;
          goto code_r0x800903e8;
        }
      }
      else {
SR_SV_OBJ_574:
        if ((unaff_s0[0xb] != 3) && (unaff_s0[0xb] == 7)) {
          uVar2 = SR_SV_OBJ_598();
          return uVar2;
        }
code_r0x800903e8:
        uVar5 = *(ushort *)((int)unaff_s0 + 0x36);
        if (0x1f < uVar5) {
          uVar5 = 0x1f;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 10) =
             *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 10) & 0xffc0 | uVar5;
      }
      do {
        unaff_s4 = unaff_s4 + 1;
        if (unaff_s7 <= (int)unaff_s4) {
          if (in_stack_00000010 == 0) {
            _spu_Fw1ts();
          }
          return 0;
        }
      } while ((unaff_s8 == 0) && ((*unaff_s0 & 1 << (unaff_s4 & 0x1f)) == 0));
      unaff_s3 = unaff_s4 * 8;
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x10) != 0)) {
        *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 4) =
             *(undefined2 *)(unaff_s0 + 5);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x40) != 0)) {
        (&DAT_800a5218)[unaff_s4] = *(undefined2 *)(unaff_s0 + 6);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x20) != 0)) {
        uVar1 = _spu_note2pitch((ushort)(&DAT_800a5218)[unaff_s4] >> 8,
                                (&DAT_800a5218)[unaff_s4] & 0xff,
                                *(ushort *)((int)unaff_s0 + 0x16) >> 8,
                                *(ushort *)((int)unaff_s0 + 0x16) & 0xff);
        *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 4) = uVar1;
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x20000) != 0)) {
        *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 8) =
             *(undefined2 *)((int)unaff_s0 + 0x3a);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x40000) != 0)) {
        *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 10) =
             *(undefined2 *)(unaff_s0 + 0xf);
      }
      if (unaff_s2 == 0) {
        if ((unaff_s1 & 1) != 0) {
          if ((unaff_s1 & 4) != 0) goto SR_SV_OBJ_1C0;
          goto SR_SV_OBJ_224;
        }
      }
      else {
SR_SV_OBJ_1C0:
        switch(*(undefined2 *)(unaff_s0 + 3)) {
        default:
SR_SV_OBJ_224:
          unaff_s6 = (uint)*(ushort *)(unaff_s0 + 2);
          uVar5 = 0;
          break;
        case 1:
          uVar5 = 0x8000;
          break;
        case 2:
          uVar5 = 0x9000;
          break;
        case 3:
          uVar5 = 0xa000;
          break;
        case 4:
          uVar5 = 0xb000;
          break;
        case 5:
          uVar5 = 0xc000;
          break;
        case 6:
          uVar5 = 0xd000;
          break;
        case 7:
          uVar5 = 0xe000;
        }
        if (uVar5 != 0) {
          unaff_s6 = (uint)*(short *)(unaff_s0 + 2);
          if (0x7f < (int)unaff_s6) {
            uVar2 = SR_SV_OBJ_25C();
            return uVar2;
          }
          if ((int)unaff_s6 < 0) {
            unaff_s6 = 0;
          }
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10) =
             (ushort)unaff_s6 & 0x7fff | uVar5;
      }
      if (unaff_s2 != 0) goto SR_SV_OBJ_290;
    } while ((unaff_s1 & 2) == 0);
  } while ((unaff_s1 & 8) == 0);
SR_SV_OBJ_290:
  switch(*(undefined2 *)((int)unaff_s0 + 0xe)) {
  default:
    goto code_r0x80090144;
  case 1:
    uVar5 = 0x8000;
    break;
  case 2:
    uVar5 = 0x9000;
    break;
  case 3:
    uVar5 = 0xa000;
    break;
  case 4:
    uVar5 = 0xb000;
    break;
  case 5:
    uVar5 = 0xc000;
    break;
  case 6:
    uVar5 = 0xd000;
    break;
  case 7:
    uVar5 = 0xe000;
  }
  goto SR_SV_OBJ_2FC;
}



undefined4
SR_SV_OBJ_2FC(undefined4 param_1,int param_2,undefined4 param_3,undefined4 param_4,int param_5)

{
  undefined2 uVar1;
  undefined4 uVar2;
  uint uVar3;
  uint uVar4;
  ushort uVar5;
  uint *unaff_s0;
  uint unaff_s1;
  int unaff_s2;
  uint unaff_s3;
  uint unaff_s4;
  uint unaff_s5;
  uint unaff_s6;
  int unaff_s7;
  int unaff_s8;
  
code_r0x8009014c:
  do {
    if (param_2 != 0) {
      unaff_s5 = (uint)*(short *)((int)unaff_s0 + 10);
      if (0x7f < (int)unaff_s5) {
        uVar2 = SR_SV_OBJ_32C();
        return uVar2;
      }
      if ((int)unaff_s5 < 0) {
        unaff_s5 = 0;
      }
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 2) =
         (ushort)unaff_s5 & 0x7fff | (ushort)param_2;
    do {
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x10000) != 0)) {
        _spu_FsetRXXa(unaff_s3 | 7,unaff_s0[8]);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x80) != 0)) {
        _spu_FsetRXXa(unaff_s3 | 3,unaff_s0[7]);
      }
      if (unaff_s2 == 0) {
        if ((unaff_s1 & 0x800) != 0) {
          if ((unaff_s1 & 0x100) != 0) goto SR_SV_OBJ_39C;
          goto code_r0x80090210;
        }
      }
      else {
SR_SV_OBJ_39C:
        if ((unaff_s0[9] != 1) && (unaff_s0[9] == 5)) {
          uVar2 = SR_SV_OBJ_3C0();
          return uVar2;
        }
code_r0x80090210:
        uVar3 = (uint)*(ushort *)(unaff_s0 + 0xc);
        if (0x7f < uVar3) {
          uVar3 = 0x7f;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) =
             *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) & 0xff |
             (ushort)(uVar3 << 8);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x1000) != 0)) {
        uVar3 = (uint)*(ushort *)((int)unaff_s0 + 0x32);
        if (0xf < uVar3) {
          uVar3 = 0xf;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) =
             *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) & 0xff0f |
             (ushort)(uVar3 << 4);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x8000) != 0)) {
        uVar5 = *(ushort *)(unaff_s0 + 0xe);
        if (0xf < uVar5) {
          uVar5 = 0xf;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) =
             uVar5 | *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) & 0xfff0;
      }
      if (unaff_s2 == 0) {
        if ((unaff_s1 & 0x2000) != 0) {
          uVar3 = 0;
          if ((unaff_s1 & 0x200) != 0) goto SR_SV_OBJ_4C4;
          goto code_r0x80090364;
        }
      }
      else {
SR_SV_OBJ_4C4:
        uVar4 = unaff_s0[10];
        if (uVar4 == 3) {
          uVar3 = 0x100;
        }
        else if ((int)uVar4 < 4) {
          uVar3 = 0;
          if (uVar4 != 1) {
            uVar2 = SR_SV_OBJ_514();
            return uVar2;
          }
        }
        else {
          if (uVar4 == 5) {
            uVar2 = SR_SV_OBJ_514();
            return uVar2;
          }
          uVar3 = 0x300;
          if (uVar4 != 7) {
            uVar2 = SR_SV_OBJ_514();
            return uVar2;
          }
        }
code_r0x80090364:
        uVar4 = (uint)*(ushort *)(unaff_s0 + 0xd);
        if (0x7f < uVar4) {
          uVar4 = 0x7f;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 10) =
             *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 10) & 0x3f |
             (ushort)((uVar4 | uVar3) << 6);
      }
      if (unaff_s2 == 0) {
        if ((unaff_s1 & 0x4000) != 0) {
          if ((unaff_s1 & 0x400) != 0) goto SR_SV_OBJ_574;
          goto code_r0x800903e8;
        }
      }
      else {
SR_SV_OBJ_574:
        if ((unaff_s0[0xb] != 3) && (unaff_s0[0xb] == 7)) {
          uVar2 = SR_SV_OBJ_598();
          return uVar2;
        }
code_r0x800903e8:
        uVar5 = *(ushort *)((int)unaff_s0 + 0x36);
        if (0x1f < uVar5) {
          uVar5 = 0x1f;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 10) =
             *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 10) & 0xffc0 | uVar5;
      }
      do {
        unaff_s4 = unaff_s4 + 1;
        if (unaff_s7 <= (int)unaff_s4) {
          if (param_5 == 0) {
            _spu_Fw1ts();
          }
          return 0;
        }
      } while ((unaff_s8 == 0) && ((*unaff_s0 & 1 << (unaff_s4 & 0x1f)) == 0));
      unaff_s3 = unaff_s4 * 8;
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x10) != 0)) {
        *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 4) =
             *(undefined2 *)(unaff_s0 + 5);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x40) != 0)) {
        (&DAT_800a5218)[unaff_s4] = *(undefined2 *)(unaff_s0 + 6);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x20) != 0)) {
        uVar1 = _spu_note2pitch((ushort)(&DAT_800a5218)[unaff_s4] >> 8,
                                (&DAT_800a5218)[unaff_s4] & 0xff,
                                *(ushort *)((int)unaff_s0 + 0x16) >> 8,
                                *(ushort *)((int)unaff_s0 + 0x16) & 0xff);
        *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 4) = uVar1;
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x20000) != 0)) {
        *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 8) =
             *(undefined2 *)((int)unaff_s0 + 0x3a);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x40000) != 0)) {
        *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 10) =
             *(undefined2 *)(unaff_s0 + 0xf);
      }
      if (unaff_s2 == 0) {
        if ((unaff_s1 & 1) != 0) {
          if ((unaff_s1 & 4) != 0) goto SR_SV_OBJ_1C0;
          goto SR_SV_OBJ_224;
        }
      }
      else {
SR_SV_OBJ_1C0:
        switch(*(undefined2 *)(unaff_s0 + 3)) {
        default:
SR_SV_OBJ_224:
          unaff_s6 = (uint)*(ushort *)(unaff_s0 + 2);
          uVar5 = 0;
          break;
        case 1:
          uVar5 = 0x8000;
          break;
        case 2:
          uVar5 = 0x9000;
          break;
        case 3:
          uVar5 = 0xa000;
          break;
        case 4:
          uVar5 = 0xb000;
          break;
        case 5:
          uVar5 = 0xc000;
          break;
        case 6:
          uVar5 = 0xd000;
          break;
        case 7:
          uVar5 = 0xe000;
        }
        if (uVar5 != 0) {
          unaff_s6 = (uint)*(short *)(unaff_s0 + 2);
          if (0x7f < (int)unaff_s6) {
            uVar2 = SR_SV_OBJ_25C();
            return uVar2;
          }
          if ((int)unaff_s6 < 0) {
            unaff_s6 = 0;
          }
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10) =
             (ushort)unaff_s6 & 0x7fff | uVar5;
      }
      if (unaff_s2 != 0) goto SR_SV_OBJ_290;
    } while ((unaff_s1 & 2) == 0);
    if ((unaff_s1 & 8) == 0) {
SR_SV_OBJ_2F4:
      unaff_s5 = (uint)*(ushort *)((int)unaff_s0 + 10);
      param_2 = 0;
      goto code_r0x8009014c;
    }
SR_SV_OBJ_290:
    switch(*(undefined2 *)((int)unaff_s0 + 0xe)) {
    default:
      goto SR_SV_OBJ_2F4;
    case 1:
      param_2 = 0x8000;
      break;
    case 2:
      param_2 = 0x9000;
      break;
    case 3:
      param_2 = 0xa000;
      break;
    case 4:
      param_2 = 0xb000;
      break;
    case 5:
      param_2 = 0xc000;
      break;
    case 6:
      param_2 = 0xd000;
      break;
    case 7:
      param_2 = 0xe000;
    }
  } while( true );
}



undefined4
SR_SV_OBJ_32C(undefined4 param_1,ushort param_2,undefined4 param_3,undefined4 param_4,int param_5)

{
  undefined2 uVar1;
  undefined4 uVar2;
  uint uVar3;
  uint uVar4;
  ushort uVar5;
  uint *unaff_s0;
  uint unaff_s1;
  int unaff_s2;
  uint unaff_s3;
  uint unaff_s4;
  uint unaff_s5;
  uint unaff_s6;
  int unaff_s7;
  int unaff_s8;
  
  do {
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 2) =
         (ushort)unaff_s5 & 0x7fff | param_2;
    do {
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x10000) != 0)) {
        _spu_FsetRXXa(unaff_s3 | 7,unaff_s0[8]);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x80) != 0)) {
        _spu_FsetRXXa(unaff_s3 | 3,unaff_s0[7]);
      }
      if (unaff_s2 == 0) {
        if ((unaff_s1 & 0x800) != 0) {
          if ((unaff_s1 & 0x100) != 0) goto SR_SV_OBJ_39C;
          goto code_r0x80090210;
        }
      }
      else {
SR_SV_OBJ_39C:
        if ((unaff_s0[9] != 1) && (unaff_s0[9] == 5)) {
          uVar2 = SR_SV_OBJ_3C0();
          return uVar2;
        }
code_r0x80090210:
        uVar3 = (uint)*(ushort *)(unaff_s0 + 0xc);
        if (0x7f < uVar3) {
          uVar3 = 0x7f;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) =
             *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) & 0xff |
             (ushort)(uVar3 << 8);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x1000) != 0)) {
        uVar3 = (uint)*(ushort *)((int)unaff_s0 + 0x32);
        if (0xf < uVar3) {
          uVar3 = 0xf;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) =
             *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) & 0xff0f |
             (ushort)(uVar3 << 4);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x8000) != 0)) {
        uVar5 = *(ushort *)(unaff_s0 + 0xe);
        if (0xf < uVar5) {
          uVar5 = 0xf;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) =
             uVar5 | *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) & 0xfff0;
      }
      if (unaff_s2 == 0) {
        if ((unaff_s1 & 0x2000) != 0) {
          uVar3 = 0;
          if ((unaff_s1 & 0x200) != 0) goto SR_SV_OBJ_4C4;
          goto code_r0x80090364;
        }
      }
      else {
SR_SV_OBJ_4C4:
        uVar4 = unaff_s0[10];
        if (uVar4 == 3) {
          uVar3 = 0x100;
        }
        else if ((int)uVar4 < 4) {
          uVar3 = 0;
          if (uVar4 != 1) {
            uVar2 = SR_SV_OBJ_514();
            return uVar2;
          }
        }
        else {
          if (uVar4 == 5) {
            uVar2 = SR_SV_OBJ_514();
            return uVar2;
          }
          uVar3 = 0x300;
          if (uVar4 != 7) {
            uVar2 = SR_SV_OBJ_514();
            return uVar2;
          }
        }
code_r0x80090364:
        uVar4 = (uint)*(ushort *)(unaff_s0 + 0xd);
        if (0x7f < uVar4) {
          uVar4 = 0x7f;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 10) =
             *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 10) & 0x3f |
             (ushort)((uVar4 | uVar3) << 6);
      }
      if (unaff_s2 == 0) {
        if ((unaff_s1 & 0x4000) != 0) {
          if ((unaff_s1 & 0x400) != 0) goto SR_SV_OBJ_574;
          goto code_r0x800903e8;
        }
      }
      else {
SR_SV_OBJ_574:
        if ((unaff_s0[0xb] != 3) && (unaff_s0[0xb] == 7)) {
          uVar2 = SR_SV_OBJ_598();
          return uVar2;
        }
code_r0x800903e8:
        uVar5 = *(ushort *)((int)unaff_s0 + 0x36);
        if (0x1f < uVar5) {
          uVar5 = 0x1f;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 10) =
             *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 10) & 0xffc0 | uVar5;
      }
      do {
        unaff_s4 = unaff_s4 + 1;
        if (unaff_s7 <= (int)unaff_s4) {
          if (param_5 == 0) {
            _spu_Fw1ts();
          }
          return 0;
        }
      } while ((unaff_s8 == 0) && ((*unaff_s0 & 1 << (unaff_s4 & 0x1f)) == 0));
      unaff_s3 = unaff_s4 * 8;
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x10) != 0)) {
        *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 4) =
             *(undefined2 *)(unaff_s0 + 5);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x40) != 0)) {
        (&DAT_800a5218)[unaff_s4] = *(undefined2 *)(unaff_s0 + 6);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x20) != 0)) {
        uVar1 = _spu_note2pitch((ushort)(&DAT_800a5218)[unaff_s4] >> 8,
                                (&DAT_800a5218)[unaff_s4] & 0xff,
                                *(ushort *)((int)unaff_s0 + 0x16) >> 8,
                                *(ushort *)((int)unaff_s0 + 0x16) & 0xff);
        *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 4) = uVar1;
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x20000) != 0)) {
        *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 8) =
             *(undefined2 *)((int)unaff_s0 + 0x3a);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x40000) != 0)) {
        *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 10) =
             *(undefined2 *)(unaff_s0 + 0xf);
      }
      if (unaff_s2 == 0) {
        if ((unaff_s1 & 1) != 0) {
          if ((unaff_s1 & 4) != 0) goto SR_SV_OBJ_1C0;
          goto SR_SV_OBJ_224;
        }
      }
      else {
SR_SV_OBJ_1C0:
        switch(*(undefined2 *)(unaff_s0 + 3)) {
        default:
SR_SV_OBJ_224:
          unaff_s6 = (uint)*(ushort *)(unaff_s0 + 2);
          uVar5 = 0;
          break;
        case 1:
          uVar5 = 0x8000;
          break;
        case 2:
          uVar5 = 0x9000;
          break;
        case 3:
          uVar5 = 0xa000;
          break;
        case 4:
          uVar5 = 0xb000;
          break;
        case 5:
          uVar5 = 0xc000;
          break;
        case 6:
          uVar5 = 0xd000;
          break;
        case 7:
          uVar5 = 0xe000;
        }
        if (uVar5 != 0) {
          unaff_s6 = (uint)*(short *)(unaff_s0 + 2);
          if (0x7f < (int)unaff_s6) {
            uVar2 = SR_SV_OBJ_25C();
            return uVar2;
          }
          if ((int)unaff_s6 < 0) {
            unaff_s6 = 0;
          }
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10) =
             (ushort)unaff_s6 & 0x7fff | uVar5;
      }
      if (unaff_s2 != 0) goto SR_SV_OBJ_290;
    } while ((unaff_s1 & 2) == 0);
    if ((unaff_s1 & 8) == 0) {
SR_SV_OBJ_2F4:
      unaff_s5 = (uint)*(ushort *)((int)unaff_s0 + 10);
      param_2 = 0;
    }
    else {
SR_SV_OBJ_290:
      switch(*(undefined2 *)((int)unaff_s0 + 0xe)) {
      default:
        goto SR_SV_OBJ_2F4;
      case 1:
        param_2 = 0x8000;
        break;
      case 2:
        param_2 = 0x9000;
        break;
      case 3:
        param_2 = 0xa000;
        break;
      case 4:
        param_2 = 0xb000;
        break;
      case 5:
        param_2 = 0xc000;
        break;
      case 6:
        param_2 = 0xd000;
        break;
      case 7:
        param_2 = 0xe000;
      }
    }
    if (param_2 != 0) {
      unaff_s5 = (uint)*(short *)((int)unaff_s0 + 10);
      if (0x7f < (int)unaff_s5) {
        uVar2 = SR_SV_OBJ_32C();
        return uVar2;
      }
      if ((int)unaff_s5 < 0) {
        unaff_s5 = 0;
      }
    }
  } while( true );
}



undefined4
SR_SV_OBJ_3C0(undefined4 param_1,undefined4 param_2,uint param_3,undefined4 param_4,int param_5)

{
  undefined2 uVar1;
  uint uVar2;
  undefined4 uVar3;
  uint uVar4;
  ushort uVar5;
  uint *unaff_s0;
  uint unaff_s1;
  int unaff_s2;
  uint unaff_s3;
  uint unaff_s4;
  uint unaff_s5;
  uint unaff_s6;
  int unaff_s7;
  int unaff_s8;
  
  do {
    uVar2 = (uint)*(ushort *)(unaff_s0 + 0xc);
    if (0x7f < uVar2) {
      uVar2 = 0x7f;
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) =
         *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) & 0xff |
         (ushort)((uVar2 | param_3) << 8);
    do {
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x1000) != 0)) {
        uVar2 = (uint)*(ushort *)((int)unaff_s0 + 0x32);
        if (0xf < uVar2) {
          uVar2 = 0xf;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) =
             *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) & 0xff0f |
             (ushort)(uVar2 << 4);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x8000) != 0)) {
        uVar5 = *(ushort *)(unaff_s0 + 0xe);
        if (0xf < uVar5) {
          uVar5 = 0xf;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) =
             uVar5 | *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 8) & 0xfff0;
      }
      if (unaff_s2 == 0) {
        if ((unaff_s1 & 0x2000) != 0) {
          uVar2 = 0;
          if ((unaff_s1 & 0x200) != 0) goto SR_SV_OBJ_4C4;
          goto code_r0x80090364;
        }
      }
      else {
SR_SV_OBJ_4C4:
        uVar4 = unaff_s0[10];
        if (uVar4 == 3) {
          uVar2 = 0x100;
        }
        else if ((int)uVar4 < 4) {
          uVar2 = 0;
          if (uVar4 != 1) {
            uVar3 = SR_SV_OBJ_514();
            return uVar3;
          }
        }
        else {
          if (uVar4 == 5) {
            uVar3 = SR_SV_OBJ_514();
            return uVar3;
          }
          uVar2 = 0x300;
          if (uVar4 != 7) {
            uVar3 = SR_SV_OBJ_514();
            return uVar3;
          }
        }
code_r0x80090364:
        uVar4 = (uint)*(ushort *)(unaff_s0 + 0xd);
        if (0x7f < uVar4) {
          uVar4 = 0x7f;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 10) =
             *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 10) & 0x3f |
             (ushort)((uVar4 | uVar2) << 6);
      }
      if (unaff_s2 == 0) {
        if ((unaff_s1 & 0x4000) != 0) {
          if ((unaff_s1 & 0x400) != 0) goto SR_SV_OBJ_574;
          goto code_r0x800903e8;
        }
      }
      else {
SR_SV_OBJ_574:
        if ((unaff_s0[0xb] != 3) && (unaff_s0[0xb] == 7)) {
          uVar3 = SR_SV_OBJ_598();
          return uVar3;
        }
code_r0x800903e8:
        uVar5 = *(ushort *)((int)unaff_s0 + 0x36);
        if (0x1f < uVar5) {
          uVar5 = 0x1f;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 10) =
             *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 10) & 0xffc0 | uVar5;
      }
      do {
        unaff_s4 = unaff_s4 + 1;
        if (unaff_s7 <= (int)unaff_s4) {
          if (param_5 == 0) {
            _spu_Fw1ts();
          }
          return 0;
        }
      } while ((unaff_s8 == 0) && ((*unaff_s0 & 1 << (unaff_s4 & 0x1f)) == 0));
      unaff_s3 = unaff_s4 * 8;
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x10) != 0)) {
        *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 4) =
             *(undefined2 *)(unaff_s0 + 5);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x40) != 0)) {
        (&DAT_800a5218)[unaff_s4] = *(undefined2 *)(unaff_s0 + 6);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x20) != 0)) {
        uVar1 = _spu_note2pitch((ushort)(&DAT_800a5218)[unaff_s4] >> 8,
                                (&DAT_800a5218)[unaff_s4] & 0xff,
                                *(ushort *)((int)unaff_s0 + 0x16) >> 8,
                                *(ushort *)((int)unaff_s0 + 0x16) & 0xff);
        *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 4) = uVar1;
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x20000) != 0)) {
        *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 8) =
             *(undefined2 *)((int)unaff_s0 + 0x3a);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x40000) != 0)) {
        *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 10) =
             *(undefined2 *)(unaff_s0 + 0xf);
      }
      if (unaff_s2 == 0) {
        if ((unaff_s1 & 1) != 0) {
          if ((unaff_s1 & 4) != 0) goto SR_SV_OBJ_1C0;
          goto SR_SV_OBJ_224;
        }
      }
      else {
SR_SV_OBJ_1C0:
        switch(*(undefined2 *)(unaff_s0 + 3)) {
        default:
SR_SV_OBJ_224:
          unaff_s6 = (uint)*(ushort *)(unaff_s0 + 2);
          uVar5 = 0;
          break;
        case 1:
          uVar5 = 0x8000;
          break;
        case 2:
          uVar5 = 0x9000;
          break;
        case 3:
          uVar5 = 0xa000;
          break;
        case 4:
          uVar5 = 0xb000;
          break;
        case 5:
          uVar5 = 0xc000;
          break;
        case 6:
          uVar5 = 0xd000;
          break;
        case 7:
          uVar5 = 0xe000;
        }
        if (uVar5 != 0) {
          unaff_s6 = (uint)*(short *)(unaff_s0 + 2);
          if (0x7f < (int)unaff_s6) {
            uVar3 = SR_SV_OBJ_25C();
            return uVar3;
          }
          if ((int)unaff_s6 < 0) {
            unaff_s6 = 0;
          }
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10) =
             (ushort)unaff_s6 & 0x7fff | uVar5;
      }
      if (unaff_s2 == 0) {
        if ((unaff_s1 & 2) != 0) {
          if ((unaff_s1 & 8) != 0) goto SR_SV_OBJ_290;
          goto SR_SV_OBJ_2F4;
        }
      }
      else {
SR_SV_OBJ_290:
        switch(*(undefined2 *)((int)unaff_s0 + 0xe)) {
        default:
SR_SV_OBJ_2F4:
          unaff_s5 = (uint)*(ushort *)((int)unaff_s0 + 10);
          uVar5 = 0;
          break;
        case 1:
          uVar5 = 0x8000;
          break;
        case 2:
          uVar5 = 0x9000;
          break;
        case 3:
          uVar5 = 0xa000;
          break;
        case 4:
          uVar5 = 0xb000;
          break;
        case 5:
          uVar5 = 0xc000;
          break;
        case 6:
          uVar5 = 0xd000;
          break;
        case 7:
          uVar5 = 0xe000;
        }
        if (uVar5 != 0) {
          unaff_s5 = (uint)*(short *)((int)unaff_s0 + 10);
          if (0x7f < (int)unaff_s5) {
            uVar3 = SR_SV_OBJ_32C();
            return uVar3;
          }
          if ((int)unaff_s5 < 0) {
            unaff_s5 = 0;
          }
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 2) =
             (ushort)unaff_s5 & 0x7fff | uVar5;
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x10000) != 0)) {
        _spu_FsetRXXa(unaff_s3 | 7,unaff_s0[8]);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x80) != 0)) {
        _spu_FsetRXXa(unaff_s3 | 3,unaff_s0[7]);
      }
      if (unaff_s2 != 0) goto SR_SV_OBJ_39C;
    } while ((unaff_s1 & 0x800) == 0);
    param_3 = 0;
    if ((unaff_s1 & 0x100) != 0) {
SR_SV_OBJ_39C:
      if (unaff_s0[9] == 1) {
        param_3 = 0;
      }
      else {
        param_3 = 0;
        if (unaff_s0[9] == 5) {
          uVar3 = SR_SV_OBJ_3C0();
          return uVar3;
        }
      }
    }
  } while( true );
}



undefined4
SR_SV_OBJ_514(undefined4 param_1,undefined4 param_2,uint param_3,undefined4 param_4,int param_5)

{
  undefined2 uVar1;
  uint uVar2;
  undefined4 uVar3;
  ushort uVar4;
  uint *unaff_s0;
  uint unaff_s1;
  int unaff_s2;
  uint unaff_s3;
  uint unaff_s4;
  uint unaff_s5;
  uint unaff_s6;
  int unaff_s7;
  int unaff_s8;
  
  do {
    uVar2 = (uint)*(ushort *)(unaff_s0 + 0xd);
    if (0x7f < uVar2) {
      uVar2 = 0x7f;
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 10) =
         *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 10) & 0x3f |
         (ushort)((uVar2 | param_3) << 6);
    do {
      if (unaff_s2 == 0) {
        if ((unaff_s1 & 0x4000) != 0) {
          if ((unaff_s1 & 0x400) != 0) goto SR_SV_OBJ_574;
          goto code_r0x800903e8;
        }
      }
      else {
SR_SV_OBJ_574:
        if ((unaff_s0[0xb] != 3) && (unaff_s0[0xb] == 7)) {
          uVar3 = SR_SV_OBJ_598();
          return uVar3;
        }
code_r0x800903e8:
        uVar4 = *(ushort *)((int)unaff_s0 + 0x36);
        if (0x1f < uVar4) {
          uVar4 = 0x1f;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 10) =
             *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 10) & 0xffc0 | uVar4;
      }
      do {
        unaff_s4 = unaff_s4 + 1;
        if (unaff_s7 <= (int)unaff_s4) {
          if (param_5 == 0) {
            _spu_Fw1ts();
          }
          return 0;
        }
      } while ((unaff_s8 == 0) && ((*unaff_s0 & 1 << (unaff_s4 & 0x1f)) == 0));
      unaff_s3 = unaff_s4 * 8;
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x10) != 0)) {
        *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 4) =
             *(undefined2 *)(unaff_s0 + 5);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x40) != 0)) {
        (&DAT_800a5218)[unaff_s4] = *(undefined2 *)(unaff_s0 + 6);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x20) != 0)) {
        uVar1 = _spu_note2pitch((ushort)(&DAT_800a5218)[unaff_s4] >> 8,
                                (&DAT_800a5218)[unaff_s4] & 0xff,
                                *(ushort *)((int)unaff_s0 + 0x16) >> 8,
                                *(ushort *)((int)unaff_s0 + 0x16) & 0xff);
        *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 4) = uVar1;
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x20000) != 0)) {
        *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 8) =
             *(undefined2 *)((int)unaff_s0 + 0x3a);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x40000) != 0)) {
        *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 10) =
             *(undefined2 *)(unaff_s0 + 0xf);
      }
      if (unaff_s2 == 0) {
        if ((unaff_s1 & 1) != 0) {
          if ((unaff_s1 & 4) != 0) goto SR_SV_OBJ_1C0;
          goto SR_SV_OBJ_224;
        }
      }
      else {
SR_SV_OBJ_1C0:
        switch(*(undefined2 *)(unaff_s0 + 3)) {
        default:
SR_SV_OBJ_224:
          unaff_s6 = (uint)*(ushort *)(unaff_s0 + 2);
          uVar4 = 0;
          break;
        case 1:
          uVar4 = 0x8000;
          break;
        case 2:
          uVar4 = 0x9000;
          break;
        case 3:
          uVar4 = 0xa000;
          break;
        case 4:
          uVar4 = 0xb000;
          break;
        case 5:
          uVar4 = 0xc000;
          break;
        case 6:
          uVar4 = 0xd000;
          break;
        case 7:
          uVar4 = 0xe000;
        }
        if (uVar4 != 0) {
          unaff_s6 = (uint)*(short *)(unaff_s0 + 2);
          if (0x7f < (int)unaff_s6) {
            uVar3 = SR_SV_OBJ_25C();
            return uVar3;
          }
          if ((int)unaff_s6 < 0) {
            unaff_s6 = 0;
          }
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10) =
             (ushort)unaff_s6 & 0x7fff | uVar4;
      }
      if (unaff_s2 == 0) {
        if ((unaff_s1 & 2) != 0) {
          if ((unaff_s1 & 8) != 0) goto SR_SV_OBJ_290;
          goto SR_SV_OBJ_2F4;
        }
      }
      else {
SR_SV_OBJ_290:
        switch(*(undefined2 *)((int)unaff_s0 + 0xe)) {
        default:
SR_SV_OBJ_2F4:
          unaff_s5 = (uint)*(ushort *)((int)unaff_s0 + 10);
          uVar4 = 0;
          break;
        case 1:
          uVar4 = 0x8000;
          break;
        case 2:
          uVar4 = 0x9000;
          break;
        case 3:
          uVar4 = 0xa000;
          break;
        case 4:
          uVar4 = 0xb000;
          break;
        case 5:
          uVar4 = 0xc000;
          break;
        case 6:
          uVar4 = 0xd000;
          break;
        case 7:
          uVar4 = 0xe000;
        }
        if (uVar4 != 0) {
          unaff_s5 = (uint)*(short *)((int)unaff_s0 + 10);
          if (0x7f < (int)unaff_s5) {
            uVar3 = SR_SV_OBJ_32C();
            return uVar3;
          }
          if ((int)unaff_s5 < 0) {
            unaff_s5 = 0;
          }
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 2) =
             (ushort)unaff_s5 & 0x7fff | uVar4;
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x10000) != 0)) {
        _spu_FsetRXXa(unaff_s3 | 7,unaff_s0[8]);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x80) != 0)) {
        _spu_FsetRXXa(unaff_s3 | 3,unaff_s0[7]);
      }
      if (unaff_s2 == 0) {
        if ((unaff_s1 & 0x800) != 0) {
          if ((unaff_s1 & 0x100) != 0) goto SR_SV_OBJ_39C;
          goto code_r0x80090210;
        }
      }
      else {
SR_SV_OBJ_39C:
        if ((unaff_s0[9] != 1) && (unaff_s0[9] == 5)) {
          uVar3 = SR_SV_OBJ_3C0();
          return uVar3;
        }
code_r0x80090210:
        uVar2 = (uint)*(ushort *)(unaff_s0 + 0xc);
        if (0x7f < uVar2) {
          uVar2 = 0x7f;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 8) =
             *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 8) & 0xff |
             (ushort)(uVar2 << 8);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x1000) != 0)) {
        uVar2 = (uint)*(ushort *)((int)unaff_s0 + 0x32);
        if (0xf < uVar2) {
          uVar2 = 0xf;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 8) =
             *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 8) & 0xff0f |
             (ushort)(uVar2 << 4);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x8000) != 0)) {
        uVar4 = *(ushort *)(unaff_s0 + 0xe);
        if (0xf < uVar4) {
          uVar4 = 0xf;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 8) =
             uVar4 | *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 8) & 0xfff0;
      }
      if (unaff_s2 != 0) goto SR_SV_OBJ_4C4;
    } while ((unaff_s1 & 0x2000) == 0);
    param_3 = 0;
    if ((unaff_s1 & 0x200) != 0) {
SR_SV_OBJ_4C4:
      uVar2 = unaff_s0[10];
      if (uVar2 == 3) {
        param_3 = 0x100;
      }
      else if ((int)uVar2 < 4) {
        param_3 = 0;
        if (uVar2 != 1) {
          uVar3 = SR_SV_OBJ_514();
          return uVar3;
        }
      }
      else {
        if (uVar2 == 5) {
          uVar3 = SR_SV_OBJ_514();
          return uVar3;
        }
        param_3 = 0x300;
        if (uVar2 != 7) {
          uVar3 = SR_SV_OBJ_514();
          return uVar3;
        }
      }
    }
  } while( true );
}



undefined4
SR_SV_OBJ_598(undefined4 param_1,undefined4 param_2,ushort param_3,undefined4 param_4,int param_5)

{
  undefined2 uVar1;
  undefined4 uVar2;
  uint uVar3;
  uint uVar4;
  ushort uVar5;
  uint *unaff_s0;
  uint unaff_s1;
  int unaff_s2;
  uint unaff_s3;
  uint unaff_s4;
  uint unaff_s5;
  uint unaff_s6;
  int unaff_s7;
  int unaff_s8;
  
  do {
    uVar5 = *(ushort *)((int)unaff_s0 + 0x36);
    if (0x1f < uVar5) {
      uVar5 = 0x1f;
    }
    *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 10) =
         *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s3 * 2 + 10) & 0xffc0 |
         uVar5 | param_3;
    do {
      do {
        unaff_s4 = unaff_s4 + 1;
        if (unaff_s7 <= (int)unaff_s4) {
          if (param_5 == 0) {
            _spu_Fw1ts();
          }
          return 0;
        }
      } while ((unaff_s8 == 0) && ((*unaff_s0 & 1 << (unaff_s4 & 0x1f)) == 0));
      unaff_s3 = unaff_s4 * 8;
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x10) != 0)) {
        *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 4) =
             *(undefined2 *)(unaff_s0 + 5);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x40) != 0)) {
        (&DAT_800a5218)[unaff_s4] = *(undefined2 *)(unaff_s0 + 6);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x20) != 0)) {
        uVar1 = _spu_note2pitch((ushort)(&DAT_800a5218)[unaff_s4] >> 8,
                                (&DAT_800a5218)[unaff_s4] & 0xff,
                                *(ushort *)((int)unaff_s0 + 0x16) >> 8,
                                *(ushort *)((int)unaff_s0 + 0x16) & 0xff);
        *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 4) = uVar1;
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x20000) != 0)) {
        *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 8) =
             *(undefined2 *)((int)unaff_s0 + 0x3a);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x40000) != 0)) {
        *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 10) =
             *(undefined2 *)(unaff_s0 + 0xf);
      }
      if (unaff_s2 == 0) {
        if ((unaff_s1 & 1) != 0) {
          if ((unaff_s1 & 4) != 0) goto SR_SV_OBJ_1C0;
          goto SR_SV_OBJ_224;
        }
      }
      else {
SR_SV_OBJ_1C0:
        switch(*(undefined2 *)(unaff_s0 + 3)) {
        default:
SR_SV_OBJ_224:
          unaff_s6 = (uint)*(ushort *)(unaff_s0 + 2);
          uVar5 = 0;
          break;
        case 1:
          uVar5 = 0x8000;
          break;
        case 2:
          uVar5 = 0x9000;
          break;
        case 3:
          uVar5 = 0xa000;
          break;
        case 4:
          uVar5 = 0xb000;
          break;
        case 5:
          uVar5 = 0xc000;
          break;
        case 6:
          uVar5 = 0xd000;
          break;
        case 7:
          uVar5 = 0xe000;
        }
        if (uVar5 != 0) {
          unaff_s6 = (uint)*(short *)(unaff_s0 + 2);
          if (0x7f < (int)unaff_s6) {
            uVar2 = SR_SV_OBJ_25C();
            return uVar2;
          }
          if ((int)unaff_s6 < 0) {
            unaff_s6 = 0;
          }
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10) =
             (ushort)unaff_s6 & 0x7fff | uVar5;
      }
      if (unaff_s2 == 0) {
        if ((unaff_s1 & 2) != 0) {
          if ((unaff_s1 & 8) != 0) goto SR_SV_OBJ_290;
          goto SR_SV_OBJ_2F4;
        }
      }
      else {
SR_SV_OBJ_290:
        switch(*(undefined2 *)((int)unaff_s0 + 0xe)) {
        default:
SR_SV_OBJ_2F4:
          unaff_s5 = (uint)*(ushort *)((int)unaff_s0 + 10);
          uVar5 = 0;
          break;
        case 1:
          uVar5 = 0x8000;
          break;
        case 2:
          uVar5 = 0x9000;
          break;
        case 3:
          uVar5 = 0xa000;
          break;
        case 4:
          uVar5 = 0xb000;
          break;
        case 5:
          uVar5 = 0xc000;
          break;
        case 6:
          uVar5 = 0xd000;
          break;
        case 7:
          uVar5 = 0xe000;
        }
        if (uVar5 != 0) {
          unaff_s5 = (uint)*(short *)((int)unaff_s0 + 10);
          if (0x7f < (int)unaff_s5) {
            uVar2 = SR_SV_OBJ_32C();
            return uVar2;
          }
          if ((int)unaff_s5 < 0) {
            unaff_s5 = 0;
          }
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 2) =
             (ushort)unaff_s5 & 0x7fff | uVar5;
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x10000) != 0)) {
        _spu_FsetRXXa(unaff_s3 | 7,unaff_s0[8]);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x80) != 0)) {
        _spu_FsetRXXa(unaff_s3 | 3,unaff_s0[7]);
      }
      if (unaff_s2 == 0) {
        if ((unaff_s1 & 0x800) != 0) {
          if ((unaff_s1 & 0x100) != 0) goto SR_SV_OBJ_39C;
          goto code_r0x80090210;
        }
      }
      else {
SR_SV_OBJ_39C:
        if ((unaff_s0[9] != 1) && (unaff_s0[9] == 5)) {
          uVar2 = SR_SV_OBJ_3C0();
          return uVar2;
        }
code_r0x80090210:
        uVar3 = (uint)*(ushort *)(unaff_s0 + 0xc);
        if (0x7f < uVar3) {
          uVar3 = 0x7f;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 8) =
             *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 8) & 0xff |
             (ushort)(uVar3 << 8);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x1000) != 0)) {
        uVar3 = (uint)*(ushort *)((int)unaff_s0 + 0x32);
        if (0xf < uVar3) {
          uVar3 = 0xf;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 8) =
             *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 8) & 0xff0f |
             (ushort)(uVar3 << 4);
      }
      if ((unaff_s2 != 0) || ((unaff_s1 & 0x8000) != 0)) {
        uVar5 = *(ushort *)(unaff_s0 + 0xe);
        if (0xf < uVar5) {
          uVar5 = 0xf;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 8) =
             uVar5 | *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 8) & 0xfff0;
      }
      if (unaff_s2 == 0) {
        if ((unaff_s1 & 0x2000) != 0) {
          uVar3 = 0;
          if ((unaff_s1 & 0x200) != 0) goto SR_SV_OBJ_4C4;
          goto code_r0x80090364;
        }
      }
      else {
SR_SV_OBJ_4C4:
        uVar4 = unaff_s0[10];
        if (uVar4 == 3) {
          uVar3 = 0x100;
        }
        else if ((int)uVar4 < 4) {
          uVar3 = 0;
          if (uVar4 != 1) {
            uVar2 = SR_SV_OBJ_514();
            return uVar2;
          }
        }
        else {
          if (uVar4 == 5) {
            uVar2 = SR_SV_OBJ_514();
            return uVar2;
          }
          uVar3 = 0x300;
          if (uVar4 != 7) {
            uVar2 = SR_SV_OBJ_514();
            return uVar2;
          }
        }
code_r0x80090364:
        uVar4 = (uint)*(ushort *)(unaff_s0 + 0xd);
        if (0x7f < uVar4) {
          uVar4 = 0x7f;
        }
        *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 10) =
             *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + unaff_s4 * 0x10 + 10) & 0x3f |
             (ushort)((uVar4 | uVar3) << 6);
      }
      if (unaff_s2 != 0) goto SR_SV_OBJ_574;
    } while ((unaff_s1 & 0x4000) == 0);
    param_3 = 0;
    if ((unaff_s1 & 0x400) != 0) {
SR_SV_OBJ_574:
      if (unaff_s0[0xb] == 3) {
        param_3 = 0;
      }
      else {
        param_3 = 0;
        if (unaff_s0[0xb] == 7) {
          uVar2 = SR_SV_OBJ_598();
          return uVar2;
        }
      }
    }
  } while( true );
}



void SR_SV_OBJ_608(void)

{
  return;
}



uint _spu_2pitch(int param_1,uint param_2)

{
  uint uVar1;
  int iVar2;
  int iVar3;
  int local_8;
  
  uVar1 = 0x103b;
  local_8 = param_1 * 0x103b;
  iVar3 = param_1 << 0xc;
  iVar2 = 0;
  if (param_2 >> 5 != 0) {
    local_8 = param_1 * 0x103b;
    do {
      iVar3 = local_8;
      uVar1 = uVar1 * 0x103b >> 0xc;
      local_8 = param_1 * uVar1;
      iVar2 = iVar2 + 1;
    } while (iVar2 < (int)(param_2 >> 5));
  }
  return iVar3 + ((uint)(local_8 - iVar3) >> 5) * (param_2 & 0x1f) >> 0xc;
}



uint _spu_note2pitch(uint param_1,uint param_2,uint param_3,uint param_4)

{
  uint uVar1;
  uint uVar2;
  int iVar3;
  int iVar4;
  uint uVar5;
  int local_8;
  
  iVar4 = ((param_3 & 0xffff) * 0x80 + (param_4 & 0xffff)) -
          ((param_1 & 0xffff) * 0x80 + (param_2 & 0xffff));
  iVar3 = iVar4;
  if (iVar4 < 0) {
    iVar3 = -iVar4;
  }
  uVar2 = iVar3 / 0x600;
  uVar1 = iVar3 % 0x600;
  if (-1 < iVar4) {
    uVar1 = S_N2P_OBJ_11C();
    return uVar1;
  }
  if (uVar1 != 0) {
    uVar2 = uVar2 + 1;
    uVar1 = 0x600 - uVar1;
  }
  uVar5 = 0x1000 >> (uVar2 & 0x1f) & 0xffff;
  uVar2 = 0x103b;
  local_8 = uVar5 * 0x103b;
  iVar4 = uVar5 << 0xc;
  iVar3 = 0;
  if ((int)uVar1 < 0) {
    uVar1 = -uVar1;
  }
  if (uVar1 >> 5 != 0) {
    local_8 = uVar5 * 0x103b;
    do {
      iVar4 = local_8;
      uVar2 = uVar2 * 0x103b >> 0xc;
      local_8 = uVar5 * uVar2;
      iVar3 = iVar3 + 1;
    } while (iVar3 < (int)(uVar1 >> 5));
  }
  uVar2 = iVar4 + ((uint)(local_8 - iVar4) >> 5) * (uVar1 & 0x1f) >> 0xc;
  uVar1 = uVar2 & 0xffff;
  if (0x3fff < uVar2) {
    uVar1 = 0x3fff;
  }
  return uVar1;
}



uint S_N2P_OBJ_11C(void)

{
  uint in_v0;
  uint in_v1;
  uint uVar1;
  int iVar2;
  uint uVar3;
  int iVar4;
  int local_res8;
  
  uVar3 = in_v0 & 0xffff;
  uVar1 = 0x103b;
  local_res8 = uVar3 * 0x103b;
  iVar4 = uVar3 << 0xc;
  iVar2 = 0;
  if ((int)in_v1 < 0) {
    in_v1 = -in_v1;
  }
  if (in_v1 >> 5 != 0) {
    local_res8 = uVar3 * 0x103b;
    do {
      iVar4 = local_res8;
      uVar1 = uVar1 * 0x103b >> 0xc;
      local_res8 = uVar3 * uVar1;
      iVar2 = iVar2 + 1;
    } while (iVar2 < (int)(in_v1 >> 5));
  }
  uVar3 = iVar4 + ((uint)(local_res8 - iVar4) >> 5) * (in_v1 & 0x1f) >> 0xc;
  uVar1 = uVar3 & 0xffff;
  if (0x3fff < uVar3) {
    uVar1 = 0x3fff;
  }
  return uVar1;
}



uint _spu_pitch2note(uint param_1,uint param_2,uint param_3)

{
  uint uVar1;
  int iVar2;
  int iVar3;
  uint uVar4;
  uint uVar5;
  uint uVar6;
  int iVar7;
  int iVar8;
  
  uVar6 = 0xf;
  uVar1 = (int)(~param_3 & 0xffff) >> 0xf;
  do {
    if ((uVar1 & 1) == 0) {
      uVar1 = S_N2P_OBJ_208();
      return uVar1;
    }
    uVar6 = uVar6 - 1;
    uVar1 = (int)(~param_3 & 0xffff) >> (uVar6 & 0x1f);
  } while (-1 < (int)uVar6);
  iVar7 = 0;
  uVar1 = 0x1000;
  do {
    uVar4 = uVar1 * 0x103b >> 0xc;
    iVar3 = 0;
    iVar8 = 0;
    uVar5 = uVar4 - uVar1 >> 5;
    uVar6 = uVar5;
    do {
      if ((uVar1 + iVar8 >> 0xc <= (param_3 & 0xffff)) &&
         (iVar2 = iVar7 * 0x20 + iVar3, (param_3 & 0xffff) < uVar1 + uVar6 >> 0xc))
      goto S_N2P_OBJ_2B0;
      uVar6 = uVar6 + uVar5;
      iVar3 = iVar3 + 1;
      iVar8 = iVar8 + uVar5;
    } while (iVar3 < 0x20);
    iVar7 = iVar7 + 1;
    uVar1 = uVar4;
  } while (iVar7 < 0x30);
  iVar2 = 0x600;
S_N2P_OBJ_2B0:
  iVar7 = iVar2;
  if (iVar2 < 0) {
    iVar7 = iVar2 + 0x7f;
  }
  return ((param_1 & 0xffff) + (iVar7 >> 7) + -0x90) * 0x100 |
         (param_2 & 0xffff) + iVar2 + (iVar7 >> 7) * -0x80;
}



uint S_N2P_OBJ_208(uint param_1,uint param_2)

{
  int iVar1;
  uint in_v1;
  int iVar2;
  uint uVar3;
  uint uVar4;
  uint uVar5;
  int iVar6;
  int iVar7;
  int iVar8;
  uint in_t8;
  int iVar9;
  
  iVar8 = 1 << (in_v1 & 0x1f);
  uVar4 = 0x1000;
  iVar6 = 0;
  iVar9 = iVar8 * 0x1000;
  do {
    uVar4 = uVar4 * 0x103b >> 0xc;
    iVar2 = 0;
    iVar7 = 0;
    uVar5 = iVar8 * uVar4 - iVar9 >> 5;
    uVar3 = uVar5;
    do {
      if (((uint)(iVar9 + iVar7) >> 0xc <= (param_1 & 0xffff)) &&
         (iVar1 = iVar6 * 0x20 + iVar2, (param_1 & 0xffff) < iVar9 + uVar3 >> 0xc))
      goto S_N2P_OBJ_2B0;
      uVar3 = uVar3 + uVar5;
      iVar2 = iVar2 + 1;
      iVar7 = iVar7 + uVar5;
    } while (iVar2 < 0x20);
    iVar6 = iVar6 + 1;
    iVar9 = iVar8 * uVar4;
  } while (iVar6 < 0x30);
  iVar1 = 0x600;
S_N2P_OBJ_2B0:
  iVar6 = iVar1;
  if (iVar1 < 0) {
    iVar6 = iVar1 + 0x7f;
  }
  return ((in_t8 & 0xffff) + (iVar6 >> 7) + (int)(&DAT_fffffff4 + in_v1) * 0xc) * 0x100 |
         (param_2 & 0xffff) + iVar1 + (iVar6 >> 7) * -0x80;
}



void SpuSetVoiceVolume(int vNum,short volL,short volR)

{
  ushort *puVar1;
  
  puVar1 = (ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + vNum * 0x10);
  *puVar1 = volL & 0x7fff;
  puVar1[1] = volR & 0x7fff;
  _spu_Fw1ts();
  return;
}



void SpuSetVoicePitch(int vNum,ushort pitch)

{
  *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + vNum * 0x10 + 4) = pitch;
  _spu_Fw1ts();
  return;
}



void SpuGetVoicePitch(int vNum,ushort *pitch)

{
  *pitch = *(ushort *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + vNum * 0x10 + 4);
  return;
}



// Possible S_SCCV.OBJ/SpuSetCommonCDVolume

void FUN_80090810(undefined2 param_1,undefined2 param_2)

{
  undefined *puVar1;
  
  puVar1 = PTR_VOICE_00_LEFT_RIGHT_800a5650;
  *(undefined2 *)(PTR_VOICE_00_LEFT_RIGHT_800a5650 + 0x1b0) = param_1;
  *(undefined2 *)(puVar1 + 0x1b2) = param_2;
  return;
}


